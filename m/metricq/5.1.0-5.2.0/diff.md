# Comparing `tmp/metricq-5.1.0-py3-none-any.whl.zip` & `tmp/metricq-5.2.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,38 +1,38 @@
-Zip file size: 72186 bytes, number of entries: 36
--rw-r--r--  2.0 unx     2680 b- defN 23-Jun-08 15:48 metricq/__init__.py
--rw-r--r--  2.0 unx      124 b- defN 23-Jun-08 15:48 metricq/_protobuf_version.py
--rw-r--r--  2.0 unx    31111 b- defN 23-Jun-08 15:48 metricq/agent.py
--rw-r--r--  2.0 unx     9409 b- defN 23-Jun-08 15:48 metricq/client.py
--rw-r--r--  2.0 unx     4990 b- defN 23-Jun-08 15:48 metricq/connection_watchdog.py
--rw-r--r--  2.0 unx     5945 b- defN 23-Jun-08 15:48 metricq/data_client.py
--rw-r--r--  2.0 unx     2394 b- defN 23-Jun-08 15:48 metricq/datachunk_pb2.py
--rw-r--r--  2.0 unx     2776 b- defN 23-Jun-08 15:48 metricq/datachunk_pb2.pyi
--rw-r--r--  2.0 unx     4600 b- defN 23-Jun-08 15:48 metricq/drain.py
--rw-r--r--  2.0 unx     3716 b- defN 23-Jun-08 15:48 metricq/exceptions.py
--rw-r--r--  2.0 unx    31510 b- defN 23-Jun-08 15:48 metricq/history_client.py
--rw-r--r--  2.0 unx    13343 b- defN 23-Jun-08 15:48 metricq/history_pb2.py
--rw-r--r--  2.0 unx     7949 b- defN 23-Jun-08 15:48 metricq/history_pb2.pyi
--rw-r--r--  2.0 unx     7514 b- defN 23-Jun-08 15:48 metricq/interval_source.py
--rw-r--r--  2.0 unx     1272 b- defN 23-Jun-08 15:48 metricq/logging.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jun-08 15:48 metricq/py.typed
--rw-r--r--  2.0 unx     5606 b- defN 23-Jun-08 15:48 metricq/rpc.py
--rw-r--r--  2.0 unx     9718 b- defN 23-Jun-08 15:48 metricq/sink.py
--rw-r--r--  2.0 unx    10746 b- defN 23-Jun-08 15:48 metricq/source.py
--rw-r--r--  2.0 unx     4173 b- defN 23-Jun-08 15:48 metricq/source_metric.py
--rw-r--r--  2.0 unx     5462 b- defN 23-Jun-08 15:48 metricq/subscription.py
--rw-r--r--  2.0 unx     7261 b- defN 23-Jun-08 15:48 metricq/synchronous_source.py
--rw-r--r--  2.0 unx     1700 b- defN 23-Jun-08 15:48 metricq/version.py
--rw-r--r--  2.0 unx       90 b- defN 23-Jun-08 15:48 metricq/pandas/__init__.py
--rw-r--r--  2.0 unx     4463 b- defN 23-Jun-08 15:48 metricq/pandas/pandas_history_client.py
--rw-r--r--  2.0 unx      330 b- defN 23-Jun-08 15:48 metricq/timeseries/__init__.py
--rw-r--r--  2.0 unx      253 b- defN 23-Jun-08 15:48 metricq/timeseries/extras.py
--rw-r--r--  2.0 unx     5060 b- defN 23-Jun-08 15:48 metricq/timeseries/time_aggregate.py
--rw-r--r--  2.0 unx     1103 b- defN 23-Jun-08 15:48 metricq/timeseries/time_value.py
--rw-r--r--  2.0 unx    15354 b- defN 23-Jun-08 15:48 metricq/timeseries/timedelta.py
--rw-r--r--  2.0 unx     8467 b- defN 23-Jun-08 15:48 metricq/timeseries/timestamp.py
--rw-r--r--  2.0 unx     1559 b- defN 23-Jun-08 15:48 metricq-5.1.0.dist-info/LICENSE
--rw-r--r--  2.0 unx     6904 b- defN 23-Jun-08 15:48 metricq-5.1.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-08 15:48 metricq-5.1.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        8 b- defN 23-Jun-08 15:48 metricq-5.1.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2890 b- defN 23-Jun-08 15:48 metricq-5.1.0.dist-info/RECORD
-36 files, 220572 bytes uncompressed, 67628 bytes compressed:  69.3%
+Zip file size: 72481 bytes, number of entries: 36
+-rw-r--r--  2.0 unx     2680 b- defN 23-Jun-20 10:56 metricq/__init__.py
+-rw-r--r--  2.0 unx      124 b- defN 23-Jun-20 10:56 metricq/_protobuf_version.py
+-rw-r--r--  2.0 unx    31111 b- defN 23-Jun-20 10:56 metricq/agent.py
+-rw-r--r--  2.0 unx     9409 b- defN 23-Jun-20 10:56 metricq/client.py
+-rw-r--r--  2.0 unx     4990 b- defN 23-Jun-20 10:56 metricq/connection_watchdog.py
+-rw-r--r--  2.0 unx     5945 b- defN 23-Jun-20 10:56 metricq/data_client.py
+-rw-r--r--  2.0 unx     2394 b- defN 23-Jun-20 10:56 metricq/datachunk_pb2.py
+-rw-r--r--  2.0 unx     2776 b- defN 23-Jun-20 10:56 metricq/datachunk_pb2.pyi
+-rw-r--r--  2.0 unx     4600 b- defN 23-Jun-20 10:56 metricq/drain.py
+-rw-r--r--  2.0 unx     3716 b- defN 23-Jun-20 10:56 metricq/exceptions.py
+-rw-r--r--  2.0 unx    31510 b- defN 23-Jun-20 10:56 metricq/history_client.py
+-rw-r--r--  2.0 unx    13343 b- defN 23-Jun-20 10:56 metricq/history_pb2.py
+-rw-r--r--  2.0 unx     7949 b- defN 23-Jun-20 10:56 metricq/history_pb2.pyi
+-rw-r--r--  2.0 unx     7514 b- defN 23-Jun-20 10:56 metricq/interval_source.py
+-rw-r--r--  2.0 unx     1272 b- defN 23-Jun-20 10:56 metricq/logging.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jun-20 10:56 metricq/py.typed
+-rw-r--r--  2.0 unx     5606 b- defN 23-Jun-20 10:56 metricq/rpc.py
+-rw-r--r--  2.0 unx     9718 b- defN 23-Jun-20 10:56 metricq/sink.py
+-rw-r--r--  2.0 unx    10746 b- defN 23-Jun-20 10:56 metricq/source.py
+-rw-r--r--  2.0 unx     4173 b- defN 23-Jun-20 10:56 metricq/source_metric.py
+-rw-r--r--  2.0 unx     5462 b- defN 23-Jun-20 10:56 metricq/subscription.py
+-rw-r--r--  2.0 unx     7261 b- defN 23-Jun-20 10:56 metricq/synchronous_source.py
+-rw-r--r--  2.0 unx     1700 b- defN 23-Jun-20 10:56 metricq/version.py
+-rw-r--r--  2.0 unx       90 b- defN 23-Jun-20 10:56 metricq/pandas/__init__.py
+-rw-r--r--  2.0 unx     4463 b- defN 23-Jun-20 10:56 metricq/pandas/pandas_history_client.py
+-rw-r--r--  2.0 unx      330 b- defN 23-Jun-20 10:56 metricq/timeseries/__init__.py
+-rw-r--r--  2.0 unx      253 b- defN 23-Jun-20 10:56 metricq/timeseries/extras.py
+-rw-r--r--  2.0 unx     5060 b- defN 23-Jun-20 10:56 metricq/timeseries/time_aggregate.py
+-rw-r--r--  2.0 unx     1103 b- defN 23-Jun-20 10:56 metricq/timeseries/time_value.py
+-rw-r--r--  2.0 unx    16512 b- defN 23-Jun-20 10:56 metricq/timeseries/timedelta.py
+-rw-r--r--  2.0 unx     8834 b- defN 23-Jun-20 10:56 metricq/timeseries/timestamp.py
+-rw-r--r--  2.0 unx     1559 b- defN 23-Jun-20 10:56 metricq-5.2.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx     6904 b- defN 23-Jun-20 10:56 metricq-5.2.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-20 10:56 metricq-5.2.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        8 b- defN 23-Jun-20 10:56 metricq-5.2.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2890 b- defN 23-Jun-20 10:56 metricq-5.2.0.dist-info/RECORD
+36 files, 222097 bytes uncompressed, 67923 bytes compressed:  69.4%
```

## zipnote {}

```diff
@@ -87,23 +87,23 @@
 
 Filename: metricq/timeseries/timedelta.py
 Comment: 
 
 Filename: metricq/timeseries/timestamp.py
 Comment: 
 
-Filename: metricq-5.1.0.dist-info/LICENSE
+Filename: metricq-5.2.0.dist-info/LICENSE
 Comment: 
 
-Filename: metricq-5.1.0.dist-info/METADATA
+Filename: metricq-5.2.0.dist-info/METADATA
 Comment: 
 
-Filename: metricq-5.1.0.dist-info/WHEEL
+Filename: metricq-5.2.0.dist-info/WHEEL
 Comment: 
 
-Filename: metricq-5.1.0.dist-info/top_level.txt
+Filename: metricq-5.2.0.dist-info/top_level.txt
 Comment: 
 
-Filename: metricq-5.1.0.dist-info/RECORD
+Filename: metricq-5.2.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## metricq/_protobuf_version.py

```diff
@@ -1,3 +1,3 @@
-# file generated on 2023-06-08 15:48:29.890670
+# file generated on 2023-06-20 10:56:36.168189
 _protobuf_version = "3.12.4"
 _protobuf_requirement = "protobuf>=3.12, <3.13"
```

## metricq/timeseries/timedelta.py

```diff
@@ -43,14 +43,15 @@
         |                  | * :code:`c`: :class:`float`                      | See :meth:`__truediv__`.                                                                  |
         +------------------+--------------------------------------------------+-------------------------------------------------------------------------------------------+
         | :code:`d // n`   | * :code:`d`: :class:`Timedelta`                  | The duration divided by an *integer* factor :code:`n`, truncated to nanosecond precision. |
         |                  | * :code:`n`: :class:`int`                        | See :meth:`__floordiv__`.                                                                 |
         +------------------+--------------------------------------------------+-------------------------------------------------------------------------------------------+
 
         In addition to :code:`<` and :code:`=`, all other relational operations are supported and behave as you would expect.
+        The type is hashable.
     """
 
     def __init__(self, nanoseconds: int):
         self._value = nanoseconds
 
     @staticmethod
     def from_timedelta(delta: datetime.timedelta) -> "Timedelta":
@@ -255,60 +256,92 @@
             return Timedelta(self._value - other._value)
         if isinstance(other, datetime.timedelta):
             return self - Timedelta.from_timedelta(other)
         raise TypeError(
             "invalid type to subtract from Timedelta: {}".format(type(other))
         )
 
-    def __floordiv__(self, factor: int) -> "Timedelta":
-        """Divide a duration by an integer factor.
+    @overload
+    def __floordiv__(self, other: int) -> "Timedelta":
+        ...
+
+    @overload
+    def __floordiv__(self, other: "Timedelta") -> int:
+        ...
+
+    def __floordiv__(self, other: Union[int, "Timedelta"]) -> Union["Timedelta", int]:
+        """Divide a duration by an integer or another :class:`Timedelta`.
 
         >>> td = Timedelta.from_s(10) // 3
         >>> td.s
         3.333333333
         >>> td.precise_string
         '3333333333ns'
 
         This divides the number of nanoseconds in this duration by `factor`
         using `Floor Division <https://www.python.org/dev/peps/pep-0238/#semantics-of-floor-division>`_,
         i.e. for some :code:`n: int` and :code:`td: Timedelta` we have
 
         >>> assert (td // n).ns == td.ns // n
 
+        Division by another  :class:`Timedelta` yields an integral result:
+
+        >>> assert Timedelta.from_s(10) // Timedelta.from_s(3) == 3
+
         Note:
             Floor Division produces *surprising* results for :code:`float` arguments
-            (i.e. :code:`3 // 0.2 == 14.0`).
+            and is therefore not supported here (i.e. :code:`3 // 0.2 == 14.0`).
             Use :meth:`__truediv__` if you want to scale a duration by a non-integer factor.
         """
-        return Timedelta(int(self._value // factor))
+        if isinstance(other, Timedelta):
+            return self._value // other._value
+        return Timedelta(self._value // other)
 
-    def __truediv__(self, factor: float) -> "Timedelta":
-        """Divide a duration by a (floating point) factor.
+    @overload
+    def __truediv__(self, other: float) -> "Timedelta":
+        ...
+
+    @overload
+    def __truediv__(self, other: "Timedelta") -> float:
+        ...
+
+    def __truediv__(
+        self, other: Union[float, "Timedelta"]
+    ) -> Union["Timedelta", float]:
+        """Divide a duration by a floating point or :class:`Timedelta`.
 
         >>> (Timedelta.from_s(10) / 2.5).precise_string
         '4s'
 
         This divides the number of nanoseconds in this duration by `factor`
         using `True Division <https://www.python.org/dev/peps/pep-0238/#semantics-of-true-division>`_,
         but truncates the result to an :code:`int`:
 
         >>> assert (td / x).ns == int(td.ns / x)
 
         where :code:`td: Timedelta` and :code:`x: float`.
 
+        Division by another :class:`Timedelta` instead yields a :class:`float` result.
+
         Note:
-            Use :meth:`__floordiv__` if you know that the factor is an integer,
+            Use :meth:`__floordiv__` if you know that the divisor is an integer,
             this will prevent rounding errors.
         """
-        return Timedelta(int(self._value / factor))
+        if isinstance(other, Timedelta):
+            return self._value / other._value
+        return Timedelta(int(self._value / other))
 
     def __mul__(self, factor: float) -> "Timedelta":
         """Scale a duration by a :class:`float` factor."""
         return Timedelta(int(self._value * factor))
 
+    def __mod__(self, other: "Timedelta") -> "Timedelta":
+        """Return the remainder of the division of two durations."""
+        return Timedelta(self._value % other._value)
+
     def __str__(self) -> str:
         """A string containing the number of seconds of this duration
 
         >>> "One day has {} seconds".format(Timedelta.from_string("1 day"))
         'One day has 86400.0s seconds'
         """
         return "{}s".format(self.s)
@@ -319,11 +352,14 @@
     def __eq__(self, other: object) -> bool:
         if isinstance(other, datetime.timedelta):
             return self.timedelta == other
         if isinstance(other, Timedelta):
             return self._value == other._value
         return NotImplemented
 
+    def __hash__(self) -> int:
+        return hash(self._value)
+
     def __lt__(self, other: Union["Timedelta", datetime.timedelta]) -> bool:
         if isinstance(other, datetime.timedelta):
             return self.timedelta < other
         return self._value < other._value
```

## metricq/timeseries/timestamp.py

```diff
@@ -235,14 +235,28 @@
             other: another timestamp
         """
         if not isinstance(other, Timestamp):
             return NotImplemented
 
         return self._value == other._value
 
+    def __hash__(self) -> int:
+        return hash(self._value)
+
+    def __mod__(self, other: Timedelta) -> Timedelta:
+        """
+        Args:
+            other: a time duration
+
+        Returns:
+            the remainder of the division of this timestamp (time since epoch) by a
+            timedelta.
+        """
+        return Timedelta(self._value % other.ns)
+
     def __str__(self) -> str:
         """Yield a human-readable date-time string in the local timezone:
 
         >>> # in UTC+01:00, it was already 1 in the night when the UNIX epoch happened
         >>> str(Timestamp(0))
         '[0] 1970-01-01 01:00:00+01:00'
         """
```

## Comparing `metricq-5.1.0.dist-info/LICENSE` & `metricq-5.2.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `metricq-5.1.0.dist-info/METADATA` & `metricq-5.2.0.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: metricq
-Version: 5.1.0
+Version: 5.2.0
 Summary: A highly-scalable, distributed metric data processing framework based on RabbitMQ
 Home-page: https://github.com/metricq/metricq-python
 Author: TU Dresden
 License: BSD 3-clause "New" or "Revised License"
 Classifier: License :: OSI Approved :: BSD License
 Classifier: Programming Language :: Python :: 3
 Requires-Python: >=3.10
```

## Comparing `metricq-5.1.0.dist-info/RECORD` & `metricq-5.2.0.dist-info/RECORD`

 * *Files 7% similar despite different names*

```diff
@@ -1,9 +1,9 @@
 metricq/__init__.py,sha256=6kgzmmXhfX5Mb2TR77ALUrV3OKDJsp_K48PGPf8wQ20,2680
-metricq/_protobuf_version.py,sha256=-NDQfWBxlCciUHd3KcFSeZsGeHGgA73zfAVGsakjQiI,124
+metricq/_protobuf_version.py,sha256=uC6o7sl2ZQzzRBz4xxbKtkH3SiIwLBBTVhHkgeulo44,124
 metricq/agent.py,sha256=VN1Qe7OcGYs0cpjEMdzY-NX9RgwdvclDEbJf3N67BoQ,31111
 metricq/client.py,sha256=4m9_wwy2DQ7Xx6eYMYunl_5u-2Ux_GfxLXcPGao3vQM,9409
 metricq/connection_watchdog.py,sha256=cv5gXbHlzHUlHqQbkeRnJ6yEsalt6Gi1Vb6_Z4rcOnY,4990
 metricq/data_client.py,sha256=OVW-iWzcQA-mww1NTbW5yMNnyli7_drcvFNAp6ck3ts,5945
 metricq/datachunk_pb2.py,sha256=pvFDu94IdU01_5amJf72gy6mK-ekGZmnrNlZ23lTBt8,2394
 metricq/datachunk_pb2.pyi,sha256=LWw976S7SJLKrUD1Doq-aZFxyf9a54cFVHQCo-vBRNc,2776
 metricq/drain.py,sha256=KcBqPwny8ztaMPlPzbDhzEHSNxxl0wL2Wf6gNWFnumg,4600
@@ -23,14 +23,14 @@
 metricq/version.py,sha256=W-QgfeHfY0bcGOsGVYiT_FUI9C-cbnmtK9jjMSByqRY,1700
 metricq/pandas/__init__.py,sha256=t9fIMrdjz0GcsdgRFhHacxO3nor_fLg48FMYOexXP1Y,90
 metricq/pandas/pandas_history_client.py,sha256=YlxNOVL3QKQD8tjSvYpDkAvjapTQ6TLwxsfly9dyCxc,4463
 metricq/timeseries/__init__.py,sha256=toIY9gqliQNcwQLvgt8vuz0m1ng3siivR0P9QuicfNA,330
 metricq/timeseries/extras.py,sha256=6MOrfWEUJCP2DyqK-pUb04WYU8qEoO5p7EQDBhU67bE,253
 metricq/timeseries/time_aggregate.py,sha256=hGiexnzEGhX8IsVbHZdWa_d2u7IWkcOxy62i115_g34,5060
 metricq/timeseries/time_value.py,sha256=bcSZmvU4ANkjW40-Gf2_uLV8tWeOlMY56UlDQpCa4Eo,1103
-metricq/timeseries/timedelta.py,sha256=OosCnluEe0GTI63XzBpar53ytvq0HaICbcrf3Q6Y3ZA,15354
-metricq/timeseries/timestamp.py,sha256=sOzup0Uyyye2YJ0QvtoGSpzU1ozVZ3Uzbi1fpiYh-iI,8467
-metricq-5.1.0.dist-info/LICENSE,sha256=4h6-3O0i-fOl6I5GiEgQREkt1oGF13osLvN045KhVEQ,1559
-metricq-5.1.0.dist-info/METADATA,sha256=6vUKRr085lTPW5yFT6lVBiPxC-iJYnOL7IWyNsGpINY,6904
-metricq-5.1.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-metricq-5.1.0.dist-info/top_level.txt,sha256=NEFXKVj4euK5ANjLFlrVJ1pxZYZYmKfGfFw9S4nPKI0,8
-metricq-5.1.0.dist-info/RECORD,,
+metricq/timeseries/timedelta.py,sha256=FnhBPzzFLeK3eutOF5FxUm2UdIlok3ByQguHEUBNorE,16512
+metricq/timeseries/timestamp.py,sha256=MdhsRDP6NFs_dPoFHSruSu3-HkqhhuSxMO2Vaj7JWF0,8834
+metricq-5.2.0.dist-info/LICENSE,sha256=4h6-3O0i-fOl6I5GiEgQREkt1oGF13osLvN045KhVEQ,1559
+metricq-5.2.0.dist-info/METADATA,sha256=2sknz8robW2vwyGGkKvyNYrzJPo06G5ckVsW56C7OKI,6904
+metricq-5.2.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+metricq-5.2.0.dist-info/top_level.txt,sha256=NEFXKVj4euK5ANjLFlrVJ1pxZYZYmKfGfFw9S4nPKI0,8
+metricq-5.2.0.dist-info/RECORD,,
```

