# Comparing `tmp/centralcli-1.3.tar.gz` & `tmp/centralcli-1.4.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "centralcli-1.3.tar", max compression
+gzip compressed data, was "centralcli-1.4.tar", max compression
```

## Comparing `centralcli-1.3.tar` & `centralcli-1.4.tar`

### file list

```diff
@@ -1,47 +1,48 @@
--rw-r--r--   0        0        0    11929 2022-07-11 23:06:32.918521 centralcli-1.3/README.md
--rw-r--r--   0        0        0     4279 2022-06-22 02:13:00.537341 centralcli-1.3/centralcli/__init__.py
--rw-r--r--   0        0        0     1266 2022-09-23 14:08:18.905345 centralcli-1.3/centralcli/boilerplate/README.md
--rw-r--r--   0        0        0  1080145 2023-06-10 14:09:43.613064 centralcli-1.3/centralcli/boilerplate/allcalls.py
--rw-r--r--   0        0        0   168637 2022-09-23 14:10:56.815345 centralcli-1.3/centralcli/boilerplate/configuration.py
--rw-r--r--   0        0        0    23734 2022-09-23 14:12:10.005345 centralcli-1.3/centralcli/boilerplate/firmware.py
--rw-r--r--   0        0        0    37375 2022-09-23 14:14:48.045345 centralcli-1.3/centralcli/boilerplate/guest.py
--rw-r--r--   0        0        0    55587 2022-09-23 14:18:58.145345 centralcli-1.3/centralcli/boilerplate/wlan.py
--rw-r--r--   0        0        0    12139 2022-06-03 00:05:56.000000 centralcli-1.3/centralcli/caas.py
--rw-r--r--   0        0        0    78021 2023-02-21 21:25:42.842490 centralcli-1.3/centralcli/cache.py
--rw-r--r--   0        0        0   200097 2023-06-15 05:15:20.528113 centralcli-1.3/centralcli/central.py
--rw-r--r--   0        0        0    38837 2023-06-15 02:08:04.015607 centralcli-1.3/centralcli/cleaner.py
--rw-r--r--   0        0        0    41954 2022-10-03 05:26:22.821699 centralcli-1.3/centralcli/cli.py
--rw-r--r--   0        0        0    29703 2023-06-07 16:20:54.400957 centralcli-1.3/centralcli/cliadd.py
--rw-r--r--   0        0        0     4729 2022-07-14 03:34:30.218521 centralcli-1.3/centralcli/cliassign.py
--rw-r--r--   0        0        0    50683 2023-05-04 03:15:53.898642 centralcli-1.3/centralcli/clibatch.py
--rw-r--r--   0        0        0    16403 2022-06-18 06:04:41.177341 centralcli-1.3/centralcli/clicaas.py
--rw-r--r--   0        0        0     2995 2022-01-02 22:57:26.000000 centralcli-1.3/centralcli/cliclone.py
--rw-r--r--   0        0        0    21576 2022-12-28 02:39:54.056256 centralcli-1.3/centralcli/clicommon.py
--rw-r--r--   0        0        0    21359 2023-01-31 22:11:43.015287 centralcli-1.3/centralcli/clidel.py
--rw-r--r--   0        0        0     3251 2022-06-17 04:56:34.221894 centralcli-1.3/centralcli/clirefresh.py
--rw-r--r--   0        0        0   117608 2023-06-15 01:16:04.117049 centralcli-1.3/centralcli/clishow.py
--rw-r--r--   0        0        0     3943 2022-04-14 02:45:35.000000 centralcli-1.3/centralcli/clishowbranch.py
--rw-r--r--   0        0        0     7645 2022-09-23 00:12:29.685345 centralcli-1.3/centralcli/clishowfirmware.py
--rw-r--r--   0        0        0    12980 2023-05-04 02:10:12.446341 centralcli-1.3/centralcli/clishowospf.py
--rw-r--r--   0        0        0    21550 2023-06-15 05:39:44.166523 centralcli-1.3/centralcli/clishowwids.py
--rw-r--r--   0        0        0     8262 2022-07-14 01:24:31.928521 centralcli-1.3/centralcli/clitest.py
--rw-r--r--   0        0        0     6379 2022-09-15 06:49:16.849375 centralcli-1.3/centralcli/clitshoot.py
--rw-r--r--   0        0        0     5245 2022-07-14 00:35:03.158521 centralcli-1.3/centralcli/cliunassign.py
--rw-r--r--   0        0        0    22034 2022-12-08 05:48:17.878629 centralcli-1.3/centralcli/cliupdate.py
--rw-r--r--   0        0        0     8971 2023-01-18 01:56:38.384183 centralcli-1.3/centralcli/cliupgrade.py
--rw-r--r--   0        0        0    18707 2023-01-31 22:28:11.185804 centralcli-1.3/centralcli/config.py
--rw-r--r--   0        0        0    37152 2023-05-04 02:09:38.206295 centralcli-1.3/centralcli/constants.py
--rw-r--r--   0        0        0      160 2022-12-14 19:38:57.975685 centralcli-1.3/centralcli/exceptions.py
--rw-r--r--   0        0        0     6501 2022-02-23 03:21:04.000000 centralcli-1.3/centralcli/logger.py
--rw-r--r--   0        0        0     2298 2023-06-15 05:35:53.155263 centralcli-1.3/centralcli/models.py
--rw-r--r--   0        0        0    15701 2023-06-15 05:23:05.959571 centralcli-1.3/centralcli/render.py
--rw-r--r--   0        0        0    36501 2023-06-10 14:17:38.298215 centralcli-1.3/centralcli/response.py
--rw-r--r--   0        0        0       96 2021-10-13 20:41:19.000000 centralcli-1.3/centralcli/setup.py
--rw-r--r--   0        0        0     1150 2022-02-10 22:18:16.000000 centralcli-1.3/centralcli/static/favicon.ico
--rw-r--r--   0        0        0     9157 2023-05-04 02:27:25.277696 centralcli-1.3/centralcli/strings.py
--rw-r--r--   0        0        0    31046 2022-10-06 02:15:00.061699 centralcli-1.3/centralcli/utils.py
--rw-r--r--   0        0        0     5407 2022-04-29 01:09:46.000000 centralcli-1.3/centralcli/vscodeargs.py
--rw-r--r--   0        0        0    15567 2022-12-28 03:21:15.553278 centralcli-1.3/centralcli/wh_proxy.py
--rw-r--r--   0        0        0      393 2022-01-14 00:45:59.000000 centralcli-1.3/centralcli/wh_proxy_service.py
--rw-r--r--   0        0        0     1995 2023-06-15 05:41:17.786960 centralcli-1.3/pyproject.toml
--rw-r--r--   0        0        0    13880 1970-01-01 00:00:00.000000 centralcli-1.3/PKG-INFO
+-rw-r--r--   0        0        0    11929 2022-07-11 23:06:32.918521 centralcli-1.4/README.md
+-rw-r--r--   0        0        0     3924 2023-06-16 18:31:40.327908 centralcli-1.4/centralcli/__init__.py
+-rw-r--r--   0        0        0     1266 2022-09-23 14:08:18.905345 centralcli-1.4/centralcli/boilerplate/README.md
+-rw-r--r--   0        0        0  1080145 2023-06-10 14:09:43.613064 centralcli-1.4/centralcli/boilerplate/allcalls.py
+-rw-r--r--   0        0        0   168637 2022-09-23 14:10:56.815345 centralcli-1.4/centralcli/boilerplate/configuration.py
+-rw-r--r--   0        0        0    23734 2022-09-23 14:12:10.005345 centralcli-1.4/centralcli/boilerplate/firmware.py
+-rw-r--r--   0        0        0    37375 2022-09-23 14:14:48.045345 centralcli-1.4/centralcli/boilerplate/guest.py
+-rw-r--r--   0        0        0    55587 2022-09-23 14:18:58.145345 centralcli-1.4/centralcli/boilerplate/wlan.py
+-rw-r--r--   0        0        0    12139 2022-06-03 00:05:56.000000 centralcli-1.4/centralcli/caas.py
+-rw-r--r--   0        0        0    80028 2023-06-17 04:43:20.305132 centralcli-1.4/centralcli/cache.py
+-rw-r--r--   0        0        0   200227 2023-06-16 09:26:09.045820 centralcli-1.4/centralcli/central.py
+-rw-r--r--   0        0        0    39789 2023-06-16 17:09:16.160843 centralcli-1.4/centralcli/cleaner.py
+-rw-r--r--   0        0        0    40388 2023-06-17 06:14:26.603861 centralcli-1.4/centralcli/cli.py
+-rw-r--r--   0        0        0    29703 2023-06-07 16:20:54.400957 centralcli-1.4/centralcli/cliadd.py
+-rw-r--r--   0        0        0     4729 2022-07-14 03:34:30.218521 centralcli-1.4/centralcli/cliassign.py
+-rw-r--r--   0        0        0    50683 2023-05-04 03:15:53.898642 centralcli-1.4/centralcli/clibatch.py
+-rw-r--r--   0        0        0    16403 2022-06-18 06:04:41.177341 centralcli-1.4/centralcli/clicaas.py
+-rw-r--r--   0        0        0     2995 2022-01-02 22:57:26.000000 centralcli-1.4/centralcli/cliclone.py
+-rw-r--r--   0        0        0    22983 2023-06-16 19:25:19.597950 centralcli-1.4/centralcli/clicommon.py
+-rw-r--r--   0        0        0    21359 2023-01-31 22:11:43.015287 centralcli-1.4/centralcli/clidel.py
+-rw-r--r--   0        0        0     3251 2022-06-17 04:56:34.221894 centralcli-1.4/centralcli/clirefresh.py
+-rw-r--r--   0        0        0     5494 2023-06-17 06:48:47.270573 centralcli-1.4/centralcli/clirename.py
+-rw-r--r--   0        0        0   119420 2023-06-17 03:14:51.560590 centralcli-1.4/centralcli/clishow.py
+-rw-r--r--   0        0        0     3943 2022-04-14 02:45:35.000000 centralcli-1.4/centralcli/clishowbranch.py
+-rw-r--r--   0        0        0     7645 2022-09-23 00:12:29.685345 centralcli-1.4/centralcli/clishowfirmware.py
+-rw-r--r--   0        0        0    12980 2023-05-04 02:10:12.446341 centralcli-1.4/centralcli/clishowospf.py
+-rw-r--r--   0        0        0    21550 2023-06-15 05:39:44.166523 centralcli-1.4/centralcli/clishowwids.py
+-rw-r--r--   0        0        0     8262 2022-07-14 01:24:31.928521 centralcli-1.4/centralcli/clitest.py
+-rw-r--r--   0        0        0     6379 2022-09-15 06:49:16.849375 centralcli-1.4/centralcli/clitshoot.py
+-rw-r--r--   0        0        0     5245 2022-07-14 00:35:03.158521 centralcli-1.4/centralcli/cliunassign.py
+-rw-r--r--   0        0        0    24271 2023-06-17 05:39:24.294216 centralcli-1.4/centralcli/cliupdate.py
+-rw-r--r--   0        0        0     9386 2023-06-15 11:32:13.159987 centralcli-1.4/centralcli/cliupgrade.py
+-rw-r--r--   0        0        0    18349 2023-06-16 18:44:49.430786 centralcli-1.4/centralcli/config.py
+-rw-r--r--   0        0        0    37127 2023-06-17 06:48:14.911291 centralcli-1.4/centralcli/constants.py
+-rw-r--r--   0        0        0      160 2022-12-14 19:38:57.975685 centralcli-1.4/centralcli/exceptions.py
+-rw-r--r--   0        0        0     6501 2022-02-23 03:21:04.000000 centralcli-1.4/centralcli/logger.py
+-rw-r--r--   0        0        0     2298 2023-06-15 05:35:53.155263 centralcli-1.4/centralcli/models.py
+-rw-r--r--   0        0        0    16827 2023-06-17 03:57:05.435242 centralcli-1.4/centralcli/render.py
+-rw-r--r--   0        0        0    36417 2023-06-16 18:56:01.314032 centralcli-1.4/centralcli/response.py
+-rw-r--r--   0        0        0       96 2021-10-13 20:41:19.000000 centralcli-1.4/centralcli/setup.py
+-rw-r--r--   0        0        0     1150 2022-02-10 22:18:16.000000 centralcli-1.4/centralcli/static/favicon.ico
+-rw-r--r--   0        0        0     9269 2023-06-17 03:27:31.140143 centralcli-1.4/centralcli/strings.py
+-rw-r--r--   0        0        0    31046 2022-10-06 02:15:00.061699 centralcli-1.4/centralcli/utils.py
+-rw-r--r--   0        0        0     5407 2022-04-29 01:09:46.000000 centralcli-1.4/centralcli/vscodeargs.py
+-rw-r--r--   0        0        0    15567 2022-12-28 03:21:15.553278 centralcli-1.4/centralcli/wh_proxy.py
+-rw-r--r--   0        0        0      393 2022-01-14 00:45:59.000000 centralcli-1.4/centralcli/wh_proxy_service.py
+-rw-r--r--   0        0        0     2032 2023-06-20 18:35:48.604388 centralcli-1.4/pyproject.toml
+-rw-r--r--   0        0        0    13933 1970-01-01 00:00:00.000000 centralcli-1.4/PKG-INFO
```

### Comparing `centralcli-1.3/README.md` & `centralcli-1.4/README.md`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/__init__.py` & `centralcli-1.4/centralcli/__init__.py`

 * *Files 6% similar despite different names*

```diff
@@ -35,21 +35,14 @@
     base_dir = _calling_script.resolve().parent
     if base_dir.name == "centralcli":
         base_dir = base_dir.parent
     else:
         print("Warning Logic Error in git/pypi detection")
         print(f"base_dir Parts: {base_dir.parts}")
 
-# WORK_DIR = Path(__file__).parents[2]
-# if not Path.joinpath(WORK_DIR, "centralcli").exists():
-#     print(f"issue path append logic \n{Path(__file__).parts}\n{Path(__file__).parents[2]}")
-#     print(typer.get_app_dir(__name__))
-# else:
-#     sys.path.append(str(WORK_DIR / "centralcli"))
-
 from .logger import MyLogger
 from . import constants
 from .config import Config
 config = Config(base_dir=base_dir)
 
 log_dir = config.base_dir / "logs"
 log_dir.mkdir(parents=True, exist_ok=True)
@@ -100,15 +93,14 @@
     if len(sys.argv) - 1 >= _idx and sys.argv[_idx].isdigit():
         config.limit = int(sys.argv[_idx])
         _ = sys.argv.pop(_idx)
     else:
         print(f"Invalid Value ({sys.argv[_idx]}) for --debug-limit expected an int")
         sys.exit(1)
 
-# FIXME restore envvar functionality for account, verify debug
 central = CentralApi(config.account)
 cache = Cache(central)
 cli = CLICommon(config.account, cache, central, raw_out=raw_out)
 
 # allow singular form and common synonyms for the defined show commands
 # show switches / show switch ...
 if len(sys.argv) > 2:
```

### Comparing `centralcli-1.3/centralcli/boilerplate/README.md` & `centralcli-1.4/centralcli/boilerplate/README.md`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/boilerplate/allcalls.py` & `centralcli-1.4/centralcli/boilerplate/allcalls.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/boilerplate/configuration.py` & `centralcli-1.4/centralcli/boilerplate/configuration.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/boilerplate/firmware.py` & `centralcli-1.4/centralcli/boilerplate/firmware.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/boilerplate/guest.py` & `centralcli-1.4/centralcli/boilerplate/guest.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/boilerplate/wlan.py` & `centralcli-1.4/centralcli/boilerplate/wlan.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/caas.py` & `centralcli-1.4/centralcli/caas.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/cache.py` & `centralcli-1.4/centralcli/cache.py`

 * *Files 3% similar despite different names*

```diff
@@ -7,14 +7,15 @@
 # internally.  Currently the site_id is being looked up from the site cache
 from typing import Any, Literal, Dict, Sequence, Union, List
 from aiohttp.client import ClientSession
 from tinydb import TinyDB, Query
 from rich import print
 from centralcli import log, utils, config, CentralApi, cleaner, constants, Response
 from pathlib import Path
+from render import rich_capture
 
 import asyncio
 import time
 import typer
 
 try:
     import readline  # noqa imported for backspace support during prompt.
@@ -180,15 +181,15 @@
             if self.site:
                 parts[-1] = f"Site:{parts[-1]}"
         else:
             return str(self)
 
         return "[reset]" + "|".join(
             [
-                f"{'[cyan]' if idx > 0 else '[bright_green]'}{p}[/]" for idx, p in enumerate(parts)
+                f"{'[cyan]' if idx in list(range(0, len(parts), 2)) else '[bright_green]'}{p}[/]" for idx, p in enumerate(parts)
             ]
         )
 
 
 
 # TODO Not used yet refactor to make consistent Response object available for when using contents of cache to avoid API call
 class CacheResponses:
@@ -1109,14 +1110,19 @@
             # TODO update device inventory first then only get details for device types in inventory
             resp = await self.central.get_all_devicesv2()
             if resp.ok:
                 if resp.output:
                     _update_data = utils.listify(resp.output)
                     _update_data = cleaner.get_devices(_update_data)
 
+                    # add swarm_ids for APs to cache (AOS 8 IAP and AP individual Upgrade)
+                    if "aps" in resp.raw.get("aps", [{}])[0]:
+                        _swarm_ids = {d["serial"]: d["swarm_id"] or d["serial"] for d in resp.raw["aps"][0]["aps"]}
+                        _update_data = [d if not d["type"] == "ap" or d["serial"] not in _swarm_ids else {**d, **{"swarm_id": _swarm_ids[d["serial"]]}} for d in _update_data]
+
                     self.DevDB.truncate()
                     update_res = self.DevDB.insert_multiple(_update_data)
                     if False in update_res:
                         log.error("Tiny DB returned an error during dev db update")
 
                 # TODO change updated from  list of funcs to class with bool attributes or something
                 self.updated.append(self.central.get_all_devicesv2)
@@ -1593,22 +1599,28 @@
                     if qry_mac or len(qry_mac) == len(qry_mac_fuzzy):
                         match = self.DevDB.search(
                             self.Q.mac.test(lambda v: v.lower().startswith(utils.Mac(query_str, fuzzy=completion).cols.lower()))
                         )
 
             # no match found initiate cache update
             if retry and not match and self.central.get_all_devicesv2 not in self.updated:
-                kwargs = {"dev_db": True}
-                if include_inventory:
-                    _word = " & Inventory "
-                    kwargs["inv_db"] = True
-                else:
-                    _word = " "
-                typer.secho(f"No Match Found for {query_str}, Updating Device{_word}Cache", fg="red")
-                self.check_fresh(refresh=True, **kwargs)
+                if FUZZ:
+                    fuzz_match, fuzz_confidence = process.extract(query_str, [d["name"] for d in self.devices], limit=1)[0]
+                    confirm_str = rich_capture(f"[bright_red]{query_str}[/] not found in cache.  Did you mean [green3]{fuzz_match}[/]?")
+                    if fuzz_confidence >= 70 and typer.confirm(confirm_str):
+                        match = self.SiteDB.search(self.Q.name == fuzz_match)
+                if not match:
+                    kwargs = {"dev_db": True}
+                    if include_inventory:
+                        _word = " & Inventory "
+                        kwargs["inv_db"] = True
+                    else:
+                        _word = " "
+                    typer.secho(f"No Match Found for {query_str}, Updating Device{_word}Cache", fg="red")
+                    self.check_fresh(refresh=True, **kwargs)
 
             if match:
                 match = [CentralObject("dev", dev) for dev in match]
                 break
 
         all_match = None
         if dev_type:
@@ -1699,19 +1711,24 @@
                     | self.Q.city.test(lambda v: v.lower().startswith(query_str.lower()))
                     | self.Q.state.test(lambda v: v.lower().startswith(query_str.lower()))
                     | self.Q.address.test(lambda v: v.lower().startswith(query_str.lower()))
                     | self.Q.address.test(lambda v: " ".join(v.split(" ")[1:]).lower().startswith(query_str.lower()))
                 )
 
             if retry and not match and self.central.get_all_sites not in self.updated:
-                typer.secho(f"No Match Found for {query_str}, Updating Site Cache", fg="red")
-                self.check_fresh(refresh=True, site_db=True)
+                if FUZZ and not completion:
+                    fuzz_match, fuzz_confidence = process.extract(query_str, [s["name"] for s in self.sites], limit=1)[0]
+                    confirm_str = rich_capture(f"[bright_red]{query_str}[/] not found in cache.  Did you mean [green3]{fuzz_match}[/]?")
+                    if fuzz_confidence >= 70 and typer.confirm(confirm_str):
+                        match = self.SiteDB.search(self.Q.name == fuzz_match)
+                if not match:
+                    typer.secho(f"No Match Found for {query_str}, Updating Site Cache", fg="red")
+                    self.check_fresh(refresh=True, site_db=True)
             if match:
                 match = [CentralObject("site", s) for s in match]
-                # raise ValueError(f'>{query_str}<, {type(query_str)}, {", ".join([m.name for m in match])}')
                 break
 
         if completion:
             return match
 
         if match:
             if len(match) > 1:
@@ -1857,18 +1874,19 @@
                 )
 
             # TODO add fuzzy match other get_*_identifier functions and add fuzz as dep
             # fuzzy match
             if not match and retry and self.central.get_labels not in self.updated:
                 print(f"[bright_red]No Match found for[/] [cyan]{query_str}[/].")
                 if FUZZ:
-                    fuzz_resp = process.extract(query_str, [g["name"] for g in self.labels], limit=1)
+                    fuzz_resp = process.extract(query_str, [label["name"] for label in self.labels], limit=1)
                     if fuzz_resp:
                         fuzz_match, fuzz_confidence = fuzz_resp[0]
-                        if fuzz_confidence >= 70 and typer.confirm(f"Did you mean {fuzz_match}?"):
+                        confirm_str = rich_capture(f"[bright_red]{query_str}[/] not found in cache.  Did you mean [green3]{fuzz_match}[/]?")
+                        if fuzz_confidence >= 70 and typer.confirm(confirm_str):
                             match = self.LabelDB.search(self.Q.name == fuzz_match)
                 if not match:
                     typer.secho(f"No Match Found for {query_str}, Updating label Cache", fg="red")
                     self.check_fresh(refresh=True, label_db=True)
                 _ += 1
             if match:
                 match = [CentralObject("label", g) for g in match]
@@ -1935,16 +1953,22 @@
                     match = self.TemplateDB.search(self.Q.name.test(lambda v: v.lower() == query_str.lower().replace("-", "_")))
 
             # startswith
             if not match:
                 match = self.TemplateDB.search(self.Q.name.test(lambda v: v.lower().startswith(query_str.lower())))
 
             if retry and not match and self.central.get_all_templates not in self.updated:
-                typer.secho(f"No Match Found for {query_str}, Updating template Cache", fg="red")
-                self.check_fresh(refresh=True, template_db=True)
+                if FUZZ:
+                    fuzz_match, fuzz_confidence = process.extract(query_str, [t["name"] for t in self.templates], limit=1)[0]
+                    confirm_str = rich_capture(f"[bright_red]{query_str}[/] not found in cache.  Did you mean [green3]{fuzz_match}[/]?")
+                    if fuzz_confidence >= 70 and typer.confirm(confirm_str):
+                        match = self.SiteDB.search(self.Q.name == fuzz_match)
+                if not match:
+                    typer.secho(f"No Match Found for {query_str}, Updating template Cache", fg="red")
+                    self.check_fresh(refresh=True, template_db=True)
             if match:
                 match = [CentralObject("template", tmplt) for tmplt in match]
                 break
 
         if match:
             if completion:
                 return match
```

### Comparing `centralcli-1.3/centralcli/central.py` & `centralcli-1.4/centralcli/central.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,12507 +1,12515 @@
 00000000: 2321 2f75 7372 2f62 696e 2f65 6e76 2070  #!/usr/bin/env p
 00000010: 7974 686f 6e33 0a23 202d 2a2d 2063 6f64  ython3.# -*- cod
 00000020: 696e 673a 2075 7466 2d38 202d 2a2d 0a0a  ing: utf-8 -*-..
-00000030: 696d 706f 7274 2062 6173 6536 340a 6672  import base64.fr
-00000040: 6f6d 2065 6e75 6d20 696d 706f 7274 2045  om enum import E
-00000050: 6e75 6d0a 696d 706f 7274 206a 736f 6e0a  num.import json.
-00000060: 696d 706f 7274 2074 696d 650a 6672 6f6d  import time.from
-00000070: 2061 7379 6e63 696f 2e70 726f 6163 746f   asyncio.proacto
-00000080: 725f 6576 656e 7473 2069 6d70 6f72 7420  r_events import 
-00000090: 5f50 726f 6163 746f 7242 6173 6550 6970  _ProactorBasePip
-000000a0: 6554 7261 6e73 706f 7274 0a66 726f 6d20  eTransport.from 
-000000b0: 6675 6e63 746f 6f6c 7320 696d 706f 7274  functools import
-000000c0: 2077 7261 7073 0a66 726f 6d20 7061 7468   wraps.from path
-000000d0: 6c69 6220 696d 706f 7274 2050 6174 680a  lib import Path.
-000000e0: 6672 6f6d 2074 7970 696e 6720 696d 706f  from typing impo
-000000f0: 7274 2041 6e79 2c20 4469 6374 2c20 4c69  rt Any, Dict, Li
-00000100: 7374 2c20 4c69 7465 7261 6c2c 2054 7570  st, Literal, Tup
-00000110: 6c65 2c20 556e 696f 6e0a 6672 6f6d 2064  le, Union.from d
-00000120: 6174 6574 696d 6520 696d 706f 7274 2064  atetime import d
-00000130: 6174 6574 696d 652c 2074 696d 6564 656c  atetime, timedel
-00000140: 7461 0a66 726f 6d20 6d6f 6465 6c73 2069  ta.from models i
-00000150: 6d70 6f72 7420 5749 4453 0a23 2062 7572  mport WIDS.# bur
-00000160: 6965 6420 696d 706f 7274 3a20 7265 7175  ied import: requ
-00000170: 6573 7473 2069 7320 696d 706f 7274 6564  ests is imported
-00000180: 2069 6e20 6164 645f 7465 6d70 6c61 7465   in add_template
-00000190: 2061 7320 6120 776f 726b 6172 6f75 6e64   as a workaround
-000001a0: 2075 6e74 696c 2066 6967 7572 6520 6f75   until figure ou
-000001b0: 7420 6169 6f68 7474 7020 666f 726d 2064  t aiohttp form d
-000001c0: 6174 610a 0a23 2066 726f 6d20 6169 6f68  ata..# from aioh
-000001d0: 7474 7020 696d 706f 7274 2043 6c69 656e  ttp import Clien
-000001e0: 7453 6573 7369 6f6e 0a69 6d70 6f72 7420  tSession.import 
-000001f0: 6169 6f68 7474 700a 6672 6f6d 2070 7963  aiohttp.from pyc
-00000200: 656e 7472 616c 2e62 6173 655f 7574 696c  entral.base_util
-00000210: 7320 696d 706f 7274 2074 6f6b 656e 4c6f  s import tokenLo
-00000220: 6361 6c53 746f 7265 5574 696c 0a0a 6672  calStoreUtil..fr
-00000230: 6f6d 202e 2069 6d70 6f72 7420 4172 7562  om . import Arub
-00000240: 6143 656e 7472 616c 4261 7365 2c20 4d79  aCentralBase, My
-00000250: 4c6f 6767 6572 2c20 636c 6561 6e65 722c  Logger, cleaner,
-00000260: 2063 6f6e 6669 672c 206c 6f67 2c20 7574   config, log, ut
-00000270: 696c 732c 2063 6f6e 7374 616e 7473 2c20  ils, constants, 
-00000280: 6d6f 6465 6c73 0a66 726f 6d20 2e72 6573  models.from .res
-00000290: 706f 6e73 6520 696d 706f 7274 2052 6573  ponse import Res
-000002a0: 706f 6e73 652c 2053 6573 7369 6f6e 0a0a  ponse, Session..
-000002b0: 636f 6c6f 7220 3d20 7574 696c 732e 636f  color = utils.co
-000002c0: 6c6f 720a 0a0a 2320 6874 7470 733a 2f2f  lor...# https://
-000002d0: 6769 7468 7562 2e63 6f6d 2f61 696f 2d6c  github.com/aio-l
-000002e0: 6962 732f 6169 6f68 7474 702f 6973 7375  ibs/aiohttp/issu
-000002f0: 6573 2f34 3332 340a 6465 6620 7369 6c65  es/4324.def sile
-00000300: 6e63 655f 6576 656e 745f 6c6f 6f70 5f63  nce_event_loop_c
-00000310: 6c6f 7365 6428 6675 6e63 293a 0a20 2020  losed(func):.   
-00000320: 2040 7772 6170 7328 6675 6e63 290a 2020   @wraps(func).  
-00000330: 2020 6465 6620 7772 6170 7065 7228 7365    def wrapper(se
-00000340: 6c66 2c20 2a61 7267 732c 202a 2a6b 7761  lf, *args, **kwa
-00000350: 7267 7329 3a0a 2020 2020 2020 2020 7472  rgs):.        tr
-00000360: 793a 0a20 2020 2020 2020 2020 2020 2072  y:.            r
-00000370: 6574 7572 6e20 6675 6e63 2873 656c 662c  eturn func(self,
-00000380: 202a 6172 6773 2c20 2a2a 6b77 6172 6773   *args, **kwargs
-00000390: 290a 2020 2020 2020 2020 6578 6365 7074  ).        except
-000003a0: 2052 756e 7469 6d65 4572 726f 7220 6173   RuntimeError as
-000003b0: 2065 3a0a 2020 2020 2020 2020 2020 2020   e:.            
-000003c0: 6966 2073 7472 2865 2920 213d 2022 4576  if str(e) != "Ev
-000003d0: 656e 7420 6c6f 6f70 2069 7320 636c 6f73  ent loop is clos
-000003e0: 6564 223a 0a20 2020 2020 2020 2020 2020  ed":.           
-000003f0: 2020 2020 2072 6169 7365 0a0a 2020 2020       raise..    
-00000400: 7265 7475 726e 2077 7261 7070 6572 0a0a  return wrapper..
-00000410: 0a5f 5072 6f61 6374 6f72 4261 7365 5069  ._ProactorBasePi
-00000420: 7065 5472 616e 7370 6f72 742e 5f5f 6465  peTransport.__de
-00000430: 6c5f 5f20 3d20 7369 6c65 6e63 655f 6576  l__ = silence_ev
-00000440: 656e 745f 6c6f 6f70 5f63 6c6f 7365 6428  ent_loop_closed(
-00000450: 5f50 726f 6163 746f 7242 6173 6550 6970  _ProactorBasePip
-00000460: 6554 7261 6e73 706f 7274 2e5f 5f64 656c  eTransport.__del
-00000470: 5f5f 290a 0a0a 4445 4641 554c 545f 544f  __)...DEFAULT_TO
-00000480: 4b45 4e5f 5354 4f52 4520 3d20 7b22 7479  KEN_STORE = {"ty
-00000490: 7065 223a 2022 6c6f 6361 6c22 2c20 2270  pe": "local", "p
-000004a0: 6174 6822 3a20 6622 7b63 6f6e 6669 672e  ath": f"{config.
-000004b0: 6469 722e 6a6f 696e 7061 7468 2827 2e63  dir.joinpath('.c
-000004c0: 6163 6865 2729 7d22 7d0a 4445 4641 554c  ache')}"}.DEFAUL
-000004d0: 545f 4143 4345 5353 5f52 554c 4553 203d  T_ACCESS_RULES =
-000004e0: 207b 0a20 2020 2022 414c 4c4f 575f 414c   {.    "ALLOW_AL
-000004f0: 4c22 3a20 5b0a 2020 2020 2020 2020 7b0a  L": [.        {.
-00000500: 2020 2020 2020 2020 2020 2020 2261 6374              "act
-00000510: 696f 6e22 3a20 2261 6c6c 6f77 222c 0a20  ion": "allow",. 
-00000520: 2020 2020 2020 2020 2020 2022 6570 6f72             "epor
-00000530: 7422 3a20 2261 6e79 222c 0a20 2020 2020  t": "any",.     
-00000540: 2020 2020 2020 2022 6970 6164 6472 223a         "ipaddr":
-00000550: 2022 616e 7922 2c0a 2020 2020 2020 2020   "any",.        
-00000560: 2020 2020 226d 6174 6368 223a 2022 6d61      "match": "ma
-00000570: 7463 6822 2c0a 2020 2020 2020 2020 2020  tch",.          
-00000580: 2020 226e 6574 6d61 736b 223a 2022 616e    "netmask": "an
-00000590: 7922 2c0a 2020 2020 2020 2020 2020 2020  y",.            
-000005a0: 2270 726f 746f 636f 6c22 3a20 2261 6e79  "protocol": "any
-000005b0: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-000005c0: 7365 7276 6963 655f 6e61 6d65 223a 2022  service_name": "
-000005d0: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-000005e0: 7365 7276 6963 655f 7479 7065 223a 2022  service_type": "
-000005f0: 6e65 7477 6f72 6b22 2c0a 2020 2020 2020  network",.      
-00000600: 2020 2020 2020 2273 706f 7274 223a 2022        "sport": "
-00000610: 616e 7922 2c0a 2020 2020 2020 2020 2020  any",.          
-00000620: 2020 2274 6872 6f74 746c 655f 646f 776e    "throttle_down
-00000630: 7374 7265 616d 223a 2022 222c 0a20 2020  stream": "",.   
-00000640: 2020 2020 2020 2020 2022 7468 726f 7474           "thrott
-00000650: 6c65 5f75 7073 7472 6561 6d22 3a20 2222  le_upstream": ""
-00000660: 0a20 2020 2020 2020 207d 0a20 2020 205d  .        }.    ]
-00000670: 2c0a 7d0a 0a53 5441 5254 203d 2074 696d  ,.}..START = tim
-00000680: 652e 6d6f 6e6f 746f 6e69 6328 290a 0a63  e.monotonic()..c
-00000690: 6c61 7373 2057 6c61 6e54 7970 6528 7374  lass WlanType(st
-000006a0: 722c 2045 6e75 6d29 3a0a 2020 2020 656d  r, Enum):.    em
-000006b0: 706c 6f79 6565 203d 2022 656d 706c 6f79  ployee = "employ
-000006c0: 6565 220a 2020 2020 6775 6573 7420 3d20  ee".    guest = 
-000006d0: 2267 7565 7374 220a 0a0a 6465 6620 6d75  "guest"...def mu
-000006e0: 6c74 6970 6172 7469 6679 2864 6174 612c  ltipartify(data,
-000006f0: 2070 6172 656e 745f 6b65 793d 4e6f 6e65   parent_key=None
-00000700: 2c20 666f 726d 6174 7465 723a 2063 616c  , formatter: cal
-00000710: 6c61 626c 6520 3d20 4e6f 6e65 2920 2d3e  lable = None) ->
-00000720: 2064 6963 743a 0a20 2020 2069 6620 666f   dict:.    if fo
-00000730: 726d 6174 7465 7220 6973 204e 6f6e 653a  rmatter is None:
-00000740: 0a20 2020 2020 2020 2066 6f72 6d61 7474  .        formatt
-00000750: 6572 203d 206c 616d 6264 6120 763a 2028  er = lambda v: (
-00000760: 4e6f 6e65 2c20 7629 2020 2320 6e6f 7161  None, v)  # noqa
-00000770: 204d 756c 7469 7061 7274 2072 6570 7265   Multipart repre
-00000780: 7365 6e74 6174 696f 6e20 6f66 2076 616c  sentation of val
-00000790: 7565 0a0a 2020 2020 6966 2074 7970 6528  ue..    if type(
-000007a0: 6461 7461 2920 6973 206e 6f74 2064 6963  data) is not dic
-000007b0: 743a 0a20 2020 2020 2020 2072 6574 7572  t:.        retur
-000007c0: 6e20 7b70 6172 656e 745f 6b65 793a 2066  n {parent_key: f
-000007d0: 6f72 6d61 7474 6572 2864 6174 6129 7d0a  ormatter(data)}.
-000007e0: 0a20 2020 2063 6f6e 7665 7274 6564 203d  .    converted =
-000007f0: 205b 5d0a 0a20 2020 2066 6f72 206b 6579   []..    for key
-00000800: 2c20 7661 6c75 6520 696e 2064 6174 612e  , value in data.
-00000810: 6974 656d 7328 293a 0a20 2020 2020 2020  items():.       
-00000820: 2063 7572 7265 6e74 5f6b 6579 203d 206b   current_key = k
-00000830: 6579 2069 6620 7061 7265 6e74 5f6b 6579  ey if parent_key
-00000840: 2069 7320 4e6f 6e65 2065 6c73 6520 6622   is None else f"
-00000850: 7b70 6172 656e 745f 6b65 797d 5b7b 6b65  {parent_key}[{ke
-00000860: 797d 5d22 0a20 2020 2020 2020 2069 6620  y}]".        if 
-00000870: 7479 7065 2876 616c 7565 2920 6973 2064  type(value) is d
-00000880: 6963 743a 0a20 2020 2020 2020 2020 2020  ict:.           
-00000890: 2063 6f6e 7665 7274 6564 2e65 7874 656e   converted.exten
-000008a0: 6428 6d75 6c74 6970 6172 7469 6679 2876  d(multipartify(v
-000008b0: 616c 7565 2c20 6375 7272 656e 745f 6b65  alue, current_ke
-000008c0: 792c 2066 6f72 6d61 7474 6572 292e 6974  y, formatter).it
-000008d0: 656d 7328 2929 0a20 2020 2020 2020 2065  ems()).        e
-000008e0: 6c69 6620 7479 7065 2876 616c 7565 2920  lif type(value) 
-000008f0: 6973 206c 6973 743a 0a20 2020 2020 2020  is list:.       
-00000900: 2020 2020 2066 6f72 2069 6e64 2c20 6c69       for ind, li
-00000910: 7374 5f76 616c 7565 2069 6e20 656e 756d  st_value in enum
-00000920: 6572 6174 6528 7661 6c75 6529 3a0a 2020  erate(value):.  
-00000930: 2020 2020 2020 2020 2020 2020 2020 6974                it
-00000940: 6572 5f6b 6579 203d 2066 227b 6375 7272  er_key = f"{curr
-00000950: 656e 745f 6b65 797d 5b7b 696e 647d 5d22  ent_key}[{ind}]"
-00000960: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000970: 2063 6f6e 7665 7274 6564 2e65 7874 656e   converted.exten
-00000980: 6428 6d75 6c74 6970 6172 7469 6679 286c  d(multipartify(l
-00000990: 6973 745f 7661 6c75 652c 2069 7465 725f  ist_value, iter_
-000009a0: 6b65 792c 2066 6f72 6d61 7474 6572 292e  key, formatter).
-000009b0: 6974 656d 7328 2929 0a20 2020 2020 2020  items()).       
-000009c0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-000009d0: 2020 2063 6f6e 7665 7274 6564 2e61 7070     converted.app
-000009e0: 656e 6428 2863 7572 7265 6e74 5f6b 6579  end((current_key
-000009f0: 2c20 666f 726d 6174 7465 7228 7661 6c75  , formatter(valu
-00000a00: 6529 2929 0a0a 2020 2020 7265 7475 726e  e)))..    return
-00000a10: 2064 6963 7428 636f 6e76 6572 7465 6429   dict(converted)
-00000a20: 0a0a 0a64 6566 2067 6574 5f63 6f6e 6e5f  ...def get_conn_
-00000a30: 6672 6f6d 5f66 696c 6528 6163 636f 756e  from_file(accoun
-00000a40: 745f 6e61 6d65 2c20 6c6f 6767 6572 3a20  t_name, logger: 
-00000a50: 4d79 4c6f 6767 6572 203d 206c 6f67 293a  MyLogger = log):
-00000a60: 0a20 2020 2022 2222 4372 6561 7465 7320  .    """Creates 
-00000a70: 616e 2069 6e73 7461 6e63 6520 6f66 2063  an instance of c
-00000a80: 6c61 7373 6070 7963 656e 7472 616c 2e41  lass`pycentral.A
-00000a90: 7275 6261 4365 6e74 7261 6c42 6173 6560  rubaCentralBase`
-00000aa0: 2062 6173 6564 206f 6e20 636f 6e66 6967   based on config
-00000ab0: 2066 696c 652e 0a0a 2020 2020 7072 6f76   file...    prov
-00000ac0: 6964 6564 2069 6e20 7468 6520 5941 4d4c  ided in the YAML
-00000ad0: 2f4a 534f 4e20 636f 6e66 6967 2066 696c  /JSON config fil
-00000ae0: 653a 0a20 2020 2020 2020 202a 206b 6579  e:.        * key
-00000af0: 776f 7264 2063 656e 7472 616c 5f69 6e66  word central_inf
-00000b00: 6f3a 2041 2064 6963 7420 636f 6e74 6169  o: A dict contai
-00000b10: 6e69 6e67 2061 7267 756d 656e 7473 2061  ning arguments a
-00000b20: 7320 6163 6365 7074 6564 2062 7920 636c  s accepted by cl
-00000b30: 6173 7360 7079 6365 6e74 7261 6c2e 4172  ass`pycentral.Ar
-00000b40: 7562 6143 656e 7472 616c 4261 7365 600a  ubaCentralBase`.
-00000b50: 2020 2020 2020 2020 2a20 6b65 7977 6f72          * keywor
-00000b60: 6420 7373 6c5f 7665 7269 6679 3a20 4120  d ssl_verify: A 
-00000b70: 626f 6f6c 6561 6e20 7768 656e 2073 6574  boolean when set
-00000b80: 2074 6f20 5472 7565 2c20 7468 6520 7079   to True, the py
-00000b90: 7468 6f6e 2063 6c69 656e 7420 7661 6c69  thon client vali
-00000ba0: 6461 7465 7320 4172 7562 6120 4365 6e74  dates Aruba Cent
-00000bb0: 7261 6c27 7320 5353 4c20 6365 7274 732e  ral's SSL certs.
-00000bc0: 0a20 2020 2020 2020 202a 206b 6579 776f  .        * keywo
-00000bd0: 7264 2074 6f6b 656e 5f73 746f 7265 3a20  rd token_store: 
-00000be0: 4f70 7469 6f6e 616c 2e20 4465 6661 756c  Optional. Defaul
-00000bf0: 7473 2074 6f20 4e6f 6e65 2e0a 0a20 2020  ts to None...   
-00000c00: 2041 7267 733a 0a20 2020 2020 2020 2061   Args:.        a
-00000c10: 6363 6f75 6e74 5f6e 616d 6520 2873 7472  ccount_name (str
-00000c20: 293a 2041 6363 6f75 6e74 206e 616d 6520  ): Account name 
-00000c30: 6465 6669 6e65 6420 696e 2074 6865 2063  defined in the c
-00000c40: 6f6e 6669 6720 6669 6c65 2e0a 2020 2020  onfig file..    
-00000c50: 2020 2020 6c6f 6767 6572 2028 4d79 4c6f      logger (MyLo
-00000c60: 6767 6572 2c20 6f70 7469 6f6e 616c 293a  gger, optional):
-00000c70: 206c 6f67 206d 6574 686f 642e 2044 6566   log method. Def
-00000c80: 6175 6c74 7320 746f 206c 6f67 2e0a 0a20  aults to log... 
-00000c90: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-00000ca0: 2020 2020 5b70 7963 656e 7472 616c 2e41      [pycentral.A
-00000cb0: 7275 6261 4365 6e74 7261 6c42 6173 655d  rubaCentralBase]
-00000cc0: 3a20 416e 2069 6e73 7461 6e63 6520 6f66  : An instance of
-00000cd0: 2063 6c61 7373 3a60 7079 6365 6e74 7261   class:`pycentra
-00000ce0: 6c2e 4172 7562 6143 656e 7472 616c 4261  l.ArubaCentralBa
-00000cf0: 7365 602c 0a20 2020 2020 2020 2020 2020  se`,.           
-00000d00: 2055 7365 6420 746f 206d 616e 6167 6520   Used to manage 
-00000d10: 4175 7468 2061 6e64 2054 6f6b 656e 732e  Auth and Tokens.
-00000d20: 0a20 2020 2022 2222 0a20 2020 2069 6620  .    """.    if 
-00000d30: 6163 636f 756e 745f 6e61 6d65 2069 6e20  account_name in 
-00000d40: 636f 6e66 6967 2e64 6174 613a 0a20 2020  config.data:.   
-00000d50: 2020 2020 2063 656e 7472 616c 5f69 6e66       central_inf
-00000d60: 6f20 3d20 636f 6e66 6967 2e64 6174 615b  o = config.data[
-00000d70: 6163 636f 756e 745f 6e61 6d65 5d0a 2020  account_name].  
-00000d80: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00000d90: 2320 4163 636f 756e 7420 6e61 6d65 2063  # Account name c
-00000da0: 616c 6c62 6163 6b20 7769 6c6c 206b 6963  allback will kic
-00000db0: 6b20 6261 636b 2065 7272 6f72 730a 2020  k back errors.  
-00000dc0: 2020 2020 2020 2320 6661 6c6c 696e 6720        # falling 
-00000dd0: 6261 636b 2074 6f20 6465 6661 756c 7420  back to default 
-00000de0: 666f 7220 6c6f 6164 206f 6620 6365 6e74  for load of cent
-00000df0: 7261 6c20 666f 7220 6175 746f 2063 6f6d  ral for auto com
-00000e00: 706c 6574 696f 6e0a 2020 2020 2020 2020  pletion.        
-00000e10: 6365 6e74 7261 6c5f 696e 666f 203d 2063  central_info = c
-00000e20: 6f6e 6669 672e 6461 7461 5b22 6365 6e74  onfig.data["cent
-00000e30: 7261 6c5f 696e 666f 225d 0a20 2020 2074  ral_info"].    t
-00000e40: 6f6b 656e 5f73 746f 7265 203d 2063 6f6e  oken_store = con
-00000e50: 6669 672e 746f 6b65 6e5f 7374 6f72 650a  fig.token_store.
-00000e60: 2020 2020 7373 6c5f 7665 7269 6679 203d      ssl_verify =
-00000e70: 2063 656e 7472 616c 5f69 6e66 6f2e 6765   central_info.ge
-00000e80: 7428 2273 736c 5f76 6572 6966 7922 2c20  t("ssl_verify", 
-00000e90: 636f 6e66 6967 2e64 6174 612e 6765 7428  config.data.get(
-00000ea0: 2273 736c 5f76 6572 6966 7922 2c20 5472  "ssl_verify", Tr
-00000eb0: 7565 2929 0a0a 2020 2020 636f 6e6e 203d  ue))..    conn =
-00000ec0: 2041 7275 6261 4365 6e74 7261 6c42 6173   ArubaCentralBas
-00000ed0: 6528 6365 6e74 7261 6c5f 696e 666f 2c20  e(central_info, 
-00000ee0: 746f 6b65 6e5f 7374 6f72 653d 746f 6b65  token_store=toke
-00000ef0: 6e5f 7374 6f72 652c 206c 6f67 6765 723d  n_store, logger=
-00000f00: 6c6f 6767 6572 2c20 7373 6c5f 7665 7269  logger, ssl_veri
-00000f10: 6679 3d73 736c 5f76 6572 6966 7929 0a20  fy=ssl_verify). 
-00000f20: 2020 2074 6f6b 656e 5f63 6163 6865 203d     token_cache =
-00000f30: 2050 6174 6828 746f 6b65 6e4c 6f63 616c   Path(tokenLocal
-00000f40: 5374 6f72 6555 7469 6c28 746f 6b65 6e5f  StoreUtil(token_
-00000f50: 7374 6f72 652c 2063 656e 7472 616c 5f69  store, central_i
-00000f60: 6e66 6f5b 2263 7573 746f 6d65 725f 6964  nfo["customer_id
-00000f70: 225d 2c20 6365 6e74 7261 6c5f 696e 666f  "], central_info
-00000f80: 5b22 636c 6965 6e74 5f69 6422 5d29 290a  ["client_id"])).
-00000f90: 0a20 2020 2023 2061 6c77 6179 7320 6372  .    # always cr
-00000fa0: 6561 7465 2074 6f6b 656e 2063 6163 6865  eate token cache
-00000fb0: 2069 6620 6974 2064 6f65 736e 2774 2065   if it doesn't e
-00000fc0: 7869 7374 2061 6e64 2061 6c77 6179 7320  xist and always 
-00000fd0: 7573 6520 6974 2066 6972 7374 0a20 2020  use it first.   
-00000fe0: 2023 2068 6f77 6576 6572 2069 6620 636f   # however if co
-00000ff0: 6e66 6967 2068 6173 2062 6565 6e20 6d6f  nfig has been mo
-00001000: 6469 6669 6564 206d 6f72 6520 7265 6365  dified more rece
-00001010: 6e74 6c79 2061 6e79 2074 6f6b 656e 7320  ntly any tokens 
-00001020: 696e 2074 6865 2063 6f6e 6669 6720 7769  in the config wi
-00001030: 6c6c 2062 6520 7472 6965 6420 6669 7273  ll be tried firs
-00001040: 740a 2020 2020 2320 6966 2062 6f74 6820  t.    # if both 
-00001050: 6661 696c 2075 7365 7220 7769 6c6c 2062  fail user will b
-00001060: 6520 7072 6f6d 7074 6564 2066 6f72 2074  e prompted for t
-00001070: 6f6b 656e 2069 6620 6e6f 2075 7365 722f  oken if no user/
-00001080: 7061 7373 206f 7220 6f6e 2049 6e74 6572  pass or on Inter
-00001090: 6e61 6c20 436c 7573 7465 722e 0a20 2020  nal Cluster..   
-000010a0: 2069 6620 746f 6b65 6e5f 6361 6368 652e   if token_cache.
-000010b0: 6973 5f66 696c 6528 293a 0a20 2020 2020  is_file():.     
-000010c0: 2020 2063 6163 6865 5f74 6f6b 656e 203d     cache_token =
-000010d0: 2063 6f6e 6e2e 6c6f 6164 546f 6b65 6e28   conn.loadToken(
-000010e0: 290a 2020 2020 2020 2020 6966 2063 6163  ).        if cac
-000010f0: 6865 5f74 6f6b 656e 3a0a 2020 2020 2020  he_token:.      
-00001100: 2020 2020 2020 6966 2074 6f6b 656e 5f63        if token_c
-00001110: 6163 6865 2e73 7461 7428 292e 7374 5f6d  ache.stat().st_m
-00001120: 7469 6d65 203e 2063 6f6e 6669 672e 6669  time > config.fi
-00001130: 6c65 2e73 7461 7428 292e 7374 5f6d 7469  le.stat().st_mti
-00001140: 6d65 3a0a 2020 2020 2020 2020 2020 2020  me:.            
-00001150: 2020 2020 636f 6e6e 2e63 656e 7472 616c      conn.central
-00001160: 5f69 6e66 6f5b 2272 6574 7279 5f74 6f6b  _info["retry_tok
-00001170: 656e 225d 203d 2063 6f6e 6e2e 6365 6e74  en"] = conn.cent
-00001180: 7261 6c5f 696e 666f 5b22 746f 6b65 6e22  ral_info["token"
-00001190: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-000011a0: 2020 636f 6e6e 2e63 656e 7472 616c 5f69    conn.central_i
-000011b0: 6e66 6f5b 2274 6f6b 656e 225d 203d 2063  nfo["token"] = c
-000011c0: 6163 6865 5f74 6f6b 656e 0a20 2020 2020  ache_token.     
-000011d0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-000011e0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-000011f0: 6e2e 6365 6e74 7261 6c5f 696e 666f 5b22  n.central_info["
-00001200: 7265 7472 795f 746f 6b65 6e22 5d20 3d20  retry_token"] = 
-00001210: 6361 6368 655f 746f 6b65 6e0a 0a20 2020  cache_token..   
-00001220: 2020 2020 2020 2020 2023 2043 6f6d 7061           # Compa
-00001230: 7265 2074 6f6b 656e 7320 616e 6420 7265  re tokens and re
-00001240: 6d6f 7665 2072 6574 7279 2074 6f6b 656e  move retry token
-00001250: 2069 6620 7468 6579 2061 7265 2074 6865   if they are the
-00001260: 2073 616d 652e 2020 5261 7265 2073 6365   same.  Rare sce
-00001270: 6e61 7269 6f0a 2020 2020 2020 2020 2020  nario.          
-00001280: 2020 6966 2063 6f6e 6e2e 6365 6e74 7261    if conn.centra
-00001290: 6c5f 696e 666f 5b22 7265 7472 795f 746f  l_info["retry_to
-000012a0: 6b65 6e22 5d5b 2272 6566 7265 7368 5f74  ken"]["refresh_t
-000012b0: 6f6b 656e 225d 203d 3d20 636f 6e6e 2e63  oken"] == conn.c
-000012c0: 656e 7472 616c 5f69 6e66 6f5b 2274 6f6b  entral_info["tok
-000012d0: 656e 225d 5b22 7265 6672 6573 685f 746f  en"]["refresh_to
-000012e0: 6b65 6e22 5d3a 0a20 2020 2020 2020 2020  ken"]:.         
-000012f0: 2020 2020 2020 2064 656c 2063 6f6e 6e2e         del conn.
-00001300: 6365 6e74 7261 6c5f 696e 666f 5b22 7265  central_info["re
-00001310: 7472 795f 746f 6b65 6e22 5d0a 2020 2020  try_token"].    
-00001320: 656c 7365 3a0a 2020 2020 2020 2020 6966  else:.        if
-00001330: 206e 6f74 2063 6f6e 6e2e 7374 6f72 6554   not conn.storeT
-00001340: 6f6b 656e 2863 6f6e 6e2e 6365 6e74 7261  oken(conn.centra
-00001350: 6c5f 696e 666f 2e67 6574 2822 746f 6b65  l_info.get("toke
-00001360: 6e22 2929 3a0a 2020 2020 2020 2020 2020  n")):.          
-00001370: 2020 6c6f 672e 7761 726e 696e 6728 2246    log.warning("F
-00001380: 6169 6c65 6420 746f 2053 746f 7265 2054  ailed to Store T
-00001390: 6f6b 656e 2061 6e64 2074 6f6b 656e 2063  oken and token c
-000013a0: 6163 6865 2064 6f65 736e 2774 2065 7869  ache doesn't exi
-000013b0: 7374 2079 6574 2e22 2c20 7368 6f77 3d54  st yet.", show=T
-000013c0: 7275 6529 0a0a 2020 2020 7265 7475 726e  rue)..    return
-000013d0: 2063 6f6e 6e0a 0a63 6c61 7373 2043 656e   conn..class Cen
-000013e0: 7472 616c 4170 6928 5365 7373 696f 6e29  tralApi(Session)
-000013f0: 3a0a 2020 2020 6465 6620 5f5f 696e 6974  :.    def __init
-00001400: 5f5f 2873 656c 662c 2061 6363 6f75 6e74  __(self, account
-00001410: 5f6e 616d 653a 2073 7472 203d 2022 6365  _name: str = "ce
-00001420: 6e74 7261 6c5f 696e 666f 2229 3a0a 2020  ntral_info"):.  
-00001430: 2020 2020 2020 7365 6c66 2e73 696c 656e        self.silen
-00001440: 7420 3d20 4661 6c73 6520 2023 2074 6f67  t = False  # tog
-00001450: 676c 6564 2069 6e20 5f62 6174 6368 5f72  gled in _batch_r
-00001460: 6571 7565 7374 2074 6f20 7371 7565 6c63  equest to squelc
-00001470: 6820 4175 746f 206c 6f67 6769 6e67 2069  h Auto logging i
-00001480: 6e20 5265 7370 6f6e 7365 0a20 2020 2020  n Response.     
-00001490: 2020 2069 6620 636f 6e66 6967 2e76 616c     if config.val
-000014a0: 6964 2061 6e64 2063 6f6e 7374 616e 7473  id and constants
-000014b0: 2e64 6f5f 6c6f 6164 5f70 7963 656e 7472  .do_load_pycentr
-000014c0: 616c 2829 3a0a 2020 2020 2020 2020 2020  al():.          
-000014d0: 2020 7365 6c66 2e61 7574 6820 3d20 6765    self.auth = ge
-000014e0: 745f 636f 6e6e 5f66 726f 6d5f 6669 6c65  t_conn_from_file
-000014f0: 2861 6363 6f75 6e74 5f6e 616d 6529 0a20  (account_name). 
-00001500: 2020 2020 2020 2020 2020 2073 7570 6572             super
-00001510: 2829 2e5f 5f69 6e69 745f 5f28 6175 7468  ().__init__(auth
-00001520: 3d73 656c 662e 6175 7468 290a 0a20 2020  =self.auth)..   
-00001530: 2040 7374 6174 6963 6d65 7468 6f64 0a20   @staticmethod. 
-00001540: 2020 2064 6566 205f 6d61 6b65 5f66 6f72     def _make_for
-00001550: 6d5f 6461 7461 2864 6174 613a 2064 6963  m_data(data: dic
-00001560: 7429 3a0a 2020 2020 2020 2020 2320 544f  t):.        # TO
-00001570: 444f 2068 6f77 2074 6f20 7061 636b 6167  DO how to packag
-00001580: 6520 7079 7468 6f6e 2064 6174 6120 7374  e python data st
-00001590: 7275 6374 2069 6e74 6f20 666f 726d 2d64  ruct into form-d
-000015a0: 6174 6120 666f 7220 4150 4920 6361 6c6c  ata for API call
-000015b0: 0a20 2020 2020 2020 2023 2069 2e65 2e20  .        # i.e. 
-000015c0: 7570 6461 7465 5f76 6172 6961 626c 6573  update_variables
-000015d0: 0a20 2020 2020 2020 2066 6f72 6d20 3d20  .        form = 
-000015e0: 6169 6f68 7474 702e 466f 726d 4461 7461  aiohttp.FormData
-000015f0: 2829 0a20 2020 2020 2020 2066 6f72 206b  ().        for k
-00001600: 6579 2c20 7661 6c75 6520 696e 2064 6174  ey, value in dat
-00001610: 612e 6974 656d 7328 293a 0a20 2020 2020  a.items():.     
-00001620: 2020 2020 2020 2066 6f72 6d2e 6164 645f         form.add_
-00001630: 6669 656c 6428 0a20 2020 2020 2020 2020  field(.         
-00001640: 2020 2020 2020 206b 6579 2c0a 2020 2020         key,.    
-00001650: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
-00001660: 2e64 756d 7073 2876 616c 7565 2920 6966  .dumps(value) if
-00001670: 2069 7369 6e73 7461 6e63 6528 7661 6c75   isinstance(valu
-00001680: 652c 2028 6c69 7374 2c20 6469 6374 2929  e, (list, dict))
-00001690: 2065 6c73 6520 7661 6c75 652c 0a20 2020   else value,.   
-000016a0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-000016b0: 7465 6e74 5f74 7970 653d 226d 756c 7469  tent_type="multi
-000016c0: 7061 7274 2f66 6f72 6d2d 6461 7461 222c  part/form-data",
-000016d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000016e0: 2066 696c 656e 616d 653d 2275 706c 6f61   filename="uploa
-000016f0: 6422 0a20 2020 2020 2020 2020 2020 2029  d".            )
-00001700: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00001710: 2066 6f72 6d0a 0a20 2020 2023 2054 4f44   form..    # TOD
-00001720: 4f20 5665 7269 6679 2064 6570 7265 6361  O Verify depreca
-00001730: 7465 6420 616e 6420 7265 6d6f 7665 2e20  ted and remove. 
-00001740: 2073 6f72 7420 6d65 7468 6f64 2069 6e20   sort method in 
-00001750: 636c 6963 6f6d 6d6f 6e0a 2020 2020 4073  clicommon.    @s
-00001760: 7461 7469 636d 6574 686f 640a 2020 2020  taticmethod.    
-00001770: 6465 6620 5f73 6f72 7465 6428 7265 7370  def _sorted(resp
-00001780: 3a20 5265 7370 6f6e 7365 2c20 736f 7274  : Response, sort
-00001790: 5f62 793a 2073 7472 2920 2d3e 2052 6573  _by: str) -> Res
-000017a0: 706f 6e73 653a 0a20 2020 2020 2020 2069  ponse:.        i
-000017b0: 6620 6e6f 7420 7265 7370 3a0a 2020 2020  f not resp:.    
-000017c0: 2020 2020 2020 2020 7265 7475 726e 2072          return r
-000017d0: 6573 700a 0a20 2020 2020 2020 2074 7970  esp..        typ
-000017e0: 655f 6572 726f 7220 3d20 5472 7565 0a20  e_error = True. 
-000017f0: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-00001800: 616e 6365 2872 6573 702c 206c 6973 7429  ance(resp, list)
-00001810: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-00001820: 2061 6c6c 285b 6973 696e 7374 616e 6365   all([isinstance
-00001830: 2864 2c20 6469 6374 2920 666f 7220 6420  (d, dict) for d 
-00001840: 696e 2072 6573 702e 6f75 7470 7574 5d29  in resp.output])
-00001850: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00001860: 2020 7479 7065 5f65 7272 6f72 203d 2046    type_error = F
-00001870: 616c 7365 0a20 2020 2020 2020 2020 2020  alse.           
-00001880: 2020 2020 2069 6620 736f 7274 5f62 7920       if sort_by 
-00001890: 696e 2072 6573 702e 6f75 7470 7574 5b2d  in resp.output[-
-000018a0: 315d 2e6b 6579 7328 293a 0a20 2020 2020  1].keys():.     
-000018b0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-000018c0: 6573 702e 6f75 7470 7574 203d 2073 6f72  esp.output = sor
-000018d0: 7465 6428 7265 7370 2e6f 7574 7075 742c  ted(resp.output,
-000018e0: 206b 6579 3d6c 616d 6264 6120 693a 2069   key=lambda i: i
-000018f0: 5b73 6f72 745f 6279 5d29 0a20 2020 2020  [sort_by]).     
-00001900: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00001910: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001920: 2020 2020 206c 6f67 2e65 7272 6f72 2866       log.error(f
-00001930: 227b 736f 7274 5f62 797d 2066 6965 6c64  "{sort_by} field
-00001940: 206e 6f74 2066 6f75 6e64 2069 6e20 6f75   not found in ou
-00001950: 7470 7574 2e20 204e 6f20 736f 7274 2070  tput.  No sort p
-00001960: 6572 666f 726d 6564 222c 2073 686f 773d  erformed", show=
-00001970: 5472 7565 290a 2020 2020 2020 2020 6966  True).        if
-00001980: 2074 7970 655f 6572 726f 723a 0a20 2020   type_error:.   
-00001990: 2020 2020 2020 2020 206c 6f67 2e65 7272           log.err
-000019a0: 6f72 2822 556e 6578 7065 6374 6564 2072  or("Unexpected r
-000019b0: 6573 706f 6e73 6520 7479 7065 206e 6f20  esponse type no 
-000019c0: 736f 7274 2070 6572 666f 726d 6564 2e22  sort performed."
-000019d0: 2c20 7368 6f77 3d54 7275 6529 0a0a 2020  , show=True)..  
-000019e0: 2020 2020 2020 7265 7475 726e 2072 6573        return res
-000019f0: 700a 0a20 2020 2040 7374 6174 6963 6d65  p..    @staticme
-00001a00: 7468 6f64 0a20 2020 2064 6566 2073 7472  thod.    def str
-00001a10: 6970 5f6e 6f6e 6528 5f64 6963 743a 2055  ip_none(_dict: U
-00001a20: 6e69 6f6e 5b64 6963 742c 204e 6f6e 655d  nion[dict, None]
-00001a30: 2920 2d3e 2055 6e69 6f6e 5b64 6963 742c  ) -> Union[dict,
-00001a40: 204e 6f6e 655d 3a0a 2020 2020 2020 2020   None]:.        
-00001a50: 2222 2273 7472 6970 2061 6c6c 206b 6579  """strip all key
-00001a60: 7320 6672 6f6d 2061 2064 6963 7420 7768  s from a dict wh
-00001a70: 6572 6520 7661 6c75 6520 6973 204e 6f6e  ere value is Non
-00001a80: 6554 7970 6522 2222 0a20 2020 2020 2020  eType""".       
-00001a90: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
-00001aa0: 6365 285f 6469 6374 2c20 6469 6374 293a  ce(_dict, dict):
-00001ab0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00001ac0: 7572 6e20 5f64 6963 740a 0a20 2020 2020  urn _dict..     
-00001ad0: 2020 2072 6574 7572 6e20 7b6b 3a20 7620     return {k: v 
-00001ae0: 666f 7220 6b2c 2076 2069 6e20 5f64 6963  for k, v in _dic
-00001af0: 742e 6974 656d 7328 2920 6966 2076 2069  t.items() if v i
-00001b00: 7320 6e6f 7420 4e6f 6e65 7d0a 0a20 2020  s not None}..   
-00001b10: 2023 2064 6f65 736e 2774 2061 7070 6561   # doesn't appea
-00001b20: 7220 746f 2077 6f72 6b2e 2072 6566 6572  r to work. refer
-00001b30: 656e 6365 6420 696e 2073 7761 6767 6572  enced in swagger
-00001b40: 2074 6f20 6765 7420 6c69 7374 696e 6720   to get listing 
-00001b50: 6f66 2074 7970 6573 2028 4e65 7720 4465  of types (New De
-00001b60: 7669 6365 2049 6e76 656e 746f 7279 3a20  vice Inventory: 
-00001b70: 4765 7420 4465 7669 6365 732e 2e2e 290a  Get Devices...).
-00001b80: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
-00001b90: 745f 6465 765f 7479 7065 7328 7365 6c66  t_dev_types(self
-00001ba0: 293a 0a20 2020 2020 2020 2075 726c 203d  ):.        url =
-00001bb0: 2022 2f70 6c61 7466 6f72 6d2f 6f72 6465   "/platform/orde
-00001bc0: 7273 2f76 312f 736b 7573 3f73 6b75 5f74  rs/v1/skus?sku_t
-00001bd0: 7970 653d 616c 6c22 0a20 2020 2020 2020  ype=all".       
-00001be0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00001bf0: 6c66 2e67 6574 2875 726c 290a 0a20 2020  lf.get(url)..   
-00001c00: 2061 7379 6e63 2064 6566 2067 6574 5f61   async def get_a
-00001c10: 7028 7365 6c66 2920 2d3e 2052 6573 706f  p(self) -> Respo
-00001c20: 6e73 653a 0a20 2020 2020 2020 2075 726c  nse:.        url
-00001c30: 203d 2022 2f6d 6f6e 6974 6f72 696e 672f   = "/monitoring/
-00001c40: 7631 2f61 7073 220a 2020 2020 2020 2020  v1/aps".        
-00001c50: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00001c60: 662e 6765 7428 7572 6c29 0a0a 2020 2020  f.get(url)..    
-00001c70: 6173 796e 6320 6465 6620 6765 745f 7377  async def get_sw
-00001c80: 6172 6d73 2873 656c 662c 2067 726f 7570  arms(self, group
-00001c90: 3a20 7374 7220 3d20 4e6f 6e65 2c20 7374  : str = None, st
-00001ca0: 6174 7573 3a20 7374 7220 3d20 4e6f 6e65  atus: str = None
-00001cb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00001cc0: 2020 2020 2020 2020 2020 2070 7562 6c69             publi
-00001cd0: 635f 6970 5f61 6464 7265 7373 3a20 7374  c_ip_address: st
-00001ce0: 7220 3d20 4e6f 6e65 2c20 6669 656c 6473  r = None, fields
-00001cf0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00001d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001d10: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
-00001d20: 5f74 6f74 616c 3a20 626f 6f6c 203d 204e  _total: bool = N
-00001d30: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00001d40: 2020 2020 2020 2020 2020 2020 2020 7377                sw
-00001d50: 6172 6d5f 6e61 6d65 3a20 7374 7220 3d20  arm_name: str = 
-00001d60: 4e6f 6e65 2c20 6f66 6673 6574 3a20 696e  None, offset: in
-00001d70: 7420 3d20 302c 206c 696d 6974 3a20 696e  t = 0, limit: in
-00001d80: 7420 3d20 3130 3029 202d 3e20 5265 7370  t = 100) -> Resp
-00001d90: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00001da0: 224c 6973 7420 5377 6172 6d73 2e0a 0a20  "List Swarms... 
-00001db0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00001dc0: 2020 2020 2020 2020 2067 726f 7570 2028           group (
-00001dd0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00001de0: 4669 6c74 6572 2062 7920 6772 6f75 7020  Filter by group 
-00001df0: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
-00001e00: 2073 7461 7475 7320 2873 7472 2c20 6f70   status (str, op
-00001e10: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00001e20: 6279 2053 7761 726d 2073 7461 7475 730a  by Swarm status.
-00001e30: 2020 2020 2020 2020 2020 2020 7075 626c              publ
-00001e40: 6963 5f69 705f 6164 6472 6573 7320 2873  ic_ip_address (s
-00001e50: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-00001e60: 696c 7465 7220 6279 2070 7562 6c69 6320  ilter by public 
-00001e70: 6970 2061 6464 7265 7373 0a20 2020 2020  ip address.     
-00001e80: 2020 2020 2020 2066 6965 6c64 7320 2873         fields (s
-00001e90: 7472 2c20 6f70 7469 6f6e 616c 293a 2043  tr, optional): C
-00001ea0: 6f6d 6d61 2073 6570 6172 6174 6564 206c  omma separated l
-00001eb0: 6973 7420 6f66 2066 6965 6c64 7320 746f  ist of fields to
-00001ec0: 2062 6520 7265 7475 726e 6564 2e20 5661   be returned. Va
-00001ed0: 6c69 6420 6669 656c 6473 2061 7265 0a20  lid fields are. 
-00001ee0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00001ef0: 7461 7475 732c 2069 705f 6164 6472 6573  tatus, ip_addres
-00001f00: 732c 2070 7562 6c69 635f 6970 5f61 6464  s, public_ip_add
-00001f10: 7265 7373 2c20 6669 726d 7761 7265 5f76  ress, firmware_v
-00001f20: 6572 7369 6f6e 0a20 2020 2020 2020 2020  ersion.         
-00001f30: 2020 2063 616c 6375 6c61 7465 5f74 6f74     calculate_tot
-00001f40: 616c 2028 626f 6f6c 2c20 6f70 7469 6f6e  al (bool, option
-00001f50: 616c 293a 2057 6865 7468 6572 2074 6f20  al): Whether to 
-00001f60: 6361 6c63 756c 6174 6520 746f 7461 6c20  calculate total 
-00001f70: 5377 6172 6d73 0a20 2020 2020 2020 2020  Swarms.         
-00001f80: 2020 2073 7761 726d 5f6e 616d 6520 2873     swarm_name (s
-00001f90: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-00001fa0: 696c 7465 7220 6279 2073 7761 726d 206e  ilter by swarm n
-00001fb0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-00001fc0: 6f66 6673 6574 2028 696e 742c 206f 7074  offset (int, opt
-00001fd0: 696f 6e61 6c29 3a20 5061 6769 6e61 7469  ional): Paginati
-00001fe0: 6f6e 206f 6666 7365 7420 4465 6661 756c  on offset Defaul
-00001ff0: 7473 2074 6f20 302e 0a20 2020 2020 2020  ts to 0..       
-00002000: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
-00002010: 206f 7074 696f 6e61 6c29 3a20 5061 6769   optional): Pagi
-00002020: 6e61 7469 6f6e 206c 696d 6974 2e20 4465  nation limit. De
-00002030: 6661 756c 7420 6973 2031 3030 2061 6e64  fault is 100 and
-00002040: 206d 6178 2069 7320 3130 3030 2044 6566   max is 1000 Def
-00002050: 6175 6c74 7320 746f 2031 3030 2e0a 0a20  aults to 100... 
-00002060: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-00002070: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-00002080: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-00002090: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-000020a0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000020b0: 2020 2020 2075 726c 203d 2022 2f6d 6f6e       url = "/mon
-000020c0: 6974 6f72 696e 672f 7631 2f73 7761 726d  itoring/v1/swarm
-000020d0: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
-000020e0: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
-000020f0: 2020 2027 6772 6f75 7027 3a20 6772 6f75     'group': grou
-00002100: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
-00002110: 7374 6174 7573 273a 2073 7461 7475 732c  status': status,
-00002120: 0a20 2020 2020 2020 2020 2020 2027 7075  .            'pu
-00002130: 626c 6963 5f69 705f 6164 6472 6573 7327  blic_ip_address'
-00002140: 3a20 7075 626c 6963 5f69 705f 6164 6472  : public_ip_addr
-00002150: 6573 732c 0a20 2020 2020 2020 2020 2020  ess,.           
-00002160: 2027 6669 656c 6473 273a 2066 6965 6c64   'fields': field
-00002170: 732c 0a20 2020 2020 2020 2020 2020 2027  s,.            '
-00002180: 6361 6c63 756c 6174 655f 746f 7461 6c27  calculate_total'
-00002190: 3a20 6361 6c63 756c 6174 655f 746f 7461  : calculate_tota
-000021a0: 6c2c 0a20 2020 2020 2020 2020 2020 2027  l,.            '
-000021b0: 7377 6172 6d5f 6e61 6d65 273a 2073 7761  swarm_name': swa
-000021c0: 726d 5f6e 616d 652c 0a20 2020 2020 2020  rm_name,.       
-000021d0: 2020 2020 2027 6f66 6673 6574 273a 206f       'offset': o
-000021e0: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
-000021f0: 2020 2027 6c69 6d69 7427 3a20 6c69 6d69     'limit': limi
-00002200: 742c 0a20 2020 2020 2020 207d 0a0a 2020  t,.        }..  
-00002210: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-00002220: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-00002230: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
-00002240: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-00002250: 6574 5f73 7761 726d 5f64 6574 6169 6c73  et_swarm_details
-00002260: 2873 656c 662c 2073 7761 726d 5f69 643a  (self, swarm_id:
-00002270: 2073 7472 2920 2d3e 2052 6573 706f 6e73   str) -> Respons
-00002280: 653a 0a20 2020 2020 2020 2022 2222 5377  e:.        """Sw
-00002290: 6172 6d20 4465 7461 696c 732e 0a0a 2020  arm Details...  
-000022a0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-000022b0: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
-000022c0: 2028 7374 7229 3a20 5377 6172 6d20 4944   (str): Swarm ID
-000022d0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-000022e0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-000022f0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-00002300: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-00002310: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00002320: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-00002330: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f73  /monitoring/v1/s
-00002340: 7761 726d 732f 7b73 7761 726d 5f69 647d  warms/{swarm_id}
-00002350: 220a 0a20 2020 2020 2020 2072 6574 7572  "..        retur
-00002360: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-00002370: 2875 726c 290a 0a20 2020 2023 2061 7379  (url)..    # asy
-00002380: 6e63 2064 6566 2067 6574 5f73 7761 726d  nc def get_swarm
-00002390: 735f 6279 5f67 726f 7570 2873 656c 662c  s_by_group(self,
-000023a0: 2067 726f 7570 3a20 7374 7229 202d 3e20   group: str) -> 
-000023b0: 5265 7370 6f6e 7365 3a0a 2020 2020 2320  Response:.    # 
-000023c0: 2020 2020 7572 6c20 3d20 222f 6d6f 6e69      url = "/moni
-000023d0: 746f 7269 6e67 2f76 312f 7377 6172 6d73  toring/v1/swarms
-000023e0: 220a 2020 2020 2320 2020 2020 7061 7261  ".    #     para
-000023f0: 6d73 203d 207b 2267 726f 7570 223a 2067  ms = {"group": g
-00002400: 726f 7570 7d0a 2020 2020 2320 2020 2020  roup}.    #     
-00002410: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00002420: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-00002430: 733d 7061 7261 6d73 290a 0a20 2020 2023  s=params)..    #
-00002440: 2061 7379 6e63 2064 6566 2067 6574 5f73   async def get_s
-00002450: 7761 726d 5f64 6574 6169 6c73 2873 656c  warm_details(sel
-00002460: 662c 2073 7761 726d 5f69 643a 2073 7472  f, swarm_id: str
-00002470: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00002480: 2020 2023 2020 2020 2075 726c 203d 2066     #     url = f
-00002490: 222f 6d6f 6e69 746f 7269 6e67 2f76 312f  "/monitoring/v1/
-000024a0: 7377 6172 6d73 2f7b 7377 6172 6d5f 6964  swarms/{swarm_id
-000024b0: 7d22 0a20 2020 2023 2020 2020 2072 6574  }".    #     ret
-000024c0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-000024d0: 6574 2875 726c 290a 0a20 2020 2061 7379  et(url)..    asy
-000024e0: 6e63 2064 6566 2067 6574 5f63 6c69 656e  nc def get_clien
-000024f0: 7473 280a 2020 2020 2020 2020 7365 6c66  ts(.        self
-00002500: 2c0a 2020 2020 2020 2020 2a61 7267 733a  ,.        *args:
-00002510: 2054 7570 6c65 5b73 7472 5d2c 0a20 2020   Tuple[str],.   
-00002520: 2020 2020 2067 726f 7570 3a20 7374 7220       group: str 
-00002530: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00002540: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
-00002550: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c61  None,.        la
-00002560: 6265 6c3a 2073 7472 203d 204e 6f6e 652c  bel: str = None,
-00002570: 0a20 2020 2020 2020 206e 6574 776f 726b  .        network
-00002580: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00002590: 2020 2020 2020 7369 7465 3a20 7374 7220        site: str 
-000025a0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-000025b0: 7365 7269 616c 3a20 7374 7220 3d20 4e6f  serial: str = No
-000025c0: 6e65 2c0a 2020 2020 2020 2020 6f73 5f74  ne,.        os_t
-000025d0: 7970 653a 2073 7472 203d 204e 6f6e 652c  ype: str = None,
-000025e0: 0a20 2020 2020 2020 2073 7461 636b 5f69  .        stack_i
-000025f0: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
-00002600: 2020 2020 2020 2063 6c75 7374 6572 5f69         cluster_i
-00002610: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
-00002620: 2020 2020 2020 2062 616e 643a 2073 7472         band: str
-00002630: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00002640: 206d 6163 3a20 7374 7220 3d20 4e6f 6e65   mac: str = None
-00002650: 2c0a 2020 2020 2020 2020 2320 736f 7274  ,.        # sort
-00002660: 5f62 793a 2073 7472 203d 204e 6f6e 652c  _by: str = None,
-00002670: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
-00002680: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
-00002690: 2020 6c69 6d69 743a 2069 6e74 203d 2035    limit: int = 5
-000026a0: 3030 2c0a 2020 2020 2020 2020 2320 2a2a  00,.        # **
-000026b0: 6b77 6172 6773 2c0a 2020 2020 2920 2d3e  kwargs,.    ) ->
-000026c0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-000026d0: 2020 2022 2222 4765 7420 436c 6965 6e74     """Get Client
-000026e0: 7320 6465 7461 696c 732e 0a0a 2020 2020  s details...    
-000026f0: 2020 2020 2f2f 2055 7365 6420 6279 2073      // Used by s
-00002700: 686f 7720 636c 6965 6e74 7320 2e2e 2e20  how clients ... 
-00002710: 2f2f 0a0a 2020 2020 2020 2020 4172 6773  //..        Args
-00002720: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
-00002730: 6f75 7020 2873 7472 2c20 6f70 7469 6f6e  oup (str, option
-00002740: 616c 293a 2046 696c 7465 7220 6279 2047  al): Filter by G
-00002750: 726f 7570 2e20 4465 6661 756c 7473 2074  roup. Defaults t
-00002760: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-00002770: 2020 2020 7377 6172 6d5f 6964 2028 7374      swarm_id (st
-00002780: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-00002790: 6c74 6572 2062 7920 7377 6172 6d2e 2044  lter by swarm. D
-000027a0: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-000027b0: 0a20 2020 2020 2020 2020 2020 206c 6162  .            lab
-000027c0: 656c 2028 7374 722c 206f 7074 696f 6e61  el (str, optiona
-000027d0: 6c29 3a20 4669 6c74 6572 2062 7920 6c61  l): Filter by la
-000027e0: 6265 6c2e 2044 6566 6175 6c74 7320 746f  bel. Defaults to
-000027f0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00002800: 2020 206e 6574 776f 726b 2028 7374 722c     network (str,
-00002810: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-00002820: 6572 2062 7920 574c 414e 2053 5349 442e  er by WLAN SSID.
-00002830: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-00002840: 652e 0a20 2020 2020 2020 2020 2020 2073  e..            s
-00002850: 6974 6520 2873 7472 2c20 6f70 7469 6f6e  ite (str, option
-00002860: 616c 293a 2046 696c 7465 7220 6279 2073  al): Filter by s
-00002870: 6974 652e 2044 6566 6175 6c74 7320 746f  ite. Defaults to
-00002880: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00002890: 2020 2073 6572 6961 6c20 2873 7472 2c20     serial (str, 
-000028a0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-000028b0: 7220 6279 2063 6f6e 6e65 6374 6564 2064  r by connected d
-000028c0: 6576 6963 6520 7365 7269 616c 2e20 4465  evice serial. De
-000028d0: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
-000028e0: 2020 2020 2020 2020 2020 2020 6f73 5f74              os_t
-000028f0: 7970 6520 2873 7472 2c20 6f70 7469 6f6e  ype (str, option
-00002900: 616c 293a 2046 696c 7465 7220 6279 2063  al): Filter by c
-00002910: 6c69 656e 7420 4f53 2074 7970 652e 2044  lient OS type. D
-00002920: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-00002930: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
-00002940: 636b 5f69 6420 2873 7472 2c20 6f70 7469  ck_id (str, opti
-00002950: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-00002960: 2053 7461 636b 2049 442e 2044 6566 6175   Stack ID. Defau
-00002970: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
-00002980: 2020 2020 2020 2020 2063 6c75 7374 6572           cluster
-00002990: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
-000029a0: 616c 293a 2046 696c 7465 7220 6279 2043  al): Filter by C
-000029b0: 6c75 7374 6572 2049 442e 2044 6566 6175  luster ID. Defau
-000029c0: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
-000029d0: 2020 2020 2020 2020 2062 616e 6420 2873           band (s
-000029e0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-000029f0: 696c 7465 7220 6279 2062 616e 642e 2044  ilter by band. D
-00002a00: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-00002a10: 0a20 2020 2020 2020 2020 2020 206d 6163  .            mac
-00002a20: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00002a30: 3a20 4669 6c74 6572 2062 7920 636c 6965  : Filter by clie
-00002a40: 6e74 204d 4143 2e20 4465 6661 756c 7473  nt MAC. Defaults
-00002a50: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
-00002a60: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
-00002a70: 742c 206f 7074 696f 6e61 6c29 3a20 4150  t, optional): AP
-00002a80: 4920 5061 6769 6e67 206f 6666 7365 742e  I Paging offset.
-00002a90: 2044 6566 6175 6c74 7320 746f 2030 2e0a   Defaults to 0..
-00002aa0: 2020 2020 2020 2020 2020 2020 6c69 6d69              limi
-00002ab0: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
-00002ac0: 293a 2041 5049 2072 6563 6f72 6420 6c69  ): API record li
-00002ad0: 6d69 7420 7065 7220 7265 7175 6573 742e  mit per request.
-00002ae0: 2044 6566 6175 6c74 7320 746f 2035 3030   Defaults to 500
-00002af0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-00002b00: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-00002b10: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-00002b20: 6c41 5049 2052 6573 706f 6e73 6520 4f62  lAPI Response Ob
-00002b30: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-00002b40: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-00002b50: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-00002b60: 2267 726f 7570 223a 2067 726f 7570 2c0a  "group": group,.
-00002b70: 2020 2020 2020 2020 2020 2020 2273 7761              "swa
-00002b80: 726d 5f69 6422 3a20 7377 6172 6d5f 6964  rm_id": swarm_id
-00002b90: 2c0a 2020 2020 2020 2020 2020 2020 226c  ,.            "l
-00002ba0: 6162 656c 223a 206c 6162 656c 2c0a 2020  abel": label,.  
-00002bb0: 2020 2020 2020 2020 2020 2273 6974 6522            "site"
-00002bc0: 3a20 7369 7465 2c0a 2020 2020 2020 2020  : site,.        
-00002bd0: 2020 2020 2273 6572 6961 6c22 3a20 7365      "serial": se
-00002be0: 7269 616c 2c0a 2020 2020 2020 2020 2020  rial,.          
-00002bf0: 2020 2263 6c75 7374 6572 5f69 6422 3a20    "cluster_id": 
-00002c00: 636c 7573 7465 725f 6964 2c0a 2020 2020  cluster_id,.    
-00002c10: 2020 2020 2020 2020 2320 2766 6965 6c64          # 'field
-00002c20: 7327 3a20 6669 656c 6473 2c0a 2020 2020  s': fields,.    
-00002c30: 2020 2020 2020 2020 2320 2773 6f72 745f          # 'sort_
-00002c40: 6279 273a 2073 6f72 745f 6279 2c0a 2020  by': sort_by,.  
-00002c50: 2020 2020 2020 2020 2020 226f 6666 7365            "offse
-00002c60: 7422 3a20 6f66 6673 6574 2c0a 2020 2020  t": offset,.    
-00002c70: 2020 2020 2020 2020 226c 696d 6974 223a          "limit":
-00002c80: 206c 696d 6974 2c0a 2020 2020 2020 2020   limit,.        
-00002c90: 7d0a 2020 2020 2020 2020 776c 616e 5f6f  }.        wlan_o
-00002ca0: 6e6c 795f 7061 7261 6d73 203d 207b 226e  nly_params = {"n
-00002cb0: 6574 776f 726b 223a 206e 6574 776f 726b  etwork": network
-00002cc0: 2c20 226f 735f 7479 7065 223a 206f 735f  , "os_type": os_
-00002cd0: 7479 7065 2c20 2262 616e 6422 3a20 6261  type, "band": ba
-00002ce0: 6e64 7d0a 2020 2020 2020 2020 7769 7265  nd}.        wire
-00002cf0: 645f 6f6e 6c79 5f70 6172 616d 7320 3d20  d_only_params = 
-00002d00: 7b22 7374 6163 6b5f 6964 223a 2073 7461  {"stack_id": sta
-00002d10: 636b 5f69 647d 0a20 2020 2020 2020 2061  ck_id}.        a
-00002d20: 6c6c 5f70 6172 616d 7320 3d20 7b2a 2a70  ll_params = {**p
-00002d30: 6172 616d 732c 202a 2a77 6c61 6e5f 6f6e  arams, **wlan_on
-00002d40: 6c79 5f70 6172 616d 732c 202a 2a77 6972  ly_params, **wir
-00002d50: 6564 5f6f 6e6c 795f 7061 7261 6d73 7d0a  ed_only_params}.
-00002d60: 2020 2020 2020 2020 7769 7265 645f 7061          wired_pa
-00002d70: 7261 6d73 203d 207b 2a2a 7061 7261 6d73  rams = {**params
-00002d80: 2c20 2a2a 7769 7265 645f 6f6e 6c79 5f70  , **wired_only_p
-00002d90: 6172 616d 737d 0a20 2020 2020 2020 2077  arams}.        w
-00002da0: 6c61 6e5f 7061 7261 6d73 203d 207b 2a2a  lan_params = {**
-00002db0: 7061 7261 6d73 2c20 2a2a 776c 616e 5f6f  params, **wlan_o
-00002dc0: 6e6c 795f 7061 7261 6d73 7d0a 2020 2020  nly_params}.    
-00002dd0: 2020 2020 6966 2054 7275 6520 696e 205b      if True in [
-00002de0: 6e65 7477 6f72 6b2c 206f 735f 7479 7065  network, os_type
-00002df0: 2c20 6261 6e64 5d20 616e 6420 2277 6972  , band] and "wir
-00002e00: 656c 6573 7322 206e 6f74 2069 6e20 6172  eless" not in ar
-00002e10: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00002e20: 6172 6773 203d 2028 2277 6972 656c 6573  args = ("wireles
-00002e30: 7322 2c20 2a61 7267 7329 0a20 2020 2020  s", *args).     
-00002e40: 2020 2069 6620 7374 6163 6b5f 6964 2061     if stack_id a
-00002e50: 6e64 2022 7769 7265 6422 206e 6f74 2069  nd "wired" not i
-00002e60: 6e20 6172 6773 3a0a 2020 2020 2020 2020  n args:.        
-00002e70: 2020 2020 6172 6773 203d 2028 2277 6972      args = ("wir
-00002e80: 6564 222c 202a 6172 6773 290a 0a20 2020  ed", *args)..   
-00002e90: 2020 2020 2069 6620 6d61 6320 6f72 2028       if mac or (
-00002ea0: 226d 6163 2220 696e 2061 7267 7320 616e  "mac" in args an
-00002eb0: 6420 6172 6773 2e69 6e64 6578 2822 6d61  d args.index("ma
-00002ec0: 6322 2920 3c20 6c65 6e28 6172 6773 2929  c") < len(args))
-00002ed0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-00002ee0: 206d 6163 3a0a 2020 2020 2020 2020 2020   mac:.          
-00002ef0: 2020 2020 2020 5f6d 6163 203d 2075 7469        _mac = uti
-00002f00: 6c73 2e4d 6163 280a 2020 2020 2020 2020  ls.Mac(.        
-00002f10: 2020 2020 2020 2020 2020 2020 6d61 632c              mac,
-00002f20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002f30: 2020 2020 2066 757a 7a79 3d54 7275 652c       fuzzy=True,
-00002f40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002f50: 2029 0a20 2020 2020 2020 2020 2020 2065   ).            e
-00002f60: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00002f70: 2020 2020 205f 6d61 6320 3d20 7574 696c       _mac = util
-00002f80: 732e 4d61 6328 0a20 2020 2020 2020 2020  s.Mac(.         
-00002f90: 2020 2020 2020 2020 2020 2061 7267 735b             args[
-00002fa0: 6172 6773 2e69 6e64 6578 2822 6d61 6322  args.index("mac"
-00002fb0: 2920 2b20 315d 2c0a 2020 2020 2020 2020  ) + 1],.        
-00002fc0: 2020 2020 2020 2020 2020 2020 6675 7a7a              fuzz
-00002fd0: 793d 5472 7565 2c0a 2020 2020 2020 2020  y=True,.        
-00002fe0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00002ff0: 2020 2020 2020 6966 205f 6d61 632e 6f6b        if _mac.ok
-00003000: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00003010: 2020 6d61 6320 3d20 5f6d 6163 0a20 2020    mac = _mac.   
-00003020: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00003030: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00003040: 6574 7572 6e20 5265 7370 6f6e 7365 2865  eturn Response(e
-00003050: 7272 6f72 3d22 494e 5641 4c49 4420 4d41  rror="INVALID MA
-00003060: 4322 2c20 6f75 7470 7574 3d66 2254 6865  C", output=f"The
-00003070: 2050 726f 7669 6465 6420 4d41 4320 7b5f   Provided MAC {_
-00003080: 6d61 637d 2041 7070 6561 7273 2074 6f20  mac} Appears to 
-00003090: 6265 2069 6e76 616c 6964 2e22 290a 0a20  be invalid.").. 
-000030a0: 2020 2020 2020 2023 2069 6620 6e6f 7420         # if not 
-000030b0: 6172 6773 2e63 6f75 6e74 2873 7472 2920  args.count(str) 
-000030c0: 3e20 3020 6f72 2022 616c 6c22 2069 6e20  > 0 or "all" in 
-000030d0: 6172 6773 3a0a 2020 2020 2020 2020 6966  args:.        if
-000030e0: 206e 6f74 2061 7267 7320 6f72 2022 616c   not args or "al
-000030f0: 6c22 2069 6e20 6172 6773 3a0a 2020 2020  l" in args:.    
-00003100: 2020 2020 2020 2020 6966 206d 6163 3a0a          if mac:.
-00003110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003120: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00003130: 662e 6765 745f 636c 6965 6e74 5f64 6574  f.get_client_det
-00003140: 6169 6c73 286d 6163 2c29 0a20 2020 2020  ails(mac,).     
-00003150: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00003160: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00003170: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-00003180: 6574 5f61 6c6c 5f63 6c69 656e 7473 282a  et_all_clients(*
-00003190: 2a61 6c6c 5f70 6172 616d 732c 290a 2020  *all_params,).  
-000031a0: 2020 2020 2020 656c 6966 2022 7769 7265        elif "wire
-000031b0: 6422 2069 6e20 6172 6773 3a0a 2020 2020  d" in args:.    
-000031c0: 2020 2020 2020 2020 6966 206d 6163 3a0a          if mac:.
-000031d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000031e0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-000031f0: 662e 6765 745f 636c 6965 6e74 5f64 6574  f.get_client_det
-00003200: 6169 6c73 286d 6163 2c20 6465 765f 7479  ails(mac, dev_ty
-00003210: 7065 3d22 7769 7265 6422 2c29 0a20 2020  pe="wired",).   
-00003220: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00003230: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00003240: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00003250: 2e67 6574 5f77 6972 6564 5f63 6c69 656e  .get_wired_clien
-00003260: 7473 282a 2a77 6972 6564 5f70 6172 616d  ts(**wired_param
-00003270: 732c 290a 2020 2020 2020 2020 656c 6966  s,).        elif
-00003280: 2022 7769 7265 6c65 7373 2220 696e 2061   "wireless" in a
-00003290: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-000032a0: 2069 6620 6d61 633a 0a20 2020 2020 2020   if mac:.       
-000032b0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-000032c0: 6177 6169 7420 7365 6c66 2e67 6574 5f63  await self.get_c
-000032d0: 6c69 656e 745f 6465 7461 696c 7328 6d61  lient_details(ma
-000032e0: 632c 2064 6576 5f74 7970 653d 2277 6972  c, dev_type="wir
-000032f0: 656c 6573 7322 2c29 0a20 2020 2020 2020  eless",).       
-00003300: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00003310: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00003320: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-00003330: 5f77 6972 656c 6573 735f 636c 6965 6e74  _wireless_client
-00003340: 7328 2a2a 776c 616e 5f70 6172 616d 732c  s(**wlan_params,
-00003350: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-00003360: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00003370: 726e 2052 6573 706f 6e73 6528 0a20 2020  rn Response(.   
-00003380: 2020 2020 2020 2020 2020 2020 2065 7272               err
-00003390: 6f72 3d22 494e 5641 4c49 4420 4152 4755  or="INVALID ARGU
-000033a0: 4d45 4e54 222c 0a20 2020 2020 2020 2020  MENT",.         
-000033b0: 2020 2020 2020 206f 7574 7075 743d 6622         output=f"
-000033c0: 7b61 7267 737d 2061 7070 6561 7273 2074  {args} appears t
-000033d0: 6f20 6265 2069 6e76 616c 6964 222c 0a20  o be invalid",. 
-000033e0: 2020 2020 2020 2020 2020 2029 0a0a 2020             )..  
-000033f0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-00003400: 616c 6c5f 636c 6965 6e74 7328 0a20 2020  all_clients(.   
-00003410: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-00003420: 2020 2067 726f 7570 3a20 7374 7220 3d20     group: str = 
-00003430: 4e6f 6e65 2c0a 2020 2020 2020 2020 7377  None,.        sw
-00003440: 6172 6d5f 6964 3a20 7374 7220 3d20 4e6f  arm_id: str = No
-00003450: 6e65 2c0a 2020 2020 2020 2020 6c61 6265  ne,.        labe
-00003460: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
-00003470: 2020 2020 2020 206e 6574 776f 726b 3a20         network: 
-00003480: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00003490: 2020 2020 7369 7465 3a20 7374 7220 3d20      site: str = 
-000034a0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7365  None,.        se
-000034b0: 7269 616c 3a20 7374 7220 3d20 4e6f 6e65  rial: str = None
-000034c0: 2c0a 2020 2020 2020 2020 6f73 5f74 7970  ,.        os_typ
-000034d0: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
-000034e0: 2020 2020 2020 2073 7461 636b 5f69 643a         stack_id:
-000034f0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00003500: 2020 2020 2063 6c75 7374 6572 5f69 643a       cluster_id:
-00003510: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00003520: 2020 2020 2062 616e 643a 2073 7472 203d       band: str =
-00003530: 204e 6f6e 652c 0a20 2020 2020 2020 2023   None,.        #
-00003540: 2073 6f72 745f 6279 3a20 7374 7220 3d20   sort_by: str = 
-00003550: 4e6f 6e65 2c0a 2020 2020 2020 2020 6f66  None,.        of
-00003560: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
-00003570: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
-00003580: 7420 3d20 3530 302c 0a20 2020 2020 2020  t = 500,.       
-00003590: 2023 202a 2a6b 7761 7267 732c 0a20 2020   # **kwargs,.   
-000035a0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-000035b0: 2020 2020 2020 2020 2222 2247 6574 2041          """Get A
-000035c0: 6c6c 2063 6c69 656e 7473 0a0a 2020 2020  ll clients..    
-000035d0: 2020 2020 2f2f 2055 7365 6420 696e 6469      // Used indi
-000035e0: 7265 6374 6c79 2062 7920 7368 6f77 2063  rectly by show c
-000035f0: 6c69 656e 7473 202f 2f0a 0a20 2020 2020  lients //..     
-00003600: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00003610: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
-00003620: 206f 7074 696f 6e61 6c29 3a20 5265 7475   optional): Retu
-00003630: 726e 2063 6c69 656e 7473 2063 6f6e 6e65  rn clients conne
-00003640: 6374 6564 2074 6f20 6465 7669 6365 7320  cted to devices 
-00003650: 696e 2061 2067 6976 656e 2067 726f 7570  in a given group
-00003660: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
-00003670: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
-00003680: 7377 6172 6d5f 6964 2028 7374 722c 206f  swarm_id (str, o
-00003690: 7074 696f 6e61 6c29 3a20 5265 7475 726e  ptional): Return
-000036a0: 2063 6c69 656e 7473 2063 6f6e 6e65 6374   clients connect
-000036b0: 6564 2074 6f20 7377 6172 6d20 6279 2073  ed to swarm by s
-000036c0: 7761 726d 5f69 642e 2044 6566 6175 6c74  warm_id. Default
-000036d0: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
-000036e0: 2020 2020 2020 206c 6162 656c 2028 7374         label (st
-000036f0: 722c 206f 7074 696f 6e61 6c29 3a20 5265  r, optional): Re
-00003700: 7475 726e 2063 6c69 656e 7473 2063 6f6e  turn clients con
-00003710: 6e65 6374 6564 2074 6f20 6465 7669 6365  nected to device
-00003720: 2077 6974 6820 7072 6f76 6964 6564 206c   with provided l
-00003730: 6162 656c 2e0a 2020 2020 2020 2020 2020  abel..          
-00003740: 2020 2020 2020 4465 6661 756c 7473 2074        Defaults t
-00003750: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-00003760: 2020 2020 6e65 7477 6f72 6b20 2873 7472      network (str
-00003770: 2c20 6f70 7469 6f6e 616c 293a 2052 6574  , optional): Ret
-00003780: 7572 6e20 636c 6965 6e74 7320 666f 7220  urn clients for 
-00003790: 6769 7665 6e20 6e65 7477 6f72 6b20 2853  given network (S
-000037a0: 5349 4429 2e20 4465 6661 756c 7473 2074  SID). Defaults t
-000037b0: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-000037c0: 2020 2020 7369 7465 2028 7374 722c 206f      site (str, o
-000037d0: 7074 696f 6e61 6c29 3a20 5265 7475 726e  ptional): Return
-000037e0: 2063 6c69 656e 7473 2069 6e20 6120 7061   clients in a pa
-000037f0: 7274 6963 756c 6172 2073 6974 652e 2044  rticular site. D
-00003800: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-00003810: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
-00003820: 6961 6c20 2873 7472 2c20 6f70 7469 6f6e  ial (str, option
-00003830: 616c 293a 2052 6574 7572 6e20 636c 6965  al): Return clie
-00003840: 6e74 7320 636f 6e6e 6563 7465 6420 746f  nts connected to
-00003850: 2074 6865 2064 6576 6963 6520 7769 7468   the device with
-00003860: 2067 6976 656e 2073 6572 6961 6c2e 2044   given serial. D
-00003870: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-00003880: 0a20 2020 2020 2020 2020 2020 206f 735f  .            os_
-00003890: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
-000038a0: 6e61 6c29 3a20 5265 7475 726e 2063 6c69  nal): Return cli
-000038b0: 656e 7473 2077 6974 6820 7072 6f76 6964  ents with provid
-000038c0: 6564 206f 735f 7479 7065 2e20 4465 6661  ed os_type. Defa
-000038d0: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
-000038e0: 2020 2020 2020 2020 2020 7374 6163 6b5f            stack_
-000038f0: 6964 2028 7374 722c 206f 7074 696f 6e61  id (str, optiona
-00003900: 6c29 3a20 5265 7475 726e 2063 6c69 656e  l): Return clien
-00003910: 7473 2063 6f6e 6e65 6374 6564 2074 6f20  ts connected to 
-00003920: 7374 6163 6b20 7769 7468 2070 726f 7669  stack with provi
-00003930: 6465 6420 6964 2e20 4465 6661 756c 7473  ded id. Defaults
-00003940: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
-00003950: 2020 2020 2020 636c 7573 7465 725f 6964        cluster_id
-00003960: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00003970: 3a20 5265 7475 726e 2063 6c69 656e 7473  : Return clients
-00003980: 2063 6f6e 6e65 6374 6564 2074 6f20 636c   connected to cl
-00003990: 7573 7465 7220 7769 7468 2070 726f 7669  uster with provi
-000039a0: 6465 6420 6964 2e20 4465 6661 756c 7473  ded id. Defaults
-000039b0: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
-000039c0: 2020 2020 2020 6261 6e64 2028 7374 722c        band (str,
-000039d0: 206f 7074 696f 6e61 6c29 3a20 5265 7475   optional): Retu
-000039e0: 726e 2028 574c 414e 2920 636c 6965 6e74  rn (WLAN) client
-000039f0: 7320 636f 6e6e 6563 7465 6420 746f 2070  s connected to p
-00003a00: 726f 7669 6465 6420 6261 6e64 2e20 4465  rovided band. De
-00003a10: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
-00003a20: 2020 2020 2020 2020 2020 2020 4649 584d              FIXM
-00003a30: 4520 736f 7274 5f62 7920 2873 7472 2c20  E sort_by (str, 
-00003a40: 6f70 7469 6f6e 616c 293a 2053 6f72 7420  optional): Sort 
-00003a50: 4f75 7470 7574 206f 6e20 7072 6f76 6964  Output on provid
-00003a60: 6564 206b 6579 2066 6965 6c64 2e20 4465  ed key field. De
-00003a70: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
-00003a80: 2020 2020 2020 2020 2020 2020 6f66 6673              offs
-00003a90: 6574 2028 696e 742c 206f 7074 696f 6e61  et (int, optiona
-00003aa0: 6c29 3a20 4150 4920 6f66 6673 6574 2e20  l): API offset. 
-00003ab0: 4465 6661 756c 7473 2074 6f20 302e 0a20  Defaults to 0.. 
-00003ac0: 2020 2020 2020 2020 2020 206c 696d 6974             limit
-00003ad0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00003ae0: 3a20 4150 4920 7265 636f 7264 206c 696d  : API record lim
-00003af0: 6974 2e20 4465 6661 756c 7473 2074 6f20  it. Defaults to 
-00003b00: 3530 302e 0a0a 2020 2020 2020 2020 5265  500...        Re
-00003b10: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00003b20: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00003b30: 7472 616c 436c 692e 5265 7370 6f6e 7365  tralCli.Response
-00003b40: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00003b50: 2222 220a 2020 2020 2020 2020 7061 7261  """.        para
-00003b60: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
-00003b70: 2020 2022 6772 6f75 7022 3a20 6772 6f75     "group": grou
-00003b80: 702c 0a20 2020 2020 2020 2020 2020 2022  p,.            "
-00003b90: 7377 6172 6d5f 6964 223a 2073 7761 726d  swarm_id": swarm
-00003ba0: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
-00003bb0: 2022 6c61 6265 6c22 3a20 6c61 6265 6c2c   "label": label,
-00003bc0: 0a20 2020 2020 2020 2020 2020 2022 7369  .            "si
-00003bd0: 7465 223a 2073 6974 652c 0a20 2020 2020  te": site,.     
-00003be0: 2020 2020 2020 2022 7365 7269 616c 223a         "serial":
-00003bf0: 2073 6572 6961 6c2c 0a20 2020 2020 2020   serial,.       
-00003c00: 2020 2020 2022 636c 7573 7465 725f 6964       "cluster_id
-00003c10: 223a 2063 6c75 7374 6572 5f69 642c 0a20  ": cluster_id,. 
-00003c20: 2020 2020 2020 2020 2020 2023 2027 6669             # 'fi
-00003c30: 656c 6473 273a 2066 6965 6c64 732c 0a20  elds': fields,. 
-00003c40: 2020 2020 2020 2020 2020 2023 2027 736f             # 'so
-00003c50: 7274 5f62 7927 3a20 736f 7274 5f62 792c  rt_by': sort_by,
-00003c60: 0a20 2020 2020 2020 2020 2020 2022 6f66  .            "of
-00003c70: 6673 6574 223a 206f 6666 7365 742c 0a20  fset": offset,. 
-00003c80: 2020 2020 2020 2020 2020 2022 6c69 6d69             "limi
-00003c90: 7422 3a20 6c69 6d69 742c 0a20 2020 2020  t": limit,.     
-00003ca0: 2020 207d 0a20 2020 2020 2020 2077 6c61     }.        wla
-00003cb0: 6e5f 6f6e 6c79 5f70 6172 616d 7320 3d20  n_only_params = 
-00003cc0: 7b22 6e65 7477 6f72 6b22 3a20 6e65 7477  {"network": netw
-00003cd0: 6f72 6b2c 2022 6f73 5f74 7970 6522 3a20  ork, "os_type": 
-00003ce0: 6f73 5f74 7970 652c 2022 6261 6e64 223a  os_type, "band":
-00003cf0: 2062 616e 647d 0a20 2020 2020 2020 2077   band}.        w
-00003d00: 6972 6564 5f6f 6e6c 795f 7061 7261 6d73  ired_only_params
-00003d10: 203d 207b 2273 7461 636b 5f69 6422 3a20   = {"stack_id": 
-00003d20: 7374 6163 6b5f 6964 7d0a 0a20 2020 2020  stack_id}..     
-00003d30: 2020 2023 2072 6573 7020 3d20 6177 6169     # resp = awai
-00003d40: 7420 7365 6c66 2e67 6574 5f77 6972 656c  t self.get_wirel
-00003d50: 6573 735f 636c 6965 6e74 7328 2a2a 7b2a  ess_clients(**{*
-00003d60: 2a70 6172 616d 732c 202a 2a77 6c61 6e5f  *params, **wlan_
-00003d70: 6f6e 6c79 5f70 6172 616d 737d 2c29 2020  only_params},)  
-00003d80: 2320 2a2a 6b77 6172 6773 290a 2020 2020  # **kwargs).    
-00003d90: 2020 2020 2320 6966 2072 6573 702e 6f6b      # if resp.ok
-00003da0: 3a0a 2020 2020 2020 2020 2320 2020 2020  :.        #     
-00003db0: 776c 616e 5f72 6573 7020 3d20 7265 7370  wlan_resp = resp
-00003dc0: 0a20 2020 2020 2020 2023 2020 2020 2077  .        #     w
-00003dd0: 6972 6564 5f72 6573 7020 3d20 6177 6169  ired_resp = awai
-00003de0: 7420 7365 6c66 2e67 6574 5f77 6972 6564  t self.get_wired
-00003df0: 5f63 6c69 656e 7473 282a 2a7b 2a2a 7061  _clients(**{**pa
-00003e00: 7261 6d73 2c20 2a2a 7769 7265 645f 6f6e  rams, **wired_on
-00003e10: 6c79 5f70 6172 616d 737d 2920 2023 202a  ly_params})  # *
-00003e20: 2a6b 7761 7267 7329 0a20 2020 2020 2020  *kwargs).       
-00003e30: 2023 2020 2020 2069 6620 7769 7265 645f   #     if wired_
-00003e40: 7265 7370 2e6f 6b3a 0a20 2020 2020 2020  resp.ok:.       
-00003e50: 2023 2020 2020 2020 2020 2072 6573 702e   #         resp.
-00003e60: 6f75 7470 7574 203d 2077 6c61 6e5f 7265  output = wlan_re
-00003e70: 7370 2e6f 7574 7075 7420 2b20 7769 7265  sp.output + wire
-00003e80: 645f 7265 7370 2e6f 7574 7075 740a 0a20  d_resp.output.. 
-00003e90: 2020 2020 2020 2072 6571 7320 3d20 5b0a         reqs = [.
-00003ea0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00003eb0: 2e42 6174 6368 5265 7175 6573 7428 7365  .BatchRequest(se
-00003ec0: 6c66 2e67 6574 5f77 6972 656c 6573 735f  lf.get_wireless_
-00003ed0: 636c 6965 6e74 732c 202a 2a7b 2a2a 7061  clients, **{**pa
-00003ee0: 7261 6d73 2c20 2a2a 776c 616e 5f6f 6e6c  rams, **wlan_onl
-00003ef0: 795f 7061 7261 6d73 7d29 2c0a 2020 2020  y_params}),.    
-00003f00: 2020 2020 2020 2020 7365 6c66 2e42 6174          self.Bat
-00003f10: 6368 5265 7175 6573 7428 7365 6c66 2e67  chRequest(self.g
-00003f20: 6574 5f77 6972 6564 5f63 6c69 656e 7473  et_wired_clients
-00003f30: 2c20 2a2a 7b2a 2a70 6172 616d 732c 202a  , **{**params, *
-00003f40: 2a77 6972 6564 5f6f 6e6c 795f 7061 7261  *wired_only_para
-00003f50: 6d73 7d29 0a20 2020 2020 2020 205d 0a20  ms}).        ]. 
-00003f60: 2020 2020 2020 2023 2046 4958 4d45 2069         # FIXME i
-00003f70: 6620 7769 7265 6c65 7373 2063 6c69 656e  f wireless clien
-00003f80: 7473 2063 616c 6c20 7061 7373 6573 2062  ts call passes b
-00003f90: 7574 2077 6972 6564 2066 6169 6c73 2074  ut wired fails t
-00003fa0: 6865 7265 2069 7320 6e6f 2069 6e64 6963  here is no indic
-00003fb0: 6174 696f 6e20 696e 2063 656e 636c 6920  ation in cencli 
-00003fc0: 7368 6f77 2063 6c69 656e 7473 206f 7574  show clients out
-00003fd0: 7075 740a 2020 2020 2020 2020 7265 7370  put.        resp
-00003fe0: 203d 2061 7761 6974 2073 656c 662e 5f62   = await self._b
-00003ff0: 6174 6368 5f72 6571 7565 7374 2872 6571  atch_request(req
-00004000: 7329 0a20 2020 2020 2020 2069 6620 6c65  s).        if le
-00004010: 6e28 7265 7370 2920 3d3d 2032 3a20 2023  n(resp) == 2:  #
-00004020: 2061 6e64 2061 6c6c 2878 2e6f 6b20 666f   and all(x.ok fo
-00004030: 7220 7820 696e 2072 6573 7029 3a0a 2020  r x in resp):.  
-00004040: 2020 2020 2020 2020 2020 6f75 7420 3d20            out = 
-00004050: 5b5d 0a20 2020 2020 2020 2020 2020 2066  [].            f
-00004060: 6f72 2072 2069 6e20 7265 7370 3a0a 2020  or r in resp:.  
-00004070: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00004080: 2072 2e6f 6b3a 0a20 2020 2020 2020 2020   r.ok:.         
-00004090: 2020 2020 2020 2020 2020 206f 7574 202b             out +
-000040a0: 3d20 722e 6f75 7470 7574 0a20 2020 2020  = r.output.     
-000040b0: 2020 2020 2020 2072 6177 203d 205b 0a20         raw = [. 
-000040c0: 2020 2020 2020 2020 2020 2020 2020 207b                 {
-000040d0: 2272 6177 5f77 6972 656c 6573 735f 7265  "raw_wireless_re
-000040e0: 7370 6f6e 7365 223a 2072 6573 705b 305d  sponse": resp[0]
-000040f0: 2e72 6177 7d2c 0a20 2020 2020 2020 2020  .raw},.         
-00004100: 2020 2020 2020 207b 2272 6177 5f77 6972         {"raw_wir
-00004110: 6564 5f72 6573 706f 6e73 6522 3a20 7265  ed_response": re
-00004120: 7370 5b31 5d2e 7261 777d 0a20 2020 2020  sp[1].raw}.     
-00004130: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-00004140: 2020 2020 2072 6573 7020 3d20 7265 7370       resp = resp
-00004150: 5b31 5d20 6966 2072 6573 705b 315d 2e6f  [1] if resp[1].o
-00004160: 6b20 656c 7365 2072 6573 705b 305d 0a20  k else resp[0]. 
-00004170: 2020 2020 2020 2020 2020 2072 6573 702e             resp.
-00004180: 6f75 7470 7574 203d 206f 7574 0a20 2020  output = out.   
-00004190: 2020 2020 2020 2020 2072 6573 702e 7261           resp.ra
-000041a0: 7720 3d20 7261 770a 2020 2020 2020 2020  w = raw.        
-000041b0: 2020 2020 2320 544f 444f 206e 6565 6420      # TODO need 
-000041c0: 5265 7370 6f6e 7365 2074 6f20 6861 7665  Response to have
-000041d0: 2061 6e20 6174 7472 6962 7574 6520 7468   an attribute th
-000041e0: 6174 2073 746f 7265 7320 6661 696c 6564  at stores failed
-000041f0: 2063 616c 6c73 2073 6f20 636c 6920 636f   calls so cli co
-00004200: 6d6d 616e 6473 2063 616e 2064 6973 706c  mmands can displ
-00004210: 6179 206f 7574 7075 7420 6f66 2070 6173  ay output of pas
-00004220: 7365 6420 6361 6c6c 7320 616e 6420 6465  sed calls and de
-00004230: 7461 696c 7320 6f6e 2065 7272 6f72 7320  tails on errors 
-00004240: 2877 6865 6e20 736f 6d65 2063 616c 6c73  (when some calls
-00004250: 2066 6169 6c29 0a0a 2020 2020 2020 2020   fail)..        
-00004260: 7265 7475 726e 2072 6573 700a 0a20 2020  return resp..   
-00004270: 2061 7379 6e63 2064 6566 2067 6574 5f63   async def get_c
-00004280: 6c69 656e 745f 726f 616d 696e 675f 6869  lient_roaming_hi
-00004290: 7374 6f72 7928 0a20 2020 2020 2020 2073  story(.        s
-000042a0: 656c 662c 0a20 2020 2020 2020 206d 6163  elf,.        mac
-000042b0: 6164 6472 3a20 7374 722c 0a20 2020 2020  addr: str,.     
-000042c0: 2020 2063 616c 6375 6c61 7465 5f74 6f74     calculate_tot
-000042d0: 616c 3a20 626f 6f6c 203d 204e 6f6e 652c  al: bool = None,
-000042e0: 0a20 2020 2020 2020 2066 726f 6d5f 7469  .        from_ti
-000042f0: 6d65 7374 616d 703a 2069 6e74 203d 204e  mestamp: int = N
-00004300: 6f6e 652c 0a20 2020 2020 2020 2074 6f5f  one,.        to_
-00004310: 7469 6d65 7374 616d 703a 2069 6e74 203d  timestamp: int =
-00004320: 204e 6f6e 652c 0a20 2020 2020 2020 206f   None,.        o
-00004330: 6666 7365 743a 2069 6e74 203d 2030 2c0a  ffset: int = 0,.
-00004340: 2020 2020 2020 2020 6c69 6d69 743a 2069          limit: i
-00004350: 6e74 203d 2031 3030 2c0a 2020 2020 2920  nt = 100,.    ) 
-00004360: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00004370: 2020 2020 2022 2222 5769 7265 6c65 7373       """Wireless
-00004380: 2043 6c69 656e 7420 4d6f 6269 6c69 7479   Client Mobility
-00004390: 2054 7261 696c 2e0a 0a20 2020 2020 2020   Trail...       
-000043a0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-000043b0: 2020 206d 6163 6164 6472 2028 7374 7229     macaddr (str)
-000043c0: 3a20 4d41 4320 6164 6472 6573 7320 6f66  : MAC address of
-000043d0: 2074 6865 2057 6972 656c 6573 7320 436c   the Wireless Cl
-000043e0: 6965 6e74 2074 6f20 6265 2071 7565 7269  ient to be queri
-000043f0: 6564 0a20 2020 2020 2020 2020 2020 2063  ed.            c
-00004400: 616c 6375 6c61 7465 5f74 6f74 616c 2028  alculate_total (
-00004410: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-00004420: 2057 6865 7468 6572 2074 6f20 6361 6c63   Whether to calc
-00004430: 756c 6174 6520 746f 7461 6c20 7472 616e  ulate total tran
-00004440: 7369 7469 6f6e 730a 2020 2020 2020 2020  sitions.        
-00004450: 2020 2020 6672 6f6d 5f74 696d 6573 7461      from_timesta
-00004460: 6d70 2028 696e 742c 206f 7074 696f 6e61  mp (int, optiona
-00004470: 6c29 3a20 4e65 6564 2069 6e66 6f72 6d61  l): Need informa
-00004480: 7469 6f6e 2066 726f 6d20 7468 6973 2074  tion from this t
-00004490: 696d 6573 7461 6d70 2e20 5469 6d65 7374  imestamp. Timest
-000044a0: 616d 7020 6973 2065 706f 6368 0a20 2020  amp is epoch.   
-000044b0: 2020 2020 2020 2020 2020 2020 2069 6e20               in 
-000044c0: 7365 636f 6e64 732e 2044 6566 6175 6c74  seconds. Default
-000044d0: 2069 7320 6375 7272 656e 7420 7469 6d65   is current time
-000044e0: 7374 616d 7020 6d69 6e75 7320 3320 686f  stamp minus 3 ho
-000044f0: 7572 730a 2020 2020 2020 2020 2020 2020  urs.            
-00004500: 746f 5f74 696d 6573 7461 6d70 2028 696e  to_timestamp (in
-00004510: 742c 206f 7074 696f 6e61 6c29 3a20 4e65  t, optional): Ne
-00004520: 6564 2069 6e66 6f72 6d61 7469 6f6e 2074  ed information t
-00004530: 6f20 7468 6973 2074 696d 6573 7461 6d70  o this timestamp
-00004540: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
-00004550: 706f 6368 2069 6e0a 2020 2020 2020 2020  poch in.        
-00004560: 2020 2020 2020 2020 7365 636f 6e64 732e          seconds.
-00004570: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
-00004580: 656e 7420 7469 6d65 7374 616d 700a 2020  ent timestamp.  
-00004590: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
-000045a0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-000045b0: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
-000045c0: 7365 7420 4465 6661 756c 7473 2074 6f20  set Defaults to 
-000045d0: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
-000045e0: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
-000045f0: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
-00004600: 206c 696d 6974 2e20 4465 6661 756c 7420   limit. Default 
-00004610: 6973 2031 3030 2061 6e64 206d 6178 2069  is 100 and max i
-00004620: 7320 3130 3030 2044 6566 6175 6c74 7320  s 1000 Defaults 
-00004630: 746f 2031 3030 2e0a 0a20 2020 2020 2020  to 100...       
-00004640: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-00004650: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-00004660: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-00004670: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-00004680: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-00004690: 726c 203d 2066 222f 6d6f 6e69 746f 7269  rl = f"/monitori
-000046a0: 6e67 2f76 312f 636c 6965 6e74 732f 7769  ng/v1/clients/wi
-000046b0: 7265 6c65 7373 2f7b 6d61 6361 6464 727d  reless/{macaddr}
-000046c0: 2f6d 6f62 696c 6974 795f 7472 6169 6c22  /mobility_trail"
-000046d0: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
-000046e0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-000046f0: 2027 6361 6c63 756c 6174 655f 746f 7461   'calculate_tota
-00004700: 6c27 3a20 6361 6c63 756c 6174 655f 746f  l': calculate_to
-00004710: 7461 6c2c 0a20 2020 2020 2020 2020 2020  tal,.           
-00004720: 2027 6672 6f6d 5f74 696d 6573 7461 6d70   'from_timestamp
-00004730: 273a 2066 726f 6d5f 7469 6d65 7374 616d  ': from_timestam
-00004740: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
-00004750: 746f 5f74 696d 6573 7461 6d70 273a 2074  to_timestamp': t
-00004760: 6f5f 7469 6d65 7374 616d 702c 0a20 2020  o_timestamp,.   
-00004770: 2020 2020 2020 2020 2027 6f66 6673 6574           'offset
-00004780: 273a 206f 6666 7365 742c 0a20 2020 2020  ': offset,.     
-00004790: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
-000047a0: 6c69 6d69 740a 2020 2020 2020 2020 7d0a  limit.        }.
-000047b0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000047c0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-000047d0: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-000047e0: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
-000047f0: 6620 6765 745f 7769 7265 6c65 7373 5f63  f get_wireless_c
-00004800: 6c69 656e 7473 280a 2020 2020 2020 2020  lients(.        
-00004810: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
-00004820: 6f75 703a 2073 7472 203d 204e 6f6e 652c  oup: str = None,
-00004830: 0a20 2020 2020 2020 2073 7761 726d 5f69  .        swarm_i
-00004840: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
-00004850: 2020 2020 2020 206c 6162 656c 3a20 7374         label: st
-00004860: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00004870: 2020 7369 7465 3a20 7374 7220 3d20 4e6f    site: str = No
-00004880: 6e65 2c0a 2020 2020 2020 2020 6e65 7477  ne,.        netw
-00004890: 6f72 6b3a 2073 7472 203d 204e 6f6e 652c  ork: str = None,
-000048a0: 0a20 2020 2020 2020 2073 6572 6961 6c3a  .        serial:
-000048b0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000048c0: 2020 2020 206f 735f 7479 7065 3a20 7374       os_type: st
-000048d0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-000048e0: 2020 636c 7573 7465 725f 6964 3a20 7374    cluster_id: st
-000048f0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00004900: 2020 6261 6e64 3a20 7374 7220 3d20 4e6f    band: str = No
-00004910: 6e65 2c0a 2020 2020 2020 2020 6669 656c  ne,.        fiel
-00004920: 6473 3a20 7374 7220 3d20 4e6f 6e65 2c0a  ds: str = None,.
-00004930: 2020 2020 2020 2020 6361 6c63 756c 6174          calculat
-00004940: 655f 746f 7461 6c3a 2062 6f6f 6c20 3d20  e_total: bool = 
-00004950: 4e6f 6e65 2c0a 2020 2020 2020 2020 2320  None,.        # 
-00004960: 736f 7274 5f62 793a 2073 7472 203d 204e  sort_by: str = N
-00004970: 6f6e 652c 0a20 2020 2020 2020 206f 6666  one,.        off
-00004980: 7365 743a 2069 6e74 203d 2030 2c0a 2020  set: int = 0,.  
-00004990: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
-000049a0: 203d 2035 3030 2c0a 2020 2020 2020 2020   = 500,.        
-000049b0: 2320 2a2a 6b77 6172 6773 2c0a 2020 2020  # **kwargs,.    
-000049c0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-000049d0: 2020 2020 2020 2022 2222 4c69 7374 2057         """List W
-000049e0: 6972 656c 6573 7320 436c 6965 6e74 732e  ireless Clients.
-000049f0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00004a00: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-00004a10: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
-00004a20: 293a 2046 696c 7465 7220 6279 2067 726f  ): Filter by gro
-00004a30: 7570 206e 616d 650a 2020 2020 2020 2020  up name.        
-00004a40: 2020 2020 7377 6172 6d5f 6964 2028 7374      swarm_id (st
-00004a50: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-00004a60: 6c74 6572 2062 7920 5377 6172 6d20 4944  lter by Swarm ID
-00004a70: 0a20 2020 2020 2020 2020 2020 206c 6162  .            lab
-00004a80: 656c 2028 7374 722c 206f 7074 696f 6e61  el (str, optiona
-00004a90: 6c29 3a20 4669 6c74 6572 2062 7920 4c61  l): Filter by La
-00004aa0: 6265 6c20 6e61 6d65 0a20 2020 2020 2020  bel name.       
-00004ab0: 2020 2020 2073 6974 6520 2873 7472 2c20       site (str, 
-00004ac0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-00004ad0: 7220 6279 2053 6974 6520 6e61 6d65 0a20  r by Site name. 
-00004ae0: 2020 2020 2020 2020 2020 206e 6574 776f             netwo
-00004af0: 726b 2028 7374 722c 206f 7074 696f 6e61  rk (str, optiona
-00004b00: 6c29 3a20 4669 6c74 6572 2062 7920 6e65  l): Filter by ne
-00004b10: 7477 6f72 6b20 6e61 6d65 0a20 2020 2020  twork name.     
-00004b20: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
-00004b30: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-00004b40: 696c 7465 7220 6279 2041 5020 7365 7269  ilter by AP seri
-00004b50: 616c 206e 756d 6265 720a 2020 2020 2020  al number.      
-00004b60: 2020 2020 2020 6f73 5f74 7970 6520 2873        os_type (s
-00004b70: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-00004b80: 696c 7465 7220 6279 2063 6c69 656e 7420  ilter by client 
-00004b90: 6f73 2074 7970 650a 2020 2020 2020 2020  os type.        
-00004ba0: 2020 2020 636c 7573 7465 725f 6964 2028      cluster_id (
-00004bb0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00004bc0: 4669 6c74 6572 2062 7920 4d6f 6269 6c69  Filter by Mobili
-00004bd0: 7479 2043 6f6e 7472 6f6c 6c65 7220 7365  ty Controller se
-00004be0: 7269 616c 206e 756d 6265 720a 2020 2020  rial number.    
-00004bf0: 2020 2020 2020 2020 6261 6e64 2028 7374          band (st
-00004c00: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-00004c10: 6c74 6572 2062 7920 6261 6e64 2e20 5661  lter by band. Va
-00004c20: 6c75 6520 6361 6e20 6265 2065 6974 6865  lue can be eithe
-00004c30: 7220 2232 2e34 2220 6f72 2022 3522 0a20  r "2.4" or "5". 
-00004c40: 2020 2020 2020 2020 2020 2066 6965 6c64             field
-00004c50: 7320 2873 7472 2c20 6f70 7469 6f6e 616c  s (str, optional
-00004c60: 293a 2043 6f6d 6d61 2073 6570 6172 6174  ): Comma separat
-00004c70: 6564 206c 6973 7420 6f66 2066 6965 6c64  ed list of field
-00004c80: 7320 746f 2062 6520 7265 7475 726e 6564  s to be returned
-00004c90: 2e20 5661 6c69 6420 6669 656c 6473 2061  . Valid fields a
-00004ca0: 7265 0a20 2020 2020 2020 2020 2020 2020  re.             
-00004cb0: 2020 206e 616d 652c 2069 705f 6164 6472     name, ip_addr
-00004cc0: 6573 732c 2075 7365 726e 616d 652c 206f  ess, username, o
-00004cd0: 735f 7479 7065 2c20 636f 6e6e 6563 7469  s_type, connecti
-00004ce0: 6f6e 2c20 6173 736f 6369 6174 6564 5f64  on, associated_d
-00004cf0: 6576 6963 652c 2067 726f 7570 5f6e 616d  evice, group_nam
-00004d00: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-00004d10: 2020 2073 7761 726d 5f69 642c 206e 6574     swarm_id, net
-00004d20: 776f 726b 2c20 7261 6469 6f5f 6d61 632c  work, radio_mac,
-00004d30: 206d 616e 7566 6163 7475 7265 722c 2076   manufacturer, v
-00004d40: 6c61 6e2c 2065 6e63 7279 7074 696f 6e5f  lan, encryption_
-00004d50: 6d65 7468 6f64 2c20 7261 6469 6f5f 6e75  method, radio_nu
-00004d60: 6d62 6572 2c0a 2020 2020 2020 2020 2020  mber,.          
-00004d70: 2020 2020 2020 7370 6565 642c 2075 7361        speed, usa
-00004d80: 6765 2c20 6865 616c 7468 2c20 6c61 6265  ge, health, labe
-00004d90: 6c73 2c20 7369 7465 2c20 7369 676e 616c  ls, site, signal
-00004da0: 5f73 7472 656e 6774 682c 2073 6967 6e61  _strength, signa
-00004db0: 6c5f 6462 2c20 736e 720a 2020 2020 2020  l_db, snr.      
-00004dc0: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
-00004dd0: 746f 7461 6c20 2862 6f6f 6c2c 206f 7074  total (bool, opt
-00004de0: 696f 6e61 6c29 3a20 5768 6574 6865 7220  ional): Whether 
-00004df0: 746f 2063 616c 6375 6c61 7465 2074 6f74  to calculate tot
-00004e00: 616c 2077 6972 656c 6573 7320 436c 6965  al wireless Clie
-00004e10: 6e74 730a 2020 2020 2020 2020 2020 2020  nts.            
-00004e20: 736f 7274 2028 7374 722c 206f 7074 696f  sort (str, optio
-00004e30: 6e61 6c29 3a20 536f 7274 2070 6172 616d  nal): Sort param
-00004e40: 6574 6572 206d 6179 2062 6520 6f6e 6520  eter may be one 
-00004e50: 6f66 202b 6d61 6361 6464 722c 202d 6d61  of +macaddr, -ma
-00004e60: 6361 6464 722e 2020 4465 6661 756c 7420  caddr.  Default 
-00004e70: 6973 0a20 2020 2020 2020 2020 2020 2020  is.             
-00004e80: 2020 2027 2b6d 6163 6164 6472 270a 2020     '+macaddr'.  
-00004e90: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
-00004ea0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00004eb0: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
-00004ec0: 7365 7420 4465 6661 756c 7473 2074 6f20  set Defaults to 
-00004ed0: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
-00004ee0: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
-00004ef0: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
-00004f00: 206c 696d 6974 2e20 4465 6661 756c 7420   limit. Default 
-00004f10: 6973 2031 3030 2061 6e64 206d 6178 2069  is 100 and max i
-00004f20: 7320 3130 3030 2044 6566 6175 6c74 7320  s 1000 Defaults 
-00004f30: 746f 2035 3030 2e0a 0a20 2020 2020 2020  to 500...       
-00004f40: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-00004f50: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-00004f60: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-00004f70: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-00004f80: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-00004f90: 726c 203d 2022 2f6d 6f6e 6974 6f72 696e  rl = "/monitorin
-00004fa0: 672f 7631 2f63 6c69 656e 7473 2f77 6972  g/v1/clients/wir
-00004fb0: 656c 6573 7322 0a0a 2020 2020 2020 2020  eless"..        
-00004fc0: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
-00004fd0: 2020 2020 2020 2022 6772 6f75 7022 3a20         "group": 
-00004fe0: 6772 6f75 702c 0a20 2020 2020 2020 2020  group,.         
-00004ff0: 2020 2022 7377 6172 6d5f 6964 223a 2073     "swarm_id": s
-00005000: 7761 726d 5f69 642c 0a20 2020 2020 2020  warm_id,.       
-00005010: 2020 2020 2022 6c61 6265 6c22 3a20 6c61       "label": la
-00005020: 6265 6c2c 0a20 2020 2020 2020 2020 2020  bel,.           
-00005030: 2022 7369 7465 223a 2073 6974 652c 0a20   "site": site,. 
-00005040: 2020 2020 2020 2020 2020 2022 6e65 7477             "netw
-00005050: 6f72 6b22 3a20 6e65 7477 6f72 6b2c 0a20  ork": network,. 
-00005060: 2020 2020 2020 2020 2020 2022 7365 7269             "seri
-00005070: 616c 223a 2073 6572 6961 6c2c 0a20 2020  al": serial,.   
-00005080: 2020 2020 2020 2020 2022 6f73 5f74 7970           "os_typ
-00005090: 6522 3a20 6f73 5f74 7970 652c 0a20 2020  e": os_type,.   
-000050a0: 2020 2020 2020 2020 2022 636c 7573 7465           "cluste
-000050b0: 725f 6964 223a 2063 6c75 7374 6572 5f69  r_id": cluster_i
-000050c0: 642c 0a20 2020 2020 2020 2020 2020 2022  d,.            "
-000050d0: 6261 6e64 223a 2062 616e 642c 0a20 2020  band": band,.   
-000050e0: 2020 2020 2020 2020 2022 6669 656c 6473           "fields
-000050f0: 223a 2066 6965 6c64 732c 0a20 2020 2020  ": fields,.     
-00005100: 2020 2020 2020 2022 6361 6c63 756c 6174         "calculat
-00005110: 655f 746f 7461 6c22 3a20 6361 6c63 756c  e_total": calcul
-00005120: 6174 655f 746f 7461 6c2c 0a20 2020 2020  ate_total,.     
-00005130: 2020 2020 2020 2023 2027 736f 7274 273a         # 'sort':
-00005140: 2073 6f72 745f 6279 2c0a 2020 2020 2020   sort_by,.      
-00005150: 2020 2020 2020 226f 6666 7365 7422 3a20        "offset": 
-00005160: 6f66 6673 6574 2c0a 2020 2020 2020 2020  offset,.        
-00005170: 2020 2020 226c 696d 6974 223a 206c 696d      "limit": lim
-00005180: 6974 2c0a 2020 2020 2020 2020 7d0a 0a20  it,.        }.. 
-00005190: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-000051a0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-000051b0: 2c20 7061 7261 6d73 3d70 6172 616d 732c  , params=params,
-000051c0: 290a 2020 2020 2020 2020 2320 6966 2073  ).        # if s
-000051d0: 6f72 745f 6279 2069 7320 4e6f 6e65 3a0a  ort_by is None:.
-000051e0: 2020 2020 2020 2020 2320 2020 2020 7265          #     re
-000051f0: 7475 726e 2072 6573 700a 2020 2020 2020  turn resp.      
-00005200: 2020 2320 656c 7365 3a0a 2020 2020 2020    # else:.      
-00005210: 2020 2320 2020 2020 7265 7475 726e 2073    #     return s
-00005220: 656c 662e 5f73 6f72 7465 6428 7265 7370  elf._sorted(resp
-00005230: 2c20 736f 7274 5f62 7929 0a0a 2020 2020  , sort_by)..    
-00005240: 6173 796e 6320 6465 6620 6765 745f 7769  async def get_wi
-00005250: 7265 645f 636c 6965 6e74 7328 0a20 2020  red_clients(.   
-00005260: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-00005270: 2020 2067 726f 7570 3a20 7374 7220 3d20     group: str = 
-00005280: 4e6f 6e65 2c0a 2020 2020 2020 2020 7377  None,.        sw
-00005290: 6172 6d5f 6964 3a20 7374 7220 3d20 4e6f  arm_id: str = No
-000052a0: 6e65 2c0a 2020 2020 2020 2020 6c61 6265  ne,.        labe
-000052b0: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
-000052c0: 2020 2020 2020 2073 6974 653a 2073 7472         site: str
-000052d0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-000052e0: 2073 6572 6961 6c3a 2073 7472 203d 204e   serial: str = N
-000052f0: 6f6e 652c 0a20 2020 2020 2020 2063 6c75  one,.        clu
-00005300: 7374 6572 5f69 643a 2073 7472 203d 204e  ster_id: str = N
-00005310: 6f6e 652c 0a20 2020 2020 2020 2073 7461  one,.        sta
-00005320: 636b 5f69 643a 2073 7472 203d 204e 6f6e  ck_id: str = Non
-00005330: 652c 0a20 2020 2020 2020 2066 6965 6c64  e,.        field
-00005340: 733a 2073 7472 203d 204e 6f6e 652c 0a20  s: str = None,. 
-00005350: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
-00005360: 5f74 6f74 616c 3a20 626f 6f6c 203d 204e  _total: bool = N
-00005370: 6f6e 652c 0a20 2020 2020 2020 2023 2073  one,.        # s
-00005380: 6f72 745f 6279 3a20 7374 7220 3d20 4e6f  ort_by: str = No
-00005390: 6e65 2c0a 2020 2020 2020 2020 6f66 6673  ne,.        offs
-000053a0: 6574 3a20 696e 7420 3d20 302c 0a20 2020  et: int = 0,.   
-000053b0: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
-000053c0: 3d20 3530 302c 0a20 2020 2020 2020 2023  = 500,.        #
-000053d0: 202a 2a6b 7761 7267 732c 0a20 2020 2029   **kwargs,.    )
-000053e0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-000053f0: 2020 2020 2020 2222 224c 6973 7420 5769        """List Wi
-00005400: 7265 6420 436c 6965 6e74 732e 0a0a 2020  red Clients...  
-00005410: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00005420: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
-00005430: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-00005440: 696c 7465 7220 6279 2067 726f 7570 206e  ilter by group n
-00005450: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-00005460: 7377 6172 6d5f 6964 2028 7374 722c 206f  swarm_id (str, o
-00005470: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-00005480: 2062 7920 5377 6172 6d20 4944 0a20 2020   by Swarm ID.   
-00005490: 2020 2020 2020 2020 206c 6162 656c 2028           label (
-000054a0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-000054b0: 4669 6c74 6572 2062 7920 4c61 6265 6c20  Filter by Label 
-000054c0: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
-000054d0: 2073 6974 6520 2873 7472 2c20 6f70 7469   site (str, opti
-000054e0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-000054f0: 2053 6974 6520 6e61 6d65 0a20 2020 2020   Site name.     
-00005500: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
-00005510: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-00005520: 696c 7465 7220 6279 2053 7769 7463 6820  ilter by Switch 
-00005530: 6f72 2041 5020 7365 7269 616c 206e 756d  or AP serial num
-00005540: 6265 720a 2020 2020 2020 2020 2020 2020  ber.            
-00005550: 636c 7573 7465 725f 6964 2028 7374 722c  cluster_id (str,
-00005560: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-00005570: 6572 2062 7920 4d6f 6269 6c69 7479 2043  er by Mobility C
-00005580: 6f6e 7472 6f6c 6c65 7220 7365 7269 616c  ontroller serial
-00005590: 206e 756d 6265 720a 2020 2020 2020 2020   number.        
-000055a0: 2020 2020 7374 6163 6b5f 6964 2028 7374      stack_id (st
-000055b0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-000055c0: 6c74 6572 2062 7920 5377 6974 6368 2073  lter by Switch s
-000055d0: 7461 636b 5f69 640a 2020 2020 2020 2020  tack_id.        
-000055e0: 2020 2020 6669 656c 6473 2028 7374 722c      fields (str,
-000055f0: 206f 7074 696f 6e61 6c29 3a20 436f 6d6d   optional): Comm
-00005600: 6120 7365 7061 7261 7465 6420 6c69 7374  a separated list
-00005610: 206f 6620 6669 656c 6473 2074 6f20 6265   of fields to be
-00005620: 2072 6574 7572 6e65 642e 2056 616c 6964   returned. Valid
-00005630: 2066 6965 6c64 7320 6172 650a 2020 2020   fields are.    
-00005640: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-00005650: 2c20 6970 5f61 6464 7265 7373 2c20 7573  , ip_address, us
-00005660: 6572 6e61 6d65 2c20 6173 736f 6369 6174  ername, associat
-00005670: 6564 5f64 6576 6963 652c 2067 726f 7570  ed_device, group
-00005680: 5f6e 616d 652c 2069 6e74 6572 6661 6365  _name, interface
-00005690: 5f6d 6163 2c20 766c 616e 0a20 2020 2020  _mac, vlan.     
-000056a0: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
-000056b0: 5f74 6f74 616c 2028 626f 6f6c 2c20 6f70  _total (bool, op
-000056c0: 7469 6f6e 616c 293a 2057 6865 7468 6572  tional): Whether
-000056d0: 2074 6f20 6361 6c63 756c 6174 6520 746f   to calculate to
-000056e0: 7461 6c20 7769 7265 6420 436c 6965 6e74  tal wired Client
-000056f0: 730a 2020 2020 2020 2020 2020 2020 4649  s.            FI
-00005700: 584d 4520 736f 7274 2028 7374 722c 206f  XME sort (str, o
-00005710: 7074 696f 6e61 6c29 3a20 4669 656c 6420  ptional): Field 
-00005720: 746f 2073 6f72 7420 6f6e 2e20 2044 6566  to sort on.  Def
-00005730: 6175 6c74 7320 746f 206d 6163 0a20 2020  aults to mac.   
-00005740: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
-00005750: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-00005760: 2050 6167 696e 6174 696f 6e20 6f66 6673   Pagination offs
-00005770: 6574 2044 6566 6175 6c74 7320 746f 2030  et Defaults to 0
-00005780: 2e0a 2020 2020 2020 2020 2020 2020 6c69  ..            li
-00005790: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
-000057a0: 616c 293a 2050 6167 696e 6174 696f 6e20  al): Pagination 
-000057b0: 6c69 6d69 742e 2044 6566 6175 6c74 2069  limit. Default i
-000057c0: 7320 3130 3020 616e 6420 6d61 7820 6973  s 100 and max is
-000057d0: 2031 3030 3020 4465 6661 756c 7473 2074   1000 Defaults t
-000057e0: 6f20 3530 302e 0a0a 2020 2020 2020 2020  o 500...        
-000057f0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-00005800: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00005810: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00005820: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-00005830: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-00005840: 6c20 3d20 222f 6d6f 6e69 746f 7269 6e67  l = "/monitoring
-00005850: 2f76 312f 636c 6965 6e74 732f 7769 7265  /v1/clients/wire
-00005860: 6422 0a0a 2020 2020 2020 2020 7061 7261  d"..        para
-00005870: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
-00005880: 2020 2022 6772 6f75 7022 3a20 6772 6f75     "group": grou
-00005890: 702c 0a20 2020 2020 2020 2020 2020 2022  p,.            "
-000058a0: 7377 6172 6d5f 6964 223a 2073 7761 726d  swarm_id": swarm
-000058b0: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
-000058c0: 2022 6c61 6265 6c22 3a20 6c61 6265 6c2c   "label": label,
-000058d0: 0a20 2020 2020 2020 2020 2020 2022 7369  .            "si
-000058e0: 7465 223a 2073 6974 652c 0a20 2020 2020  te": site,.     
-000058f0: 2020 2020 2020 2022 7365 7269 616c 223a         "serial":
-00005900: 2073 6572 6961 6c2c 0a20 2020 2020 2020   serial,.       
-00005910: 2020 2020 2022 636c 7573 7465 725f 6964       "cluster_id
-00005920: 223a 2063 6c75 7374 6572 5f69 642c 0a20  ": cluster_id,. 
-00005930: 2020 2020 2020 2020 2020 2022 7374 6163             "stac
-00005940: 6b5f 6964 223a 2073 7461 636b 5f69 642c  k_id": stack_id,
-00005950: 0a20 2020 2020 2020 2020 2020 2022 6669  .            "fi
-00005960: 656c 6473 223a 2066 6965 6c64 732c 0a20  elds": fields,. 
-00005970: 2020 2020 2020 2020 2020 2022 6361 6c63             "calc
-00005980: 756c 6174 655f 746f 7461 6c22 3a20 6361  ulate_total": ca
-00005990: 6c63 756c 6174 655f 746f 7461 6c2c 0a20  lculate_total,. 
-000059a0: 2020 2020 2020 2020 2020 2023 2027 736f             # 'so
-000059b0: 7274 273a 2073 6f72 745f 6279 2c0a 2020  rt': sort_by,.  
-000059c0: 2020 2020 2020 2020 2020 226f 6666 7365            "offse
-000059d0: 7422 3a20 6f66 6673 6574 2c0a 2020 2020  t": offset,.    
-000059e0: 2020 2020 2020 2020 226c 696d 6974 223a          "limit":
-000059f0: 206c 696d 6974 2c0a 2020 2020 2020 2020   limit,.        
-00005a00: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-00005a10: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-00005a20: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-00005a30: 616d 732c 290a 2020 2020 2020 2020 2320  ams,).        # 
-00005a40: 6966 2073 6f72 745f 6279 2069 7320 4e6f  if sort_by is No
-00005a50: 6e65 3a0a 2020 2020 2020 2020 2320 2020  ne:.        #   
-00005a60: 2020 7265 7475 726e 2072 6573 700a 2020    return resp.  
-00005a70: 2020 2020 2020 2320 656c 7365 3a0a 2020        # else:.  
-00005a80: 2020 2020 2020 2320 2020 2020 7265 7475        #     retu
-00005a90: 726e 2073 656c 662e 5f73 6f72 7465 6428  rn self._sorted(
-00005aa0: 7265 7370 2c20 736f 7274 5f62 7929 0a0a  resp, sort_by)..
-00005ab0: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
-00005ac0: 745f 636c 6965 6e74 5f64 6574 6169 6c73  t_client_details
-00005ad0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00005ae0: 2020 2020 2020 2020 6d61 633a 2075 7469          mac: uti
-00005af0: 6c73 2e4d 6163 2c0a 2020 2020 2020 2020  ls.Mac,.        
-00005b00: 6465 765f 7479 7065 3a20 7374 7220 3d20  dev_type: str = 
-00005b10: 4e6f 6e65 2c0a 2020 2020 2020 2020 2320  None,.        # 
-00005b20: 736f 7274 5f62 793a 2073 7472 203d 204e  sort_by: str = N
-00005b30: 6f6e 652c 0a20 2020 2020 2020 202a 2a6b  one,.        **k
-00005b40: 7761 7267 730a 2020 2020 2920 2d3e 2052  wargs.    ) -> R
-00005b50: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-00005b60: 2022 2222 4765 7420 5769 7265 642f 5769   """Get Wired/Wi
-00005b70: 7265 6c65 7373 2043 6c69 656e 7420 4465  reless Client De
-00005b80: 7461 696c 732e 0a0a 2020 2020 2020 2020  tails...        
-00005b90: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00005ba0: 2020 6d61 6320 2875 7469 6c73 2e4d 6163    mac (utils.Mac
-00005bb0: 293a 204d 4143 2061 6464 7265 7373 206f  ): MAC address o
-00005bc0: 6620 7468 6520 5769 7265 6c65 7373 2043  f the Wireless C
-00005bd0: 6c69 656e 7420 746f 2062 6520 7175 6572  lient to be quer
-00005be0: 6965 640a 2020 2020 2020 2020 2020 2020  ied.            
-00005bf0: 2020 2020 4150 4920 7769 6c6c 2072 6574      API will ret
-00005c00: 7572 6e20 7265 7375 6c74 7320 6d61 7463  urn results matc
-00005c10: 6869 6e67 2061 2070 6172 7469 616c 204d  hing a partial M
-00005c20: 6163 0a0a 2020 2020 2020 2020 5265 7475  ac..        Retu
-00005c30: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00005c40: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00005c50: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00005c60: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00005c70: 220a 2020 2020 2020 2020 2320 4150 492d  ".        # API-
-00005c80: 464c 4157 2054 6869 7320 6c6f 6769 6320  FLAW This logic 
-00005c90: 6973 2068 6572 6520 6265 6361 7573 6520  is here because 
-00005ca0: 4365 6e74 7261 6c20 6861 7320 626f 7468  Central has both
-00005cb0: 206d 6574 686f 6473 2c20 6275 7420 6769   methods, but gi
-00005cc0: 7665 6e20 6120 776c 616e 2063 6c69 656e  ven a wlan clien
-00005cd0: 7420 6d61 630a 2020 2020 2020 2020 2320  t mac.        # 
-00005ce0: 6365 6e74 7261 6c20 7769 6c6c 2072 6574  central will ret
-00005cf0: 7572 6e20 7468 6520 636c 6965 6e74 2064  urn the client d
-00005d00: 6574 6169 6c73 2065 7665 6e20 7768 656e  etails even when
-00005d10: 2075 7369 6e67 2074 6865 2077 6972 6564   using the wired
-00005d20: 2075 726c 0a0a 2020 2020 2020 2020 2320   url..        # 
-00005d30: 4d61 6320 6d61 7463 6820 6c6f 6769 6320  Mac match logic 
-00005d40: 6973 206a 6163 6b65 6420 696e 2063 656e  is jacked in cen
-00005d50: 7472 616c 0a20 2020 2020 2020 2023 2067  tral.        # g
-00005d60: 6976 656e 2061 2063 6c69 656e 7420 7769  iven a client wi
-00005d70: 7468 2061 204d 4143 206f 6620 6163 3a33  th a MAC of ac:3
-00005d80: 373a 3433 3a34 613a 3865 3a66 610a 2020  7:43:4a:8e:fa.  
-00005d90: 2020 2020 2020 230a 2020 2020 2020 2020        #.        
-00005da0: 2320 4d61 6b65 204d 4143 2069 6e76 616c  # Make MAC inval
-00005db0: 6964 2028 6368 616e 6765 6420 6c61 7374  id (changed last
-00005dc0: 206f 6374 6574 293a 0a20 2020 2020 2020   octet):.       
-00005dd0: 2023 2020 2061 633a 3337 3a34 333a 3461   #   ac:37:43:4a
-00005de0: 3a38 653a 6666 204e 6f20 4d61 7463 680a  :8e:ff No Match.
-00005df0: 2020 2020 2020 2020 2320 2020 6163 3337          #   ac37
-00005e00: 3433 3461 3865 6666 204e 6f20 4d61 7463  434a8eff No Matc
-00005e10: 680a 2020 2020 2020 2020 2320 2020 6163  h.        #   ac
-00005e20: 3a33 373a 3433 3a34 613a 3865 2d66 6620  :37:43:4a:8e-ff 
-00005e30: 2052 6574 7572 6e73 204d 4154 4348 0a20   Returns MATCH. 
-00005e40: 2020 2020 2020 2023 2020 2061 633a 3337         #   ac:37
-00005e50: 3a34 333a 3461 3a38 6566 6620 2052 6574  :43:4a:8eff  Ret
-00005e60: 7572 6e73 204d 4154 4348 0a20 2020 2020  urns MATCH.     
-00005e70: 2020 2023 2020 2061 633a 3337 3a34 333a     #   ac:37:43:
-00005e80: 3461 3a38 6566 6620 2052 6574 7572 6e73  4a:8eff  Returns
-00005e90: 204d 4154 4348 0a20 2020 2020 2020 2023   MATCH.        #
-00005ea0: 2020 2061 6333 3734 3334 6138 653a 6666     ac37434a8e:ff
-00005eb0: 2020 5265 7475 726e 7320 4d41 5443 480a    Returns MATCH.
-00005ec0: 2020 2020 2020 2020 2320 2020 6163 2d33          #   ac-3
-00005ed0: 372d 3433 2d34 612d 3865 2d66 6620 5265  7-43-4a-8e-ff Re
-00005ee0: 7475 726e 204d 4154 4348 0a20 2020 2020  turn MATCH.     
-00005ef0: 2020 2023 2020 2061 6333 372e 3433 3461     #   ac37.434a
-00005f00: 2e38 6566 6620 5265 7475 726e 7320 4d41  .8eff Returns MA
-00005f10: 5443 480a 2020 2020 2020 2020 6966 206e  TCH.        if n
-00005f20: 6f74 2064 6576 5f74 7970 653a 0a20 2020  ot dev_type:.   
-00005f30: 2020 2020 2020 2020 2066 6f72 205f 6465           for _de
-00005f40: 765f 7479 7065 2069 6e20 5b22 7769 7265  v_type in ["wire
-00005f50: 6c65 7373 222c 2022 7769 7265 6422 5d3a  less", "wired"]:
-00005f60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005f70: 2075 726c 203d 2066 222f 6d6f 6e69 746f   url = f"/monito
-00005f80: 7269 6e67 2f76 312f 636c 6965 6e74 732f  ring/v1/clients/
-00005f90: 7b5f 6465 765f 7479 7065 7d2f 7b6d 6163  {_dev_type}/{mac
-00005fa0: 2e75 726c 7d22 0a20 2020 2020 2020 2020  .url}".         
-00005fb0: 2020 2020 2020 2072 6573 7020 3d20 6177         resp = aw
-00005fc0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-00005fd0: 2c29 2020 2320 6361 6c6c 6261 636b 3d63  ,)  # callback=c
-00005fe0: 6c65 616e 6572 2e67 6574 5f63 6c69 656e  leaner.get_clien
-00005ff0: 7473 2c20 2a2a 6b77 6172 6773 290a 2020  ts, **kwargs).  
-00006000: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00006010: 2072 6573 703a 0a20 2020 2020 2020 2020   resp:.         
-00006020: 2020 2020 2020 2020 2020 2023 2072 6573             # res
-00006030: 702e 6f75 7470 7574 203d 205b 7b2a 2a7b  p.output = [{**{
-00006040: 2263 6c69 656e 745f 7479 7065 223a 205f  "client_type": _
-00006050: 6465 765f 7479 7065 2e75 7070 6572 2829  dev_type.upper()
-00006060: 7d2c 202a 2a64 7d20 666f 7220 6420 696e  }, **d} for d in
-00006070: 2072 6573 702e 6f75 7470 7574 5d0a 2020   resp.output].  
-00006080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006090: 2020 6272 6561 6b0a 0a20 2020 2020 2020    break..       
-000060a0: 2020 2020 2072 6574 7572 6e20 7265 7370       return resp
-000060b0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-000060c0: 2020 2020 2020 2020 2020 2075 726c 203d             url =
-000060d0: 2066 222f 6d6f 6e69 746f 7269 6e67 2f76   f"/monitoring/v
-000060e0: 312f 636c 6965 6e74 732f 7b64 6576 5f74  1/clients/{dev_t
-000060f0: 7970 657d 2f7b 6d61 632e 7572 6c7d 220a  ype}/{mac.url}".
-00006100: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00006110: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00006120: 7428 7572 6c2c 2920 2023 2063 616c 6c62  t(url,)  # callb
-00006130: 6163 6b3d 636c 6561 6e65 722e 6765 745f  ack=cleaner.get_
-00006140: 636c 6965 6e74 732c 202a 2a6b 7761 7267  clients, **kwarg
-00006150: 7329 0a0a 2020 2020 2020 2020 2320 6966  s)..        # if
-00006160: 2073 6f72 745f 6279 2069 7320 4e6f 6e65   sort_by is None
-00006170: 3a0a 2020 2020 2020 2020 2320 2020 2020  :.        #     
-00006180: 7265 7475 726e 2072 6573 700a 2020 2020  return resp.    
-00006190: 2020 2020 2320 656c 7365 3a0a 2020 2020      # else:.    
-000061a0: 2020 2020 2320 2020 2020 7265 7475 726e      #     return
-000061b0: 2073 656c 662e 5f73 6f72 7465 6428 7265   self._sorted(re
-000061c0: 7370 2c20 736f 7274 5f62 7929 0a0a 2020  sp, sort_by)..  
-000061d0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-000061e0: 6365 7274 6966 6963 6174 6573 280a 2020  certificates(.  
-000061f0: 2020 2020 2020 7365 6c66 2c20 713a 2073        self, q: s
-00006200: 7472 203d 204e 6f6e 652c 206f 6666 7365  tr = None, offse
-00006210: 743a 2069 6e74 203d 2030 2c20 6c69 6d69  t: int = 0, limi
-00006220: 743a 2069 6e74 203d 2032 302c 2063 616c  t: int = 20, cal
-00006230: 6c62 6163 6b3a 2063 616c 6c61 626c 6520  lback: callable 
-00006240: 3d20 4e6f 6e65 2c20 6361 6c6c 6261 636b  = None, callback
-00006250: 5f6b 7761 7267 733a 2064 6963 7420 3d20  _kwargs: dict = 
-00006260: 4e6f 6e65 0a20 2020 2029 202d 3e20 5265  None.    ) -> Re
-00006270: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00006280: 2222 2247 6574 2043 6572 7469 6669 6361  """Get Certifica
-00006290: 7465 7320 6465 7461 696c 732e 0a0a 2020  tes details...  
-000062a0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-000062b0: 2020 2020 2020 2020 7120 2873 7472 2c20          q (str, 
-000062c0: 6f70 7469 6f6e 616c 293a 2053 6561 7263  optional): Searc
-000062d0: 6820 666f 7220 6120 7061 7274 6963 756c  h for a particul
-000062e0: 6172 2063 6572 7469 6669 6361 7465 2062  ar certificate b
-000062f0: 7920 6974 7320 6e61 6d65 2c20 6d64 3520  y its name, md5 
-00006300: 6861 7368 206f 7220 7368 6131 5f68 6173  hash or sha1_has
-00006310: 680a 2020 2020 2020 2020 2020 2020 6f66  h.            of
-00006320: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
-00006330: 6e61 6c29 3a20 4e75 6d62 6572 206f 6620  nal): Number of 
-00006340: 6974 656d 7320 746f 2062 6520 736b 6970  items to be skip
-00006350: 7065 6420 6265 666f 7265 2072 6574 7572  ped before retur
-00006360: 6e69 6e67 2074 6865 2064 6174 612c 2075  ning the data, u
-00006370: 7365 6675 6c0a 2020 2020 2020 2020 2020  seful.          
-00006380: 2020 2020 2020 666f 7220 7061 6769 6e61        for pagina
-00006390: 7469 6f6e 2e20 4465 6661 756c 7473 2074  tion. Defaults t
-000063a0: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
-000063b0: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
-000063c0: 696f 6e61 6c29 3a20 4d61 7869 6d75 6d20  ional): Maximum 
-000063d0: 6e75 6d62 6572 206f 6620 7265 636f 7264  number of record
-000063e0: 7320 746f 2062 6520 7265 7475 726e 6564  s to be returned
-000063f0: 2e20 4465 6661 756c 7473 2074 6f20 3230  . Defaults to 20
-00006400: 2c20 4d61 7820 3230 2e0a 0a20 2020 2020  , Max 20...     
-00006410: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-00006420: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-00006430: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-00006440: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-00006450: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00006460: 2075 726c 203d 2022 2f63 6f6e 6669 6775   url = "/configu
-00006470: 7261 7469 6f6e 2f76 312f 6365 7274 6966  ration/v1/certif
-00006480: 6963 6174 6573 220a 0a20 2020 2020 2020  icates"..       
-00006490: 2023 206f 6666 7365 7420 616e 6420 6c69   # offset and li
-000064a0: 6d69 7420 6172 6520 626f 7468 2072 6571  mit are both req
-000064b0: 7569 7265 6420 6279 2074 6865 2041 5049  uired by the API
-000064c0: 206d 6574 686f 642e 0a20 2020 2020 2020   method..       
-000064d0: 2070 6172 616d 7320 3d20 7b22 7122 3a20   params = {"q": 
-000064e0: 712c 2022 6f66 6673 6574 223a 206f 6666  q, "offset": off
-000064f0: 7365 742c 2022 6c69 6d69 7422 3a20 6c69  set, "limit": li
-00006500: 6d69 747d 0a0a 2020 2020 2020 2020 7265  mit}..        re
-00006510: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00006520: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-00006530: 7061 7261 6d73 2c20 6361 6c6c 6261 636b  params, callback
-00006540: 3d63 616c 6c62 6163 6b2c 2063 616c 6c62  =callback, callb
-00006550: 6163 6b5f 6b77 6172 6773 3d63 616c 6c62  ack_kwargs=callb
-00006560: 6163 6b5f 6b77 6172 6773 290a 0a20 2020  ack_kwargs)..   
-00006570: 2023 2061 7379 6e63 2064 6566 2075 706c   # async def upl
-00006580: 6f61 645f 6365 7274 6966 6963 6174 6528  oad_certificate(
-00006590: 0a20 2020 2023 2020 2020 2073 656c 662c  .    #     self,
-000065a0: 0a20 2020 2023 2020 2020 2063 6572 745f  .    #     cert_
-000065b0: 6e61 6d65 3a20 7374 722c 0a20 2020 2023  name: str,.    #
-000065c0: 2020 2020 2063 6572 745f 7479 7065 3a20       cert_type: 
-000065d0: 4c69 7465 7261 6c5b 2253 4552 5645 525f  Literal["SERVER_
-000065e0: 4345 5254 222c 2022 4341 5f43 4552 5422  CERT", "CA_CERT"
-000065f0: 2c20 2243 524c 222c 2022 494e 5445 524d  , "CRL", "INTERM
-00006600: 4544 4941 5445 5f43 4122 2c20 224f 4353  EDIATE_CA", "OCS
-00006610: 505f 5245 5350 4f4e 4445 525f 4345 5254  P_RESPONDER_CERT
-00006620: 222c 2022 4f43 5350 5f53 4947 4e45 525f  ", "OCSP_SIGNER_
-00006630: 4345 5254 222c 2022 5055 424c 4943 5f43  CERT", "PUBLIC_C
-00006640: 4552 5422 5d2c 0a20 2020 2023 2020 2020  ERT"],.    #    
-00006650: 2063 6572 745f 666f 726d 6174 3a20 4c69   cert_format: Li
-00006660: 7465 7261 6c5b 2250 454d 222c 2022 4445  teral["PEM", "DE
-00006670: 5222 2c20 2250 4b43 5331 3222 5d2c 0a20  R", "PKCS12"],. 
-00006680: 2020 2023 2020 2020 2070 6173 7370 6872     #     passphr
-00006690: 6173 653a 2073 7472 2c0a 2020 2020 2320  ase: str,.    # 
-000066a0: 2020 2020 6365 7274 5f64 6174 613a 2073      cert_data: s
-000066b0: 7472 2c0a 2020 2020 2320 2920 2d3e 2052  tr,.    # ) -> R
-000066c0: 6573 706f 6e73 653a 0a20 2020 2023 2020  esponse:.    #  
-000066d0: 2020 2022 2222 5570 6c6f 6164 2061 2063     """Upload a c
-000066e0: 6572 7469 6669 6361 7465 2e0a 0a20 2020  ertificate...   
-000066f0: 2023 2020 2020 2041 7267 733a 0a20 2020   #     Args:.   
-00006700: 2023 2020 2020 2020 2020 2063 6572 745f   #         cert_
-00006710: 6e61 6d65 2028 7374 7229 3a20 6365 7274  name (str): cert
-00006720: 5f6e 616d 650a 2020 2020 2320 2020 2020  _name.    #     
-00006730: 2020 2020 6365 7274 5f74 7970 6520 2873      cert_type (s
-00006740: 7472 293a 2063 6572 745f 7479 7065 2020  tr): cert_type  
-00006750: 5661 6c69 6420 5661 6c75 6573 3a20 5345  Valid Values: SE
-00006760: 5256 4552 5f43 4552 542c 2043 415f 4345  RVER_CERT, CA_CE
-00006770: 5254 2c20 4352 4c2c 2049 4e54 4552 4d45  RT, CRL, INTERME
-00006780: 4449 4154 455f 4341 2c0a 2020 2020 2320  DIATE_CA,.    # 
-00006790: 2020 2020 2020 2020 2020 2020 4f43 5350              OCSP
-000067a0: 5f52 4553 504f 4e44 4552 5f43 4552 542c  _RESPONDER_CERT,
-000067b0: 204f 4353 505f 5349 474e 4552 5f43 4552   OCSP_SIGNER_CER
-000067c0: 542c 2050 5542 4c49 435f 4345 5254 0a20  T, PUBLIC_CERT. 
-000067d0: 2020 2023 2020 2020 2020 2020 2063 6572     #         cer
-000067e0: 745f 666f 726d 6174 2028 7374 7229 3a20  t_format (str): 
-000067f0: 6365 7274 5f66 6f72 6d61 7420 2056 616c  cert_format  Val
-00006800: 6964 2056 616c 7565 733a 2050 454d 2c20  id Values: PEM, 
-00006810: 4445 522c 2050 4b43 5331 320a 2020 2020  DER, PKCS12.    
-00006820: 2320 2020 2020 2020 2020 7061 7373 7068  #         passph
-00006830: 7261 7365 2028 7374 7229 3a20 7061 7373  rase (str): pass
-00006840: 7068 7261 7365 0a20 2020 2023 2020 2020  phrase.    #    
-00006850: 2020 2020 2063 6572 745f 6461 7461 2028       cert_data (
-00006860: 7374 7229 3a20 4365 7274 6966 6963 6174  str): Certificat
-00006870: 6520 636f 6e74 656e 7420 656e 636f 6465  e content encode
-00006880: 6420 696e 2062 6173 6536 3420 666f 7220  d in base64 for 
-00006890: 616c 6c20 666f 726d 6174 2063 6572 7469  all format certi
-000068a0: 6669 6361 7465 732e 0a0a 2020 2020 2320  ficates...    # 
-000068b0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-000068c0: 2023 2020 2020 2020 2020 2052 6573 706f   #         Respo
-000068d0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-000068e0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-000068f0: 2020 2020 2320 2020 2020 2222 220a 2020      #     """.  
-00006900: 2020 2320 2020 2020 7572 6c20 3d20 222f    #     url = "/
-00006910: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
-00006920: 2f63 6572 7469 6669 6361 7465 7322 0a0a  /certificates"..
-00006930: 2020 2020 2320 2020 2020 6a73 6f6e 5f64      #     json_d
-00006940: 6174 6120 3d20 7b0a 2020 2020 2320 2020  ata = {.    #   
-00006950: 2020 2020 2020 2763 6572 745f 6e61 6d65        'cert_name
-00006960: 273a 2063 6572 745f 6e61 6d65 2c0a 2020  ': cert_name,.  
-00006970: 2020 2320 2020 2020 2020 2020 2763 6572    #         'cer
-00006980: 745f 7479 7065 273a 2063 6572 745f 7479  t_type': cert_ty
-00006990: 7065 2c0a 2020 2020 2320 2020 2020 2020  pe,.    #       
-000069a0: 2020 2763 6572 745f 666f 726d 6174 273a    'cert_format':
-000069b0: 2063 6572 745f 666f 726d 6174 2c0a 2020   cert_format,.  
-000069c0: 2020 2320 2020 2020 2020 2020 2770 6173    #         'pas
-000069d0: 7370 6872 6173 6527 3a20 7061 7373 7068  sphrase': passph
-000069e0: 7261 7365 2c0a 2020 2020 2320 2020 2020  rase,.    #     
-000069f0: 2020 2020 2763 6572 745f 6461 7461 273a      'cert_data':
-00006a00: 2063 6572 745f 6461 7461 0a20 2020 2023   cert_data.    #
-00006a10: 2020 2020 207d 0a0a 2020 2020 2320 2020       }..    #   
-00006a20: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00006a30: 656c 662e 706f 7374 2875 726c 2c20 6a73  elf.post(url, js
-00006a40: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
-00006a50: 6129 0a0a 2020 2020 6173 796e 6320 6465  a)..    async de
-00006a60: 6620 6765 745f 7465 6d70 6c61 7465 2873  f get_template(s
-00006a70: 656c 662c 2067 726f 7570 3a20 7374 722c  elf, group: str,
-00006a80: 2074 656d 706c 6174 653a 2073 7472 2920   template: str) 
-00006a90: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00006aa0: 2020 2020 2075 726c 203d 2066 222f 636f       url = f"/co
-00006ab0: 6e66 6967 7572 6174 696f 6e2f 7631 2f67  nfiguration/v1/g
-00006ac0: 726f 7570 732f 7b67 726f 7570 7d2f 7465  roups/{group}/te
-00006ad0: 6d70 6c61 7465 732f 7b74 656d 706c 6174  mplates/{templat
-00006ae0: 657d 220a 2020 2020 2020 2020 7265 7475  e}".        retu
-00006af0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00006b00: 7428 7572 6c29 0a0a 2020 2020 6173 796e  t(url)..    asyn
-00006b10: 6320 6465 6620 6765 745f 7465 6d70 6c61  c def get_templa
-00006b20: 7465 5f64 6574 6169 6c73 5f66 6f72 5f64  te_details_for_d
-00006b30: 6576 6963 6528 7365 6c66 2c20 6465 7669  evice(self, devi
-00006b40: 6365 5f73 6572 6961 6c3a 2073 7472 2c20  ce_serial: str, 
-00006b50: 6465 7461 696c 733a 2062 6f6f 6c20 3d20  details: bool = 
-00006b60: 4661 6c73 6529 202d 3e20 5265 7370 6f6e  False) -> Respon
-00006b70: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
-00006b80: 6574 2063 6f6e 6669 6775 7261 7469 6f6e  et configuration
-00006b90: 2064 6574 6169 6c73 2066 6f72 2061 2064   details for a d
-00006ba0: 6576 6963 6520 286f 6e6c 7920 666f 7220  evice (only for 
-00006bb0: 7465 6d70 6c61 7465 2067 726f 7570 7329  template groups)
-00006bc0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-00006bd0: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
-00006be0: 6963 655f 7365 7269 616c 2028 7374 7229  ice_serial (str)
-00006bf0: 3a20 5365 7269 616c 206e 756d 6265 7220  : Serial number 
-00006c00: 6f66 2074 6865 2064 6576 6963 652e 0a20  of the device.. 
-00006c10: 2020 2020 2020 2020 2020 2064 6574 6169             detai
-00006c20: 6c73 2028 626f 6f6c 2c20 6f70 7469 6f6e  ls (bool, option
-00006c30: 616c 293a 2055 7375 616c 6c79 2070 6173  al): Usually pas
-00006c40: 7320 6661 6c73 6520 746f 2067 6574 206f  s false to get o
-00006c50: 6e6c 7920 7468 6520 7375 6d6d 6172 7920  nly the summary 
-00006c60: 6f66 2061 2064 6576 6963 6527 730a 2020  of a device's.  
-00006c70: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00006c80: 6e66 6967 7572 6174 696f 6e20 7374 6174  nfiguration stat
-00006c90: 7573 2e0a 2020 2020 2020 2020 2020 2020  us..            
-00006ca0: 2020 2020 5061 7373 2074 7275 6520 6f6e      Pass true on
-00006cb0: 6c79 2069 6620 6465 7461 696c 6564 2072  ly if detailed r
-00006cc0: 6573 706f 6e73 6520 6f66 2061 2064 6576  esponse of a dev
-00006cd0: 6963 6527 7320 636f 6e66 6967 7572 6174  ice's configurat
-00006ce0: 696f 6e20 7374 6174 7573 2069 7320 7265  ion status is re
-00006cf0: 7175 6972 6564 2e0a 2020 2020 2020 2020  quired..        
-00006d00: 2020 2020 2020 2020 5061 7373 696e 6720          Passing 
-00006d10: 7472 7565 206d 6967 6874 2072 6573 756c  true might resul
-00006d20: 7420 696e 2073 6c6f 7765 7220 4150 4920  t in slower API 
-00006d30: 7265 7370 6f6e 7365 2061 6e64 2070 6572  response and per
-00006d40: 666f 726d 616e 6365 2065 6666 6563 740a  formance effect.
-00006d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006d60: 636f 6d70 6172 6174 6976 656c 792e 0a0a  comparatively...
-00006d70: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00006d80: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00006d90: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00006da0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00006db0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00006dc0: 2020 2020 2020 2320 4150 492d 4e4f 5445        # API-NOTE
-00006dd0: 2072 6574 7572 6e73 2066 6f72 6d2d 6461   returns form-da
-00006de0: 7461 2028 6120 6269 6720 7374 7229 0a20  ta (a big str). 
-00006df0: 2020 2020 2020 2023 2020 4120 636c 6561         #  A clea
-00006e00: 6e65 7220 6861 7320 6265 656e 2063 7265  ner has been cre
-00006e10: 6174 6564 2074 6861 7420 7061 7273 6573  ated that parses
-00006e20: 2074 6865 2072 6573 7020 696e 746f 2064   the resp into d
-00006e30: 6963 740a 2020 2020 2020 2020 2320 2077  ict.        #  w
-00006e40: 6974 6820 7375 6d6d 6172 7928 6469 6374  ith summary(dict
-00006e50: 2920 616e 6420 7275 6e6e 696e 672f 6365  ) and running/ce
-00006e60: 6e74 7261 6c5f 7369 6465 2063 6f6e 6669  ntral_side confi
-00006e70: 6773 2028 7374 7229 0a20 2020 2020 2020  gs (str).       
-00006e80: 2023 204e 6565 6420 636c 6561 6e65 7220   # Need cleaner 
-00006e90: 746f 2070 6172 7365 2061 6e64 2063 6f6e  to parse and con
-00006ea0: 7665 7274 2074 6f20 6469 6374 0a20 2020  vert to dict.   
-00006eb0: 2020 2020 2023 202d 2d66 6433 6c6f 6e67       # --fd3long
-00006ec0: 616c 7068 616e 756d 6572 6963 7374 7269  alphanumericstri
-00006ed0: 6e67 3633 0a20 2020 2020 2020 2023 2043  ng63.        # C
-00006ee0: 6f6e 7465 6e74 2d44 6973 706f 7369 7469  ontent-Dispositi
-00006ef0: 6f6e 3a20 666f 726d 2d64 6174 613b 206e  on: form-data; n
-00006f00: 616d 653d 2253 756d 6d61 7279 220a 2020  ame="Summary".  
-00006f10: 2020 2020 2020 2320 436f 6e74 656e 742d        # Content-
-00006f20: 5479 7065 3a20 6170 706c 6963 6174 696f  Type: applicatio
-00006f30: 6e2f 6a73 6f6e 0a0a 2020 2020 2020 2020  n/json..        
-00006f40: 2320 7b0a 2020 2020 2020 2020 2320 2020  # {.        #   
-00006f50: 2020 2244 6576 6963 655f 7365 7269 616c    "Device_serial
-00006f60: 223a 2022 7265 6461 6374 6564 222c 0a20  ": "redacted",. 
-00006f70: 2020 2020 2020 2023 2020 2020 2022 4465         #     "De
-00006f80: 7669 6365 5f74 7970 6522 3a20 2241 7275  vice_type": "Aru
-00006f90: 6261 5377 6974 6368 222c 0a20 2020 2020  baSwitch",.     
-00006fa0: 2020 2023 2020 2020 2022 4772 6f75 7022     #     "Group"
-00006fb0: 3a20 2257 6164 654c 6162 222c 0a20 2020  : "WadeLab",.   
-00006fc0: 2020 2020 2023 2020 2020 2022 436f 6e66       #     "Conf
-00006fd0: 6967 7572 6174 696f 6e5f 6572 726f 725f  iguration_error_
-00006fe0: 7374 6174 7573 223a 2066 616c 7365 2c0a  status": false,.
-00006ff0: 2020 2020 2020 2020 2320 2020 2020 224f          #     "O
-00007000: 7665 7272 6964 655f 7374 6174 7573 223a  verride_status":
-00007010: 2066 616c 7365 2c0a 2020 2020 2020 2020   false,.        
-00007020: 2320 2020 2020 2254 656d 706c 6174 655f  #     "Template_
-00007030: 6e61 6d65 223a 2022 3239 3330 462d 3822  name": "2930F-8"
-00007040: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00007050: 2254 656d 706c 6174 655f 6861 7368 223a  "Template_hash":
-00007060: 2022 3436 612d 7265 6461 6374 6564 2d30   "46a-redacted-0
-00007070: 6422 2c0a 2020 2020 2020 2020 2320 2020  d",.        #   
-00007080: 2020 2254 656d 706c 6174 655f 6572 726f    "Template_erro
-00007090: 725f 7374 6174 7573 223a 2066 616c 7365  r_status": false
-000070a0: 0a20 2020 2020 2020 2023 207d 0a20 2020  .        # }.   
-000070b0: 2020 2020 2023 202d 2d66 6433 6c6f 6e67       # --fd3long
-000070c0: 616c 7068 616e 756d 6572 6963 7374 7269  alphanumericstri
-000070d0: 6e67 3633 0a20 2020 2020 2020 2075 726c  ng63.        url
-000070e0: 203d 2066 222f 636f 6e66 6967 7572 6174   = f"/configurat
-000070f0: 696f 6e2f 7631 2f64 6576 6963 6573 2f7b  ion/v1/devices/{
-00007100: 6465 7669 6365 5f73 6572 6961 6c7d 2f63  device_serial}/c
-00007110: 6f6e 6669 675f 6465 7461 696c 7322 0a20  onfig_details". 
-00007120: 2020 2020 2020 2068 6561 6465 7273 203d         headers =
-00007130: 207b 2241 6363 6570 7422 3a20 226d 756c   {"Accept": "mul
-00007140: 7469 7061 7274 2f66 6f72 6d2d 6461 7461  tipart/form-data
-00007150: 227d 0a20 2020 2020 2020 2070 6172 616d  "}.        param
-00007160: 7320 3d20 7b22 6465 7461 696c 7322 3a20  s = {"details": 
-00007170: 7374 7228 6465 7461 696c 7329 7d0a 2020  str(details)}.  
-00007180: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-00007190: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-000071a0: 2070 6172 616d 733d 7061 7261 6d73 2c20   params=params, 
-000071b0: 6865 6164 6572 733d 6865 6164 6572 7329  headers=headers)
-000071c0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-000071d0: 6765 745f 616c 6c5f 7465 6d70 6c61 7465  get_all_template
-000071e0: 735f 696e 5f67 726f 7570 280a 2020 2020  s_in_group(.    
-000071f0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00007200: 2020 6772 6f75 703a 2073 7472 2c0a 2020    group: str,.  
-00007210: 2020 2020 2020 6e61 6d65 3a20 7374 7220        name: str 
-00007220: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00007230: 6465 7669 6365 5f74 7970 653a 204c 6974  device_type: Lit
-00007240: 6572 616c 5b22 6170 222c 2022 7377 222c  eral["ap", "sw",
-00007250: 2022 6378 222c 2022 6777 225d 203d 204e   "cx", "gw"] = N
-00007260: 6f6e 652c 0a20 2020 2020 2020 2076 6572  one,.        ver
-00007270: 7369 6f6e 3a20 7374 7220 3d20 4e6f 6e65  sion: str = None
-00007280: 2c0a 2020 2020 2020 2020 6d6f 6465 6c3a  ,.        model:
-00007290: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000072a0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-000072b0: 2020 2020 2020 2020 6966 2064 6576 6963          if devic
-000072c0: 655f 7479 7065 3a0a 2020 2020 2020 2020  e_type:.        
-000072d0: 2020 2020 6465 7669 6365 5f74 7970 6520      device_type 
-000072e0: 3d20 636f 6e73 7461 6e74 732e 6c69 625f  = constants.lib_
-000072f0: 746f 5f61 7069 2822 7465 6d70 6c61 7465  to_api("template
-00007300: 222c 2064 6576 6963 655f 7479 7065 290a  ", device_type).
-00007310: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-00007320: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-00007330: 226f 6666 7365 7422 3a20 302c 0a20 2020  "offset": 0,.   
-00007340: 2020 2020 2020 2020 2022 6c69 6d69 7422           "limit"
-00007350: 3a20 3230 2c20 2023 2032 3020 6973 2074  : 20,  # 20 is t
-00007360: 6865 206d 6178 0a20 2020 2020 2020 2020  he max.         
-00007370: 2020 2022 7465 6d70 6c61 7465 223a 206e     "template": n
-00007380: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
-00007390: 2022 6465 7669 6365 5f74 7970 6522 3a20   "device_type": 
-000073a0: 6465 7669 6365 5f74 7970 652c 2020 2320  device_type,  # 
-000073b0: 7661 6c69 6420 3d20 4941 502c 2041 7275  valid = IAP, Aru
-000073c0: 6261 5377 6974 6368 2c20 4d6f 6269 6c69  baSwitch, Mobili
-000073d0: 7479 436f 6e74 726f 6c6c 6572 2c20 4358  tyController, CX
-000073e0: 0a20 2020 2020 2020 2020 2020 2022 7665  .            "ve
-000073f0: 7273 696f 6e22 3a20 7665 7273 696f 6e2c  rsion": version,
-00007400: 0a20 2020 2020 2020 2020 2020 2022 6d6f  .            "mo
-00007410: 6465 6c22 3a20 6d6f 6465 6c2c 0a20 2020  del": model,.   
-00007420: 2020 2020 207d 0a20 2020 2020 2020 2075       }.        u
-00007430: 726c 203d 2066 222f 636f 6e66 6967 7572  rl = f"/configur
-00007440: 6174 696f 6e2f 7631 2f67 726f 7570 732f  ation/v1/groups/
-00007450: 7b67 726f 7570 7d2f 7465 6d70 6c61 7465  {group}/template
-00007460: 7322 0a20 2020 2020 2020 2072 6574 7572  s".        retur
-00007470: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-00007480: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-00007490: 616d 7329 0a0a 2020 2020 2320 4649 584d  ams)..    # FIXM
-000074a0: 4520 2320 544f 444f 2023 2057 6861 7420  E # TODO # What 
-000074b0: 7468 6520 4162 736f 6c75 7465 2046 3f21  the Absolute F?!
-000074c0: 2020 6e6f 7420 6162 6c65 2074 6f20 7365    not able to se
-000074d0: 6e64 2074 656d 706c 6174 6520 6173 2066  nd template as f
-000074e0: 6f72 6d64 6174 6120 7072 6f70 6572 6c79  ormdata properly
-000074f0: 2077 6974 6820 6169 6f68 7474 700a 2020   with aiohttp.  
-00007500: 2020 2320 2020 2020 2020 7265 7175 6573    #       reques
-00007510: 7473 206d 6f64 756c 6520 776f 726b 732c  ts module works,
-00007520: 2062 7574 206e 6f20 6c75 636b 2061 6674   but no luck aft
-00007530: 6572 2068 6f75 7273 206d 6573 7369 6e67  er hours messing
-00007540: 2077 6974 6820 666f 726d 2d64 6174 6120   with form-data 
-00007550: 696e 2061 696f 6874 7470 0a20 2020 2061  in aiohttp.    a
-00007560: 7379 6e63 2064 6566 2061 6464 5f74 656d  sync def add_tem
-00007570: 706c 6174 6528 0a20 2020 2020 2020 2073  plate(.        s
-00007580: 656c 662c 0a20 2020 2020 2020 206e 616d  elf,.        nam
-00007590: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
-000075a0: 6772 6f75 703a 2073 7472 2c0a 2020 2020  group: str,.    
-000075b0: 2020 2020 7465 6d70 6c61 7465 3a20 556e      template: Un
-000075c0: 696f 6e5b 5061 7468 2c20 7374 722c 2062  ion[Path, str, b
-000075d0: 7974 6573 5d2c 0a20 2020 2020 2020 2064  ytes],.        d
-000075e0: 6576 6963 655f 7479 7065 3a20 636f 6e73  evice_type: cons
-000075f0: 7461 6e74 732e 4465 7654 7970 6573 203d  tants.DevTypes =
-00007600: 2261 7022 2c0a 2020 2020 2020 2020 7665  "ap",.        ve
-00007610: 7273 696f 6e3a 2073 7472 203d 2022 414c  rsion: str = "AL
-00007620: 4c22 2c0a 2020 2020 2020 2020 6d6f 6465  L",.        mode
-00007630: 6c3a 2073 7472 203d 2022 414c 4c22 2c0a  l: str = "ALL",.
-00007640: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00007650: 653a 0a20 2020 2020 2020 2022 2222 4372  e:.        """Cr
-00007660: 6561 7465 206e 6577 2074 656d 706c 6174  eate new templat
-00007670: 652e 0a0a 2020 2020 2020 2020 2f2f 2055  e...        // U
-00007680: 7365 6420 6279 2061 6464 2074 656d 706c  sed by add templ
-00007690: 6174 6520 2e2e 2e20 2f2f 0a0a 2020 2020  ate ... //..    
-000076a0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-000076b0: 2020 2020 2020 6e61 6d65 2028 7374 7229        name (str)
-000076c0: 3a20 4e61 6d65 206f 6620 7465 6d70 6c61  : Name of templa
-000076d0: 7465 2e0a 2020 2020 2020 2020 2020 2020  te..            
-000076e0: 6772 6f75 7020 2873 7472 293a 204e 616d  group (str): Nam
-000076f0: 6520 6f66 2074 6865 2067 726f 7570 2066  e of the group f
-00007700: 6f72 2077 6869 6368 2074 6865 2074 656d  or which the tem
-00007710: 706c 6174 6520 6973 2074 6f20 6265 2063  plate is to be c
-00007720: 7265 6174 6564 2e0a 2020 2020 2020 2020  reated..        
-00007730: 2020 2020 7465 6d70 6c61 7465 2028 556e      template (Un
-00007740: 696f 6e5b 5061 7468 2c20 7374 722c 2062  ion[Path, str, b
-00007750: 7974 6573 5d29 3a20 5465 6d70 6c61 7465  ytes]): Template
-00007760: 2046 696c 6520 6f72 2065 6e63 6f64 6564   File or encoded
-00007770: 2074 656d 706c 6174 6520 636f 6e74 656e   template conten
-00007780: 742e 0a20 2020 2020 2020 2020 2020 2020  t..             
-00007790: 2020 2046 6f72 2073 7720 2841 4f53 2d53     For sw (AOS-S
-000077a0: 7769 7463 6829 2064 6576 6963 655f 7479  witch) device_ty
-000077b0: 7065 2c20 7468 6520 7465 6d70 6c61 7465  pe, the template
-000077c0: 2074 6578 7420 7368 6f75 6c64 2069 6e63   text should inc
-000077d0: 6c75 6465 2074 6865 2066 6f6c 6c6f 7769  lude the followi
-000077e0: 6e67 0a20 2020 2020 2020 2020 2020 2020  ng.             
-000077f0: 2020 2063 6f6d 6d61 6e64 7320 746f 206d     commands to m
-00007800: 6169 6e74 6169 6e20 636f 6e6e 6563 7469  aintain connecti
-00007810: 6f6e 2077 6974 6820 6365 6e74 7261 6c2e  on with central.
-00007820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007830: 2031 2e20 6172 7562 612d 6365 6e74 7261   1. aruba-centra
-00007840: 6c20 656e 6162 6c65 2e0a 2020 2020 2020  l enable..      
-00007850: 2020 2020 2020 2020 2020 322e 2061 7275            2. aru
-00007860: 6261 2d63 656e 7472 616c 2075 726c 2068  ba-central url h
-00007870: 7474 7073 3a2f 2f3c 5552 4c20 7c20 4950  ttps://<URL | IP
-00007880: 3e2f 7773 2e0a 2020 2020 2020 2020 2020  >/ws..          
-00007890: 2020 6465 7669 6365 5f74 7970 6520 2873    device_type (s
-000078a0: 7472 293a 2044 6576 6963 6520 7479 7065  tr): Device type
-000078b0: 206f 6620 7468 6520 7465 6d70 6c61 7465   of the template
-000078c0: 2e20 2056 616c 6964 2056 616c 7565 733a  .  Valid Values:
-000078d0: 2061 702c 2073 772c 2063 782c 2067 770a   ap, sw, cx, gw.
-000078e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000078f0: 4465 6661 756c 7473 2074 6f20 6170 2e0a  Defaults to ap..
-00007900: 2020 2020 2020 2020 2020 2020 7665 7273              vers
-00007910: 696f 6e20 2873 7472 293a 2046 6972 6d77  ion (str): Firmw
-00007920: 6172 6520 7665 7273 696f 6e20 7072 6f70  are version prop
-00007930: 6572 7479 206f 6620 7465 6d70 6c61 7465  erty of template
-00007940: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00007950: 2020 4578 616d 706c 653a 2041 4c4c 2c20    Example: ALL, 
-00007960: 362e 352e 3420 6574 632e 0a20 2020 2020  6.5.4 etc..     
-00007970: 2020 2020 2020 206d 6f64 656c 2028 7374         model (st
-00007980: 7229 3a20 4d6f 6465 6c20 7072 6f70 6572  r): Model proper
-00007990: 7479 206f 6620 7465 6d70 6c61 7465 2e0a  ty of template..
-000079a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000079b0: 466f 7220 7377 2028 414f 532d 5377 6974  For sw (AOS-Swit
-000079c0: 6368 2920 6465 7669 6365 5f74 7970 652c  ch) device_type,
-000079d0: 2070 6172 7420 6e75 6d62 6572 2028 4a20   part number (J 
-000079e0: 6e75 6d62 6572 2920 6361 6e20 6265 2075  number) can be u
-000079f0: 7365 6420 666f 7220 7468 6520 6d6f 6465  sed for the mode
-00007a00: 6c0a 2020 2020 2020 2020 2020 2020 2020  l.              
-00007a10: 2020 7061 7261 6d65 7465 722e 2045 7861    parameter. Exa
-00007a20: 6d70 6c65 3a20 3239 3230 2c20 4a39 3732  mple: 2920, J972
-00007a30: 3741 2c20 6574 632e 0a0a 2020 2020 2020  7A, etc...      
-00007a40: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00007a50: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00007a60: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00007a70: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-00007a80: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00007a90: 7572 6c20 3d20 6622 2f63 6f6e 6669 6775  url = f"/configu
-00007aa0: 7261 7469 6f6e 2f76 312f 6772 6f75 7073  ration/v1/groups
-00007ab0: 2f7b 6772 6f75 707d 2f74 656d 706c 6174  /{group}/templat
-00007ac0: 6573 220a 2020 2020 2020 2020 666f 726d  es".        form
-00007ad0: 6461 7461 203d 2061 696f 6874 7470 2e46  data = aiohttp.F
-00007ae0: 6f72 6d44 6174 6128 290a 2020 2020 2020  ormData().      
-00007af0: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-00007b00: 7465 6d70 6c61 7465 2c20 6279 7465 7329  template, bytes)
-00007b10: 3a0a 2020 2020 2020 2020 2020 2020 2320  :.            # 
-00007b20: 666f 726d 6461 7461 2e61 6464 5f66 6965  formdata.add_fie
-00007b30: 6c64 2822 7465 6d70 6c61 7465 222c 207b  ld("template", {
-00007b40: 2274 656d 706c 6174 6522 3a20 7465 6d70  "template": temp
-00007b50: 6c61 7465 7d2c 2066 696c 656e 616d 653d  late}, filename=
-00007b60: 2274 656d 706c 6174 652e 7478 7422 290a  "template.txt").
-00007b70: 2020 2020 2020 2020 2020 2020 2320 6669              # fi
-00007b80: 6c65 7320 3d20 6169 6f68 7474 702e 466f  les = aiohttp.Fo
-00007b90: 726d 4461 7461 285b 2822 7465 6d70 6c61  rmData([("templa
-00007ba0: 7465 222c 2028 2274 656d 706c 6174 652e  te", ("template.
-00007bb0: 7478 7422 2c20 7465 6d70 6c61 7465 292c  txt", template),
-00007bc0: 295d 290a 2020 2020 2020 2020 2020 2020  )]).            
-00007bd0: 6669 6c65 7320 3d20 7b27 7465 6d70 6c61  files = {'templa
-00007be0: 7465 273a 2028 2774 656d 706c 6174 652e  te': ('template.
-00007bf0: 7478 7427 2c20 7465 6d70 6c61 7465 297d  txt', template)}
-00007c00: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00007c10: 2020 2020 2020 2020 2020 2074 656d 706c             templ
-00007c20: 6174 6520 3d20 7465 6d70 6c61 7465 2069  ate = template i
-00007c30: 6620 6973 696e 7374 616e 6365 2874 656d  f isinstance(tem
-00007c40: 706c 6174 652c 2050 6174 6829 2065 6c73  plate, Path) els
-00007c50: 6520 5061 7468 2873 7472 2874 656d 706c  e Path(str(templ
-00007c60: 6174 6529 290a 2020 2020 2020 2020 2020  ate)).          
-00007c70: 2020 6966 206e 6f74 2074 656d 706c 6174    if not templat
-00007c80: 652e 6578 6973 7473 2829 3a0a 2020 2020  e.exists():.    
-00007c90: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00007ca0: 6520 4669 6c65 4e6f 7446 6f75 6e64 4572  e FileNotFoundEr
-00007cb0: 726f 720a 0a20 2020 2020 2020 2020 2020  ror..           
-00007cc0: 2066 696c 6573 203d 207b 2774 656d 706c   files = {'templ
-00007cd0: 6174 6527 3a20 2827 7465 6d70 6c61 7465  ate': ('template
-00007ce0: 2e74 7874 272c 2074 656d 706c 6174 652e  .txt', template.
-00007cf0: 7265 6164 5f62 7974 6573 2829 297d 0a20  read_bytes())}. 
-00007d00: 2020 2020 2020 2020 2020 2023 2066 696c             # fil
-00007d10: 6573 203d 2061 696f 6874 7470 2e46 6f72  es = aiohttp.For
-00007d20: 6d44 6174 6128 5b28 2274 656d 706c 6174  mData([("templat
-00007d30: 6522 2c20 2822 7465 6d70 6c61 7465 2e74  e", ("template.t
-00007d40: 7874 222c 2074 656d 706c 6174 652e 7265  xt", template.re
-00007d50: 6164 5f62 7974 6573 2829 292c 295d 290a  ad_bytes()),)]).
-00007d60: 2020 2020 2020 2020 2020 2020 2320 666f              # fo
-00007d70: 726d 6461 7461 2e61 6464 5f66 6965 6c64  rmdata.add_field
-00007d80: 2822 7465 6d70 6c61 7465 222c 2074 656d  ("template", tem
-00007d90: 706c 6174 652e 7265 6164 5f62 7974 6573  plate.read_bytes
-00007da0: 2829 2c20 6669 6c65 6e61 6d65 3d22 7465  (), filename="te
-00007db0: 6d70 6c61 7465 2e74 7874 2229 0a20 2020  mplate.txt").   
-00007dc0: 2020 2020 2020 2020 2023 2066 6f72 6d64           # formd
-00007dd0: 6174 612e 6164 645f 6669 656c 6428 2274  ata.add_field("t
-00007de0: 656d 706c 6174 6522 2c20 7465 6d70 6c61  emplate", templa
-00007df0: 7465 2e72 6561 645f 6279 7465 7328 2929  te.read_bytes())
-00007e00: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
-00007e10: 666f 726d 6461 7461 2e61 6464 5f66 6965  formdata.add_fie
-00007e20: 6c64 280a 2020 2020 2020 2020 2020 2020  ld(.            
-00007e30: 2320 2020 2020 2274 656d 706c 6174 6522  #     "template"
-00007e40: 2c0a 2020 2020 2020 2020 2020 2020 2320  ,.            # 
-00007e50: 2020 2020 7465 6d70 6c61 7465 2e72 6561      template.rea
-00007e60: 645f 7465 7874 2829 2c0a 2020 2020 2020  d_text(),.      
-00007e70: 2020 2020 2020 2320 2020 2020 6669 6c65        #     file
-00007e80: 6e61 6d65 3d22 7465 6d70 6c61 7465 2e74  name="template.t
-00007e90: 7874 222c 0a20 2020 2020 2020 2020 2020  xt",.           
-00007ea0: 2023 2020 2020 2063 6f6e 7465 6e74 5f74   #     content_t
-00007eb0: 7970 653d 226d 756c 7469 7061 7274 2f66  ype="multipart/f
-00007ec0: 6f72 6d2d 6461 7461 220a 2020 2020 2020  orm-data".      
-00007ed0: 2020 2020 2020 2320 290a 0a20 2020 2020        # )..     
-00007ee0: 2020 2023 2077 7220 3d20 666f 726d 6461     # wr = formda
-00007ef0: 7461 2829 0a20 2020 2020 2020 2023 2064  ta().        # d
-00007f00: 6174 6120 3d20 6627 2d2d 7b77 722e 626f  ata = f'--{wr.bo
-00007f10: 756e 6461 7279 7d5c 725c 6e43 6f6e 7465  undary}\r\nConte
-00007f20: 6e74 2d44 6973 706f 7369 7469 6f6e 3a20  nt-Disposition: 
-00007f30: 666f 726d 2d64 6174 613b 206e 616d 653d  form-data; name=
-00007f40: 2274 656d 706c 6174 6522 3b66 696c 656e  "template";filen
-00007f50: 616d 653d 2274 656d 706c 6174 652e 7478  ame="template.tx
-00007f60: 7422 7b77 722e 5f70 6172 7473 5b30 5d5b  t"{wr._parts[0][
-00007f70: 305d 2e5f 7661 6c75 652e 6465 636f 6465  0]._value.decode
-00007f80: 2829 7d5c 725c 6e2d 2d7b 7772 2e62 6f75  ()}\r\n--{wr.bou
-00007f90: 6e64 6172 797d 272e 656e 636f 6465 2822  ndary}'.encode("
-00007fa0: 7574 662d 3822 290a 2020 2020 2020 2020  utf-8").        
-00007fb0: 6465 7669 6365 5f74 7970 6520 3d20 6465  device_type = de
-00007fc0: 7669 6365 5f74 7970 6520 6966 206e 6f74  vice_type if not
-00007fd0: 2068 6173 6174 7472 2864 6576 6963 655f   hasattr(device_
-00007fe0: 7479 7065 2c20 2276 616c 7565 2229 2065  type, "value") e
-00007ff0: 6c73 6520 6465 7669 6365 5f74 7970 652e  lse device_type.
-00008000: 7661 6c75 650a 2020 2020 2020 2020 6465  value.        de
-00008010: 7669 6365 5f74 7970 6520 3d20 636f 6e73  vice_type = cons
-00008020: 7461 6e74 732e 6c69 625f 746f 5f61 7069  tants.lib_to_api
-00008030: 2822 7465 6d70 6c61 7465 222c 2064 6576  ("template", dev
-00008040: 6963 655f 7479 7065 290a 0a20 2020 2020  ice_type)..     
-00008050: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-00008060: 2020 2020 2020 2020 2020 276e 616d 6527            'name'
-00008070: 3a20 6e61 6d65 2c0a 2020 2020 2020 2020  : name,.        
-00008080: 2020 2020 2764 6576 6963 655f 7479 7065      'device_type
-00008090: 273a 2064 6576 6963 655f 7479 7065 2c0a  ': device_type,.
-000080a0: 2020 2020 2020 2020 2020 2020 2776 6572              'ver
-000080b0: 7369 6f6e 273a 2076 6572 7369 6f6e 2c0a  sion': version,.
-000080c0: 2020 2020 2020 2020 2020 2020 276d 6f64              'mod
-000080d0: 656c 273a 206d 6f64 656c 0a20 2020 2020  el': model.     
-000080e0: 2020 207d 0a20 2020 2020 2020 2023 2057     }.        # W
-000080f0: 5446 204d 6973 7369 6e67 2066 6f72 6d64  TF Missing formd
-00008100: 6174 6120 7061 7261 6d65 7465 7220 2774  ata parameter 't
-00008110: 656d 706c 6174 6527 0a20 2020 2020 2020  emplate'.       
-00008120: 2023 2072 6574 7572 6e20 6177 6169 7420   # return await 
-00008130: 7365 6c66 2e70 6f73 7428 7572 6c2c 2070  self.post(url, p
-00008140: 6172 616d 733d 7061 7261 6d73 2c20 7061  arams=params, pa
-00008150: 796c 6f61 643d 666f 726d 6461 7461 2c29  yload=formdata,)
-00008160: 2020 230a 0a0a 2020 2020 2020 2020 2320    #...        # 
-00008170: 4e6f 2064 6966 6665 7265 6e63 6520 7673  No difference vs
-00008180: 2074 6865 2061 626f 7665 0a20 2020 2020   the above.     
-00008190: 2020 2023 2068 6561 6465 7273 203d 207b     # headers = {
-000081a0: 0a20 2020 2020 2020 2023 2020 2020 2022  .        #     "
-000081b0: 4175 7468 6f72 697a 6174 696f 6e22 3a20  Authorization": 
-000081c0: 6622 4265 6172 6572 207b 7365 6c66 2e61  f"Bearer {self.a
-000081d0: 7574 682e 6365 6e74 7261 6c5f 696e 666f  uth.central_info
-000081e0: 5b27 746f 6b65 6e27 5d5b 2761 6363 6573  ['token']['acces
-000081f0: 735f 746f 6b65 6e27 5d7d 222c 0a20 2020  s_token']}",.   
-00008200: 2020 2020 2023 2020 2020 2027 4163 6365       #     'Acce
-00008210: 7074 273a 2027 6170 706c 6963 6174 696f  pt': 'applicatio
-00008220: 6e2f 6a73 6f6e 272c 0a20 2020 2020 2020  n/json',.       
-00008230: 2023 2020 2020 2022 436f 6e74 656e 742d   #     "Content-
-00008240: 5479 7065 223a 2022 6d75 6c74 6970 6172  Type": "multipar
-00008250: 742f 666f 726d 2d64 6174 6122 0a20 2020  t/form-data".   
-00008260: 2020 2020 2023 207d 0a20 2020 2020 2020       # }.       
-00008270: 2023 2061 7379 6e63 2077 6974 6820 6169   # async with ai
-00008280: 6f68 7474 702e 436c 6965 6e74 5365 7373  ohttp.ClientSess
-00008290: 696f 6e28 7365 6c66 2e61 7574 682e 6365  ion(self.auth.ce
-000082a0: 6e74 7261 6c5f 696e 666f 5b22 6261 7365  ntral_info["base
-000082b0: 5f75 726c 225d 2920 6173 2073 6573 7369  _url"]) as sessi
-000082c0: 6f6e 3a0a 2020 2020 2020 2020 2320 2020  on:.        #   
-000082d0: 2020 7265 7370 203d 2061 7761 6974 2073    resp = await s
-000082e0: 6573 7369 6f6e 2e70 6f73 7428 7572 6c2c  ession.post(url,
-000082f0: 2070 6172 616d 733d 7061 7261 6d73 2c20   params=params, 
-00008300: 6461 7461 3d66 6f72 6d64 6174 612c 2068  data=formdata, h
-00008310: 6561 6465 7273 3d68 6561 6465 7273 2c20  eaders=headers, 
-00008320: 7373 6c3d 5472 7565 290a 2020 2020 2020  ssl=True).      
-00008330: 2020 2320 2020 2020 7472 793a 0a20 2020    #     try:.   
-00008340: 2020 2020 2023 2020 2020 2020 2020 206f       #         o
-00008350: 7574 7075 7420 3d20 6177 6169 7420 7265  utput = await re
-00008360: 7370 2e63 6f6e 7465 6e74 2e72 6561 6428  sp.content.read(
-00008370: 290a 2020 2020 2020 2020 2320 2020 2020  ).        #     
-00008380: 2020 2020 6f75 7470 7574 203d 206f 7574      output = out
-00008390: 7075 742e 6465 636f 6465 2829 0a20 2020  put.decode().   
-000083a0: 2020 2020 2023 2020 2020 2020 2020 206f       #         o
-000083b0: 7574 7075 7420 3d20 6a73 6f6e 2e6c 6f61  utput = json.loa
-000083c0: 6473 286f 7574 7075 7429 0a20 2020 2020  ds(output).     
-000083d0: 2020 2023 2020 2020 2065 7863 6570 7420     #     except 
-000083e0: 4578 6365 7074 696f 6e20 6173 2065 3a0a  Exception as e:.
-000083f0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00008400: 2020 6f75 7470 7574 203d 204e 6f6e 650a    output = None.
-00008410: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00008420: 2020 7072 696e 7428 6529 0a20 2020 2020    print(e).     
-00008430: 2020 2023 2072 6574 7572 6e20 5265 7370     # return Resp
-00008440: 6f6e 7365 2872 6573 702c 206f 7574 7075  onse(resp, outpu
-00008450: 743d 6f75 7470 7574 290a 0a20 2020 2020  t=output)..     
-00008460: 2020 2023 2048 4143 4b20 5468 6973 2077     # HACK This w
-00008470: 6f72 6b73 2062 7574 2070 7265 6665 7220  orks but prefer 
-00008480: 746f 2067 6574 2061 696f 6874 7470 2073  to get aiohttp s
-00008490: 6f72 7465 6420 666f 7220 636f 6e73 6973  orted for consis
-000084a0: 7465 6e63 790a 2020 2020 2020 2020 696d  tency.        im
-000084b0: 706f 7274 2072 6571 7565 7374 730a 2020  port requests.  
-000084c0: 2020 2020 2020 6865 6164 6572 7320 3d20        headers = 
-000084d0: 7b0a 2020 2020 2020 2020 2020 2020 2241  {.            "A
-000084e0: 7574 686f 7269 7a61 7469 6f6e 223a 2066  uthorization": f
-000084f0: 2242 6561 7265 7220 7b73 656c 662e 6175  "Bearer {self.au
-00008500: 7468 2e63 656e 7472 616c 5f69 6e66 6f5b  th.central_info[
-00008510: 2774 6f6b 656e 275d 5b27 6163 6365 7373  'token']['access
-00008520: 5f74 6f6b 656e 275d 7d22 2c0a 2020 2020  _token']}",.    
-00008530: 2020 2020 2020 2020 2741 6363 6570 7427          'Accept'
-00008540: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
-00008550: 736f 6e27 0a20 2020 2020 2020 207d 0a20  son'.        }. 
-00008560: 2020 2020 2020 2075 726c 3d66 227b 7365         url=f"{se
-00008570: 6c66 2e61 7574 682e 6365 6e74 7261 6c5f  lf.auth.central_
-00008580: 696e 666f 5b27 6261 7365 5f75 726c 275d  info['base_url']
-00008590: 7d7b 7572 6c7d 220a 2020 2020 2020 2020  }{url}".        
-000085a0: 666f 7220 5f20 696e 2072 616e 6765 2832  for _ in range(2
-000085b0: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
-000085c0: 6573 7020 3d20 7265 7175 6573 7473 2e72  esp = requests.r
-000085d0: 6571 7565 7374 2822 504f 5354 222c 2075  equest("POST", u
-000085e0: 726c 3d75 726c 2c20 7061 7261 6d73 3d70  rl=url, params=p
-000085f0: 6172 616d 732c 2066 696c 6573 3d66 696c  arams, files=fil
-00008600: 6573 2c20 6865 6164 6572 733d 6865 6164  es, headers=head
-00008610: 6572 7329 0a20 2020 2020 2020 2020 2020  ers).           
-00008620: 206f 7574 7075 7420 3d20 6622 5b7b 7265   output = f"[{re
-00008630: 7370 2e72 6561 736f 6e7d 5d22 202b 2022  sp.reason}]" + "
-00008640: 2022 202b 2072 6573 702e 7465 7874 2e6c   " + resp.text.l
-00008650: 7374 7269 7028 275b 5c6e 2022 2729 2e72  strip('[\n "').r
-00008660: 7374 7269 7028 2722 5c6e 5d27 290a 2020  strip('"\n]').  
-00008670: 2020 2020 2020 2020 2020 7265 7370 203d            resp =
-00008680: 2052 6573 706f 6e73 6528 6f75 7470 7574   Response(output
-00008690: 3d6f 7574 7075 742c 206f 6b3d 7265 7370  =output, ok=resp
-000086a0: 2e6f 6b2c 2075 726c 3d75 726c 2c20 656c  .ok, url=url, el
-000086b0: 6170 7365 643d 726f 756e 6428 7265 7370  apsed=round(resp
-000086c0: 2e65 6c61 7073 6564 2e74 6f74 616c 5f73  .elapsed.total_s
-000086d0: 6563 6f6e 6473 2829 2c20 3229 2c20 7374  econds(), 2), st
-000086e0: 6174 7573 5f63 6f64 653d 7265 7370 2e73  atus_code=resp.s
-000086f0: 7461 7475 735f 636f 6465 2c20 726c 5f73  tatus_code, rl_s
-00008700: 7472 3d22 2d22 290a 2020 2020 2020 2020  tr="-").        
-00008710: 2020 2020 6966 2022 696e 7661 6c69 645f      if "invalid_
-00008720: 746f 6b65 6e22 2069 6e20 7265 7370 2e6f  token" in resp.o
-00008730: 7574 7075 743a 0a20 2020 2020 2020 2020  utput:.         
-00008740: 2020 2020 2020 2073 656c 662e 7265 6672         self.refr
-00008750: 6573 685f 746f 6b65 6e28 290a 2020 2020  esh_token().    
-00008760: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00008770: 2020 2020 2020 2020 2020 2020 2020 6272                br
-00008780: 6561 6b0a 2020 2020 2020 2020 7265 7475  eak.        retu
-00008790: 726e 2072 6573 700a 0a20 2020 2061 7379  rn resp..    asy
-000087a0: 6e63 2064 6566 2075 7064 6174 655f 6578  nc def update_ex
-000087b0: 6973 7469 6e67 5f74 656d 706c 6174 6528  isting_template(
-000087c0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-000087d0: 2020 2020 2020 2067 726f 7570 3a20 7374         group: st
-000087e0: 722c 0a20 2020 2020 2020 206e 616d 653a  r,.        name:
-000087f0: 2073 7472 2c0a 2020 2020 2020 2020 7465   str,.        te
-00008800: 6d70 6c61 7465 3a20 5061 7468 203d 204e  mplate: Path = N
-00008810: 6f6e 652c 0a20 2020 2020 2020 2070 6179  one,.        pay
-00008820: 6c6f 6164 3a20 7374 7220 3d20 4e6f 6e65  load: str = None
-00008830: 2c0a 2020 2020 2020 2020 6465 7669 6365  ,.        device
-00008840: 5f74 7970 653a 2073 7472 203d 204e 6f6e  _type: str = Non
-00008850: 652c 0a20 2020 2020 2020 2076 6572 7369  e,.        versi
-00008860: 6f6e 3a20 7374 7220 3d20 4e6f 6e65 2c0a  on: str = None,.
-00008870: 2020 2020 2020 2020 6d6f 6465 6c3a 2073          model: s
-00008880: 7472 203d 204e 6f6e 652c 0a20 2020 2029  tr = None,.    )
-00008890: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-000088a0: 2020 2020 2020 2222 2255 7064 6174 6520        """Update 
-000088b0: 6578 6973 7469 6e67 2074 656d 706c 6174  existing templat
-000088c0: 652e 0a0a 2020 2020 2020 2020 4172 6773  e...        Args
-000088d0: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
-000088e0: 6f75 7020 2873 7472 293a 204e 616d 6520  oup (str): Name 
-000088f0: 6f66 2074 6865 2067 726f 7570 2066 6f72  of the group for
-00008900: 2077 6869 6368 2074 6865 2074 656d 706c   which the templ
-00008910: 6174 6520 6973 2074 6f20 6265 2075 7064  ate is to be upd
-00008920: 6174 6564 2e0a 2020 2020 2020 2020 2020  ated..          
-00008930: 2020 6e61 6d65 2028 7374 7229 3a20 4e61    name (str): Na
-00008940: 6d65 206f 6620 7465 6d70 6c61 7465 2e0a  me of template..
-00008950: 2020 2020 2020 2020 2020 2020 6465 7669              devi
-00008960: 6365 5f74 7970 6520 2873 7472 2c20 6f70  ce_type (str, op
-00008970: 7469 6f6e 616c 293a 2044 6576 6963 6520  tional): Device 
-00008980: 7479 7065 206f 6620 7468 6520 7465 6d70  type of the temp
-00008990: 6c61 7465 2e0a 2020 2020 2020 2020 2020  late..          
-000089a0: 2020 2020 2020 5661 6c69 6420 5661 6c75        Valid Valu
-000089b0: 6573 3a20 6170 2c20 7377 2028 4172 7562  es: ap, sw (Arub
-000089c0: 614f 532d 5357 292c 2063 7820 2841 7275  aOS-SW), cx (Aru
-000089d0: 6261 4f53 2d43 5829 2c20 6777 2028 636f  baOS-CX), gw (co
-000089e0: 6e74 726f 6c6c 6572 732f 6761 7465 7761  ntrollers/gatewa
-000089f0: 7973 290a 2020 2020 2020 2020 2020 2020  ys).            
-00008a00: 7665 7273 696f 6e20 2873 7472 2c20 6f70  version (str, op
-00008a10: 7469 6f6e 616c 293a 2046 6972 6d77 6172  tional): Firmwar
-00008a20: 6520 7665 7273 696f 6e20 7072 6f70 6572  e version proper
-00008a30: 7479 206f 6620 7465 6d70 6c61 7465 2e0a  ty of template..
-00008a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008a50: 4578 616d 706c 653a 2041 4c4c 2c20 362e  Example: ALL, 6.
-00008a60: 352e 3420 6574 632e 0a20 2020 2020 2020  5.4 etc..       
-00008a70: 2020 2020 206d 6f64 656c 2028 7374 722c       model (str,
-00008a80: 206f 7074 696f 6e61 6c29 3a20 4d6f 6465   optional): Mode
-00008a90: 6c20 7072 6f70 6572 7479 206f 6620 7465  l property of te
-00008aa0: 6d70 6c61 7465 2e0a 2020 2020 2020 2020  mplate..        
-00008ab0: 2020 2020 2020 2020 466f 7220 2741 7275          For 'Aru
-00008ac0: 6261 5377 6974 6368 2720 6465 7669 6365  baSwitch' device
-00008ad0: 5f74 7970 652c 2070 6172 7420 6e75 6d62  _type, part numb
-00008ae0: 6572 2028 4a20 6e75 6d62 6572 2920 6361  er (J number) ca
-00008af0: 6e20 6265 2075 7365 6420 666f 7220 7468  n be used for th
-00008b00: 6520 6d6f 6465 6c2e 0a20 2020 2020 2020  e model..       
-00008b10: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
-00008b20: 3a20 3239 3230 2c20 4a39 3732 3741 2065  : 2920, J9727A e
-00008b30: 7463 2e0a 2020 2020 2020 2020 2020 2020  tc..            
-00008b40: 7465 6d70 6c61 7465 2028 556e 696f 6e5b  template (Union[
-00008b50: 5061 7468 2c20 7374 725d 2c20 6f70 7469  Path, str], opti
-00008b60: 6f6e 616c 293a 2054 656d 706c 6174 6520  onal): Template 
-00008b70: 7465 7874 2e0a 2020 2020 2020 2020 2020  text..          
-00008b80: 2020 2020 2020 466f 7220 2741 7275 6261        For 'Aruba
-00008b90: 5377 6974 6368 2720 6465 7669 6365 5f74  Switch' device_t
-00008ba0: 7970 652c 2074 6865 2074 656d 706c 6174  ype, the templat
-00008bb0: 6520 7465 7874 2073 686f 756c 6420 696e  e text should in
-00008bc0: 636c 7564 6520 7468 6520 666f 6c6c 6f77  clude the follow
-00008bd0: 696e 670a 2020 2020 2020 2020 2020 2020  ing.            
-00008be0: 2020 2020 636f 6d6d 616e 6473 2074 6f20      commands to 
-00008bf0: 6d61 696e 7461 696e 2063 6f6e 6e65 6374  maintain connect
-00008c00: 696f 6e20 7769 7468 2063 656e 7472 616c  ion with central
-00008c10: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00008c20: 2020 312e 2061 7275 6261 2d63 656e 7472    1. aruba-centr
-00008c30: 616c 2065 6e61 626c 652e 0a20 2020 2020  al enable..     
-00008c40: 2020 2020 2020 2020 2020 2032 2e20 6172             2. ar
-00008c50: 7562 612d 6365 6e74 7261 6c20 7572 6c20  uba-central url 
-00008c60: 6874 7470 733a 2f2f 3c55 524c 207c 2049  https://<URL | I
-00008c70: 503e 2f77 732e 0a20 2020 2020 2020 2020  P>/ws..         
-00008c80: 2020 2070 6179 6c6f 6164 2028 7374 722c     payload (str,
-00008c90: 206f 7074 696f 6e61 6c29 3a20 6a73 6f6e   optional): json
-00008ca0: 2072 6570 7265 7365 6e74 6174 696f 6e20   representation 
-00008cb0: 6f66 2074 6865 2072 6571 7569 7265 6420  of the required 
-00008cc0: 7061 7261 6d73 2e0a 0a20 2020 2020 2020  params...       
-00008cd0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-00008ce0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-00008cf0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-00008d00: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-00008d10: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-00008d20: 726c 203d 2066 222f 636f 6e66 6967 7572  rl = f"/configur
-00008d30: 6174 696f 6e2f 7631 2f67 726f 7570 732f  ation/v1/groups/
-00008d40: 7b67 726f 7570 7d2f 7465 6d70 6c61 7465  {group}/template
-00008d50: 7322 0a20 2020 2020 2020 2074 656d 706c  s".        templ
-00008d60: 6174 6520 3d20 7465 6d70 6c61 7465 2069  ate = template i
-00008d70: 6620 6973 696e 7374 616e 6365 2874 656d  f isinstance(tem
-00008d80: 706c 6174 652c 2050 6174 6829 2065 6c73  plate, Path) els
-00008d90: 6520 5061 7468 2873 7472 2874 656d 706c  e Path(str(templ
-00008da0: 6174 6529 290a 0a20 2020 2020 2020 2069  ate))..        i
-00008db0: 6620 6465 7669 6365 5f74 7970 653a 0a20  f device_type:. 
-00008dc0: 2020 2020 2020 2020 2020 2064 6576 6963             devic
-00008dd0: 655f 7479 7065 203d 2063 6f6e 7374 616e  e_type = constan
-00008de0: 7473 2e6c 6962 5f74 6f5f 6170 6928 2274  ts.lib_to_api("t
-00008df0: 656d 706c 6174 6522 2c20 6465 7669 6365  emplate", device
-00008e00: 5f74 7970 6529 0a0a 2020 2020 2020 2020  _type)..        
-00008e10: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
-00008e20: 2020 2020 2020 2027 6e61 6d65 273a 206e         'name': n
-00008e30: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
-00008e40: 2027 6465 7669 6365 5f74 7970 6527 3a20   'device_type': 
-00008e50: 6465 7669 6365 5f74 7970 652c 0a20 2020  device_type,.   
-00008e60: 2020 2020 2020 2020 2027 7665 7273 696f           'versio
-00008e70: 6e27 3a20 7665 7273 696f 6e2c 0a20 2020  n': version,.   
-00008e80: 2020 2020 2020 2020 2027 6d6f 6465 6c27           'model'
-00008e90: 3a20 6d6f 6465 6c0a 2020 2020 2020 2020  : model.        
-00008ea0: 7d0a 0a20 2020 2020 2020 2069 6620 7465  }..        if te
-00008eb0: 6d70 6c61 7465 2061 6e64 2074 656d 706c  mplate and templ
-00008ec0: 6174 652e 6973 5f66 696c 6528 2920 616e  ate.is_file() an
-00008ed0: 6420 7465 6d70 6c61 7465 2e73 7461 7428  d template.stat(
-00008ee0: 292e 7374 5f73 697a 6520 3e20 303a 0a20  ).st_size > 0:. 
-00008ef0: 2020 2020 2020 2020 2020 2074 656d 706c             templ
-00008f00: 6174 655f 6461 7461 3a20 6279 7465 7320  ate_data: bytes 
-00008f10: 3d20 7465 6d70 6c61 7465 2e72 6561 645f  = template.read_
-00008f20: 6279 7465 7328 290a 2020 2020 2020 2020  bytes().        
-00008f30: 656c 6966 2070 6179 6c6f 6164 3a0a 2020  elif payload:.  
-00008f40: 2020 2020 2020 2020 2020 7465 6d70 6c61            templa
-00008f50: 7465 5f64 6174 613a 2062 7974 6573 203d  te_data: bytes =
-00008f60: 2070 6179 6c6f 6164 0a20 2020 2020 2020   payload.       
-00008f70: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00008f80: 2020 2074 656d 706c 6174 655f 6461 7461     template_data
-00008f90: 203d 204e 6f6e 650a 0a20 2020 2020 2020   = None..       
-00008fa0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00008fb0: 6c66 2e70 6174 6368 2875 726c 2c20 7061  lf.patch(url, pa
-00008fc0: 7261 6d73 3d70 6172 616d 732c 2070 6179  rams=params, pay
-00008fd0: 6c6f 6164 3d74 656d 706c 6174 655f 6461  load=template_da
-00008fe0: 7461 290a 0a20 2020 2023 2054 6573 7465  ta)..    # Teste
-00008ff0: 6420 616e 6420 776f 726b 7320 6275 7420  d and works but 
-00009000: 6e6f 7420 7573 6564 2e20 2054 6869 7320  not used.  This 
-00009010: 6361 6c6c 7320 7079 6365 6e74 7261 6c20  calls pycentral 
-00009020: 6d65 7468 6f64 2064 6972 6563 746c 792c  method directly,
-00009030: 2062 7574 2069 7420 6861 7320 616e 2065   but it has an e
-00009040: 7272 6f72 2069 6e20 6261 7365 2e70 7920  rror in base.py 
-00009050: 636f 6d6d 616e 6420 7265 2075 726c 2063  command re url c
-00009060: 6f6e 6361 740a 2020 2020 2320 616e 6420  oncat.    # and 
-00009070: 6974 2064 6f65 736e 2774 2063 6174 6368  it doesn't catch
-00009080: 2061 6c6c 2065 7863 6570 7469 6f6e 7320   all exceptions 
-00009090: 736f 2070 6f73 7369 626c 6520 746f 2067  so possible to g
-000090a0: 6574 2065 7863 6570 7469 6f6e 2077 6865  et exception whe
-000090b0: 6e20 6576 616c 2072 6573 702e 2e2e 206f  n eval resp... o
-000090c0: 7572 2052 6573 706f 6e73 6520 6f62 6a65  ur Response obje
-000090d0: 6374 2069 7320 6265 7474 6572 2049 4d48  ct is better IMH
-000090e0: 4f0a 2020 2020 6173 796e 6320 6465 6620  O.    async def 
-000090f0: 5f75 7064 6174 655f 6578 6973 7469 6e67  _update_existing
-00009100: 5f74 656d 706c 6174 6528 0a20 2020 2020  _template(.     
-00009110: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00009120: 2067 726f 7570 3a20 7374 722c 0a20 2020   group: str,.   
-00009130: 2020 2020 206e 616d 653a 2073 7472 2c0a       name: str,.
-00009140: 2020 2020 2020 2020 7465 6d70 6c61 7465          template
-00009150: 3a20 5061 7468 203d 204e 6f6e 652c 0a20  : Path = None,. 
-00009160: 2020 2020 2020 2070 6179 6c6f 6164 3a20         payload: 
-00009170: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00009180: 2020 2020 6465 7669 6365 5f74 7970 653a      device_type:
-00009190: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000091a0: 2020 2020 2076 6572 7369 6f6e 3a20 7374       version: st
-000091b0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-000091c0: 2020 6d6f 6465 6c3a 2073 7472 203d 204e    model: str = N
-000091d0: 6f6e 652c 0a20 2020 2029 202d 3e20 5265  one,.    ) -> Re
-000091e0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-000091f0: 6672 6f6d 2070 7963 656e 7472 616c 2e63  from pycentral.c
-00009200: 6f6e 6669 6775 7261 7469 6f6e 2069 6d70  onfiguration imp
-00009210: 6f72 7420 5465 6d70 6c61 7465 730a 0a20  ort Templates.. 
-00009220: 2020 2020 2020 2074 656d 706c 6174 6573         templates
-00009230: 203d 2054 656d 706c 6174 6573 2829 0a20   = Templates(). 
-00009240: 2020 2020 2020 206b 7761 7267 7320 3d20         kwargs = 
-00009250: 7b0a 2020 2020 2020 2020 2020 2020 2267  {.            "g
-00009260: 726f 7570 5f6e 616d 6522 3a20 6772 6f75  roup_name": grou
-00009270: 702c 0a20 2020 2020 2020 2020 2020 2022  p,.            "
-00009280: 7465 6d70 6c61 7465 5f6e 616d 6522 3a20  template_name": 
-00009290: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
-000092a0: 2020 2264 6576 6963 655f 7479 7065 223a    "device_type":
-000092b0: 2064 6576 6963 655f 7479 7065 2c0a 2020   device_type,.  
-000092c0: 2020 2020 2020 2020 2020 2276 6572 7369            "versi
-000092d0: 6f6e 223a 2076 6572 7369 6f6e 2c0a 2020  on": version,.  
-000092e0: 2020 2020 2020 2020 2020 226d 6f64 656c            "model
-000092f0: 223a 206d 6f64 656c 2c0a 2020 2020 2020  ": model,.      
-00009300: 2020 2020 2020 2274 656d 706c 6174 655f        "template_
-00009310: 6669 6c65 6e61 6d65 223a 2073 7472 2874  filename": str(t
-00009320: 656d 706c 6174 6529 2c0a 2020 2020 2020  emplate),.      
-00009330: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
-00009340: 7572 6e20 7465 6d70 6c61 7465 732e 7570  urn templates.up
-00009350: 6461 7465 5f74 656d 706c 6174 6528 7365  date_template(se
-00009360: 6c66 2e61 7574 682c 202a 2a6b 7761 7267  lf.auth, **kwarg
-00009370: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
-00009380: 6620 5f67 6574 5f67 726f 7570 5f6e 616d  f _get_group_nam
-00009390: 6573 2873 656c 6629 202d 3e20 5265 7370  es(self) -> Resp
-000093a0: 6f6e 7365 3a0a 2020 2020 2020 2020 7572  onse:.        ur
-000093b0: 6c20 3d20 222f 636f 6e66 6967 7572 6174  l = "/configurat
-000093c0: 696f 6e2f 7632 2f67 726f 7570 7322 0a20  ion/v2/groups". 
-000093d0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-000093e0: 7b22 6f66 6673 6574 223a 2030 2c20 226c  {"offset": 0, "l
-000093f0: 696d 6974 223a 2031 3030 7d20 2023 2031  imit": 100}  # 1
-00009400: 3030 2069 7320 7468 6520 6d61 780a 2020  00 is the max.  
-00009410: 2020 2020 2020 7265 7370 203d 2061 7761        resp = awa
-00009420: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-00009430: 2070 6172 616d 733d 7061 7261 6d73 2c29   params=params,)
-00009440: 0a20 2020 2020 2020 2072 6573 702e 6f75  .        resp.ou
-00009450: 7470 7574 203d 2063 6c65 616e 6572 2e5f  tput = cleaner._
-00009460: 6765 745f 6772 6f75 705f 6e61 6d65 7328  get_group_names(
-00009470: 7265 7370 2e6f 7574 7075 7429 0a20 2020  resp.output).   
-00009480: 2020 2020 2072 6574 7572 6e20 7265 7370       return resp
-00009490: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-000094a0: 6465 6c65 7465 5f74 656d 706c 6174 6528  delete_template(
-000094b0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-000094c0: 2020 2020 2020 2067 726f 7570 3a20 7374         group: st
-000094d0: 722c 0a20 2020 2020 2020 2074 656d 706c  r,.        templ
-000094e0: 6174 653a 2073 7472 2c0a 2020 2020 2920  ate: str,.    ) 
-000094f0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00009500: 2020 2020 2022 2222 4465 6c65 7465 2065       """Delete e
-00009510: 7869 7374 696e 6720 7465 6d70 6c61 7465  xisting template
-00009520: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
-00009530: 6564 2062 7920 6465 6c65 7465 2074 656d  ed by delete tem
-00009540: 706c 6174 6520 2e2e 2e20 2f2f 0a0a 2020  plate ... //..  
-00009550: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00009560: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
-00009570: 7472 293a 204e 616d 6520 6f66 2074 6865  tr): Name of the
-00009580: 2067 726f 7570 2066 6f72 2077 6869 6368   group for which
-00009590: 2074 6865 2074 656d 706c 6174 6520 6973   the template is
-000095a0: 2074 6f20 6265 2064 656c 6574 6564 2e0a   to be deleted..
-000095b0: 2020 2020 2020 2020 2020 2020 7465 6d70              temp
-000095c0: 6c61 7465 2028 7374 7229 3a20 4e61 6d65  late (str): Name
-000095d0: 206f 6620 7468 6520 7465 6d70 6c61 7465   of the template
-000095e0: 2074 6f20 6265 2064 656c 6574 6564 2e0a   to be deleted..
-000095f0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00009600: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-00009610: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-00009620: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00009630: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00009640: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-00009650: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
-00009660: 2f67 726f 7570 732f 7b67 726f 7570 7d2f  /groups/{group}/
-00009670: 7465 6d70 6c61 7465 732f 7b74 656d 706c  templates/{templ
-00009680: 6174 657d 220a 0a20 2020 2020 2020 2072  ate}"..        r
-00009690: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-000096a0: 2e64 656c 6574 6528 7572 6c29 0a0a 2020  .delete(url)..  
-000096b0: 2020 2320 544f 444f 2064 6570 7265 6361    # TODO depreca
-000096c0: 7465 2074 6869 7320 7573 6564 2062 7920  te this used by 
-000096d0: 6772 6f75 7020 6361 6368 6520 7570 6461  group cache upda
-000096e0: 7465 2e20 205f 6765 745f 6772 6f75 705f  te.  _get_group_
-000096f0: 6e61 6d65 7320 7468 656e 2067 6574 5f67  names then get_g
-00009700: 726f 7570 735f 7072 6f70 6572 7469 6573  roups_properties
-00009710: 2e20 204d 6f72 6520 696e 666f 2069 6e20  .  More info in 
-00009720: 7369 6e67 6c65 2063 616c 6c0a 2020 2020  single call.    
-00009730: 6173 796e 6320 6465 6620 6765 745f 616c  async def get_al
-00009740: 6c5f 6772 6f75 7073 2873 656c 6629 202d  l_groups(self) -
-00009750: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00009760: 2020 2020 7265 7370 203d 2061 7761 6974      resp = await
-00009770: 2073 656c 662e 5f67 6574 5f67 726f 7570   self._get_group
-00009780: 5f6e 616d 6573 2829 0a20 2020 2020 2020  _names().       
-00009790: 2069 6620 6e6f 7420 7265 7370 2e6f 6b3a   if not resp.ok:
-000097a0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-000097b0: 7572 6e20 7265 7370 0a20 2020 2020 2020  urn resp.       
-000097c0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-000097d0: 2020 2075 726c 203d 2022 2f63 6f6e 6669     url = "/confi
-000097e0: 6775 7261 7469 6f6e 2f76 322f 6772 6f75  guration/v2/grou
-000097f0: 7073 2f74 656d 706c 6174 655f 696e 666f  ps/template_info
-00009800: 220a 2020 2020 2020 2020 2020 2020 2320  ".            # 
-00009810: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00009820: 662e 6765 745f 6772 6f75 7073 5f70 726f  f.get_groups_pro
-00009830: 7065 7274 6965 7328 7265 7370 2e6f 7574  perties(resp.out
-00009840: 7075 7429 0a20 2020 2020 2020 2020 2020  put).           
-00009850: 2062 6174 6368 5f72 6571 7320 3d20 5b5d   batch_reqs = []
-00009860: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-00009870: 2067 726f 7570 7320 696e 2075 7469 6c73   groups in utils
-00009880: 2e63 6875 6e6b 6572 2872 6573 702e 6f75  .chunker(resp.ou
-00009890: 7470 7574 2c20 3230 293a 2020 2320 5468  tput, 20):  # Th
-000098a0: 6973 2063 616c 6c20 616c 6c6f 7773 2061  is call allows a
-000098b0: 206d 6178 206f 6620 3230 0a20 2020 2020   max of 20.     
-000098c0: 2020 2020 2020 2020 2020 2070 6172 616d             param
-000098d0: 7320 3d20 7b22 6772 6f75 7073 223a 2022  s = {"groups": "
-000098e0: 2c22 2e6a 6f69 6e28 6772 6f75 7073 297d  ,".join(groups)}
-000098f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009900: 2062 6174 6368 5f72 6571 7320 2b3d 205b   batch_reqs += [
-00009910: 7365 6c66 2e42 6174 6368 5265 7175 6573  self.BatchReques
-00009920: 7428 7365 6c66 2e67 6574 2c20 7572 6c2c  t(self.get, url,
-00009930: 2070 6172 616d 733d 7061 7261 6d73 295d   params=params)]
-00009940: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009950: 2023 2061 6c6c 5f67 726f 7570 7320 3d20   # all_groups = 
-00009960: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-00009970: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-00009980: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
-00009990: 2020 2023 2054 4f44 4f20 6475 6e64 6572     # TODO dunder
-000099a0: 2061 6464 2069 6e20 5265 7370 6f6e 7365   add in Response
-000099b0: 0a20 2020 2020 2020 2020 2020 2062 6174  .            bat
-000099c0: 6368 5f72 6573 7020 3d20 6177 6169 7420  ch_resp = await 
-000099d0: 7365 6c66 2e5f 6261 7463 685f 7265 7175  self._batch_requ
-000099e0: 6573 7428 6261 7463 685f 7265 7173 290a  est(batch_reqs).
-000099f0: 2020 2020 2020 2020 2020 2020 2320 544f              # TO
-00009a00: 444f 206d 6574 686f 6420 746f 2063 6f6d  DO method to com
-00009a10: 6269 6e65 2072 6177 2061 6e64 206f 7574  bine raw and out
-00009a20: 7075 7420 6174 7472 7320 6f66 2061 6c6c  put attrs of all
-00009a30: 2072 6573 706f 6e73 6573 2069 6e74 6f20   responses into 
-00009a40: 6c61 7374 2072 6573 700a 2020 2020 2020  last resp.      
-00009a50: 2020 2020 2020 6f75 7470 7574 203d 205b        output = [
-00009a60: 7220 666f 7220 7265 7320 696e 2062 6174  r for res in bat
-00009a70: 6368 5f72 6573 7020 666f 7220 7220 696e  ch_resp for r in
-00009a80: 2072 6573 2e6f 7574 7075 745d 0a20 2020   res.output].   
-00009a90: 2020 2020 2020 2020 2072 6573 7020 3d20           resp = 
-00009aa0: 6261 7463 685f 7265 7370 5b2d 315d 0a20  batch_resp[-1]. 
-00009ab0: 2020 2020 2020 2020 2020 2072 6573 702e             resp.
-00009ac0: 6f75 7470 7574 203d 206f 7574 7075 740a  output = output.
-00009ad0: 2020 2020 2020 2020 2020 2020 6966 2022              if "
-00009ae0: 6461 7461 2220 696e 2072 6573 702e 7261  data" in resp.ra
-00009af0: 773a 0a20 2020 2020 2020 2020 2020 2020  w:.             
-00009b00: 2020 2072 6573 702e 7261 775b 2264 6174     resp.raw["dat
-00009b10: 6122 5d20 3d20 6f75 7470 7574 0a20 2020  a"] = output.   
-00009b20: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00009b30: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-00009b40: 6f67 2e77 6172 6e69 6e67 2822 7261 7720  og.warning("raw 
-00009b50: 6174 7472 2069 6e20 7265 7370 2066 726f  attr in resp fro
-00009b60: 6d20 6765 745f 616c 6c5f 6772 6f75 7073  m get_all_groups
-00009b70: 206c 6163 6b73 2065 7870 6563 7465 6420   lacks expected 
-00009b80: 6f75 7465 7220 6b65 7920 2764 6174 6127  outer key 'data'
-00009b90: 2229 0a0a 2020 2020 2020 2020 2020 2020  ")..            
-00009ba0: 7265 7475 726e 2072 6573 700a 0a0a 2020  return resp...  
-00009bb0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-00009bc0: 616c 6c5f 7465 6d70 6c61 7465 7328 7365  all_templates(se
-00009bd0: 6c66 2c20 6772 6f75 7073 3a20 4c69 7374  lf, groups: List
-00009be0: 5b64 6963 745d 203d 204e 6f6e 652c 202a  [dict] = None, *
-00009bf0: 2a70 6172 616d 7329 202d 3e20 5265 7370  *params) -> Resp
-00009c00: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00009c10: 2247 6574 2064 6174 6120 666f 7220 616c  "Get data for al
-00009c20: 6c20 6465 6669 6e65 6420 7465 6d70 6c61  l defined templa
-00009c30: 7465 7320 6672 6f6d 2041 7275 6261 2043  tes from Aruba C
-00009c40: 656e 7472 616c 0a0a 2020 2020 2020 2020  entral..        
-00009c50: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00009c60: 2020 6772 6f75 7073 2028 4c69 7374 5b64    groups (List[d
-00009c70: 6963 745d 2c20 6f70 7469 6f6e 616c 293a  ict], optional):
-00009c80: 204c 6973 7420 6f66 2067 726f 7570 2064   List of group d
-00009c90: 6963 7469 6f6e 6172 6965 7320 2849 6620  ictionaries (If 
-00009ca0: 7072 6f76 6964 6564 2061 6464 6974 696f  provided additio
-00009cb0: 6e61 6c20 4150 490a 2020 2020 2020 2020  nal API.        
-00009cc0: 2020 2020 2020 2020 6361 6c6c 7320 746f          calls to
-00009cd0: 2067 6574 2067 726f 7570 206e 616d 6573   get group names
-00009ce0: 2066 6f72 2061 6c6c 2074 656d 706c 6174   for all templat
-00009cf0: 6520 6772 6f75 7073 2061 7265 206e 6f74  e groups are not
-00009d00: 2070 6572 666f 726d 6564 292e 0a20 2020   performed)..   
-00009d10: 2020 2020 2020 2020 2020 2020 2044 6566               Def
-00009d20: 6175 6c74 7320 746f 204e 6f6e 652e 0a0a  aults to None...
-00009d30: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00009d40: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00009d50: 706f 6e73 653a 2063 656e 7472 616c 636c  ponse: centralcl
-00009d60: 6920 5265 7370 6f6e 7365 204f 626a 6563  i Response Objec
-00009d70: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00009d80: 2020 2020 2020 6966 206e 6f74 2067 726f        if not gro
-00009d90: 7570 733a 0a20 2020 2020 2020 2020 2020  ups:.           
-00009da0: 2072 6573 7020 3d20 6177 6169 7420 7365   resp = await se
-00009db0: 6c66 2e67 6574 5f61 6c6c 5f67 726f 7570  lf.get_all_group
-00009dc0: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
-00009dd0: 6966 206e 6f74 2072 6573 703a 0a20 2020  if not resp:.   
-00009de0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00009df0: 7572 6e20 7265 7370 0a20 2020 2020 2020  urn resp.       
-00009e00: 2020 2020 2067 726f 7570 7320 3d20 636c       groups = cl
-00009e10: 6561 6e65 722e 6765 745f 616c 6c5f 6772  eaner.get_all_gr
-00009e20: 6f75 7073 2872 6573 702e 6f75 7470 7574  oups(resp.output
-00009e30: 290a 0a20 2020 2020 2020 2074 656d 706c  )..        templ
-00009e40: 6174 655f 6772 6f75 7073 203d 205b 675b  ate_groups = [g[
-00009e50: 226e 616d 6522 5d20 666f 7220 6720 696e  "name"] for g in
-00009e60: 2067 726f 7570 7320 6966 2054 7275 6520   groups if True 
-00009e70: 696e 2067 5b22 7465 6d70 6c61 7465 2067  in g["template g
-00009e80: 726f 7570 225d 2e76 616c 7565 7328 295d  roup"].values()]
-00009e90: 0a0a 2020 2020 2020 2020 6966 206e 6f74  ..        if not
-00009ea0: 2074 656d 706c 6174 655f 6772 6f75 7073   template_groups
-00009eb0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00009ec0: 7475 726e 2052 6573 706f 6e73 6528 0a20  turn Response(. 
-00009ed0: 2020 2020 2020 2020 2020 2020 2020 2075                 u
-00009ee0: 726c 3d22 4e6f 2063 616c 6c20 7065 7266  rl="No call perf
-00009ef0: 6f72 6d65 6422 2c0a 2020 2020 2020 2020  ormed",.        
-00009f00: 2020 2020 2020 2020 6f6b 3d54 7275 652c          ok=True,
-00009f10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009f20: 206f 7574 7075 743d 5b5d 2c0a 2020 2020   output=[],.    
-00009f30: 2020 2020 2020 2020 2020 2020 7261 773d              raw=
-00009f40: 5b5d 2c0a 2020 2020 2020 2020 2020 2020  [],.            
-00009f50: 2020 2020 6572 726f 723d 224e 6f6e 6520      error="None 
-00009f60: 6f66 2074 6865 2063 6f6e 6669 6775 7265  of the configure
-00009f70: 6420 6772 6f75 7073 2061 7265 2054 656d  d groups are Tem
-00009f80: 706c 6174 6520 4772 6f75 7073 2e22 2c0a  plate Groups.",.
-00009f90: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
-00009fa0: 2020 2020 2020 2072 6571 7320 3d20 5b73         reqs = [s
-00009fb0: 656c 662e 4261 7463 6852 6571 7565 7374  elf.BatchRequest
-00009fc0: 2873 656c 662e 6765 745f 616c 6c5f 7465  (self.get_all_te
-00009fd0: 6d70 6c61 7465 735f 696e 5f67 726f 7570  mplates_in_group
-00009fe0: 2c20 6772 6f75 702c 202a 2a70 6172 616d  , group, **param
-00009ff0: 7329 2066 6f72 2067 726f 7570 2069 6e20  s) for group in 
-0000a000: 7465 6d70 6c61 7465 5f67 726f 7570 735d  template_groups]
-0000a010: 0a20 2020 2020 2020 2023 2054 4f44 4f20  .        # TODO 
-0000a020: 6d61 7962 6520 6361 6c6c 2074 6865 2061  maybe call the a
-0000a030: 6767 7265 6761 746f 7220 6672 6f6d 205f  ggregator from _
-0000a040: 6261 7468 5f72 6571 7565 7374 0a20 2020  bath_request.   
-0000a050: 2020 2020 2072 6573 706f 6e73 6573 203d       responses =
-0000a060: 2061 7761 6974 2073 656c 662e 5f62 6174   await self._bat
-0000a070: 6368 5f72 6571 7565 7374 2872 6571 7329  ch_request(reqs)
-0000a080: 0a20 2020 2020 2020 2066 6169 6c65 6420  .        failed 
-0000a090: 3d20 5b72 2066 6f72 2072 2069 6e20 7265  = [r for r in re
-0000a0a0: 7370 6f6e 7365 7320 6966 206e 6f74 2072  sponses if not r
-0000a0b0: 5d0a 2020 2020 2020 2020 6966 2066 6169  ].        if fai
-0000a0c0: 6c65 643a 0a20 2020 2020 2020 2020 2020  led:.           
-0000a0d0: 2072 6574 7572 6e20 6661 696c 6564 5b2d   return failed[-
-0000a0e0: 315d 0a0a 2020 2020 2020 2020 2320 636f  1]..        # co
-0000a0f0: 6d62 696e 6520 7265 7375 6c74 2066 6f72  mbine result for
-0000a100: 2061 6c6c 2063 616c 6c73 2069 6e74 6f20   all calls into 
-0000a110: 310a 2020 2020 2020 2020 2320 544f 444f  1.        # TODO
-0000a120: 2061 6767 7265 6761 746f 7220 5265 7370   aggregator Resp
-0000a130: 6f6e 7365 206f 626a 6563 7420 666f 7220  onse object for 
-0000a140: 6d75 6c74 6920 7265 7370 6f6e 7365 0a20  multi response. 
-0000a150: 2020 2020 2020 2023 206d 6179 6265 2061         # maybe a
-0000a160: 6464 2070 726f 7065 7274 7920 746f 2052  dd property to R
-0000a170: 6573 706f 6e73 6520 7468 6174 2072 6574  esponse that ret
-0000a180: 7572 6e73 2064 6963 7420 6265 696e 6720  urns dict being 
-0000a190: 646f 6e65 2077 6974 6820 6469 6374 2063  done with dict c
-0000a1a0: 6f6d 7020 6265 6c6f 770a 2020 2020 2020  omp below.      
-0000a1b0: 2020 616c 6c5f 6f75 7470 7574 203d 205b    all_output = [
-0000a1c0: 7272 2066 6f72 2072 2069 6e20 7265 7370  rr for r in resp
-0000a1d0: 6f6e 7365 7320 666f 7220 7272 2069 6e20  onses for rr in 
-0000a1e0: 722e 6f75 7470 7574 5d0a 2020 2020 2020  r.output].      
-0000a1f0: 2020 616c 6c5f 7261 7720 3d20 7b0a 2020    all_raw = {.  
-0000a200: 2020 2020 2020 2020 2020 6622 5b7b 722e            f"[{r.
-0000a210: 6572 726f 727d 5d20 7b72 2e6d 6574 686f  error}] {r.metho
-0000a220: 647d 207b 722e 7572 6c2e 7061 7468 2069  d} {r.url.path i
-0000a230: 6620 6e6f 7420 696e 7428 722e 7572 6c2e  f not int(r.url.
-0000a240: 7175 6572 792e 6765 7428 276f 6666 7365  query.get('offse
-0000a250: 7427 2c20 3029 2920 656c 7365 2072 2e75  t', 0)) else r.u
-0000a260: 726c 2e70 6174 685f 7173 7d22 3a20 722e  rl.path_qs}": r.
-0000a270: 7261 770a 2020 2020 2020 2020 2020 2020  raw.            
-0000a280: 666f 7220 7220 696e 2072 6573 706f 6e73  for r in respons
-0000a290: 6573 0a20 2020 2020 2020 207d 0a20 2020  es.        }.   
-0000a2a0: 2020 2020 2072 6573 706f 6e73 6573 5b2d       responses[-
-0000a2b0: 315d 2e6f 7574 7075 7420 3d20 616c 6c5f  1].output = all_
-0000a2c0: 6f75 7470 7574 0a20 2020 2020 2020 2072  output.        r
-0000a2d0: 6573 706f 6e73 6573 5b2d 315d 2e72 6177  esponses[-1].raw
-0000a2e0: 203d 2061 6c6c 5f72 6177 0a0a 2020 2020   = all_raw..    
-0000a2f0: 2020 2020 7265 7475 726e 2072 6573 706f      return respo
-0000a300: 6e73 6573 5b2d 315d 0a0a 2020 2020 6173  nses[-1]..    as
-0000a310: 796e 6320 6465 6620 6765 745f 736b 755f  ync def get_sku_
-0000a320: 7479 7065 7328 7365 6c66 293a 2020 2320  types(self):  # 
-0000a330: 4641 494c 4544 202d 2022 436f 756c 6420  FAILED - "Could 
-0000a340: 6e6f 7420 7665 7269 6679 2061 6363 6573  not verify acces
-0000a350: 7320 6c65 7665 6c20 666f 7220 7468 6520  s level for the 
-0000a360: 5552 4c2e 220a 2020 2020 2020 2020 7572  URL.".        ur
-0000a370: 6c20 3d20 222f 706c 6174 666f 726d 2f6f  l = "/platform/o
-0000a380: 7264 6572 732f 7631 2f73 6b75 7322 0a20  rders/v1/skus". 
-0000a390: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0000a3a0: 7b22 736b 755f 7479 7065 223a 2022 616c  {"sku_type": "al
-0000a3b0: 6c22 7d0a 2020 2020 2020 2020 7265 7475  l"}.        retu
-0000a3c0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-0000a3d0: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
-0000a3e0: 7261 6d73 290a 0a20 2020 2023 2054 4f44  rams)..    # TOD
-0000a3f0: 4f20 746f 7461 6c20 6973 2072 6574 7572  O total is retur
-0000a400: 6e65 6420 7769 7468 2066 6972 7374 2072  ned with first r
-0000a410: 6571 7565 7374 2063 616e 2062 6174 6368  equest can batch
-0000a420: 2072 656d 6169 6e69 6e67 2072 6571 7565   remaining reque
-0000a430: 7374 7320 7769 7468 206c 696d 6974 2f6f  sts with limit/o
-0000a440: 6666 7365 7420 6164 6a75 7374 6564 0a20  ffset adjusted. 
-0000a450: 2020 2023 2041 5049 2d46 4c41 5720 6c69     # API-FLAW li
-0000a460: 6d69 7420 646f 6573 6e27 7420 6170 7065  mit doesn't appe
-0000a470: 6172 2074 6f20 6861 7665 2061 6e20 7570  ar to have an up
-0000a480: 7065 7220 6c69 6d69 742c 2062 7574 2074  per limit, but t
-0000a490: 6f6f 6b20 666f 7265 7665 7220 746f 2072  ook forever to r
-0000a4a0: 6574 7572 6e20 352c 3030 3020 7265 636f  eturn 5,000 reco
-0000a4b0: 7264 730a 2020 2020 6173 796e 6320 6465  rds.    async de
-0000a4c0: 6620 6765 745f 6465 7669 6365 5f69 6e76  f get_device_inv
-0000a4d0: 656e 746f 7279 280a 2020 2020 2020 2020  entory(.        
-0000a4e0: 7365 6c66 2c0a 2020 2020 2020 2020 736b  self,.        sk
-0000a4f0: 755f 7479 7065 3a20 7374 7220 3d20 2261  u_type: str = "a
-0000a500: 6c6c 222c 0a20 2020 2020 2020 206f 6666  ll",.        off
-0000a510: 7365 743a 2069 6e74 203d 2030 2c0a 2020  set: int = 0,.  
-0000a520: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
-0000a530: 203d 2031 3030 302c 0a20 2020 2029 202d   = 1000,.    ) -
-0000a540: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-0000a550: 2020 2020 2222 2247 6574 2064 6576 6963      """Get devic
-0000a560: 6573 2066 726f 6d20 6465 7669 6365 2069  es from device i
-0000a570: 6e76 656e 746f 7279 2e0a 0a20 2020 2020  nventory...     
-0000a580: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0000a590: 2020 2020 2073 6b75 5f74 7970 6520 2873       sku_type (s
-0000a5a0: 7472 2c20 6f70 7469 6f6e 616c 293a 2061  tr, optional): a
-0000a5b0: 6c6c 2f69 6170 2f73 7769 7463 682f 636f  ll/iap/switch/co
-0000a5c0: 6e74 726f 6c6c 6572 2f67 6174 6577 6179  ntroller/gateway
-0000a5d0: 2f76 6777 2f63 6170 2f62 6f63 2f61 6c6c  /vgw/cap/boc/all
-0000a5e0: 5f61 702f 616c 6c5f 636f 6e74 726f 6c6c  _ap/all_controll
-0000a5f0: 6572 2f6f 7468 6572 730a 2020 2020 2020  er/others.      
-0000a600: 2020 2020 2020 2020 2020 4465 6661 756c            Defaul
-0000a610: 7473 2074 6f20 616c 6c2e 0a20 2020 2020  ts to all..     
-0000a620: 2020 2020 2020 206f 6666 7365 7420 2869         offset (i
-0000a630: 6e74 2c20 6f70 7469 6f6e 616c 293a 206f  nt, optional): o
-0000a640: 6666 7365 7420 6f72 2070 6167 6520 6e75  ffset or page nu
-0000a650: 6d62 6572 2044 6566 6175 6c74 7320 746f  mber Defaults to
-0000a660: 2030 2e0a 2020 2020 2020 2020 2020 2020   0..            
-0000a670: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
-0000a680: 6f6e 616c 293a 204e 756d 6265 7220 6f66  onal): Number of
-0000a690: 2064 6576 6963 6573 2074 6f20 6765 7420   devices to get 
-0000a6a0: 4465 6661 756c 7473 2074 6f20 3130 3030  Defaults to 1000
-0000a6b0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-0000a6c0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0000a6d0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-0000a6e0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-0000a6f0: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-0000a700: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-0000a710: 2f70 6c61 7466 6f72 6d2f 6465 7669 6365  /platform/device
-0000a720: 5f69 6e76 656e 746f 7279 2f76 312f 6465  _inventory/v1/de
-0000a730: 7669 6365 7322 0a0a 2020 2020 2020 2020  vices"..        
-0000a740: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
-0000a750: 2020 2020 2020 2027 736b 755f 7479 7065         'sku_type
-0000a760: 273a 2073 6b75 5f74 7970 652c 0a20 2020  ': sku_type,.   
-0000a770: 2020 2020 2020 2020 2027 6f66 6673 6574           'offset
-0000a780: 273a 206f 6666 7365 742c 0a20 2020 2020  ': offset,.     
-0000a790: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
-0000a7a0: 6c69 6d69 740a 2020 2020 2020 2020 7d0a  limit.        }.
-0000a7b0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000a7c0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-0000a7d0: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-0000a7e0: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
-0000a7f0: 6620 6765 745f 616c 6c5f 6465 7669 6365  f get_all_device
-0000a800: 7376 3228 7365 6c66 2c20 2a2a 6b77 6172  sv2(self, **kwar
-0000a810: 6773 2920 2d3e 2052 6573 706f 6e73 653a  gs) -> Response:
-0000a820: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
-0000a830: 616c 6c20 6465 7669 6365 7320 6672 6f6d  all devices from
-0000a840: 2041 7275 6261 2043 656e 7472 616c 0a0a   Aruba Central..
-0000a850: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-0000a860: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-0000a870: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-0000a880: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-0000a890: 740a 0a20 2020 2020 2020 2020 2020 2072  t..            r
-0000a8a0: 6177 2061 7474 7269 6275 7465 2068 6173  aw attribute has
-0000a8b0: 2061 6c6c 206b 6579 7320 7265 7475 726e   all keys return
-0000a8c0: 6564 2066 6f72 2074 6865 2064 6576 6963  ed for the devic
-0000a8d0: 6573 2c20 7468 6520 6f75 7470 7574 2061  es, the output a
-0000a8e0: 7474 7269 6275 7465 0a20 2020 2020 2020  ttribute.       
-0000a8f0: 2020 2020 2069 6e63 6c75 6465 7320 6f6e       includes on
-0000a900: 6c79 206b 6579 7320 636f 6d6d 6f6e 2061  ly keys common a
-0000a910: 6372 6f73 7320 616c 6c20 6465 7669 6365  cross all device
-0000a920: 2074 7970 6573 2069 6e20 6365 6e74 7261   types in centra
-0000a930: 6c2e 0a20 2020 2020 2020 2022 2222 0a20  l..        """. 
-0000a940: 2020 2020 2020 2064 6576 5f74 7970 6573         dev_types
-0000a950: 203d 205b 2261 7073 222c 2022 7377 6974   = ["aps", "swit
-0000a960: 6368 6573 222c 2022 6761 7465 7761 7973  ches", "gateways
-0000a970: 225d 2020 2320 6d6f 6269 6c69 7479 5f63  "]  # mobility_c
-0000a980: 6f6e 7472 6f6c 6c65 7273 2073 6565 6d73  ontrollers seems
-0000a990: 2073 616d 6520 6173 2067 770a 2020 2020   same as gw.    
-0000a9a0: 2020 2020 6c69 625f 6465 765f 7479 7065      lib_dev_type
-0000a9b0: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-0000a9c0: 2020 2261 7073 223a 2022 6170 222c 0a20    "aps": "ap",. 
-0000a9d0: 2020 2020 2020 2020 2020 2022 6761 7465             "gate
-0000a9e0: 7761 7973 223a 2022 6777 222c 0a20 2020  ways": "gw",.   
-0000a9f0: 2020 2020 207d 0a20 2020 2020 2020 205f       }.        _
-0000aa00: 6f75 7470 7574 203d 207b 7d0a 0a20 2020  output = {}..   
-0000aa10: 2020 2020 2072 6571 7320 3d20 5b73 656c       reqs = [sel
-0000aa20: 662e 4261 7463 6852 6571 7565 7374 2873  f.BatchRequest(s
-0000aa30: 656c 662e 6765 745f 6465 7669 6365 732c  elf.get_devices,
-0000aa40: 2064 6576 5f74 7970 652c 202a 2a6b 7761   dev_type, **kwa
-0000aa50: 7267 7329 2066 6f72 2064 6576 5f74 7970  rgs) for dev_typ
-0000aa60: 6520 696e 2064 6576 5f74 7970 6573 5d0a  e in dev_types].
-0000aa70: 2020 2020 2020 2020 7265 7320 3d20 6177          res = aw
-0000aa80: 6169 7420 7365 6c66 2e5f 6261 7463 685f  ait self._batch_
-0000aa90: 7265 7175 6573 7428 7265 7173 290a 2020  request(reqs).  
-0000aaa0: 2020 2020 2020 5f66 6169 6c75 7265 5f69        _failure_i
-0000aab0: 6478 7320 3d20 5b69 6478 2066 6f72 2069  dxs = [idx for i
-0000aac0: 6478 2c20 7220 696e 2065 6e75 6d65 7261  dx, r in enumera
-0000aad0: 7465 2872 6573 2920 6966 206e 6f74 2072  te(res) if not r
-0000aae0: 5d0a 2020 2020 2020 2020 6966 205f 6661  ].        if _fa
-0000aaf0: 696c 7572 655f 6964 7873 3a0a 2020 2020  ilure_idxs:.    
-0000ab00: 2020 2020 2020 2020 7265 7370 203d 2072          resp = r
-0000ab10: 6573 5b5f 6661 696c 7572 655f 6964 7873  es[_failure_idxs
-0000ab20: 5b2d 315d 5d0a 2020 2020 2020 2020 2020  [-1]].          
-0000ab30: 2020 7265 7370 2e6f 7574 7075 7420 3d20    resp.output = 
-0000ab40: 5b7b 2264 6576 5f74 7970 6522 3a20 6465  [{"dev_type": de
-0000ab50: 765f 7479 7065 735b 665d 2c20 2265 7272  v_types[f], "err
-0000ab60: 6f72 223a 2072 6573 5b66 5d2e 6f75 7470  or": res[f].outp
-0000ab70: 7574 7d20 666f 7220 6620 696e 205f 6661  ut} for f in _fa
-0000ab80: 696c 7572 655f 6964 7873 5d0a 2020 2020  ilure_idxs].    
-0000ab90: 2020 2020 2020 2020 7265 7475 726e 2072          return r
-0000aba0: 6573 700a 0a20 2020 2020 2020 2072 6573  esp..        res
-0000abb0: 7020 3d20 7265 735b 2d31 5d0a 2020 2020  p = res[-1].    
-0000abc0: 2020 2020 5f6f 7574 7075 7420 3d20 7b6b      _output = {k
-0000abd0: 3a20 7574 696c 732e 6c69 7374 6966 7928  : utils.listify(
-0000abe0: 7629 2066 6f72 206b 2c20 7620 696e 207a  v) for k, v in z
-0000abf0: 6970 2864 6576 5f74 7970 6573 2c20 5b72  ip(dev_types, [r
-0000ac00: 2e6f 7574 7075 7420 666f 7220 7220 696e  .output for r in
-0000ac10: 2072 6573 5d29 2069 6620 767d 0a20 2020   res]) if v}.   
-0000ac20: 2020 2020 2072 6573 702e 7261 7720 3d20       resp.raw = 
-0000ac30: 7b6b 3a20 7574 696c 732e 6c69 7374 6966  {k: utils.listif
-0000ac40: 7928 7629 2066 6f72 206b 2c20 7620 696e  y(v) for k, v in
-0000ac50: 207a 6970 2864 6576 5f74 7970 6573 2c20   zip(dev_types, 
-0000ac60: 5b72 2e72 6177 2066 6f72 2072 2069 6e20  [r.raw for r in 
-0000ac70: 7265 735d 2920 6966 2076 7d0a 0a20 2020  res]) if v}..   
-0000ac80: 2020 2020 2069 6620 5f6f 7574 7075 743a       if _output:
-0000ac90: 0a20 2020 2020 2020 2020 2020 2023 2041  .            # A
-0000aca0: 6464 2074 7970 6520 6b65 7920 746f 2061  dd type key to a
-0000acb0: 6c6c 2064 6963 7473 2063 6f76 6572 7420  ll dicts covert 
-0000acc0: 2273 7769 7463 682d 7479 7065 2220 746f  "switch-type" to
-0000acd0: 2063 656e 636c 6920 7479 7065 2028 6378   cencli type (cx
-0000ace0: 206f 7220 7377 290a 2020 2020 2020 2020   or sw).        
-0000acf0: 2020 2020 2320 544f 444f 206d 6f76 6520      # TODO move 
-0000ad00: 746f 2063 6c65 616e 6572 3f20 7365 7420  to cleaner? set 
-0000ad10: 7479 7065 2074 6f20 7377 6974 6368 5f74  type to switch_t
-0000ad20: 7970 6520 666f 7220 7377 6974 6368 6573  ype for switches
-0000ad30: 206c 6574 2063 6c65 616e 6572 2063 6861   let cleaner cha
-0000ad40: 6e67 6520 7661 6c75 6520 746f 206c 6962  nge value to lib
-0000ad50: 2076 616c 730a 2020 2020 2020 2020 2020   vals.          
-0000ad60: 2020 6469 6374 7320 3d20 5b0a 2020 2020    dicts = [.    
-0000ad70: 2020 2020 2020 2020 2020 2020 7b0a 2020              {.  
-0000ad80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad90: 2020 2a2a 7b0a 2020 2020 2020 2020 2020    **{.          
-0000ada0: 2020 2020 2020 2020 2020 2020 2020 2274                "t
-0000adb0: 7970 6522 3a20 6c69 625f 6465 765f 7479  ype": lib_dev_ty
-0000adc0: 7065 732e 6765 7428 6b2c 206b 2920 6966  pes.get(k, k) if
-0000add0: 206b 2021 3d20 2273 7769 7463 6865 7322   k != "switches"
-0000ade0: 2065 6c73 650a 2020 2020 2020 2020 2020   else.          
-0000adf0: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0000ae00: 6e73 7461 6e74 732e 6765 745f 6365 6e63  nstants.get_cenc
-0000ae10: 6c69 5f64 6576 7479 7065 2869 6e6e 6572  li_devtype(inner
-0000ae20: 5f64 6963 742e 6765 7428 2273 7769 7463  _dict.get("switc
-0000ae30: 685f 7479 7065 222c 2022 7377 6974 6368  h_type", "switch
-0000ae40: 2229 290a 2020 2020 2020 2020 2020 2020  ")).            
-0000ae50: 2020 2020 2020 2020 7d2c 0a20 2020 2020          },.     
-0000ae60: 2020 2020 2020 2020 2020 2020 2020 202a                 *
-0000ae70: 2a7b 0a20 2020 2020 2020 2020 2020 2020  *{.             
-0000ae80: 2020 2020 2020 2020 2020 206b 6b3a 2076             kk: v
-0000ae90: 7620 666f 7220 6b6b 2c20 7676 2069 6e20  v for kk, vv in 
-0000aea0: 696e 6e65 725f 6469 6374 2e69 7465 6d73  inner_dict.items
-0000aeb0: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-0000aec0: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
-0000aed0: 2020 2020 2020 2020 207d 2066 6f72 206b           } for k
-0000aee0: 2c20 7620 696e 205f 6f75 7470 7574 2e69  , v in _output.i
-0000aef0: 7465 6d73 2829 2066 6f72 2069 6e6e 6572  tems() for inner
-0000af00: 5f64 6963 7420 696e 2076 0a20 2020 2020  _dict in v.     
-0000af10: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-0000af20: 2020 2020 2023 2054 4f44 4f20 6b65 6570       # TODO keep
-0000af30: 2061 6c6c 2066 6965 6c64 7320 696e 206f   all fields in o
-0000af40: 7574 7075 7420 6469 6374 2c20 6c65 7420  utput dict, let 
-0000af50: 636c 6561 6e65 7220 6465 6669 6e65 2066  cleaner define f
-0000af60: 6965 6c64 2066 6f72 206e 6f72 6d61 6c20  ield for normal 
-0000af70: 616e 6420 7665 7262 6f73 6520 6f70 7469  and verbose opti
-0000af80: 6f6e 730a 2020 2020 2020 2020 2020 2020  ons.            
-0000af90: 2320 2020 2020 2069 6620 7573 6572 2073  #      if user s
-0000afa0: 656c 6563 7473 202d 2d6a 736f 6e20 6f72  elects --json or
-0000afb0: 202d 2d79 616d 6c20 6b65 6570 2061 6c6c   --yaml keep all
-0000afc0: 2066 6965 6c64 730a 2020 2020 2020 2020   fields.        
-0000afd0: 2020 2020 2320 7265 7475 726e 206a 7573      # return jus
-0000afe0: 7420 7468 6520 6b65 7973 2063 6f6d 6d6f  t the keys commo
-0000aff0: 6e20 6163 726f 7373 2061 6c6c 2064 6576  n across all dev
-0000b000: 6963 6520 7479 7065 730a 2020 2020 2020  ice types.      
-0000b010: 2020 2020 2020 636f 6d6d 6f6e 5f6b 6579        common_key
-0000b020: 7320 3d20 7365 742e 696e 7465 7273 6563  s = set.intersec
-0000b030: 7469 6f6e 282a 6d61 7028 7365 742c 2064  tion(*map(set, d
-0000b040: 6963 7473 2929 0a20 2020 2020 2020 2020  icts)).         
-0000b050: 2020 205f 6f75 7470 7574 203d 205b 7b6b     _output = [{k
-0000b060: 3a20 645b 6b5d 2066 6f72 206b 2069 6e20  : d[k] for k in 
-0000b070: 636f 6d6d 6f6e 5f6b 6579 737d 2066 6f72  common_keys} for
-0000b080: 2064 2069 6e20 6469 6374 735d 0a0a 2020   d in dicts]..  
-0000b090: 2020 2020 2020 2020 2020 7265 7370 2e6f            resp.o
-0000b0a0: 7574 7075 7420 3d20 5f6f 7574 7075 740a  utput = _output.
-0000b0b0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000b0c0: 7265 7370 0a0a 2020 2020 6173 796e 6320  resp..    async 
-0000b0d0: 6465 6620 6765 745f 7377 6974 6368 5f70  def get_switch_p
-0000b0e0: 6f72 7473 2873 656c 662c 2073 6572 6961  orts(self, seria
-0000b0f0: 6c3a 2073 7472 2c20 736c 6f74 3a20 7374  l: str, slot: st
-0000b100: 7220 3d20 4e6f 6e65 2c20 6378 3a20 626f  r = None, cx: bo
-0000b110: 6f6c 203d 2046 616c 7365 2920 2d3e 2052  ol = False) -> R
-0000b120: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0000b130: 2022 2222 5377 6974 6368 2050 6f72 7473   """Switch Ports
-0000b140: 2044 6574 6169 6c73 2e0a 0a20 2020 2020   Details...     
-0000b150: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0000b160: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
-0000b170: 293a 2053 6572 6961 6c20 6e75 6d62 6572  ): Serial number
-0000b180: 206f 6620 7377 6974 6368 2074 6f20 6265   of switch to be
-0000b190: 2071 7565 7269 6564 0a20 2020 2020 2020   queried.       
-0000b1a0: 2020 2020 2073 6c6f 7420 2873 7472 2c20       slot (str, 
-0000b1b0: 6f70 7469 6f6e 616c 293a 2053 6c6f 7420  optional): Slot 
-0000b1c0: 6e61 6d65 206f 6620 7468 6520 706f 7274  name of the port
-0000b1d0: 7320 746f 2062 6520 7175 6572 6965 6420  s to be queried 
-0000b1e0: 7b46 6f72 2063 6861 7373 6973 2074 7970  {For chassis typ
-0000b1f0: 6520 7377 6974 6368 6573 0a20 2020 2020  e switches.     
-0000b200: 2020 2020 2020 2020 2020 206f 6e6c 797d             only}
-0000b210: 2e0a 2020 2020 2020 2020 2020 2020 6378  ..            cx
-0000b220: 2028 626f 6f6c 2c20 6f70 7469 6f6e 616c   (bool, optional
-0000b230: 293a 2053 6574 2074 6f20 5472 7565 2066  ): Set to True f
-0000b240: 6f72 2041 7275 6261 4f53 2d43 5820 7377  or ArubaOS-CX sw
-0000b250: 6974 6368 6573 2e0a 0a20 2020 2020 2020  itches...       
-0000b260: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0000b270: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0000b280: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0000b290: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0000b2a0: 2020 2022 2222 0a20 2020 2020 2020 2023     """.        #
-0000b2b0: 2054 4f44 4f20 7265 6d6f 7665 206f 6e63   TODO remove onc
-0000b2c0: 6520 636f 6e66 6972 6d65 6420 7468 6520  e confirmed the 
-0000b2d0: 6378 5f20 7572 6c73 2068 6176 6520 6265  cx_ urls have be
-0000b2e0: 656e 2064 6570 7265 6361 7465 6420 696e  en deprecated in
-0000b2f0: 2066 6176 6f72 206f 6620 7468 6520 6c6f   favor of the lo
-0000b300: 6769 6361 6c20 726f 7574 6520 6f66 2068  gical route of h
-0000b310: 6176 696e 6720 7468 650a 2020 2020 2020  aving the.      
-0000b320: 2020 2320 6f6e 6520 7572 6c20 776f 726b    # one url work
-0000b330: 2066 6f72 2062 6f74 682e 0a20 2020 2020   for both..     
-0000b340: 2020 2023 2073 775f 7572 6c20 3d20 2263     # sw_url = "c
-0000b350: 785f 7377 6974 6368 6573 2220 6966 2063  x_switches" if c
-0000b360: 7820 656c 7365 2022 7377 6974 6368 6573  x else "switches
-0000b370: 220a 2020 2020 2020 2020 2320 7572 6c20  ".        # url 
-0000b380: 3d20 6622 2f6d 6f6e 6974 6f72 696e 672f  = f"/monitoring/
-0000b390: 7631 2f7b 7377 5f75 726c 7d2f 7b73 6572  v1/{sw_url}/{ser
-0000b3a0: 6961 6c7d 2f70 6f72 7473 220a 2020 2020  ial}/ports".    
-0000b3b0: 2020 2020 7572 6c20 3d20 6622 2f6d 6f6e      url = f"/mon
-0000b3c0: 6974 6f72 696e 672f 7631 2f73 7769 7463  itoring/v1/switc
-0000b3d0: 6865 732f 7b73 6572 6961 6c7d 2f70 6f72  hes/{serial}/por
-0000b3e0: 7473 220a 0a20 2020 2020 2020 2070 6172  ts"..        par
-0000b3f0: 616d 7320 3d20 7b22 736c 6f74 223a 2073  ams = {"slot": s
-0000b400: 6c6f 747d 0a0a 2020 2020 2020 2020 7265  lot}..        re
-0000b410: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0000b420: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-0000b430: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
-0000b440: 6e63 2064 6566 2067 6574 5f73 7769 7463  nc def get_switc
-0000b450: 685f 706f 655f 6465 7461 696c 7328 0a20  h_poe_details(. 
-0000b460: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0000b470: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
-0000b480: 2c0a 2020 2020 2020 2020 706f 7274 3a20  ,.        port: 
-0000b490: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-0000b4a0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0000b4b0: 2020 2020 2020 2022 2222 4765 7420 7377         """Get sw
-0000b4c0: 6974 6368 2070 6f65 2069 6e66 6f2e 0a0a  itch poe info...
-0000b4d0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-0000b4e0: 2020 2020 2020 2020 2020 7365 7269 616c            serial
-0000b4f0: 2028 7374 7229 3a20 5377 6974 6368 2073   (str): Switch s
-0000b500: 6572 6961 6c0a 2020 2020 2020 2020 2020  erial.          
-0000b510: 2020 706f 7274 2028 7374 722c 206f 7074    port (str, opt
-0000b520: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
-0000b530: 7920 7377 6974 6368 2070 6f72 740a 0a20  y switch port.. 
-0000b540: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-0000b550: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-0000b560: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-0000b570: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-0000b580: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000b590: 2020 2020 2075 726c 203d 2066 222f 6d6f       url = f"/mo
-0000b5a0: 6e69 746f 7269 6e67 2f76 312f 7377 6974  nitoring/v1/swit
-0000b5b0: 6368 6573 2f7b 7365 7269 616c 7d2f 706f  ches/{serial}/po
-0000b5c0: 655f 6465 7461 696c 220a 0a20 2020 2020  e_detail"..     
-0000b5d0: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-0000b5e0: 2020 2020 2020 2020 2020 2770 6f72 7427            'port'
-0000b5f0: 3a20 7374 7228 706f 7274 290a 2020 2020  : str(port).    
-0000b600: 2020 2020 7d0a 0a20 2020 2020 2020 2069      }..        i
-0000b610: 6620 6e6f 7420 706f 7274 3a0a 2020 2020  f not port:.    
-0000b620: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-0000b630: 7b75 726c 7d73 220a 2020 2020 2020 2020  {url}s".        
-0000b640: 2020 2020 7061 7261 6d73 203d 207b 7d0a      params = {}.
-0000b650: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000b660: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-0000b670: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-0000b680: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
-0000b690: 6620 6765 745f 6761 7465 7761 795f 706f  f get_gateway_po
-0000b6a0: 7274 7328 7365 6c66 2c20 7365 7269 616c  rts(self, serial
-0000b6b0: 3a20 7374 7229 202d 3e20 5265 7370 6f6e  : str) -> Respon
-0000b6c0: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
-0000b6d0: 6174 6577 6179 2050 6f72 7473 2044 6574  ateway Ports Det
-0000b6e0: 6169 6c73 2e0a 0a20 2020 2020 2020 2041  ails...        A
-0000b6f0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-0000b700: 2073 6572 6961 6c20 2873 7472 293a 2053   serial (str): S
-0000b710: 6572 6961 6c20 6e75 6d62 6572 206f 6620  erial number of 
-0000b720: 4761 7465 7761 7920 746f 2062 6520 7175  Gateway to be qu
-0000b730: 6572 6965 640a 0a20 2020 2020 2020 2052  eried..        R
-0000b740: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-0000b750: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-0000b760: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-0000b770: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-0000b780: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-0000b790: 203d 2066 222f 6d6f 6e69 746f 7269 6e67   = f"/monitoring
-0000b7a0: 2f76 312f 6761 7465 7761 7973 2f7b 7365  /v1/gateways/{se
-0000b7b0: 7269 616c 7d2f 706f 7274 7322 0a0a 2020  rial}/ports"..  
-0000b7c0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-0000b7d0: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
-0000b7e0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0000b7f0: 6765 745f 6465 765f 6279 5f74 7970 6528  get_dev_by_type(
-0000b800: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0000b810: 662c 0a20 2020 2020 2020 2020 2020 2064  f,.            d
-0000b820: 6576 5f74 7970 653a 2073 7472 2c0a 2020  ev_type: str,.  
-0000b830: 2020 2020 2020 2920 2d3e 2052 6573 706f        ) -> Respo
-0000b840: 6e73 653a 2020 2320 5645 5249 4649 4544  nse:  # VERIFIED
-0000b850: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-0000b860: 2f70 6c61 7466 6f72 6d2f 6465 7669 6365  /platform/device
-0000b870: 5f69 6e76 656e 746f 7279 2f76 312f 6465  _inventory/v1/de
-0000b880: 7669 6365 7322 0a20 2020 2020 2020 2023  vices".        #
-0000b890: 2069 6170 2c20 7377 6974 6368 2c20 6761   iap, switch, ga
-0000b8a0: 7465 7761 797c 626f 630a 2020 2020 2020  teway|boc.      
-0000b8b0: 2020 6966 2064 6576 5f74 7970 652e 6c6f    if dev_type.lo
-0000b8c0: 7765 7228 2920 696e 205b 2261 7073 222c  wer() in ["aps",
-0000b8d0: 2022 6170 225d 3a0a 2020 2020 2020 2020   "ap"]:.        
-0000b8e0: 2020 2020 6465 765f 7479 7065 203d 2022      dev_type = "
-0000b8f0: 616c 6c5f 6170 220a 2020 2020 2020 2020  all_ap".        
-0000b900: 7061 7261 6d73 203d 207b 2273 6b75 5f74  params = {"sku_t
-0000b910: 7970 6522 3a20 6465 765f 7479 7065 7d0a  ype": dev_type}.
-0000b920: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0000b930: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-0000b940: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-0000b950: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-0000b960: 2067 6574 5f76 6172 6961 626c 6973 6564   get_variablised
-0000b970: 5f74 656d 706c 6174 6528 7365 6c66 2c20  _template(self, 
-0000b980: 7365 7269 616c 6e75 6d3a 2073 7472 2920  serialnum: str) 
-0000b990: 2d3e 2052 6573 706f 6e73 653a 2020 2320  -> Response:  # 
-0000b9a0: 5645 5249 4649 4544 0a20 2020 2020 2020  VERIFIED.       
-0000b9b0: 2075 726c 203d 2066 222f 636f 6e66 6967   url = f"/config
-0000b9c0: 7572 6174 696f 6e2f 7631 2f64 6576 6963  uration/v1/devic
-0000b9d0: 6573 2f7b 7365 7269 616c 6e75 6d7d 2f76  es/{serialnum}/v
-0000b9e0: 6172 6961 626c 6973 6564 5f74 656d 706c  ariablised_templ
-0000b9f0: 6174 6522 0a20 2020 2020 2020 2072 6574  ate".        ret
-0000ba00: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-0000ba10: 6574 2875 726c 290a 0a20 2020 2061 7379  et(url)..    asy
-0000ba20: 6e63 2064 6566 2067 6574 5f76 6172 6961  nc def get_varia
-0000ba30: 626c 6573 2873 656c 662c 2073 6572 6961  bles(self, seria
-0000ba40: 6c6e 756d 3a20 7374 7220 3d20 4e6f 6e65  lnum: str = None
-0000ba50: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0000ba60: 2020 2020 2020 2069 6620 7365 7269 616c         if serial
-0000ba70: 6e75 6d20 616e 6420 7365 7269 616c 6e75  num and serialnu
-0000ba80: 6d20 213d 2022 616c 6c22 3a0a 2020 2020  m != "all":.    
-0000ba90: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-0000baa0: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
-0000bab0: 312f 6465 7669 6365 732f 7b73 6572 6961  1/devices/{seria
-0000bac0: 6c6e 756d 7d2f 7465 6d70 6c61 7465 5f76  lnum}/template_v
-0000bad0: 6172 6961 626c 6573 220a 2020 2020 2020  ariables".      
-0000bae0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-0000baf0: 7d0a 2020 2020 2020 2020 656c 7365 3a0a  }.        else:.
-0000bb00: 2020 2020 2020 2020 2020 2020 7572 6c20              url 
-0000bb10: 3d20 222f 636f 6e66 6967 7572 6174 696f  = "/configuratio
-0000bb20: 6e2f 7631 2f64 6576 6963 6573 2f74 656d  n/v1/devices/tem
-0000bb30: 706c 6174 655f 7661 7269 6162 6c65 7322  plate_variables"
-0000bb40: 0a20 2020 2020 2020 2020 2020 2070 6172  .            par
-0000bb50: 616d 7320 3d20 7b22 6c69 6d69 7422 3a20  ams = {"limit": 
-0000bb60: 3230 2c20 226f 6666 7365 7422 3a20 307d  20, "offset": 0}
-0000bb70: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000bb80: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-0000bb90: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-0000bba0: 7329 0a0a 2020 2020 2320 6173 796e 6320  s)..    # async 
-0000bbb0: 6465 6620 7570 6461 7465 5f76 6172 6961  def update_varia
-0000bbc0: 626c 6573 2873 656c 662c 2073 6572 6961  bles(self, seria
-0000bbd0: 6c6e 756d 3a20 7374 722c 202a 2a76 6172  lnum: str, **var
-0000bbe0: 5f64 6963 743a 2064 6963 7429 202d 3e20  _dict: dict) -> 
-0000bbf0: 626f 6f6c 3a0a 2020 2020 2320 2020 2020  bool:.    #     
-0000bc00: 7572 6c20 3d20 6622 2f63 6f6e 6669 6775  url = f"/configu
-0000bc10: 7261 7469 6f6e 2f76 312f 6465 7669 6365  ration/v1/device
-0000bc20: 732f 7b73 6572 6961 6c6e 756d 7d2f 7465  s/{serialnum}/te
-0000bc30: 6d70 6c61 7465 5f76 6172 6961 626c 6573  mplate_variables
-0000bc40: 220a 2020 2020 2320 2020 2020 7661 725f  ".    #     var_
-0000bc50: 6469 6374 203d 206a 736f 6e2e 6475 6d70  dict = json.dump
-0000bc60: 7328 7661 725f 6469 6374 290a 2020 2020  s(var_dict).    
-0000bc70: 2320 2020 2020 7265 7475 726e 2061 7761  #     return awa
-0000bc80: 6974 2073 656c 662e 7061 7463 6828 7572  it self.patch(ur
-0000bc90: 6c2c 2070 6179 6c6f 6164 3d76 6172 5f64  l, payload=var_d
-0000bca0: 6963 7429 0a0a 2020 2020 2320 544f 444f  ict)..    # TODO
-0000bcb0: 2066 6967 7572 6520 6f75 7420 686f 7720   figure out how 
-0000bcc0: 746f 206d 616b 6520 7468 6973 2077 6f72  to make this wor
-0000bcd0: 6b2c 206e 6565 6420 6669 6c65 206c 696b  k, need file lik
-0000bce0: 6520 6f62 6a65 6374 0a20 2020 2061 7379  e object.    asy
-0000bcf0: 6e63 2064 6566 2075 7064 6174 655f 6465  nc def update_de
-0000bd00: 7669 6365 5f74 656d 706c 6174 655f 7661  vice_template_va
-0000bd10: 7269 6162 6c65 7328 0a20 2020 2020 2020  riables(.       
-0000bd20: 2073 656c 662c 0a20 2020 2020 2020 2064   self,.        d
-0000bd30: 6576 6963 655f 7365 7269 616c 3a20 7374  evice_serial: st
-0000bd40: 722c 0a20 2020 2020 2020 2064 6576 6963  r,.        devic
-0000bd50: 655f 6d61 633a 2073 7472 2c0a 2020 2020  e_mac: str,.    
-0000bd60: 2020 2020 2320 746f 7461 6c3a 2069 6e74      # total: int
-0000bd70: 2c0a 2020 2020 2020 2020 2320 5f73 7973  ,.        # _sys
-0000bd80: 5f73 6572 6961 6c3a 2073 7472 2c0a 2020  _serial: str,.  
-0000bd90: 2020 2020 2020 2320 5f73 7973 5f6c 616e        # _sys_lan
-0000bda0: 5f6d 6163 3a20 7374 722c 0a20 2020 2020  _mac: str,.     
-0000bdb0: 2020 2076 6172 5f64 6963 743a 2064 6963     var_dict: dic
-0000bdc0: 742c 0a20 2020 2029 202d 3e20 5265 7370  t,.    ) -> Resp
-0000bdd0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-0000bde0: 2255 7064 6174 6520 7465 6d70 6c61 7465  "Update template
-0000bdf0: 2076 6172 6961 626c 6573 2066 6f72 2061   variables for a
-0000be00: 2064 6576 6963 652e 0a0a 2020 2020 2020   device...      
-0000be10: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-0000be20: 2020 2020 6465 7669 6365 5f73 6572 6961      device_seria
-0000be30: 6c20 2873 7472 293a 2053 6572 6961 6c20  l (str): Serial 
-0000be40: 6e75 6d62 6572 206f 6620 7468 6520 6465  number of the de
-0000be50: 7669 6365 2e0a 2020 2020 2020 2020 2020  vice..          
-0000be60: 2020 746f 7461 6c20 2869 6e74 293a 2074    total (int): t
-0000be70: 6f74 616c 0a20 2020 2020 2020 2020 2020  otal.           
-0000be80: 205f 7379 735f 7365 7269 616c 2028 7374   _sys_serial (st
-0000be90: 7229 3a20 5f73 7973 5f73 6572 6961 6c0a  r): _sys_serial.
-0000bea0: 2020 2020 2020 2020 2020 2020 5f73 7973              _sys
-0000beb0: 5f6c 616e 5f6d 6163 2028 7374 7229 3a20  _lan_mac (str): 
-0000bec0: 5f73 7973 5f6c 616e 5f6d 6163 0a20 2020  _sys_lan_mac.   
-0000bed0: 2020 2020 2020 2020 2076 6172 5f64 6963           var_dic
-0000bee0: 7420 2864 6963 7429 3a20 6469 6374 2077  t (dict): dict w
-0000bef0: 6974 6820 7661 7269 6162 6c65 7320 746f  ith variables to
-0000bf00: 2062 6520 7570 6461 7465 640a 0a20 2020   be updated..   
-0000bf10: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-0000bf20: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-0000bf30: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-0000bf40: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-0000bf50: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000bf60: 2020 2075 726c 203d 2066 222f 636f 6e66     url = f"/conf
-0000bf70: 6967 7572 6174 696f 6e2f 7631 2f64 6576  iguration/v1/dev
-0000bf80: 6963 6573 2f7b 6465 7669 6365 5f73 6572  ices/{device_ser
-0000bf90: 6961 6c7d 2f74 656d 706c 6174 655f 7661  ial}/template_va
-0000bfa0: 7269 6162 6c65 7322 0a20 2020 2020 2020  riables".       
-0000bfb0: 2023 2068 6561 6465 7273 203d 207b 2243   # headers = {"C
-0000bfc0: 6f6e 7465 6e74 2d54 7970 6522 3a20 226d  ontent-Type": "m
-0000bfd0: 756c 7469 7061 7274 2f66 6f72 6d2d 6461  ultipart/form-da
-0000bfe0: 7461 227d 0a0a 2020 2020 2020 2020 6a73  ta"}..        js
-0000bff0: 6f6e 5f64 6174 6120 3d20 7b0a 2020 2020  on_data = {.    
-0000c000: 2020 2020 2020 2020 2774 6f74 616c 273a          'total':
-0000c010: 206c 656e 2876 6172 5f64 6963 7429 202b   len(var_dict) +
-0000c020: 2032 2c0a 2020 2020 2020 2020 2020 2020   2,.            
-0000c030: 2276 6172 6961 626c 6573 223a 207b 0a20  "variables": {. 
-0000c040: 2020 2020 2020 2020 2020 2020 2020 202a                 *
-0000c050: 2a7b 0a20 2020 2020 2020 2020 2020 2020  *{.             
-0000c060: 2020 2020 2020 2027 5f73 7973 5f73 6572         '_sys_ser
-0000c070: 6961 6c27 3a20 6465 7669 6365 5f73 6572  ial': device_ser
-0000c080: 6961 6c2c 0a20 2020 2020 2020 2020 2020  ial,.           
-0000c090: 2020 2020 2020 2020 2027 5f73 7973 5f6c           '_sys_l
-0000c0a0: 616e 5f6d 6163 273a 2064 6576 6963 655f  an_mac': device_
-0000c0b0: 6d61 632c 0a20 2020 2020 2020 2020 2020  mac,.           
-0000c0c0: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
-0000c0d0: 2020 2020 2020 2020 2a2a 7661 725f 6469          **var_di
-0000c0e0: 6374 0a20 2020 2020 2020 2020 2020 207d  ct.            }
-0000c0f0: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
-0000c100: 2020 2023 2064 6174 6120 3d20 7365 6c66     # data = self
-0000c110: 2e5f 6d61 6b65 5f66 6f72 6d5f 6461 7461  ._make_form_data
-0000c120: 286a 736f 6e5f 6461 7461 290a 2020 2020  (json_data).    
-0000c130: 2020 2020 2320 6461 7461 203d 206d 756c      # data = mul
-0000c140: 7469 7061 7274 6966 7928 6a73 6f6e 5f64  tipartify(json_d
-0000c150: 6174 6129 0a0a 2020 2020 2020 2020 2320  ata)..        # 
-0000c160: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0000c170: 662e 7061 7463 6828 7572 6c2c 2068 6561  f.patch(url, hea
-0000c180: 6465 7273 3d68 6561 6465 7273 2c20 6461  ders=headers, da
-0000c190: 7461 3d64 6174 6129 0a20 2020 2020 2020  ta=data).       
-0000c1a0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0000c1b0: 6c66 2e70 6174 6368 2875 726c 2c20 6a73  lf.patch(url, js
-0000c1c0: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
-0000c1d0: 6129 0a0a 2020 2020 2320 4150 492d 464c  a)..    # API-FL
-0000c1e0: 4157 2020 5365 656d 7320 746f 2077 6f72  AW  Seems to wor
-0000c1f0: 6b20 6669 6e65 2066 6f72 2063 782c 2061  k fine for cx, a
-0000c200: 702c 2062 7574 2067 7720 7468 6520 7265  p, but gw the re
-0000c210: 7475 726e 2069 730a 2020 2020 2320 2246  turn is.    # "F
-0000c220: 6574 6368 696e 6720 636f 6e66 6967 7572  etching configur
-0000c230: 6174 696f 6e20 696e 2070 726f 6772 6573  ation in progres
-0000c240: 7320 666f 7220 4d6f 6269 6c69 7479 2043  s for Mobility C
-0000c250: 6f6e 7472 6f6c 6c65 7220 5345 5249 414c  ontroller SERIAL
-0000c260: 2f4d 4143 220a 2020 2020 2320 7375 6273  /MAC".    # subs
-0000c270: 6571 7565 6e74 2063 616c 6c73 2066 6f72  equent calls for
-0000c280: 2074 6865 2073 616d 6520 6777 2072 6574   the same gw ret
-0000c290: 7572 6e20 3530 3020 696e 7465 726e 616c  urn 500 internal
-0000c2a0: 2073 6572 7665 7220 6572 726f 722e 0a20   server error.. 
-0000c2b0: 2020 2023 2046 4958 4d45 0a20 2020 2061     # FIXME.    a
-0000c2c0: 7379 6e63 2064 6566 2067 6574 5f64 6576  sync def get_dev
-0000c2d0: 6963 655f 636f 6e66 6967 7572 6174 696f  ice_configuratio
-0000c2e0: 6e28 7365 6c66 2c20 6465 7669 6365 5f73  n(self, device_s
-0000c2f0: 6572 6961 6c3a 2073 7472 2920 2d3e 2052  erial: str) -> R
-0000c300: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0000c310: 2022 2222 4765 7420 6c61 7374 206b 6e6f   """Get last kno
-0000c320: 776e 2072 756e 6e69 6e67 2063 6f6e 6669  wn running confi
-0000c330: 6775 7261 7469 6f6e 2066 6f72 2061 2064  guration for a d
-0000c340: 6576 6963 652e 0a0a 2020 2020 2020 2020  evice...        
-0000c350: 2f2f 2055 7365 6420 6279 2073 686f 7720  // Used by show 
-0000c360: 7275 6e20 3c44 4556 4943 452d 4944 454e  run <DEVICE-IDEN
-0000c370: 3e20 2f2f 0a0a 2020 2020 2020 2020 4172  > //..        Ar
-0000c380: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-0000c390: 6465 7669 6365 5f73 6572 6961 6c20 2873  device_serial (s
-0000c3a0: 7472 293a 2053 6572 6961 6c20 6e75 6d62  tr): Serial numb
-0000c3b0: 6572 206f 6620 7468 6520 6465 7669 6365  er of the device
-0000c3c0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-0000c3d0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0000c3e0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-0000c3f0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-0000c400: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-0000c410: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
-0000c420: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
-0000c430: 7631 2f64 6576 6963 6573 2f7b 6465 7669  v1/devices/{devi
-0000c440: 6365 5f73 6572 6961 6c7d 2f63 6f6e 6669  ce_serial}/confi
-0000c450: 6775 7261 7469 6f6e 220a 2020 2020 2020  guration".      
-0000c460: 2020 6865 6164 6572 7320 3d20 7b22 4163    headers = {"Ac
-0000c470: 6365 7074 223a 2022 6d75 6c74 6970 6172  cept": "multipar
-0000c480: 742f 666f 726d 2d64 6174 6122 7d0a 0a20  t/form-data"}.. 
-0000c490: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0000c4a0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-0000c4b0: 2c20 6865 6164 6572 733d 6865 6164 6572  , headers=header
-0000c4c0: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
-0000c4d0: 6620 6765 745f 6273 7369 6473 280a 2020  f get_bssids(.  
-0000c4e0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-0000c4f0: 2020 2020 6772 6f75 703a 2073 7472 203d      group: str =
-0000c500: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-0000c510: 7761 726d 5f69 643a 2073 7472 203d 204e  warm_id: str = N
-0000c520: 6f6e 652c 0a20 2020 2020 2020 206c 6162  one,.        lab
-0000c530: 656c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  el: str = None,.
-0000c540: 2020 2020 2020 2020 7369 7465 3a20 7374          site: st
-0000c550: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-0000c560: 2020 7365 7269 616c 3a20 7374 7220 3d20    serial: str = 
-0000c570: 4e6f 6e65 2c0a 2020 2020 2020 2020 6d61  None,.        ma
-0000c580: 6361 6464 723a 2073 7472 203d 204e 6f6e  caddr: str = Non
-0000c590: 652c 0a20 2020 2020 2020 2063 6c75 7374  e,.        clust
-0000c5a0: 6572 5f69 643a 2073 7472 203d 204e 6f6e  er_id: str = Non
-0000c5b0: 652c 0a20 2020 2020 2020 2063 616c 6375  e,.        calcu
-0000c5c0: 6c61 7465 5f74 6f74 616c 3a20 626f 6f6c  late_total: bool
-0000c5d0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000c5e0: 2073 6f72 743a 2073 7472 203d 204e 6f6e   sort: str = Non
-0000c5f0: 652c 0a20 2020 2020 2020 206f 6666 7365  e,.        offse
-0000c600: 743a 2069 6e74 203d 2030 2c0a 2020 2020  t: int = 0,.    
-0000c610: 2020 2020 6c69 6d69 743a 2069 6e74 203d      limit: int =
-0000c620: 2031 3030 302c 0a20 2020 2029 202d 3e20   1000,.    ) -> 
-0000c630: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-0000c640: 2020 2222 224c 6973 7420 4253 5349 4473    """List BSSIDs
-0000c650: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-0000c660: 0a20 2020 2020 2020 2020 2020 2067 726f  .            gro
-0000c670: 7570 2028 7374 722c 206f 7074 696f 6e61  up (str, optiona
-0000c680: 6c29 3a20 4669 6c74 6572 2062 7920 6772  l): Filter by gr
-0000c690: 6f75 7020 6e61 6d65 0a20 2020 2020 2020  oup name.       
-0000c6a0: 2020 2020 2073 7761 726d 5f69 6420 2873       swarm_id (s
-0000c6b0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-0000c6c0: 696c 7465 7220 6279 2053 7761 726d 2049  ilter by Swarm I
-0000c6d0: 440a 2020 2020 2020 2020 2020 2020 6c61  D.            la
-0000c6e0: 6265 6c20 2873 7472 2c20 6f70 7469 6f6e  bel (str, option
-0000c6f0: 616c 293a 2046 696c 7465 7220 6279 204c  al): Filter by L
-0000c700: 6162 656c 206e 616d 650a 2020 2020 2020  abel name.      
-0000c710: 2020 2020 2020 7369 7465 2028 7374 722c        site (str,
-0000c720: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-0000c730: 6572 2062 7920 5369 7465 206e 616d 650a  er by Site name.
-0000c740: 2020 2020 2020 2020 2020 2020 7365 7269              seri
-0000c750: 616c 2028 7374 722c 206f 7074 696f 6e61  al (str, optiona
-0000c760: 6c29 3a20 4669 6c74 6572 2062 7920 4150  l): Filter by AP
-0000c770: 2073 6572 6961 6c20 6e75 6d62 6572 0a20   serial number. 
-0000c780: 2020 2020 2020 2020 2020 206d 6163 6164             macad
-0000c790: 6472 2028 7374 722c 206f 7074 696f 6e61  dr (str, optiona
-0000c7a0: 6c29 3a20 4669 6c74 6572 2062 7920 4150  l): Filter by AP
-0000c7b0: 204d 4143 2061 6464 7265 7373 0a20 2020   MAC address.   
-0000c7c0: 2020 2020 2020 2020 2063 6c75 7374 6572           cluster
-0000c7d0: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
-0000c7e0: 616c 293a 2046 696c 7465 7220 6279 204d  al): Filter by M
-0000c7f0: 6f62 696c 6974 7920 436f 6e74 726f 6c6c  obility Controll
-0000c800: 6572 2073 6572 6961 6c20 6e75 6d62 6572  er serial number
-0000c810: 0a20 2020 2020 2020 2020 2020 2063 616c  .            cal
-0000c820: 6375 6c61 7465 5f74 6f74 616c 2028 626f  culate_total (bo
-0000c830: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2057  ol, optional): W
-0000c840: 6865 7468 6572 2074 6f20 6361 6c63 756c  hether to calcul
-0000c850: 6174 6520 746f 7461 6c20 4150 730a 2020  ate total APs.  
-0000c860: 2020 2020 2020 2020 2020 736f 7274 2028            sort (
-0000c870: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0000c880: 536f 7274 2070 6172 616d 6574 6572 206d  Sort parameter m
-0000c890: 6179 2062 6520 6f6e 6520 6f66 202b 7365  ay be one of +se
-0000c8a0: 7269 616c 2c20 2d73 6572 6961 6c2c 202b  rial, -serial, +
-0000c8b0: 6d61 6361 6464 722c 2d6d 6163 6164 6472  macaddr,-macaddr
-0000c8c0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000c8d0: 2020 2b73 7761 726d 5f69 642c 202d 7377    +swarm_id, -sw
-0000c8e0: 6172 6d5f 6964 2e44 6566 6175 6c74 2069  arm_id.Default i
-0000c8f0: 7320 272b 7365 7269 616c 270a 2020 2020  s '+serial'.    
-0000c900: 2020 2020 2020 2020 6f66 6673 6574 2028          offset (
-0000c910: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-0000c920: 5061 6769 6e61 7469 6f6e 206f 6666 7365  Pagination offse
-0000c930: 7420 4465 6661 756c 7473 2074 6f20 302e  t Defaults to 0.
-0000c940: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-0000c950: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-0000c960: 6c29 3a20 5061 6769 6e61 7469 6f6e 206c  l): Pagination l
-0000c970: 696d 6974 2e20 4465 6661 756c 7420 6973  imit. Default is
-0000c980: 2031 3030 2061 6e64 206d 6178 2069 7320   100 and max is 
-0000c990: 3130 3030 2044 6566 6175 6c74 7320 746f  1000 Defaults to
-0000c9a0: 2031 3030 302e 0a0a 2020 2020 2020 2020   1000...        
-0000c9b0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-0000c9c0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-0000c9d0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-0000c9e0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-0000c9f0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-0000ca00: 6c20 3d20 222f 6d6f 6e69 746f 7269 6e67  l = "/monitoring
-0000ca10: 2f76 322f 6273 7369 6473 220a 0a20 2020  /v2/bssids"..   
-0000ca20: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-0000ca30: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
-0000ca40: 6961 6c27 3a20 7365 7269 616c 2c0a 2020  ial': serial,.  
-0000ca50: 2020 2020 2020 2020 2020 2267 726f 7570            "group
-0000ca60: 223a 2067 726f 7570 2c0a 2020 2020 2020  ": group,.      
-0000ca70: 2020 2020 2020 2273 7761 726d 5f69 6422        "swarm_id"
-0000ca80: 3a20 7377 6172 6d5f 6964 2c0a 2020 2020  : swarm_id,.    
-0000ca90: 2020 2020 2020 2020 226c 6162 656c 223a          "label":
-0000caa0: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
-0000cab0: 2020 2020 2273 6974 6522 3a20 7369 7465      "site": site
-0000cac0: 2c0a 2020 2020 2020 2020 2020 2020 276d  ,.            'm
-0000cad0: 6163 6164 6472 273a 206d 6163 6164 6472  acaddr': macaddr
-0000cae0: 2c0a 2020 2020 2020 2020 2020 2020 2763  ,.            'c
-0000caf0: 6c75 7374 6572 5f69 6427 3a20 636c 7573  luster_id': clus
-0000cb00: 7465 725f 6964 2c0a 2020 2020 2020 2020  ter_id,.        
-0000cb10: 2020 2020 2763 616c 6375 6c61 7465 5f74      'calculate_t
-0000cb20: 6f74 616c 273a 2063 616c 6375 6c61 7465  otal': calculate
-0000cb30: 5f74 6f74 616c 2c0a 2020 2020 2020 2020  _total,.        
-0000cb40: 2020 2020 2773 6f72 7427 3a20 736f 7274      'sort': sort
-0000cb50: 2c0a 2020 2020 2020 2020 2020 2020 226f  ,.            "o
-0000cb60: 6666 7365 7422 3a20 6f66 6673 6574 2c0a  ffset": offset,.
-0000cb70: 2020 2020 2020 2020 2020 2020 226c 696d              "lim
-0000cb80: 6974 223a 206c 696d 6974 2c0a 2020 2020  it": limit,.    
-0000cb90: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-0000cba0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-0000cbb0: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
-0000cbc0: 3d70 6172 616d 7329 0a0a 2020 2020 2320  =params)..    # 
-0000cbd0: 544f 444f 2063 6861 6e67 6520 6465 765f  TODO change dev_
-0000cbe0: 7479 7065 2074 6f20 7573 6520 5b67 772c  type to use [gw,
-0000cbf0: 2073 772c 2063 782c 2061 702c 2073 7769   sw, cx, ap, swi
-0000cc00: 7463 685d 2020 6d61 6b65 2063 6f6e 7369  tch]  make consi
-0000cc10: 7374 656e 7420 666f 7220 616c 6c20 6361  stent for all ca
-0000cc20: 6c6c 730a 2020 2020 6173 796e 6320 6465  lls.    async de
-0000cc30: 6620 6765 745f 6465 7669 6365 7328 0a20  f get_devices(. 
-0000cc40: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0000cc50: 2020 2020 2064 6576 5f74 7970 653a 204c       dev_type: L
-0000cc60: 6974 6572 616c 5b22 7377 6974 6368 6573  iteral["switches
-0000cc70: 222c 2022 6170 7322 2c20 2267 6174 6577  ", "aps", "gatew
-0000cc80: 6179 7322 5d2c 0a20 2020 2020 2020 2067  ays"],.        g
-0000cc90: 726f 7570 3a20 7374 7220 3d20 4e6f 6e65  roup: str = None
-0000cca0: 2c0a 2020 2020 2020 2020 6c61 6265 6c3a  ,.        label:
-0000ccb0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000ccc0: 2020 2020 2073 7461 636b 5f69 643a 2073       stack_id: s
-0000ccd0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0000cce0: 2020 2073 7761 726d 5f69 643a 2073 7472     swarm_id: str
-0000ccf0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000cd00: 2073 6572 6961 6c3a 2073 7472 203d 204e   serial: str = N
-0000cd10: 6f6e 652c 0a20 2020 2020 2020 2073 7461  one,.        sta
-0000cd20: 7475 733a 2073 7472 203d 204e 6f6e 652c  tus: str = None,
-0000cd30: 0a20 2020 2020 2020 2066 6965 6c64 733a  .        fields:
-0000cd40: 206c 6973 7420 3d20 4e6f 6e65 2c0a 2020   list = None,.  
-0000cd50: 2020 2020 2020 7368 6f77 5f72 6573 6f75        show_resou
-0000cd60: 7263 655f 6465 7461 696c 733a 2062 6f6f  rce_details: boo
-0000cd70: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
-0000cd80: 2020 2063 6c75 7374 6572 5f69 643a 2073     cluster_id: s
-0000cd90: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0000cda0: 2020 206d 6f64 656c 3a20 7374 7220 3d20     model: str = 
-0000cdb0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6361  None,.        ca
-0000cdc0: 6c63 756c 6174 655f 636c 6965 6e74 5f63  lculate_client_c
-0000cdd0: 6f75 6e74 3a20 626f 6f6c 203d 2046 616c  ount: bool = Fal
-0000cde0: 7365 2c0a 2020 2020 2020 2020 6361 6c63  se,.        calc
-0000cdf0: 756c 6174 655f 7373 6964 5f63 6f75 6e74  ulate_ssid_count
-0000ce00: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
-0000ce10: 2020 2020 2020 2020 6d61 6361 6464 723a          macaddr:
-0000ce20: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000ce30: 2020 2020 2070 7562 6c69 635f 6970 5f61       public_ip_a
-0000ce40: 6464 7265 7373 3a20 7374 7220 3d20 4e6f  ddress: str = No
-0000ce50: 6e65 2c0a 2020 2020 2020 2020 7369 7465  ne,.        site
-0000ce60: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-0000ce70: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
-0000ce80: 203d 2031 3030 302c 2020 2320 6d61 7820   = 1000,  # max 
-0000ce90: 616c 6c6f 7765 6420 3130 3030 0a20 2020  allowed 1000.   
-0000cea0: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
-0000ceb0: 203d 2030 2c0a 2020 2020 2020 2020 2320   = 0,.        # 
-0000cec0: 736f 7274 3a20 7374 7220 3d20 4e6f 6e65  sort: str = None
-0000ced0: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
-0000cee0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-0000cef0: 4765 7420 4465 7669 6365 7320 6672 6f6d  Get Devices from
-0000cf00: 2041 7275 6261 2043 656e 7472 616c 2041   Aruba Central A
-0000cf10: 5049 2047 6174 6577 6179 0a0a 2020 2020  PI Gateway..    
-0000cf20: 2020 2020 2f2f 2055 7365 6420 6279 2073      // Used by s
-0000cf30: 686f 7720 3c22 6170 7322 7c22 6761 7465  how <"aps"|"gate
-0000cf40: 7761 7973 227c 2273 7769 7463 6865 7322  ways"|"switches"
-0000cf50: 3e20 2f2f 0a0a 2020 2020 2020 2020 4172  > //..        Ar
-0000cf60: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-0000cf70: 6465 765f 7479 7065 2028 4c69 7465 7261  dev_type (Litera
-0000cf80: 6c5b 2273 7769 7463 6865 7322 2c20 2261  l["switches", "a
-0000cf90: 7073 222c 2022 6761 7465 7761 7973 2229  ps", "gateways")
-0000cfa0: 3a20 5479 7065 206f 6620 6465 7669 6365  : Type of device
-0000cfb0: 7320 746f 2067 6574 2e0a 2020 2020 2020  s to get..      
-0000cfc0: 2020 2020 2020 6772 6f75 7020 2873 7472        group (str
-0000cfd0: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-0000cfe0: 7465 7220 6f6e 2073 7065 6369 6669 6320  ter on specific 
-0000cff0: 6772 6f75 702e 2044 6566 6175 6c74 7320  group. Defaults 
-0000d000: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
-0000d010: 2020 2020 206c 6162 656c 2028 7374 722c       label (str,
-0000d020: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-0000d030: 6572 2062 7920 6c61 6265 6c2e 2044 6566  er by label. Def
-0000d040: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
-0000d050: 2020 2020 2020 2020 2020 2073 7461 636b             stack
-0000d060: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
-0000d070: 616c 293a 2052 6574 7572 6e20 7377 6974  al): Return swit
-0000d080: 6368 2077 6974 6820 7370 6563 6966 6963  ch with specific
-0000d090: 2073 7461 636b 5f69 642e 2044 6566 6175   stack_id. Defau
-0000d0a0: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
-0000d0b0: 2020 2020 2020 2020 2073 7761 726d 5f69           swarm_i
-0000d0c0: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
-0000d0d0: 293a 2052 6574 7572 6e20 4150 7320 7769  ): Return APs wi
-0000d0e0: 7468 2061 2073 7065 6369 6669 6320 7377  th a specific sw
-0000d0f0: 6172 6d5f 6964 2e20 4465 6661 756c 7473  arm_id. Defaults
-0000d100: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
-0000d110: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
-0000d120: 722c 206f 7074 696f 6e61 6c29 3a20 5265  r, optional): Re
-0000d130: 7475 726e 2074 6865 2064 6576 6963 6520  turn the device 
-0000d140: 7769 7468 2073 6572 6961 6c20 6e75 6d62  with serial numb
-0000d150: 6572 2e20 4465 6661 756c 7473 2074 6f20  er. Defaults to 
-0000d160: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
-0000d170: 2020 7374 6174 7573 2028 7374 722c 206f    status (str, o
-0000d180: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-0000d190: 2062 7920 7374 6174 7573 2e20 4465 6661   by status. Defa
-0000d1a0: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
-0000d1b0: 2020 2020 2020 2020 2020 6669 656c 6473            fields
-0000d1c0: 2028 6c69 7374 2c20 6f70 7469 6f6e 616c   (list, optional
-0000d1d0: 293a 2052 6574 7572 6e20 7370 6563 6966  ): Return specif
-0000d1e0: 6963 2066 6965 6c64 7320 666f 7220 6465  ic fields for de
-0000d1f0: 7669 6365 2e20 4465 6661 756c 7473 2074  vice. Defaults t
-0000d200: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-0000d210: 2020 2020 7368 6f77 5f72 6573 6f75 7263      show_resourc
-0000d220: 655f 6465 7461 696c 7320 2862 6f6f 6c2c  e_details (bool,
-0000d230: 206f 7074 696f 6e61 6c29 3a20 5368 6f77   optional): Show
-0000d240: 2072 6573 6f75 7263 6520 7574 696c 697a   resource utiliz
-0000d250: 6174 696f 6e2e 2044 6566 6175 6c74 7320  ation. Defaults 
-0000d260: 746f 2046 616c 7365 2e0a 2020 2020 2020  to False..      
-0000d270: 2020 2020 2020 636c 7573 7465 725f 6964        cluster_id
-0000d280: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0000d290: 3a20 5265 7475 726e 2067 6174 6577 6179  : Return gateway
-0000d2a0: 7320 7769 7468 2061 2073 7065 6369 6669  s with a specifi
-0000d2b0: 6320 636c 7573 7465 725f 6964 2e20 4465  c cluster_id. De
-0000d2c0: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
-0000d2d0: 2020 2020 2020 2020 2020 2020 6d6f 6465              mode
-0000d2e0: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
-0000d2f0: 293a 2046 696c 7465 7220 6279 2064 6576  ): Filter by dev
-0000d300: 6963 6520 6d6f 6465 6c2e 2044 6566 6175  ice model. Defau
-0000d310: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
-0000d320: 2020 2020 2020 2020 2063 616c 6375 6c61           calcula
-0000d330: 7465 5f63 6c69 656e 745f 636f 756e 7420  te_client_count 
-0000d340: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
-0000d350: 3a20 4361 6c63 756c 6174 6520 636c 6965  : Calculate clie
-0000d360: 6e74 2063 6f75 6e74 2066 6f72 2065 6163  nt count for eac
-0000d370: 6820 6465 7669 6365 2e20 4465 6661 756c  h device. Defaul
-0000d380: 7473 2074 6f20 4661 6c73 652e 0a20 2020  ts to False..   
-0000d390: 2020 2020 2020 2020 2063 616c 6375 6c61           calcula
-0000d3a0: 7465 5f73 7369 645f 636f 756e 7420 2862  te_ssid_count (b
-0000d3b0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
-0000d3c0: 4361 6c63 756c 6174 6520 5353 4944 2063  Calculate SSID c
-0000d3d0: 6f75 6e74 2066 6f72 2065 6163 6820 4150  ount for each AP
-0000d3e0: 2e20 4465 6661 756c 7473 2074 6f20 4661  . Defaults to Fa
-0000d3f0: 6c73 652e 0a20 2020 2020 2020 2020 2020  lse..           
-0000d400: 206d 6163 6164 6472 2028 7374 722c 206f   macaddr (str, o
-0000d410: 7074 696f 6e61 6c29 3a20 5265 7475 726e  ptional): Return
-0000d420: 2064 6576 6963 6520 7769 7468 2073 7065   device with spe
-0000d430: 6369 6669 6320 4d41 4320 2866 757a 7a79  cific MAC (fuzzy
-0000d440: 206d 6174 6368 292e 2044 6566 6175 6c74   match). Default
-0000d450: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
-0000d460: 2020 2020 2020 2070 7562 6c69 635f 6970         public_ip
-0000d470: 5f61 6464 7265 7373 2028 7374 722c 206f  _address (str, o
-0000d480: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-0000d490: 2064 6576 6963 6573 2062 7920 5075 626c   devices by Publ
-0000d4a0: 6963 2049 502e 2044 6566 6175 6c74 7320  ic IP. Defaults 
-0000d4b0: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
-0000d4c0: 2020 2020 2073 6974 6520 2873 7472 2c20       site (str, 
-0000d4d0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-0000d4e0: 7220 6279 2073 6974 652e 2044 6566 6175  r by site. Defau
-0000d4f0: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
-0000d500: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
-0000d510: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-0000d520: 2050 6167 696e 6174 696f 6e20 6f66 6673   Pagination offs
-0000d530: 6574 2044 6566 6175 6c74 7320 746f 2030  et Defaults to 0
-0000d540: 2e0a 2020 2020 2020 2020 2020 2020 6c69  ..            li
-0000d550: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
-0000d560: 616c 293a 2050 6167 696e 6174 696f 6e20  al): Pagination 
-0000d570: 6c69 6d69 742e 204d 6178 2069 7320 3130  limit. Max is 10
-0000d580: 3030 2044 6566 6175 6c74 7320 746f 2035  00 Defaults to 5
-0000d590: 3030 2e0a 0a20 2020 2020 2020 2052 6574  00...        Ret
-0000d5a0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-0000d5b0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-0000d5c0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-0000d5d0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-0000d5e0: 2222 0a20 2020 2020 2020 2064 6576 5f70  "".        dev_p
-0000d5f0: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
-0000d600: 2020 2020 2020 2261 7073 223a 207b 0a20        "aps": {. 
-0000d610: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-0000d620: 7365 7269 616c 273a 2073 6572 6961 6c2c  serial': serial,
-0000d630: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d640: 2027 6d61 6361 6464 7227 3a20 6d61 6361   'macaddr': maca
-0000d650: 6464 722c 0a20 2020 2020 2020 2020 2020  ddr,.           
-0000d660: 2020 2020 2022 7377 6172 6d5f 6964 223a       "swarm_id":
-0000d670: 2073 7761 726d 5f69 642c 0a20 2020 2020   swarm_id,.     
-0000d680: 2020 2020 2020 2020 2020 2027 6d6f 6465             'mode
-0000d690: 6c27 3a20 6d6f 6465 6c2c 0a20 2020 2020  l': model,.     
-0000d6a0: 2020 2020 2020 2020 2020 2027 636c 7573             'clus
-0000d6b0: 7465 725f 6964 273a 2063 6c75 7374 6572  ter_id': cluster
-0000d6c0: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
-0000d6d0: 2020 2020 2027 6669 656c 6473 273a 2066       'fields': f
-0000d6e0: 6965 6c64 732c 0a20 2020 2020 2020 2020  ields,.         
-0000d6f0: 2020 2020 2020 2027 6361 6c63 756c 6174         'calculat
-0000d700: 655f 636c 6965 6e74 5f63 6f75 6e74 273a  e_client_count':
-0000d710: 2073 7472 2863 616c 6375 6c61 7465 5f63   str(calculate_c
-0000d720: 6c69 656e 745f 636f 756e 7429 2e6c 6f77  lient_count).low
-0000d730: 6572 2829 2c0a 2020 2020 2020 2020 2020  er(),.          
-0000d740: 2020 2020 2020 2763 616c 6375 6c61 7465        'calculate
-0000d750: 5f73 7369 645f 636f 756e 7427 3a20 7374  _ssid_count': st
-0000d760: 7228 6361 6c63 756c 6174 655f 7373 6964  r(calculate_ssid
-0000d770: 5f63 6f75 6e74 292e 6c6f 7765 7228 292c  _count).lower(),
-0000d780: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d790: 2027 7368 6f77 5f72 6573 6f75 7263 655f   'show_resource_
-0000d7a0: 6465 7461 696c 7327 3a20 7374 7228 7368  details': str(sh
-0000d7b0: 6f77 5f72 6573 6f75 7263 655f 6465 7461  ow_resource_deta
-0000d7c0: 696c 7329 2e6c 6f77 6572 2829 2c0a 2020  ils).lower(),.  
-0000d7d0: 2020 2020 2020 2020 2020 7d2c 0a20 2020            },.   
-0000d7e0: 2020 2020 2020 2020 2022 7377 6974 6368           "switch
-0000d7f0: 6573 223a 207b 0a20 2020 2020 2020 2020  es": {.         
-0000d800: 2020 2020 2020 2027 7374 6163 6b5f 6964         'stack_id
-0000d810: 273a 2073 7461 636b 5f69 642c 0a20 2020  ': stack_id,.   
-0000d820: 2020 2020 2020 2020 2020 2020 2027 7368               'sh
-0000d830: 6f77 5f72 6573 6f75 7263 655f 6465 7461  ow_resource_deta
-0000d840: 696c 7327 3a20 7374 7228 7368 6f77 5f72  ils': str(show_r
-0000d850: 6573 6f75 7263 655f 6465 7461 696c 7329  esource_details)
-0000d860: 2e6c 6f77 6572 2829 2c0a 2020 2020 2020  .lower(),.      
-0000d870: 2020 2020 2020 2020 2020 2763 616c 6375            'calcu
-0000d880: 6c61 7465 5f63 6c69 656e 745f 636f 756e  late_client_coun
-0000d890: 7427 3a20 7374 7228 6361 6c63 756c 6174  t': str(calculat
-0000d8a0: 655f 636c 6965 6e74 5f63 6f75 6e74 292e  e_client_count).
-0000d8b0: 6c6f 7765 7228 292c 0a20 2020 2020 2020  lower(),.       
-0000d8c0: 2020 2020 2020 2020 2027 7075 626c 6963           'public
-0000d8d0: 5f69 705f 6164 6472 6573 7327 3a20 7075  _ip_address': pu
-0000d8e0: 626c 6963 5f69 705f 6164 6472 6573 732c  blic_ip_address,
-0000d8f0: 0a20 2020 2020 2020 2020 2020 207d 2c0a  .            },.
-0000d900: 2020 2020 2020 2020 2020 2020 2267 6174              "gat
-0000d910: 6577 6179 7322 3a20 7b0a 2020 2020 2020  eways": {.      
-0000d920: 2020 2020 2020 2020 2020 276d 6163 6164            'macad
-0000d930: 6472 273a 206d 6163 6164 6472 2c0a 2020  dr': macaddr,.  
-0000d940: 2020 2020 2020 2020 2020 2020 2020 276d                'm
-0000d950: 6f64 656c 273a 206d 6f64 656c 2c0a 2020  odel': model,.  
-0000d960: 2020 2020 2020 2020 2020 2020 2020 2766                'f
-0000d970: 6965 6c64 7327 3a20 6669 656c 6473 2c0a  ields': fields,.
-0000d980: 2020 2020 2020 2020 2020 2020 7d0a 2020              }.  
-0000d990: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-0000d9a0: 636f 6d6d 6f6e 5f70 6172 616d 7320 3d20  common_params = 
-0000d9b0: 7b0a 2020 2020 2020 2020 2020 2020 2267  {.            "g
-0000d9c0: 726f 7570 223a 2067 726f 7570 2c0a 2020  roup": group,.  
-0000d9d0: 2020 2020 2020 2020 2020 226c 6162 656c            "label
-0000d9e0: 223a 206c 6162 656c 2c0a 2020 2020 2020  ": label,.      
-0000d9f0: 2020 2020 2020 2773 6974 6527 3a20 7369        'site': si
-0000da00: 7465 2c0a 2020 2020 2020 2020 2020 2020  te,.            
-0000da10: 2773 7461 7475 7327 3a20 4e6f 6e65 2069  'status': None i
-0000da20: 6620 6e6f 7420 7374 6174 7573 2065 6c73  f not status els
-0000da30: 6520 7374 6174 7573 2e74 6974 6c65 2829  e status.title()
-0000da40: 2c0a 2020 2020 2020 2020 2020 2020 276f  ,.            'o
-0000da50: 6666 7365 7427 3a20 6f66 6673 6574 2c0a  ffset': offset,.
-0000da60: 2020 2020 2020 2020 2020 2020 276c 696d              'lim
-0000da70: 6974 273a 206c 696d 6974 0a20 2020 2020  it': limit.     
-0000da80: 2020 207d 0a0a 2020 2020 2020 2020 7572     }..        ur
-0000da90: 6c20 3d20 6622 2f6d 6f6e 6974 6f72 696e  l = f"/monitorin
-0000daa0: 672f 7631 2f7b 6465 765f 7479 7065 7d22  g/v1/{dev_type}"
-0000dab0: 0a20 2020 2020 2020 2069 6620 6465 765f  .        if dev_
-0000dac0: 7479 7065 203d 3d20 2261 7073 223a 0a20  type == "aps":. 
-0000dad0: 2020 2020 2020 2020 2020 2075 726c 203d             url =
-0000dae0: 2075 726c 2e72 6570 6c61 6365 2822 7631   url.replace("v1
-0000daf0: 222c 2022 7632 2229 0a20 2020 2020 2020  ", "v2").       
-0000db00: 2070 6172 616d 7320 3d20 7b2a 2a63 6f6d   params = {**com
-0000db10: 6d6f 6e5f 7061 7261 6d73 2c20 2a2a 6465  mon_params, **de
-0000db20: 765f 7061 7261 6d73 5b64 6576 5f74 7970  v_params[dev_typ
-0000db30: 655d 7d0a 0a20 2020 2020 2020 2072 6574  e]}..        ret
-0000db40: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-0000db50: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
-0000db60: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
-0000db70: 6320 6465 6620 6765 745f 6465 765f 6465  c def get_dev_de
-0000db80: 7461 696c 7328 0a20 2020 2020 2020 2073  tails(.        s
-0000db90: 656c 662c 0a20 2020 2020 2020 2064 6576  elf,.        dev
-0000dba0: 5f74 7970 653a 204c 6974 6572 616c 5b22  _type: Literal["
-0000dbb0: 7377 6974 6368 6573 222c 2022 6170 7322  switches", "aps"
-0000dbc0: 2c20 2267 6174 6577 6179 7322 5d2c 0a20  , "gateways"],. 
-0000dbd0: 2020 2020 2020 2073 6572 6961 6c3a 2073         serial: s
-0000dbe0: 7472 0a20 2020 2029 202d 3e20 5265 7370  tr.    ) -> Resp
-0000dbf0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-0000dc00: 2252 6574 7572 6e20 4465 7461 696c 7320  "Return Details 
-0000dc10: 666f 7220 6120 6769 7665 6e20 6465 7669  for a given devi
-0000dc20: 6365 0a0a 2020 2020 2020 2020 2f2f 2055  ce..        // U
-0000dc30: 7365 6420 6279 2073 686f 7720 6465 7669  sed by show devi
-0000dc40: 6365 5b73 5d20 3c64 6576 6963 6520 6964  ce[s] <device id
-0000dc50: 656e 3e20 2f2f 0a0a 2020 2020 2020 2020  en> //..        
-0000dc60: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-0000dc70: 2020 6465 765f 7479 7065 2028 7374 7229    dev_type (str)
-0000dc80: 3a20 4465 7669 6365 2054 7970 650a 2020  : Device Type.  
-0000dc90: 2020 2020 2020 2020 2020 2020 2020 5661                Va
-0000dca0: 6c69 6420 5661 6c75 6573 3a20 2267 6174  lid Values: "gat
-0000dcb0: 6577 6179 7322 2c20 2261 7073 222c 2022  eways", "aps", "
-0000dcc0: 7377 6974 6368 6573 220a 2020 2020 2020  switches".      
-0000dcd0: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
-0000dce0: 7229 3a20 5365 7269 616c 206e 756d 6265  r): Serial numbe
-0000dcf0: 7220 6f66 2044 6576 6963 650a 0a20 2020  r of Device..   
-0000dd00: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-0000dd10: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-0000dd20: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-0000dd30: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-0000dd40: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000dd50: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
-0000dd60: 746f 7269 6e67 2f76 312f 7b64 6576 5f74  toring/v1/{dev_t
-0000dd70: 7970 657d 2f7b 7365 7269 616c 7d22 0a20  ype}/{serial}". 
-0000dd80: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0000dd90: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-0000dda0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-0000ddb0: 206d 6f6e 6974 6f72 696e 675f 6765 745f   monitoring_get_
-0000ddc0: 6d63 7328 0a20 2020 2020 2020 2073 656c  mcs(.        sel
-0000ddd0: 662c 0a20 2020 2020 2020 2067 726f 7570  f,.        group
-0000dde0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-0000ddf0: 2020 2020 2020 6c61 6265 6c3a 2073 7472        label: str
-0000de00: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000de10: 2073 6974 653a 2073 7472 203d 204e 6f6e   site: str = Non
-0000de20: 652c 0a20 2020 2020 2020 2073 7461 7475  e,.        statu
-0000de30: 733a 2073 7472 203d 204e 6f6e 652c 0a20  s: str = None,. 
-0000de40: 2020 2020 2020 206d 6163 6164 6472 3a20         macaddr: 
-0000de50: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-0000de60: 2020 2020 6d6f 6465 6c3a 2073 7472 203d      model: str =
-0000de70: 204e 6f6e 652c 0a20 2020 2020 2020 2066   None,.        f
-0000de80: 6965 6c64 733a 2073 7472 203d 204e 6f6e  ields: str = Non
-0000de90: 652c 0a20 2020 2020 2020 2063 616c 6375  e,.        calcu
-0000dea0: 6c61 7465 5f74 6f74 616c 3a20 626f 6f6c  late_total: bool
-0000deb0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000dec0: 2073 6f72 743a 2073 7472 203d 204e 6f6e   sort: str = Non
-0000ded0: 652c 0a20 2020 2020 2020 206f 6666 7365  e,.        offse
-0000dee0: 743a 2069 6e74 203d 2030 2c0a 2020 2020  t: int = 0,.    
-0000def0: 2020 2020 6c69 6d69 743a 2069 6e74 203d      limit: int =
-0000df00: 2031 3030 2c0a 2020 2020 2920 2d3e 2052   100,.    ) -> R
-0000df10: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0000df20: 2022 2222 4c69 7374 204d 6f62 696c 6974   """List Mobilit
-0000df30: 7920 436f 6e74 726f 6c6c 6572 732e 0a0a  y Controllers...
-0000df40: 2020 2020 2020 2020 596f 7520 6361 6e20          You can 
-0000df50: 6f6e 6c79 2073 7065 6369 6679 206f 6e65  only specify one
-0000df60: 206f 6620 6772 6f75 702c 206c 6162 656c   of group, label
-0000df70: 2c20 7369 7465 0a0a 2020 2020 2020 2020  , site..        
-0000df80: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-0000df90: 2020 6772 6f75 7020 2873 7472 2c20 6f70    group (str, op
-0000dfa0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-0000dfb0: 6279 2067 726f 7570 206e 616d 650a 2020  by group name.  
-0000dfc0: 2020 2020 2020 2020 2020 6c61 6265 6c20            label 
-0000dfd0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0000dfe0: 2046 696c 7465 7220 6279 204c 6162 656c   Filter by Label
-0000dff0: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
-0000e000: 2020 7369 7465 2028 7374 722c 206f 7074    site (str, opt
-0000e010: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
-0000e020: 7920 5369 7465 206e 616d 650a 2020 2020  y Site name.    
-0000e030: 2020 2020 2020 2020 7374 6174 7573 2028          status (
-0000e040: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0000e050: 4669 6c74 6572 2062 7920 4d6f 6269 6c69  Filter by Mobili
-0000e060: 7479 2043 6f6e 7472 6f6c 6c65 7220 7374  ty Controller st
-0000e070: 6174 7573 0a20 2020 2020 2020 2020 2020  atus.           
-0000e080: 206d 6163 6164 6472 2028 7374 722c 206f   macaddr (str, o
-0000e090: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-0000e0a0: 2062 7920 4d6f 6269 6c69 7479 2043 6f6e   by Mobility Con
-0000e0b0: 7472 6f6c 6c65 7220 4d41 4320 6164 6472  troller MAC addr
-0000e0c0: 6573 730a 2020 2020 2020 2020 2020 2020  ess.            
-0000e0d0: 6d6f 6465 6c20 2873 7472 2c20 6f70 7469  model (str, opti
-0000e0e0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-0000e0f0: 204d 6f62 696c 6974 7920 436f 6e74 726f   Mobility Contro
-0000e100: 6c6c 6572 204d 6f64 656c 0a20 2020 2020  ller Model.     
-0000e110: 2020 2020 2020 2066 6965 6c64 7320 2873         fields (s
-0000e120: 7472 2c20 6f70 7469 6f6e 616c 293a 2043  tr, optional): C
-0000e130: 6f6d 6d61 2073 6570 6172 6174 6564 206c  omma separated l
-0000e140: 6973 7420 6f66 2066 6965 6c64 7320 746f  ist of fields to
-0000e150: 2062 6520 7265 7475 726e 6564 2e20 5661   be returned. Va
-0000e160: 6c69 6420 6669 656c 6473 2061 7265 0a20  lid fields are. 
-0000e170: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000e180: 7461 7475 732c 2069 705f 6164 6472 6573  tatus, ip_addres
-0000e190: 732c 206d 6f64 656c 2c20 6669 726d 7761  s, model, firmwa
-0000e1a0: 7265 5f76 6572 7369 6f6e 2c20 6c61 6265  re_version, labe
-0000e1b0: 6c73 2c20 6170 5f63 6f75 6e74 2c20 7573  ls, ap_count, us
-0000e1c0: 6167 650a 2020 2020 2020 2020 2020 2020  age.            
-0000e1d0: 6361 6c63 756c 6174 655f 746f 7461 6c20  calculate_total 
-0000e1e0: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
-0000e1f0: 3a20 5768 6574 6865 7220 746f 2063 616c  : Whether to cal
-0000e200: 6375 6c61 7465 2074 6f74 616c 204d 6f62  culate total Mob
-0000e210: 696c 6974 7920 436f 6e74 726f 6c6c 6572  ility Controller
-0000e220: 730a 2020 2020 2020 2020 2020 2020 736f  s.            so
-0000e230: 7274 2028 7374 722c 206f 7074 696f 6e61  rt (str, optiona
-0000e240: 6c29 3a20 536f 7274 2070 6172 616d 6574  l): Sort paramet
-0000e250: 6572 206d 6179 2062 6520 6f6e 6520 6f66  er may be one of
-0000e260: 202b 7365 7269 616c 2c20 2d73 6572 6961   +serial, -seria
-0000e270: 6c2c 202b 6d61 6361 6464 722c 202d 6d61  l, +macaddr, -ma
-0000e280: 6361 6464 722e 0a20 2020 2020 2020 2020  caddr..         
-0000e290: 2020 2020 2020 2044 6566 6175 6c74 2069         Default i
-0000e2a0: 7320 272b 7365 7269 616c 270a 2020 2020  s '+serial'.    
-0000e2b0: 2020 2020 2020 2020 6f66 6673 6574 2028          offset (
-0000e2c0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-0000e2d0: 5061 6769 6e61 7469 6f6e 206f 6666 7365  Pagination offse
-0000e2e0: 7420 4465 6661 756c 7473 2074 6f20 302e  t Defaults to 0.
-0000e2f0: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-0000e300: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-0000e310: 6c29 3a20 5061 6769 6e61 7469 6f6e 206c  l): Pagination l
-0000e320: 696d 6974 2e20 4d61 7820 6973 2031 3030  imit. Max is 100
-0000e330: 3020 4465 6661 756c 7473 2074 6f20 3130  0 Defaults to 10
-0000e340: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
-0000e350: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-0000e360: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-0000e370: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-0000e380: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-0000e390: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-0000e3a0: 222f 6d6f 6e69 746f 7269 6e67 2f76 312f  "/monitoring/v1/
-0000e3b0: 6d6f 6269 6c69 7479 5f63 6f6e 7472 6f6c  mobility_control
-0000e3c0: 6c65 7273 220a 0a20 2020 2020 2020 2070  lers"..        p
-0000e3d0: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
-0000e3e0: 2020 2020 2020 2267 726f 7570 223a 2067        "group": g
-0000e3f0: 726f 7570 2c0a 2020 2020 2020 2020 2020  roup,.          
-0000e400: 2020 226c 6162 656c 223a 206c 6162 656c    "label": label
-0000e410: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
-0000e420: 6974 6522 3a20 7369 7465 2c0a 2020 2020  ite": site,.    
-0000e430: 2020 2020 2020 2020 2273 7461 7475 7322          "status"
-0000e440: 3a20 7374 6174 7573 2c0a 2020 2020 2020  : status,.      
-0000e450: 2020 2020 2020 226d 6163 6164 6472 223a        "macaddr":
-0000e460: 206d 6163 6164 6472 2c0a 2020 2020 2020   macaddr,.      
-0000e470: 2020 2020 2020 226d 6f64 656c 223a 206d        "model": m
-0000e480: 6f64 656c 2c0a 2020 2020 2020 2020 2020  odel,.          
-0000e490: 2020 2266 6965 6c64 7322 3a20 6669 656c    "fields": fiel
-0000e4a0: 6473 2c0a 2020 2020 2020 2020 2020 2020  ds,.            
-0000e4b0: 2263 616c 6375 6c61 7465 5f74 6f74 616c  "calculate_total
-0000e4c0: 223a 2063 616c 6375 6c61 7465 5f74 6f74  ": calculate_tot
-0000e4d0: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
-0000e4e0: 2273 6f72 7422 3a20 736f 7274 2c0a 2020  "sort": sort,.  
-0000e4f0: 2020 2020 2020 2020 2020 226f 6666 7365            "offse
-0000e500: 7422 3a20 6f66 6673 6574 2c0a 2020 2020  t": offset,.    
-0000e510: 2020 2020 2020 2020 226c 696d 6974 223a          "limit":
-0000e520: 206c 696d 6974 2c0a 2020 2020 2020 2020   limit,.        
-0000e530: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-0000e540: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-0000e550: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-0000e560: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
-0000e570: 6465 6620 6765 745f 776c 616e 7328 0a20  def get_wlans(. 
-0000e580: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0000e590: 2020 2020 206e 616d 653a 2073 7472 203d       name: str =
-0000e5a0: 204e 6f6e 652c 0a20 2020 2020 2020 2067   None,.        g
-0000e5b0: 726f 7570 3a20 7374 7220 3d20 4e6f 6e65  roup: str = None
-0000e5c0: 2c0a 2020 2020 2020 2020 7377 6172 6d5f  ,.        swarm_
-0000e5d0: 6964 3a20 7374 7220 3d20 4e6f 6e65 2c0a  id: str = None,.
-0000e5e0: 2020 2020 2020 2020 6c61 6265 6c3a 2073          label: s
-0000e5f0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0000e600: 2020 2073 6974 653a 2073 7472 203d 204e     site: str = N
-0000e610: 6f6e 652c 0a20 2020 2020 2020 2063 616c  one,.        cal
-0000e620: 6375 6c61 7465 5f63 6c69 656e 745f 636f  culate_client_co
-0000e630: 756e 743a 2062 6f6f 6c20 3d20 4e6f 6e65  unt: bool = None
-0000e640: 2c0a 2020 2020 2020 2020 736f 7274 5f62  ,.        sort_b
-0000e650: 793a 2073 7472 203d 204e 6f6e 650a 2020  y: str = None.  
-0000e660: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-0000e670: 0a20 2020 2020 2020 2022 2222 4c69 7374  .        """List
-0000e680: 2061 6c6c 2057 4c41 4e73 2028 5353 4944   all WLANs (SSID
-0000e690: 7329 2e0a 0a20 2020 2020 2020 2041 7267  s)...        Arg
-0000e6a0: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
-0000e6b0: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
-0000e6c0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-0000e6d0: 6772 6f75 7020 6e61 6d65 0a20 2020 2020  group name.     
-0000e6e0: 2020 2020 2020 2073 7761 726d 5f69 6420         swarm_id 
-0000e6f0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0000e700: 2046 696c 7465 7220 6279 2053 7761 726d   Filter by Swarm
-0000e710: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
-0000e720: 6c61 6265 6c20 2873 7472 2c20 6f70 7469  label (str, opti
+00000030: 696d 706f 7274 2062 6173 6536 340a 696d  import base64.im
+00000040: 706f 7274 206a 736f 6e0a 696d 706f 7274  port json.import
+00000050: 2074 696d 650a 6672 6f6d 2061 7379 6e63   time.from async
+00000060: 696f 2e70 726f 6163 746f 725f 6576 656e  io.proactor_even
+00000070: 7473 2069 6d70 6f72 7420 5f50 726f 6163  ts import _Proac
+00000080: 746f 7242 6173 6550 6970 6554 7261 6e73  torBasePipeTrans
+00000090: 706f 7274 0a66 726f 6d20 6461 7465 7469  port.from dateti
+000000a0: 6d65 2069 6d70 6f72 7420 6461 7465 7469  me import dateti
+000000b0: 6d65 2c20 7469 6d65 6465 6c74 610a 6672  me, timedelta.fr
+000000c0: 6f6d 2065 6e75 6d20 696d 706f 7274 2045  om enum import E
+000000d0: 6e75 6d0a 6672 6f6d 2066 756e 6374 6f6f  num.from functoo
+000000e0: 6c73 2069 6d70 6f72 7420 7772 6170 730a  ls import wraps.
+000000f0: 6672 6f6d 2070 6174 686c 6962 2069 6d70  from pathlib imp
+00000100: 6f72 7420 5061 7468 0a66 726f 6d20 7479  ort Path.from ty
+00000110: 7069 6e67 2069 6d70 6f72 7420 4469 6374  ping import Dict
+00000120: 2c20 4c69 7374 2c20 4c69 7465 7261 6c2c  , List, Literal,
+00000130: 2054 7570 6c65 2c20 556e 696f 6e0a 0a23   Tuple, Union..#
+00000140: 2066 726f 6d20 6169 6f68 7474 7020 696d   from aiohttp im
+00000150: 706f 7274 2043 6c69 656e 7453 6573 7369  port ClientSessi
+00000160: 6f6e 0a69 6d70 6f72 7420 6169 6f68 7474  on.import aiohtt
+00000170: 700a 6672 6f6d 2070 7963 656e 7472 616c  p.from pycentral
+00000180: 2e62 6173 655f 7574 696c 7320 696d 706f  .base_utils impo
+00000190: 7274 2074 6f6b 656e 4c6f 6361 6c53 746f  rt tokenLocalSto
+000001a0: 7265 5574 696c 0a0a 6672 6f6d 202e 2069  reUtil..from . i
+000001b0: 6d70 6f72 7420 2841 7275 6261 4365 6e74  mport (ArubaCent
+000001c0: 7261 6c42 6173 652c 204d 794c 6f67 6765  ralBase, MyLogge
+000001d0: 722c 2063 6c65 616e 6572 2c20 636f 6e66  r, cleaner, conf
+000001e0: 6967 2c20 636f 6e73 7461 6e74 732c 206c  ig, constants, l
+000001f0: 6f67 2c0a 2020 2020 2020 2020 2020 2020  og,.            
+00000200: 2020 206d 6f64 656c 732c 2075 7469 6c73     models, utils
+00000210: 290a 6672 6f6d 202e 7265 7370 6f6e 7365  ).from .response
+00000220: 2069 6d70 6f72 7420 5265 7370 6f6e 7365   import Response
+00000230: 2c20 5365 7373 696f 6e0a 2320 6275 7269  , Session.# buri
+00000240: 6564 2069 6d70 6f72 743a 2072 6571 7565  ed import: reque
+00000250: 7374 7320 6973 2069 6d70 6f72 7465 6420  sts is imported 
+00000260: 696e 2061 6464 5f74 656d 706c 6174 6520  in add_template 
+00000270: 6173 2061 2077 6f72 6b61 726f 756e 6420  as a workaround 
+00000280: 756e 7469 6c20 6669 6775 7265 206f 7574  until figure out
+00000290: 2061 696f 6874 7470 2066 6f72 6d20 6461   aiohttp form da
+000002a0: 7461 0a0a 0a0a 0a63 6f6c 6f72 203d 2075  ta.....color = u
+000002b0: 7469 6c73 2e63 6f6c 6f72 0a0a 0a23 2068  tils.color...# h
+000002c0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000002d0: 6d2f 6169 6f2d 6c69 6273 2f61 696f 6874  m/aio-libs/aioht
+000002e0: 7470 2f69 7373 7565 732f 3433 3234 0a64  tp/issues/4324.d
+000002f0: 6566 2073 696c 656e 6365 5f65 7665 6e74  ef silence_event
+00000300: 5f6c 6f6f 705f 636c 6f73 6564 2866 756e  _loop_closed(fun
+00000310: 6329 3a0a 2020 2020 4077 7261 7073 2866  c):.    @wraps(f
+00000320: 756e 6329 0a20 2020 2064 6566 2077 7261  unc).    def wra
+00000330: 7070 6572 2873 656c 662c 202a 6172 6773  pper(self, *args
+00000340: 2c20 2a2a 6b77 6172 6773 293a 0a20 2020  , **kwargs):.   
+00000350: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+00000360: 2020 2020 2020 7265 7475 726e 2066 756e        return fun
+00000370: 6328 7365 6c66 2c20 2a61 7267 732c 202a  c(self, *args, *
+00000380: 2a6b 7761 7267 7329 0a20 2020 2020 2020  *kwargs).       
+00000390: 2065 7863 6570 7420 5275 6e74 696d 6545   except RuntimeE
+000003a0: 7272 6f72 2061 7320 653a 0a20 2020 2020  rror as e:.     
+000003b0: 2020 2020 2020 2069 6620 7374 7228 6529         if str(e)
+000003c0: 2021 3d20 2245 7665 6e74 206c 6f6f 7020   != "Event loop 
+000003d0: 6973 2063 6c6f 7365 6422 3a0a 2020 2020  is closed":.    
+000003e0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+000003f0: 650a 0a20 2020 2072 6574 7572 6e20 7772  e..    return wr
+00000400: 6170 7065 720a 0a0a 5f50 726f 6163 746f  apper..._Proacto
+00000410: 7242 6173 6550 6970 6554 7261 6e73 706f  rBasePipeTranspo
+00000420: 7274 2e5f 5f64 656c 5f5f 203d 2073 696c  rt.__del__ = sil
+00000430: 656e 6365 5f65 7665 6e74 5f6c 6f6f 705f  ence_event_loop_
+00000440: 636c 6f73 6564 285f 5072 6f61 6374 6f72  closed(_Proactor
+00000450: 4261 7365 5069 7065 5472 616e 7370 6f72  BasePipeTranspor
+00000460: 742e 5f5f 6465 6c5f 5f29 0a0a 0a44 4546  t.__del__)...DEF
+00000470: 4155 4c54 5f54 4f4b 454e 5f53 544f 5245  AULT_TOKEN_STORE
+00000480: 203d 207b 2274 7970 6522 3a20 226c 6f63   = {"type": "loc
+00000490: 616c 222c 2022 7061 7468 223a 2066 227b  al", "path": f"{
+000004a0: 636f 6e66 6967 2e64 6972 2e6a 6f69 6e70  config.dir.joinp
+000004b0: 6174 6828 272e 6361 6368 6527 297d 227d  ath('.cache')}"}
+000004c0: 0a44 4546 4155 4c54 5f41 4343 4553 535f  .DEFAULT_ACCESS_
+000004d0: 5255 4c45 5320 3d20 7b0a 2020 2020 2241  RULES = {.    "A
+000004e0: 4c4c 4f57 5f41 4c4c 223a 205b 0a20 2020  LLOW_ALL": [.   
+000004f0: 2020 2020 207b 0a20 2020 2020 2020 2020       {.         
+00000500: 2020 2022 6163 7469 6f6e 223a 2022 616c     "action": "al
+00000510: 6c6f 7722 2c0a 2020 2020 2020 2020 2020  low",.          
+00000520: 2020 2265 706f 7274 223a 2022 616e 7922    "eport": "any"
+00000530: 2c0a 2020 2020 2020 2020 2020 2020 2269  ,.            "i
+00000540: 7061 6464 7222 3a20 2261 6e79 222c 0a20  paddr": "any",. 
+00000550: 2020 2020 2020 2020 2020 2022 6d61 7463             "matc
+00000560: 6822 3a20 226d 6174 6368 222c 0a20 2020  h": "match",.   
+00000570: 2020 2020 2020 2020 2022 6e65 746d 6173           "netmas
+00000580: 6b22 3a20 2261 6e79 222c 0a20 2020 2020  k": "any",.     
+00000590: 2020 2020 2020 2022 7072 6f74 6f63 6f6c         "protocol
+000005a0: 223a 2022 616e 7922 2c0a 2020 2020 2020  ": "any",.      
+000005b0: 2020 2020 2020 2273 6572 7669 6365 5f6e        "service_n
+000005c0: 616d 6522 3a20 2222 2c0a 2020 2020 2020  ame": "",.      
+000005d0: 2020 2020 2020 2273 6572 7669 6365 5f74        "service_t
+000005e0: 7970 6522 3a20 226e 6574 776f 726b 222c  ype": "network",
+000005f0: 0a20 2020 2020 2020 2020 2020 2022 7370  .            "sp
+00000600: 6f72 7422 3a20 2261 6e79 222c 0a20 2020  ort": "any",.   
+00000610: 2020 2020 2020 2020 2022 7468 726f 7474           "thrott
+00000620: 6c65 5f64 6f77 6e73 7472 6561 6d22 3a20  le_downstream": 
+00000630: 2222 2c0a 2020 2020 2020 2020 2020 2020  "",.            
+00000640: 2274 6872 6f74 746c 655f 7570 7374 7265  "throttle_upstre
+00000650: 616d 223a 2022 220a 2020 2020 2020 2020  am": "".        
+00000660: 7d0a 2020 2020 5d2c 0a7d 0a0a 5354 4152  }.    ],.}..STAR
+00000670: 5420 3d20 7469 6d65 2e6d 6f6e 6f74 6f6e  T = time.monoton
+00000680: 6963 2829 0a0a 636c 6173 7320 576c 616e  ic()..class Wlan
+00000690: 5479 7065 2873 7472 2c20 456e 756d 293a  Type(str, Enum):
+000006a0: 0a20 2020 2065 6d70 6c6f 7965 6520 3d20  .    employee = 
+000006b0: 2265 6d70 6c6f 7965 6522 0a20 2020 2067  "employee".    g
+000006c0: 7565 7374 203d 2022 6775 6573 7422 0a0a  uest = "guest"..
+000006d0: 0a64 6566 206d 756c 7469 7061 7274 6966  .def multipartif
+000006e0: 7928 6461 7461 2c20 7061 7265 6e74 5f6b  y(data, parent_k
+000006f0: 6579 3d4e 6f6e 652c 2066 6f72 6d61 7474  ey=None, formatt
+00000700: 6572 3a20 6361 6c6c 6162 6c65 203d 204e  er: callable = N
+00000710: 6f6e 6529 202d 3e20 6469 6374 3a0a 2020  one) -> dict:.  
+00000720: 2020 6966 2066 6f72 6d61 7474 6572 2069    if formatter i
+00000730: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
+00000740: 666f 726d 6174 7465 7220 3d20 6c61 6d62  formatter = lamb
+00000750: 6461 2076 3a20 284e 6f6e 652c 2076 2920  da v: (None, v) 
+00000760: 2023 206e 6f71 6120 4d75 6c74 6970 6172   # noqa Multipar
+00000770: 7420 7265 7072 6573 656e 7461 7469 6f6e  t representation
+00000780: 206f 6620 7661 6c75 650a 0a20 2020 2069   of value..    i
+00000790: 6620 7479 7065 2864 6174 6129 2069 7320  f type(data) is 
+000007a0: 6e6f 7420 6469 6374 3a0a 2020 2020 2020  not dict:.      
+000007b0: 2020 7265 7475 726e 207b 7061 7265 6e74    return {parent
+000007c0: 5f6b 6579 3a20 666f 726d 6174 7465 7228  _key: formatter(
+000007d0: 6461 7461 297d 0a0a 2020 2020 636f 6e76  data)}..    conv
+000007e0: 6572 7465 6420 3d20 5b5d 0a0a 2020 2020  erted = []..    
+000007f0: 666f 7220 6b65 792c 2076 616c 7565 2069  for key, value i
+00000800: 6e20 6461 7461 2e69 7465 6d73 2829 3a0a  n data.items():.
+00000810: 2020 2020 2020 2020 6375 7272 656e 745f          current_
+00000820: 6b65 7920 3d20 6b65 7920 6966 2070 6172  key = key if par
+00000830: 656e 745f 6b65 7920 6973 204e 6f6e 6520  ent_key is None 
+00000840: 656c 7365 2066 227b 7061 7265 6e74 5f6b  else f"{parent_k
+00000850: 6579 7d5b 7b6b 6579 7d5d 220a 2020 2020  ey}[{key}]".    
+00000860: 2020 2020 6966 2074 7970 6528 7661 6c75      if type(valu
+00000870: 6529 2069 7320 6469 6374 3a0a 2020 2020  e) is dict:.    
+00000880: 2020 2020 2020 2020 636f 6e76 6572 7465          converte
+00000890: 642e 6578 7465 6e64 286d 756c 7469 7061  d.extend(multipa
+000008a0: 7274 6966 7928 7661 6c75 652c 2063 7572  rtify(value, cur
+000008b0: 7265 6e74 5f6b 6579 2c20 666f 726d 6174  rent_key, format
+000008c0: 7465 7229 2e69 7465 6d73 2829 290a 2020  ter).items()).  
+000008d0: 2020 2020 2020 656c 6966 2074 7970 6528        elif type(
+000008e0: 7661 6c75 6529 2069 7320 6c69 7374 3a0a  value) is list:.
+000008f0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00000900: 696e 642c 206c 6973 745f 7661 6c75 6520  ind, list_value 
+00000910: 696e 2065 6e75 6d65 7261 7465 2876 616c  in enumerate(val
+00000920: 7565 293a 0a20 2020 2020 2020 2020 2020  ue):.           
+00000930: 2020 2020 2069 7465 725f 6b65 7920 3d20       iter_key = 
+00000940: 6622 7b63 7572 7265 6e74 5f6b 6579 7d5b  f"{current_key}[
+00000950: 7b69 6e64 7d5d 220a 2020 2020 2020 2020  {ind}]".        
+00000960: 2020 2020 2020 2020 636f 6e76 6572 7465          converte
+00000970: 642e 6578 7465 6e64 286d 756c 7469 7061  d.extend(multipa
+00000980: 7274 6966 7928 6c69 7374 5f76 616c 7565  rtify(list_value
+00000990: 2c20 6974 6572 5f6b 6579 2c20 666f 726d  , iter_key, form
+000009a0: 6174 7465 7229 2e69 7465 6d73 2829 290a  atter).items()).
+000009b0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000009c0: 2020 2020 2020 2020 2020 636f 6e76 6572            conver
+000009d0: 7465 642e 6170 7065 6e64 2828 6375 7272  ted.append((curr
+000009e0: 656e 745f 6b65 792c 2066 6f72 6d61 7474  ent_key, formatt
+000009f0: 6572 2876 616c 7565 2929 290a 0a20 2020  er(value)))..   
+00000a00: 2072 6574 7572 6e20 6469 6374 2863 6f6e   return dict(con
+00000a10: 7665 7274 6564 290a 0a0a 6465 6620 6765  verted)...def ge
+00000a20: 745f 636f 6e6e 5f66 726f 6d5f 6669 6c65  t_conn_from_file
+00000a30: 2861 6363 6f75 6e74 5f6e 616d 652c 206c  (account_name, l
+00000a40: 6f67 6765 723a 204d 794c 6f67 6765 7220  ogger: MyLogger 
+00000a50: 3d20 6c6f 6729 3a0a 2020 2020 2222 2243  = log):.    """C
+00000a60: 7265 6174 6573 2061 6e20 696e 7374 616e  reates an instan
+00000a70: 6365 206f 6620 636c 6173 7360 7079 6365  ce of class`pyce
+00000a80: 6e74 7261 6c2e 4172 7562 6143 656e 7472  ntral.ArubaCentr
+00000a90: 616c 4261 7365 6020 6261 7365 6420 6f6e  alBase` based on
+00000aa0: 2063 6f6e 6669 6720 6669 6c65 2e0a 0a20   config file... 
+00000ab0: 2020 2070 726f 7669 6465 6420 696e 2074     provided in t
+00000ac0: 6865 2059 414d 4c2f 4a53 4f4e 2063 6f6e  he YAML/JSON con
+00000ad0: 6669 6720 6669 6c65 3a0a 2020 2020 2020  fig file:.      
+00000ae0: 2020 2a20 6b65 7977 6f72 6420 6365 6e74    * keyword cent
+00000af0: 7261 6c5f 696e 666f 3a20 4120 6469 6374  ral_info: A dict
+00000b00: 2063 6f6e 7461 696e 696e 6720 6172 6775   containing argu
+00000b10: 6d65 6e74 7320 6173 2061 6363 6570 7465  ments as accepte
+00000b20: 6420 6279 2063 6c61 7373 6070 7963 656e  d by class`pycen
+00000b30: 7472 616c 2e41 7275 6261 4365 6e74 7261  tral.ArubaCentra
+00000b40: 6c42 6173 6560 0a20 2020 2020 2020 202a  lBase`.        *
+00000b50: 206b 6579 776f 7264 2073 736c 5f76 6572   keyword ssl_ver
+00000b60: 6966 793a 2041 2062 6f6f 6c65 616e 2077  ify: A boolean w
+00000b70: 6865 6e20 7365 7420 746f 2054 7275 652c  hen set to True,
+00000b80: 2074 6865 2070 7974 686f 6e20 636c 6965   the python clie
+00000b90: 6e74 2076 616c 6964 6174 6573 2041 7275  nt validates Aru
+00000ba0: 6261 2043 656e 7472 616c 2773 2053 534c  ba Central's SSL
+00000bb0: 2063 6572 7473 2e0a 2020 2020 2020 2020   certs..        
+00000bc0: 2a20 6b65 7977 6f72 6420 746f 6b65 6e5f  * keyword token_
+00000bd0: 7374 6f72 653a 204f 7074 696f 6e61 6c2e  store: Optional.
+00000be0: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+00000bf0: 652e 0a0a 2020 2020 4172 6773 3a0a 2020  e...    Args:.  
+00000c00: 2020 2020 2020 6163 636f 756e 745f 6e61        account_na
+00000c10: 6d65 2028 7374 7229 3a20 4163 636f 756e  me (str): Accoun
+00000c20: 7420 6e61 6d65 2064 6566 696e 6564 2069  t name defined i
+00000c30: 6e20 7468 6520 636f 6e66 6967 2066 696c  n the config fil
+00000c40: 652e 0a20 2020 2020 2020 206c 6f67 6765  e..        logge
+00000c50: 7220 284d 794c 6f67 6765 722c 206f 7074  r (MyLogger, opt
+00000c60: 696f 6e61 6c29 3a20 6c6f 6720 6d65 7468  ional): log meth
+00000c70: 6f64 2e20 4465 6661 756c 7473 2074 6f20  od. Defaults to 
+00000c80: 6c6f 672e 0a0a 2020 2020 5265 7475 726e  log...    Return
+00000c90: 733a 0a20 2020 2020 2020 205b 7079 6365  s:.        [pyce
+00000ca0: 6e74 7261 6c2e 4172 7562 6143 656e 7472  ntral.ArubaCentr
+00000cb0: 616c 4261 7365 5d3a 2041 6e20 696e 7374  alBase]: An inst
+00000cc0: 616e 6365 206f 6620 636c 6173 733a 6070  ance of class:`p
+00000cd0: 7963 656e 7472 616c 2e41 7275 6261 4365  ycentral.ArubaCe
+00000ce0: 6e74 7261 6c42 6173 6560 2c0a 2020 2020  ntralBase`,.    
+00000cf0: 2020 2020 2020 2020 5573 6564 2074 6f20          Used to 
+00000d00: 6d61 6e61 6765 2041 7574 6820 616e 6420  manage Auth and 
+00000d10: 546f 6b65 6e73 2e0a 2020 2020 2222 220a  Tokens..    """.
+00000d20: 2020 2020 6966 2061 6363 6f75 6e74 5f6e      if account_n
+00000d30: 616d 6520 696e 2063 6f6e 6669 672e 6461  ame in config.da
+00000d40: 7461 3a0a 2020 2020 2020 2020 6365 6e74  ta:.        cent
+00000d50: 7261 6c5f 696e 666f 203d 2063 6f6e 6669  ral_info = confi
+00000d60: 672e 6461 7461 5b61 6363 6f75 6e74 5f6e  g.data[account_n
+00000d70: 616d 655d 0a20 2020 2065 6c73 653a 0a20  ame].    else:. 
+00000d80: 2020 2020 2020 2023 2041 6363 6f75 6e74         # Account
+00000d90: 206e 616d 6520 6361 6c6c 6261 636b 2077   name callback w
+00000da0: 696c 6c20 6b69 636b 2062 6163 6b20 6572  ill kick back er
+00000db0: 726f 7273 0a20 2020 2020 2020 2023 2066  rors.        # f
+00000dc0: 616c 6c69 6e67 2062 6163 6b20 746f 2064  alling back to d
+00000dd0: 6566 6175 6c74 2066 6f72 206c 6f61 6420  efault for load 
+00000de0: 6f66 2063 656e 7472 616c 2066 6f72 2061  of central for a
+00000df0: 7574 6f20 636f 6d70 6c65 7469 6f6e 0a20  uto completion. 
+00000e00: 2020 2020 2020 2063 656e 7472 616c 5f69         central_i
+00000e10: 6e66 6f20 3d20 636f 6e66 6967 2e64 6174  nfo = config.dat
+00000e20: 615b 2263 656e 7472 616c 5f69 6e66 6f22  a["central_info"
+00000e30: 5d0a 2020 2020 746f 6b65 6e5f 7374 6f72  ].    token_stor
+00000e40: 6520 3d20 636f 6e66 6967 2e74 6f6b 656e  e = config.token
+00000e50: 5f73 746f 7265 0a20 2020 2073 736c 5f76  _store.    ssl_v
+00000e60: 6572 6966 7920 3d20 6365 6e74 7261 6c5f  erify = central_
+00000e70: 696e 666f 2e67 6574 2822 7373 6c5f 7665  info.get("ssl_ve
+00000e80: 7269 6679 222c 2063 6f6e 6669 672e 6461  rify", config.da
+00000e90: 7461 2e67 6574 2822 7373 6c5f 7665 7269  ta.get("ssl_veri
+00000ea0: 6679 222c 2054 7275 6529 290a 0a20 2020  fy", True))..   
+00000eb0: 2063 6f6e 6e20 3d20 4172 7562 6143 656e   conn = ArubaCen
+00000ec0: 7472 616c 4261 7365 2863 656e 7472 616c  tralBase(central
+00000ed0: 5f69 6e66 6f2c 2074 6f6b 656e 5f73 746f  _info, token_sto
+00000ee0: 7265 3d74 6f6b 656e 5f73 746f 7265 2c20  re=token_store, 
+00000ef0: 6c6f 6767 6572 3d6c 6f67 6765 722c 2073  logger=logger, s
+00000f00: 736c 5f76 6572 6966 793d 7373 6c5f 7665  sl_verify=ssl_ve
+00000f10: 7269 6679 290a 2020 2020 746f 6b65 6e5f  rify).    token_
+00000f20: 6361 6368 6520 3d20 5061 7468 2874 6f6b  cache = Path(tok
+00000f30: 656e 4c6f 6361 6c53 746f 7265 5574 696c  enLocalStoreUtil
+00000f40: 2874 6f6b 656e 5f73 746f 7265 2c20 6365  (token_store, ce
+00000f50: 6e74 7261 6c5f 696e 666f 5b22 6375 7374  ntral_info["cust
+00000f60: 6f6d 6572 5f69 6422 5d2c 2063 656e 7472  omer_id"], centr
+00000f70: 616c 5f69 6e66 6f5b 2263 6c69 656e 745f  al_info["client_
+00000f80: 6964 225d 2929 0a0a 2020 2020 2320 616c  id"]))..    # al
+00000f90: 7761 7973 2063 7265 6174 6520 746f 6b65  ways create toke
+00000fa0: 6e20 6361 6368 6520 6966 2069 7420 646f  n cache if it do
+00000fb0: 6573 6e27 7420 6578 6973 7420 616e 6420  esn't exist and 
+00000fc0: 616c 7761 7973 2075 7365 2069 7420 6669  always use it fi
+00000fd0: 7273 740a 2020 2020 2320 686f 7765 7665  rst.    # howeve
+00000fe0: 7220 6966 2063 6f6e 6669 6720 6861 7320  r if config has 
+00000ff0: 6265 656e 206d 6f64 6966 6965 6420 6d6f  been modified mo
+00001000: 7265 2072 6563 656e 746c 7920 616e 7920  re recently any 
+00001010: 746f 6b65 6e73 2069 6e20 7468 6520 636f  tokens in the co
+00001020: 6e66 6967 2077 696c 6c20 6265 2074 7269  nfig will be tri
+00001030: 6564 2066 6972 7374 0a20 2020 2023 2069  ed first.    # i
+00001040: 6620 626f 7468 2066 6169 6c20 7573 6572  f both fail user
+00001050: 2077 696c 6c20 6265 2070 726f 6d70 7465   will be prompte
+00001060: 6420 666f 7220 746f 6b65 6e20 6966 206e  d for token if n
+00001070: 6f20 7573 6572 2f70 6173 7320 6f72 206f  o user/pass or o
+00001080: 6e20 496e 7465 726e 616c 2043 6c75 7374  n Internal Clust
+00001090: 6572 2e0a 2020 2020 6966 2074 6f6b 656e  er..    if token
+000010a0: 5f63 6163 6865 2e69 735f 6669 6c65 2829  _cache.is_file()
+000010b0: 3a0a 2020 2020 2020 2020 6361 6368 655f  :.        cache_
+000010c0: 746f 6b65 6e20 3d20 636f 6e6e 2e6c 6f61  token = conn.loa
+000010d0: 6454 6f6b 656e 2829 0a20 2020 2020 2020  dToken().       
+000010e0: 2069 6620 6361 6368 655f 746f 6b65 6e3a   if cache_token:
+000010f0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00001100: 746f 6b65 6e5f 6361 6368 652e 7374 6174  token_cache.stat
+00001110: 2829 2e73 745f 6d74 696d 6520 3e20 636f  ().st_mtime > co
+00001120: 6e66 6967 2e66 696c 652e 7374 6174 2829  nfig.file.stat()
+00001130: 2e73 745f 6d74 696d 653a 0a20 2020 2020  .st_mtime:.     
+00001140: 2020 2020 2020 2020 2020 2063 6f6e 6e2e             conn.
+00001150: 6365 6e74 7261 6c5f 696e 666f 5b22 7265  central_info["re
+00001160: 7472 795f 746f 6b65 6e22 5d20 3d20 636f  try_token"] = co
+00001170: 6e6e 2e63 656e 7472 616c 5f69 6e66 6f5b  nn.central_info[
+00001180: 2274 6f6b 656e 225d 0a20 2020 2020 2020  "token"].       
+00001190: 2020 2020 2020 2020 2063 6f6e 6e2e 6365           conn.ce
+000011a0: 6e74 7261 6c5f 696e 666f 5b22 746f 6b65  ntral_info["toke
+000011b0: 6e22 5d20 3d20 6361 6368 655f 746f 6b65  n"] = cache_toke
+000011c0: 6e0a 2020 2020 2020 2020 2020 2020 656c  n.            el
+000011d0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+000011e0: 2020 2020 636f 6e6e 2e63 656e 7472 616c      conn.central
+000011f0: 5f69 6e66 6f5b 2272 6574 7279 5f74 6f6b  _info["retry_tok
+00001200: 656e 225d 203d 2063 6163 6865 5f74 6f6b  en"] = cache_tok
+00001210: 656e 0a0a 2020 2020 2020 2020 2020 2020  en..            
+00001220: 2320 436f 6d70 6172 6520 746f 6b65 6e73  # Compare tokens
+00001230: 2061 6e64 2072 656d 6f76 6520 7265 7472   and remove retr
+00001240: 7920 746f 6b65 6e20 6966 2074 6865 7920  y token if they 
+00001250: 6172 6520 7468 6520 7361 6d65 2e20 2052  are the same.  R
+00001260: 6172 6520 7363 656e 6172 696f 0a20 2020  are scenario.   
+00001270: 2020 2020 2020 2020 2069 6620 636f 6e6e           if conn
+00001280: 2e63 656e 7472 616c 5f69 6e66 6f5b 2272  .central_info["r
+00001290: 6574 7279 5f74 6f6b 656e 225d 5b22 7265  etry_token"]["re
+000012a0: 6672 6573 685f 746f 6b65 6e22 5d20 3d3d  fresh_token"] ==
+000012b0: 2063 6f6e 6e2e 6365 6e74 7261 6c5f 696e   conn.central_in
+000012c0: 666f 5b22 746f 6b65 6e22 5d5b 2272 6566  fo["token"]["ref
+000012d0: 7265 7368 5f74 6f6b 656e 225d 3a0a 2020  resh_token"]:.  
+000012e0: 2020 2020 2020 2020 2020 2020 2020 6465                de
+000012f0: 6c20 636f 6e6e 2e63 656e 7472 616c 5f69  l conn.central_i
+00001300: 6e66 6f5b 2272 6574 7279 5f74 6f6b 656e  nfo["retry_token
+00001310: 225d 0a20 2020 2065 6c73 653a 0a20 2020  "].    else:.   
+00001320: 2020 2020 2069 6620 6e6f 7420 636f 6e6e       if not conn
+00001330: 2e73 746f 7265 546f 6b65 6e28 636f 6e6e  .storeToken(conn
+00001340: 2e63 656e 7472 616c 5f69 6e66 6f2e 6765  .central_info.ge
+00001350: 7428 2274 6f6b 656e 2229 293a 0a20 2020  t("token")):.   
+00001360: 2020 2020 2020 2020 206c 6f67 2e77 6172           log.war
+00001370: 6e69 6e67 2822 4661 696c 6564 2074 6f20  ning("Failed to 
+00001380: 5374 6f72 6520 546f 6b65 6e20 616e 6420  Store Token and 
+00001390: 746f 6b65 6e20 6361 6368 6520 646f 6573  token cache does
+000013a0: 6e27 7420 6578 6973 7420 7965 742e 222c  n't exist yet.",
+000013b0: 2073 686f 773d 5472 7565 290a 0a20 2020   show=True)..   
+000013c0: 2072 6574 7572 6e20 636f 6e6e 0a0a 636c   return conn..cl
+000013d0: 6173 7320 4365 6e74 7261 6c41 7069 2853  ass CentralApi(S
+000013e0: 6573 7369 6f6e 293a 0a20 2020 2064 6566  ession):.    def
+000013f0: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
+00001400: 6163 636f 756e 745f 6e61 6d65 3a20 7374  account_name: st
+00001410: 7220 3d20 2263 656e 7472 616c 5f69 6e66  r = "central_inf
+00001420: 6f22 293a 0a20 2020 2020 2020 2073 656c  o"):.        sel
+00001430: 662e 7369 6c65 6e74 203d 2046 616c 7365  f.silent = False
+00001440: 2020 2320 746f 6767 6c65 6420 696e 205f    # toggled in _
+00001450: 6261 7463 685f 7265 7175 6573 7420 746f  batch_request to
+00001460: 2073 7175 656c 6368 2041 7574 6f20 6c6f   squelch Auto lo
+00001470: 6767 696e 6720 696e 2052 6573 706f 6e73  gging in Respons
+00001480: 650a 2020 2020 2020 2020 6966 2063 6f6e  e.        if con
+00001490: 6669 672e 7661 6c69 6420 616e 6420 636f  fig.valid and co
+000014a0: 6e73 7461 6e74 732e 646f 5f6c 6f61 645f  nstants.do_load_
+000014b0: 7079 6365 6e74 7261 6c28 293a 0a20 2020  pycentral():.   
+000014c0: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
+000014d0: 7468 203d 2067 6574 5f63 6f6e 6e5f 6672  th = get_conn_fr
+000014e0: 6f6d 5f66 696c 6528 6163 636f 756e 745f  om_file(account_
+000014f0: 6e61 6d65 290a 2020 2020 2020 2020 2020  name).          
+00001500: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
+00001510: 5f5f 2861 7574 683d 7365 6c66 2e61 7574  __(auth=self.aut
+00001520: 6829 0a0a 2020 2020 4073 7461 7469 636d  h)..    @staticm
+00001530: 6574 686f 640a 2020 2020 6465 6620 5f6d  ethod.    def _m
+00001540: 616b 655f 666f 726d 5f64 6174 6128 6461  ake_form_data(da
+00001550: 7461 3a20 6469 6374 293a 0a20 2020 2020  ta: dict):.     
+00001560: 2020 2023 2054 4f44 4f20 686f 7720 746f     # TODO how to
+00001570: 2070 6163 6b61 6765 2070 7974 686f 6e20   package python 
+00001580: 6461 7461 2073 7472 7563 7420 696e 746f  data struct into
+00001590: 2066 6f72 6d2d 6461 7461 2066 6f72 2041   form-data for A
+000015a0: 5049 2063 616c 6c0a 2020 2020 2020 2020  PI call.        
+000015b0: 2320 692e 652e 2075 7064 6174 655f 7661  # i.e. update_va
+000015c0: 7269 6162 6c65 730a 2020 2020 2020 2020  riables.        
+000015d0: 666f 726d 203d 2061 696f 6874 7470 2e46  form = aiohttp.F
+000015e0: 6f72 6d44 6174 6128 290a 2020 2020 2020  ormData().      
+000015f0: 2020 666f 7220 6b65 792c 2076 616c 7565    for key, value
+00001600: 2069 6e20 6461 7461 2e69 7465 6d73 2829   in data.items()
+00001610: 3a0a 2020 2020 2020 2020 2020 2020 666f  :.            fo
+00001620: 726d 2e61 6464 5f66 6965 6c64 280a 2020  rm.add_field(.  
+00001630: 2020 2020 2020 2020 2020 2020 2020 6b65                ke
+00001640: 792c 0a20 2020 2020 2020 2020 2020 2020  y,.             
+00001650: 2020 206a 736f 6e2e 6475 6d70 7328 7661     json.dumps(va
+00001660: 6c75 6529 2069 6620 6973 696e 7374 616e  lue) if isinstan
+00001670: 6365 2876 616c 7565 2c20 286c 6973 742c  ce(value, (list,
+00001680: 2064 6963 7429 2920 656c 7365 2076 616c   dict)) else val
+00001690: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
+000016a0: 2020 2020 636f 6e74 656e 745f 7479 7065      content_type
+000016b0: 3d22 6d75 6c74 6970 6172 742f 666f 726d  ="multipart/form
+000016c0: 2d64 6174 6122 2c0a 2020 2020 2020 2020  -data",.        
+000016d0: 2020 2020 2020 2020 6669 6c65 6e61 6d65          filename
+000016e0: 3d22 7570 6c6f 6164 220a 2020 2020 2020  ="upload".      
+000016f0: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
+00001700: 2072 6574 7572 6e20 666f 726d 0a0a 2020   return form..  
+00001710: 2020 2320 544f 444f 2056 6572 6966 7920    # TODO Verify 
+00001720: 6465 7072 6563 6174 6564 2061 6e64 2072  deprecated and r
+00001730: 656d 6f76 652e 2020 736f 7274 206d 6574  emove.  sort met
+00001740: 686f 6420 696e 2063 6c69 636f 6d6d 6f6e  hod in clicommon
+00001750: 0a20 2020 2040 7374 6174 6963 6d65 7468  .    @staticmeth
+00001760: 6f64 0a20 2020 2064 6566 205f 736f 7274  od.    def _sort
+00001770: 6564 2872 6573 703a 2052 6573 706f 6e73  ed(resp: Respons
+00001780: 652c 2073 6f72 745f 6279 3a20 7374 7229  e, sort_by: str)
+00001790: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+000017a0: 2020 2020 2020 6966 206e 6f74 2072 6573        if not res
+000017b0: 703a 0a20 2020 2020 2020 2020 2020 2072  p:.            r
+000017c0: 6574 7572 6e20 7265 7370 0a0a 2020 2020  eturn resp..    
+000017d0: 2020 2020 7479 7065 5f65 7272 6f72 203d      type_error =
+000017e0: 2054 7275 650a 2020 2020 2020 2020 6966   True.        if
+000017f0: 2069 7369 6e73 7461 6e63 6528 7265 7370   isinstance(resp
+00001800: 2c20 6c69 7374 293a 0a20 2020 2020 2020  , list):.       
+00001810: 2020 2020 2069 6620 616c 6c28 5b69 7369       if all([isi
+00001820: 6e73 7461 6e63 6528 642c 2064 6963 7429  nstance(d, dict)
+00001830: 2066 6f72 2064 2069 6e20 7265 7370 2e6f   for d in resp.o
+00001840: 7574 7075 745d 293a 0a20 2020 2020 2020  utput]):.       
+00001850: 2020 2020 2020 2020 2074 7970 655f 6572           type_er
+00001860: 726f 7220 3d20 4661 6c73 650a 2020 2020  ror = False.    
+00001870: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+00001880: 6f72 745f 6279 2069 6e20 7265 7370 2e6f  ort_by in resp.o
+00001890: 7574 7075 745b 2d31 5d2e 6b65 7973 2829  utput[-1].keys()
+000018a0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000018b0: 2020 2020 2020 7265 7370 2e6f 7574 7075        resp.outpu
+000018c0: 7420 3d20 736f 7274 6564 2872 6573 702e  t = sorted(resp.
+000018d0: 6f75 7470 7574 2c20 6b65 793d 6c61 6d62  output, key=lamb
+000018e0: 6461 2069 3a20 695b 736f 7274 5f62 795d  da i: i[sort_by]
+000018f0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00001900: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00001910: 2020 2020 2020 2020 2020 2020 6c6f 672e              log.
+00001920: 6572 726f 7228 6622 7b73 6f72 745f 6279  error(f"{sort_by
+00001930: 7d20 6669 656c 6420 6e6f 7420 666f 756e  } field not foun
+00001940: 6420 696e 206f 7574 7075 742e 2020 4e6f  d in output.  No
+00001950: 2073 6f72 7420 7065 7266 6f72 6d65 6422   sort performed"
+00001960: 2c20 7368 6f77 3d54 7275 6529 0a20 2020  , show=True).   
+00001970: 2020 2020 2069 6620 7479 7065 5f65 7272       if type_err
+00001980: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
+00001990: 6c6f 672e 6572 726f 7228 2255 6e65 7870  log.error("Unexp
+000019a0: 6563 7465 6420 7265 7370 6f6e 7365 2074  ected response t
+000019b0: 7970 6520 6e6f 2073 6f72 7420 7065 7266  ype no sort perf
+000019c0: 6f72 6d65 642e 222c 2073 686f 773d 5472  ormed.", show=Tr
+000019d0: 7565 290a 0a20 2020 2020 2020 2072 6574  ue)..        ret
+000019e0: 7572 6e20 7265 7370 0a0a 2020 2020 4073  urn resp..    @s
+000019f0: 7461 7469 636d 6574 686f 640a 2020 2020  taticmethod.    
+00001a00: 6465 6620 7374 7269 705f 6e6f 6e65 285f  def strip_none(_
+00001a10: 6469 6374 3a20 556e 696f 6e5b 6469 6374  dict: Union[dict
+00001a20: 2c20 4e6f 6e65 5d29 202d 3e20 556e 696f  , None]) -> Unio
+00001a30: 6e5b 6469 6374 2c20 4e6f 6e65 5d3a 0a20  n[dict, None]:. 
+00001a40: 2020 2020 2020 2022 2222 7374 7269 7020         """strip 
+00001a50: 616c 6c20 6b65 7973 2066 726f 6d20 6120  all keys from a 
+00001a60: 6469 6374 2077 6865 7265 2076 616c 7565  dict where value
+00001a70: 2069 7320 4e6f 6e65 5479 7065 2222 220a   is NoneType""".
+00001a80: 2020 2020 2020 2020 6966 206e 6f74 2069          if not i
+00001a90: 7369 6e73 7461 6e63 6528 5f64 6963 742c  sinstance(_dict,
+00001aa0: 2064 6963 7429 3a0a 2020 2020 2020 2020   dict):.        
+00001ab0: 2020 2020 7265 7475 726e 205f 6469 6374      return _dict
+00001ac0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00001ad0: 207b 6b3a 2076 2066 6f72 206b 2c20 7620   {k: v for k, v 
+00001ae0: 696e 205f 6469 6374 2e69 7465 6d73 2829  in _dict.items()
+00001af0: 2069 6620 7620 6973 206e 6f74 204e 6f6e   if v is not Non
+00001b00: 657d 0a0a 2020 2020 2320 646f 6573 6e27  e}..    # doesn'
+00001b10: 7420 6170 7065 6172 2074 6f20 776f 726b  t appear to work
+00001b20: 2e20 7265 6665 7265 6e63 6564 2069 6e20  . referenced in 
+00001b30: 7377 6167 6765 7220 746f 2067 6574 206c  swagger to get l
+00001b40: 6973 7469 6e67 206f 6620 7479 7065 7320  isting of types 
+00001b50: 284e 6577 2044 6576 6963 6520 496e 7665  (New Device Inve
+00001b60: 6e74 6f72 793a 2047 6574 2044 6576 6963  ntory: Get Devic
+00001b70: 6573 2e2e 2e29 0a20 2020 2061 7379 6e63  es...).    async
+00001b80: 2064 6566 2067 6574 5f64 6576 5f74 7970   def get_dev_typ
+00001b90: 6573 2873 656c 6629 3a0a 2020 2020 2020  es(self):.      
+00001ba0: 2020 7572 6c20 3d20 222f 706c 6174 666f    url = "/platfo
+00001bb0: 726d 2f6f 7264 6572 732f 7631 2f73 6b75  rm/orders/v1/sku
+00001bc0: 733f 736b 755f 7479 7065 3d61 6c6c 220a  s?sku_type=all".
+00001bd0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+00001be0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+00001bf0: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
+00001c00: 6620 6765 745f 6170 2873 656c 6629 202d  f get_ap(self) -
+00001c10: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00001c20: 2020 2020 7572 6c20 3d20 222f 6d6f 6e69      url = "/moni
+00001c30: 746f 7269 6e67 2f76 312f 6170 7322 0a20  toring/v1/aps". 
+00001c40: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+00001c50: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+00001c60: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+00001c70: 2067 6574 5f73 7761 726d 7328 7365 6c66   get_swarms(self
+00001c80: 2c20 6772 6f75 703a 2073 7472 203d 204e  , group: str = N
+00001c90: 6f6e 652c 2073 7461 7475 733a 2073 7472  one, status: str
+00001ca0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00001cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001cc0: 2020 7075 626c 6963 5f69 705f 6164 6472    public_ip_addr
+00001cd0: 6573 733a 2073 7472 203d 204e 6f6e 652c  ess: str = None,
+00001ce0: 2066 6965 6c64 733a 2073 7472 203d 204e   fields: str = N
+00001cf0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00001d00: 2020 2020 2020 2020 2020 2020 2020 6361                ca
+00001d10: 6c63 756c 6174 655f 746f 7461 6c3a 2062  lculate_total: b
+00001d20: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
+00001d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d40: 2020 2020 2073 7761 726d 5f6e 616d 653a       swarm_name:
+00001d50: 2073 7472 203d 204e 6f6e 652c 206f 6666   str = None, off
+00001d60: 7365 743a 2069 6e74 203d 2030 2c20 6c69  set: int = 0, li
+00001d70: 6d69 743a 2069 6e74 203d 2031 3030 2920  mit: int = 100) 
+00001d80: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00001d90: 2020 2020 2022 2222 4c69 7374 2053 7761       """List Swa
+00001da0: 726d 732e 0a0a 2020 2020 2020 2020 4172  rms...        Ar
+00001db0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00001dc0: 6772 6f75 7020 2873 7472 2c20 6f70 7469  group (str, opti
+00001dd0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+00001de0: 2067 726f 7570 206e 616d 650a 2020 2020   group name.    
+00001df0: 2020 2020 2020 2020 7374 6174 7573 2028          status (
+00001e00: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00001e10: 4669 6c74 6572 2062 7920 5377 6172 6d20  Filter by Swarm 
+00001e20: 7374 6174 7573 0a20 2020 2020 2020 2020  status.         
+00001e30: 2020 2070 7562 6c69 635f 6970 5f61 6464     public_ip_add
+00001e40: 7265 7373 2028 7374 722c 206f 7074 696f  ress (str, optio
+00001e50: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00001e60: 7075 626c 6963 2069 7020 6164 6472 6573  public ip addres
+00001e70: 730a 2020 2020 2020 2020 2020 2020 6669  s.            fi
+00001e80: 656c 6473 2028 7374 722c 206f 7074 696f  elds (str, optio
+00001e90: 6e61 6c29 3a20 436f 6d6d 6120 7365 7061  nal): Comma sepa
+00001ea0: 7261 7465 6420 6c69 7374 206f 6620 6669  rated list of fi
+00001eb0: 656c 6473 2074 6f20 6265 2072 6574 7572  elds to be retur
+00001ec0: 6e65 642e 2056 616c 6964 2066 6965 6c64  ned. Valid field
+00001ed0: 7320 6172 650a 2020 2020 2020 2020 2020  s are.          
+00001ee0: 2020 2020 2020 7374 6174 7573 2c20 6970        status, ip
+00001ef0: 5f61 6464 7265 7373 2c20 7075 626c 6963  _address, public
+00001f00: 5f69 705f 6164 6472 6573 732c 2066 6972  _ip_address, fir
+00001f10: 6d77 6172 655f 7665 7273 696f 6e0a 2020  mware_version.  
+00001f20: 2020 2020 2020 2020 2020 6361 6c63 756c            calcul
+00001f30: 6174 655f 746f 7461 6c20 2862 6f6f 6c2c  ate_total (bool,
+00001f40: 206f 7074 696f 6e61 6c29 3a20 5768 6574   optional): Whet
+00001f50: 6865 7220 746f 2063 616c 6375 6c61 7465  her to calculate
+00001f60: 2074 6f74 616c 2053 7761 726d 730a 2020   total Swarms.  
+00001f70: 2020 2020 2020 2020 2020 7377 6172 6d5f            swarm_
+00001f80: 6e61 6d65 2028 7374 722c 206f 7074 696f  name (str, optio
+00001f90: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00001fa0: 7377 6172 6d20 6e61 6d65 0a20 2020 2020  swarm name.     
+00001fb0: 2020 2020 2020 206f 6666 7365 7420 2869         offset (i
+00001fc0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
+00001fd0: 6167 696e 6174 696f 6e20 6f66 6673 6574  agination offset
+00001fe0: 2044 6566 6175 6c74 7320 746f 2030 2e0a   Defaults to 0..
+00001ff0: 2020 2020 2020 2020 2020 2020 6c69 6d69              limi
+00002000: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
+00002010: 293a 2050 6167 696e 6174 696f 6e20 6c69  ): Pagination li
+00002020: 6d69 742e 2044 6566 6175 6c74 2069 7320  mit. Default is 
+00002030: 3130 3020 616e 6420 6d61 7820 6973 2031  100 and max is 1
+00002040: 3030 3020 4465 6661 756c 7473 2074 6f20  000 Defaults to 
+00002050: 3130 302e 0a0a 2020 2020 2020 2020 5265  100...        Re
+00002060: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00002070: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00002080: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00002090: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+000020a0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+000020b0: 3d20 222f 6d6f 6e69 746f 7269 6e67 2f76  = "/monitoring/v
+000020c0: 312f 7377 6172 6d73 220a 0a20 2020 2020  1/swarms"..     
+000020d0: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
+000020e0: 2020 2020 2020 2020 2020 2767 726f 7570            'group
+000020f0: 273a 2067 726f 7570 2c0a 2020 2020 2020  ': group,.      
+00002100: 2020 2020 2020 2773 7461 7475 7327 3a20        'status': 
+00002110: 7374 6174 7573 2c0a 2020 2020 2020 2020  status,.        
+00002120: 2020 2020 2770 7562 6c69 635f 6970 5f61      'public_ip_a
+00002130: 6464 7265 7373 273a 2070 7562 6c69 635f  ddress': public_
+00002140: 6970 5f61 6464 7265 7373 2c0a 2020 2020  ip_address,.    
+00002150: 2020 2020 2020 2020 2766 6965 6c64 7327          'fields'
+00002160: 3a20 6669 656c 6473 2c0a 2020 2020 2020  : fields,.      
+00002170: 2020 2020 2020 2763 616c 6375 6c61 7465        'calculate
+00002180: 5f74 6f74 616c 273a 2063 616c 6375 6c61  _total': calcula
+00002190: 7465 5f74 6f74 616c 2c0a 2020 2020 2020  te_total,.      
+000021a0: 2020 2020 2020 2773 7761 726d 5f6e 616d        'swarm_nam
+000021b0: 6527 3a20 7377 6172 6d5f 6e61 6d65 2c0a  e': swarm_name,.
+000021c0: 2020 2020 2020 2020 2020 2020 276f 6666              'off
+000021d0: 7365 7427 3a20 6f66 6673 6574 2c0a 2020  set': offset,.  
+000021e0: 2020 2020 2020 2020 2020 276c 696d 6974            'limit
+000021f0: 273a 206c 696d 6974 2c0a 2020 2020 2020  ': limit,.      
+00002200: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+00002210: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00002220: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+00002230: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+00002240: 6320 6465 6620 6765 745f 7377 6172 6d5f  c def get_swarm_
+00002250: 6465 7461 696c 7328 7365 6c66 2c20 7377  details(self, sw
+00002260: 6172 6d5f 6964 3a20 7374 7229 202d 3e20  arm_id: str) -> 
+00002270: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00002280: 2020 2222 2253 7761 726d 2044 6574 6169    """Swarm Detai
+00002290: 6c73 2e0a 0a20 2020 2020 2020 2041 7267  ls...        Arg
+000022a0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+000022b0: 7761 726d 5f69 6420 2873 7472 293a 2053  warm_id (str): S
+000022c0: 7761 726d 2049 440a 0a20 2020 2020 2020  warm ID..       
+000022d0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+000022e0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+000022f0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+00002300: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+00002310: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+00002320: 726c 203d 2066 222f 6d6f 6e69 746f 7269  rl = f"/monitori
+00002330: 6e67 2f76 312f 7377 6172 6d73 2f7b 7377  ng/v1/swarms/{sw
+00002340: 6172 6d5f 6964 7d22 0a0a 2020 2020 2020  arm_id}"..      
+00002350: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00002360: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
+00002370: 2020 2320 6173 796e 6320 6465 6620 6765    # async def ge
+00002380: 745f 7377 6172 6d73 5f62 795f 6772 6f75  t_swarms_by_grou
+00002390: 7028 7365 6c66 2c20 6772 6f75 703a 2073  p(self, group: s
+000023a0: 7472 2920 2d3e 2052 6573 706f 6e73 653a  tr) -> Response:
+000023b0: 0a20 2020 2023 2020 2020 2075 726c 203d  .    #     url =
+000023c0: 2022 2f6d 6f6e 6974 6f72 696e 672f 7631   "/monitoring/v1
+000023d0: 2f73 7761 726d 7322 0a20 2020 2023 2020  /swarms".    #  
+000023e0: 2020 2070 6172 616d 7320 3d20 7b22 6772     params = {"gr
+000023f0: 6f75 7022 3a20 6772 6f75 707d 0a20 2020  oup": group}.   
+00002400: 2023 2020 2020 2072 6574 7572 6e20 6177   #     return aw
+00002410: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+00002420: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
+00002430: 0a0a 2020 2020 2320 6173 796e 6320 6465  ..    # async de
+00002440: 6620 6765 745f 7377 6172 6d5f 6465 7461  f get_swarm_deta
+00002450: 696c 7328 7365 6c66 2c20 7377 6172 6d5f  ils(self, swarm_
+00002460: 6964 3a20 7374 7229 202d 3e20 5265 7370  id: str) -> Resp
+00002470: 6f6e 7365 3a0a 2020 2020 2320 2020 2020  onse:.    #     
+00002480: 7572 6c20 3d20 6622 2f6d 6f6e 6974 6f72  url = f"/monitor
+00002490: 696e 672f 7631 2f73 7761 726d 732f 7b73  ing/v1/swarms/{s
+000024a0: 7761 726d 5f69 647d 220a 2020 2020 2320  warm_id}".    # 
+000024b0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+000024c0: 2073 656c 662e 6765 7428 7572 6c29 0a0a   self.get(url)..
+000024d0: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+000024e0: 745f 636c 6965 6e74 7328 0a20 2020 2020  t_clients(.     
+000024f0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00002500: 202a 6172 6773 3a20 5475 706c 655b 7374   *args: Tuple[st
+00002510: 725d 2c0a 2020 2020 2020 2020 6772 6f75  r],.        grou
+00002520: 703a 2073 7472 203d 204e 6f6e 652c 0a20  p: str = None,. 
+00002530: 2020 2020 2020 2073 7761 726d 5f69 643a         swarm_id:
+00002540: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00002550: 2020 2020 206c 6162 656c 3a20 7374 7220       label: str 
+00002560: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00002570: 6e65 7477 6f72 6b3a 2073 7472 203d 204e  network: str = N
+00002580: 6f6e 652c 0a20 2020 2020 2020 2073 6974  one,.        sit
+00002590: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
+000025a0: 2020 2020 2020 2073 6572 6961 6c3a 2073         serial: s
+000025b0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+000025c0: 2020 206f 735f 7479 7065 3a20 7374 7220     os_type: str 
+000025d0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+000025e0: 7374 6163 6b5f 6964 3a20 7374 7220 3d20  stack_id: str = 
+000025f0: 4e6f 6e65 2c0a 2020 2020 2020 2020 636c  None,.        cl
+00002600: 7573 7465 725f 6964 3a20 7374 7220 3d20  uster_id: str = 
+00002610: 4e6f 6e65 2c0a 2020 2020 2020 2020 6261  None,.        ba
+00002620: 6e64 3a20 7374 7220 3d20 4e6f 6e65 2c0a  nd: str = None,.
+00002630: 2020 2020 2020 2020 6d61 633a 2073 7472          mac: str
+00002640: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00002650: 2023 2073 6f72 745f 6279 3a20 7374 7220   # sort_by: str 
+00002660: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00002670: 6f66 6673 6574 3a20 696e 7420 3d20 302c  offset: int = 0,
+00002680: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
+00002690: 696e 7420 3d20 3530 302c 0a20 2020 2020  int = 500,.     
+000026a0: 2020 2023 202a 2a6b 7761 7267 732c 0a20     # **kwargs,. 
+000026b0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+000026c0: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
+000026d0: 2043 6c69 656e 7473 2064 6574 6169 6c73   Clients details
+000026e0: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
+000026f0: 6564 2062 7920 7368 6f77 2063 6c69 656e  ed by show clien
+00002700: 7473 202e 2e2e 202f 2f0a 0a20 2020 2020  ts ... //..     
+00002710: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00002720: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
+00002730: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+00002740: 6572 2062 7920 4772 6f75 702e 2044 6566  er by Group. Def
+00002750: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
+00002760: 2020 2020 2020 2020 2020 2073 7761 726d             swarm
+00002770: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
+00002780: 616c 293a 2046 696c 7465 7220 6279 2073  al): Filter by s
+00002790: 7761 726d 2e20 4465 6661 756c 7473 2074  warm. Defaults t
+000027a0: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+000027b0: 2020 2020 6c61 6265 6c20 2873 7472 2c20      label (str, 
+000027c0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+000027d0: 7220 6279 206c 6162 656c 2e20 4465 6661  r by label. Defa
+000027e0: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
+000027f0: 2020 2020 2020 2020 2020 6e65 7477 6f72            networ
+00002800: 6b20 2873 7472 2c20 6f70 7469 6f6e 616c  k (str, optional
+00002810: 293a 2046 696c 7465 7220 6279 2057 4c41  ): Filter by WLA
+00002820: 4e20 5353 4944 2e20 4465 6661 756c 7473  N SSID. Defaults
+00002830: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
+00002840: 2020 2020 2020 7369 7465 2028 7374 722c        site (str,
+00002850: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+00002860: 6572 2062 7920 7369 7465 2e20 4465 6661  er by site. Defa
+00002870: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
+00002880: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+00002890: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+000028a0: 3a20 4669 6c74 6572 2062 7920 636f 6e6e  : Filter by conn
+000028b0: 6563 7465 6420 6465 7669 6365 2073 6572  ected device ser
+000028c0: 6961 6c2e 2044 6566 6175 6c74 7320 746f  ial. Defaults to
+000028d0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+000028e0: 2020 206f 735f 7479 7065 2028 7374 722c     os_type (str,
+000028f0: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+00002900: 6572 2062 7920 636c 6965 6e74 204f 5320  er by client OS 
+00002910: 7479 7065 2e20 4465 6661 756c 7473 2074  type. Defaults t
+00002920: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+00002930: 2020 2020 7374 6163 6b5f 6964 2028 7374      stack_id (st
+00002940: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+00002950: 6c74 6572 2062 7920 5374 6163 6b20 4944  lter by Stack ID
+00002960: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+00002970: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
+00002980: 636c 7573 7465 725f 6964 2028 7374 722c  cluster_id (str,
+00002990: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+000029a0: 6572 2062 7920 436c 7573 7465 7220 4944  er by Cluster ID
+000029b0: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+000029c0: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
+000029d0: 6261 6e64 2028 7374 722c 206f 7074 696f  band (str, optio
+000029e0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+000029f0: 6261 6e64 2e20 4465 6661 756c 7473 2074  band. Defaults t
+00002a00: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+00002a10: 2020 2020 6d61 6320 2873 7472 2c20 6f70      mac (str, op
+00002a20: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+00002a30: 6279 2063 6c69 656e 7420 4d41 432e 2044  by client MAC. D
+00002a40: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
+00002a50: 0a20 2020 2020 2020 2020 2020 206f 6666  .            off
+00002a60: 7365 7420 2869 6e74 2c20 6f70 7469 6f6e  set (int, option
+00002a70: 616c 293a 2041 5049 2050 6167 696e 6720  al): API Paging 
+00002a80: 6f66 6673 6574 2e20 4465 6661 756c 7473  offset. Defaults
+00002a90: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
+00002aa0: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
+00002ab0: 7074 696f 6e61 6c29 3a20 4150 4920 7265  ptional): API re
+00002ac0: 636f 7264 206c 696d 6974 2070 6572 2072  cord limit per r
+00002ad0: 6571 7565 7374 2e20 4465 6661 756c 7473  equest. Defaults
+00002ae0: 2074 6f20 3530 302e 0a0a 2020 2020 2020   to 500...      
+00002af0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00002b00: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00002b10: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00002b20: 6f6e 7365 204f 626a 6563 740a 2020 2020  onse Object.    
+00002b30: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00002b40: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
+00002b50: 2020 2020 2020 2022 6772 6f75 7022 3a20         "group": 
+00002b60: 6772 6f75 702c 0a20 2020 2020 2020 2020  group,.         
+00002b70: 2020 2022 7377 6172 6d5f 6964 223a 2073     "swarm_id": s
+00002b80: 7761 726d 5f69 642c 0a20 2020 2020 2020  warm_id,.       
+00002b90: 2020 2020 2022 6c61 6265 6c22 3a20 6c61       "label": la
+00002ba0: 6265 6c2c 0a20 2020 2020 2020 2020 2020  bel,.           
+00002bb0: 2022 7369 7465 223a 2073 6974 652c 0a20   "site": site,. 
+00002bc0: 2020 2020 2020 2020 2020 2022 7365 7269             "seri
+00002bd0: 616c 223a 2073 6572 6961 6c2c 0a20 2020  al": serial,.   
+00002be0: 2020 2020 2020 2020 2022 636c 7573 7465           "cluste
+00002bf0: 725f 6964 223a 2063 6c75 7374 6572 5f69  r_id": cluster_i
+00002c00: 642c 0a20 2020 2020 2020 2020 2020 2023  d,.            #
+00002c10: 2027 6669 656c 6473 273a 2066 6965 6c64   'fields': field
+00002c20: 732c 0a20 2020 2020 2020 2020 2020 2023  s,.            #
+00002c30: 2027 736f 7274 5f62 7927 3a20 736f 7274   'sort_by': sort
+00002c40: 5f62 792c 0a20 2020 2020 2020 2020 2020  _by,.           
+00002c50: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
+00002c60: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
+00002c70: 6c69 6d69 7422 3a20 6c69 6d69 742c 0a20  limit": limit,. 
+00002c80: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+00002c90: 2077 6c61 6e5f 6f6e 6c79 5f70 6172 616d   wlan_only_param
+00002ca0: 7320 3d20 7b22 6e65 7477 6f72 6b22 3a20  s = {"network": 
+00002cb0: 6e65 7477 6f72 6b2c 2022 6f73 5f74 7970  network, "os_typ
+00002cc0: 6522 3a20 6f73 5f74 7970 652c 2022 6261  e": os_type, "ba
+00002cd0: 6e64 223a 2062 616e 647d 0a20 2020 2020  nd": band}.     
+00002ce0: 2020 2077 6972 6564 5f6f 6e6c 795f 7061     wired_only_pa
+00002cf0: 7261 6d73 203d 207b 2273 7461 636b 5f69  rams = {"stack_i
+00002d00: 6422 3a20 7374 6163 6b5f 6964 7d0a 2020  d": stack_id}.  
+00002d10: 2020 2020 2020 616c 6c5f 7061 7261 6d73        all_params
+00002d20: 203d 207b 2a2a 7061 7261 6d73 2c20 2a2a   = {**params, **
+00002d30: 776c 616e 5f6f 6e6c 795f 7061 7261 6d73  wlan_only_params
+00002d40: 2c20 2a2a 7769 7265 645f 6f6e 6c79 5f70  , **wired_only_p
+00002d50: 6172 616d 737d 0a20 2020 2020 2020 2077  arams}.        w
+00002d60: 6972 6564 5f70 6172 616d 7320 3d20 7b2a  ired_params = {*
+00002d70: 2a70 6172 616d 732c 202a 2a77 6972 6564  *params, **wired
+00002d80: 5f6f 6e6c 795f 7061 7261 6d73 7d0a 2020  _only_params}.  
+00002d90: 2020 2020 2020 776c 616e 5f70 6172 616d        wlan_param
+00002da0: 7320 3d20 7b2a 2a70 6172 616d 732c 202a  s = {**params, *
+00002db0: 2a77 6c61 6e5f 6f6e 6c79 5f70 6172 616d  *wlan_only_param
+00002dc0: 737d 0a20 2020 2020 2020 2069 6620 5472  s}.        if Tr
+00002dd0: 7565 2069 6e20 5b6e 6574 776f 726b 2c20  ue in [network, 
+00002de0: 6f73 5f74 7970 652c 2062 616e 645d 2061  os_type, band] a
+00002df0: 6e64 2022 7769 7265 6c65 7373 2220 6e6f  nd "wireless" no
+00002e00: 7420 696e 2061 7267 733a 0a20 2020 2020  t in args:.     
+00002e10: 2020 2020 2020 2061 7267 7320 3d20 2822         args = ("
+00002e20: 7769 7265 6c65 7373 222c 202a 6172 6773  wireless", *args
+00002e30: 290a 2020 2020 2020 2020 6966 2073 7461  ).        if sta
+00002e40: 636b 5f69 6420 616e 6420 2277 6972 6564  ck_id and "wired
+00002e50: 2220 6e6f 7420 696e 2061 7267 733a 0a20  " not in args:. 
+00002e60: 2020 2020 2020 2020 2020 2061 7267 7320             args 
+00002e70: 3d20 2822 7769 7265 6422 2c20 2a61 7267  = ("wired", *arg
+00002e80: 7329 0a0a 2020 2020 2020 2020 6966 206d  s)..        if m
+00002e90: 6163 206f 7220 2822 6d61 6322 2069 6e20  ac or ("mac" in 
+00002ea0: 6172 6773 2061 6e64 2061 7267 732e 696e  args and args.in
+00002eb0: 6465 7828 226d 6163 2229 203c 206c 656e  dex("mac") < len
+00002ec0: 2861 7267 7329 293a 0a20 2020 2020 2020  (args)):.       
+00002ed0: 2020 2020 2069 6620 6d61 633a 0a20 2020       if mac:.   
+00002ee0: 2020 2020 2020 2020 2020 2020 205f 6d61               _ma
+00002ef0: 6320 3d20 7574 696c 732e 4d61 6328 0a20  c = utils.Mac(. 
+00002f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002f10: 2020 206d 6163 2c0a 2020 2020 2020 2020     mac,.        
+00002f20: 2020 2020 2020 2020 2020 2020 6675 7a7a              fuzz
+00002f30: 793d 5472 7565 2c0a 2020 2020 2020 2020  y=True,.        
+00002f40: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00002f50: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00002f60: 2020 2020 2020 2020 2020 2020 5f6d 6163              _mac
+00002f70: 203d 2075 7469 6c73 2e4d 6163 280a 2020   = utils.Mac(.  
+00002f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002f90: 2020 6172 6773 5b61 7267 732e 696e 6465    args[args.inde
+00002fa0: 7828 226d 6163 2229 202b 2031 5d2c 0a20  x("mac") + 1],. 
+00002fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002fc0: 2020 2066 757a 7a79 3d54 7275 652c 0a20     fuzzy=True,. 
+00002fd0: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00002fe0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00002ff0: 5f6d 6163 2e6f 6b3a 0a20 2020 2020 2020  _mac.ok:.       
+00003000: 2020 2020 2020 2020 206d 6163 203d 205f           mac = _
+00003010: 6d61 630a 2020 2020 2020 2020 2020 2020  mac.            
+00003020: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00003030: 2020 2020 2020 7265 7475 726e 2052 6573        return Res
+00003040: 706f 6e73 6528 6572 726f 723d 2249 4e56  ponse(error="INV
+00003050: 414c 4944 204d 4143 222c 206f 7574 7075  ALID MAC", outpu
+00003060: 743d 6622 5468 6520 5072 6f76 6964 6564  t=f"The Provided
+00003070: 204d 4143 207b 5f6d 6163 7d20 4170 7065   MAC {_mac} Appe
+00003080: 6172 7320 746f 2062 6520 696e 7661 6c69  ars to be invali
+00003090: 642e 2229 0a0a 2020 2020 2020 2020 2320  d.")..        # 
+000030a0: 6966 206e 6f74 2061 7267 732e 636f 756e  if not args.coun
+000030b0: 7428 7374 7229 203e 2030 206f 7220 2261  t(str) > 0 or "a
+000030c0: 6c6c 2220 696e 2061 7267 733a 0a20 2020  ll" in args:.   
+000030d0: 2020 2020 2069 6620 6e6f 7420 6172 6773       if not args
+000030e0: 206f 7220 2261 6c6c 2220 696e 2061 7267   or "all" in arg
+000030f0: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
+00003100: 6620 6d61 633a 0a20 2020 2020 2020 2020  f mac:.         
+00003110: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+00003120: 6169 7420 7365 6c66 2e67 6574 5f63 6c69  ait self.get_cli
+00003130: 656e 745f 6465 7461 696c 7328 6d61 632c  ent_details(mac,
+00003140: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
+00003150: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00003160: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00003170: 2073 656c 662e 6765 745f 616c 6c5f 636c   self.get_all_cl
+00003180: 6965 6e74 7328 2a2a 616c 6c5f 7061 7261  ients(**all_para
+00003190: 6d73 2c29 0a20 2020 2020 2020 2065 6c69  ms,).        eli
+000031a0: 6620 2277 6972 6564 2220 696e 2061 7267  f "wired" in arg
+000031b0: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
+000031c0: 6620 6d61 633a 0a20 2020 2020 2020 2020  f mac:.         
+000031d0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+000031e0: 6169 7420 7365 6c66 2e67 6574 5f63 6c69  ait self.get_cli
+000031f0: 656e 745f 6465 7461 696c 7328 6d61 632c  ent_details(mac,
+00003200: 2064 6576 5f74 7970 653d 2277 6972 6564   dev_type="wired
+00003210: 222c 290a 2020 2020 2020 2020 2020 2020  ",).            
+00003220: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00003230: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00003240: 6974 2073 656c 662e 6765 745f 7769 7265  it self.get_wire
+00003250: 645f 636c 6965 6e74 7328 2a2a 7769 7265  d_clients(**wire
+00003260: 645f 7061 7261 6d73 2c29 0a20 2020 2020  d_params,).     
+00003270: 2020 2065 6c69 6620 2277 6972 656c 6573     elif "wireles
+00003280: 7322 2069 6e20 6172 6773 3a0a 2020 2020  s" in args:.    
+00003290: 2020 2020 2020 2020 6966 206d 6163 3a0a          if mac:.
+000032a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000032b0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+000032c0: 662e 6765 745f 636c 6965 6e74 5f64 6574  f.get_client_det
+000032d0: 6169 6c73 286d 6163 2c20 6465 765f 7479  ails(mac, dev_ty
+000032e0: 7065 3d22 7769 7265 6c65 7373 222c 290a  pe="wireless",).
+000032f0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00003300: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00003310: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00003320: 656c 662e 6765 745f 7769 7265 6c65 7373  elf.get_wireless
+00003330: 5f63 6c69 656e 7473 282a 2a77 6c61 6e5f  _clients(**wlan_
+00003340: 7061 7261 6d73 2c29 0a20 2020 2020 2020  params,).       
+00003350: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00003360: 2020 2072 6574 7572 6e20 5265 7370 6f6e     return Respon
+00003370: 7365 280a 2020 2020 2020 2020 2020 2020  se(.            
+00003380: 2020 2020 6572 726f 723d 2249 4e56 414c      error="INVAL
+00003390: 4944 2041 5247 554d 454e 5422 2c0a 2020  ID ARGUMENT",.  
+000033a0: 2020 2020 2020 2020 2020 2020 2020 6f75                ou
+000033b0: 7470 7574 3d66 227b 6172 6773 7d20 6170  tput=f"{args} ap
+000033c0: 7065 6172 7320 746f 2062 6520 696e 7661  pears to be inva
+000033d0: 6c69 6422 2c0a 2020 2020 2020 2020 2020  lid",.          
+000033e0: 2020 290a 0a20 2020 2061 7379 6e63 2064    )..    async d
+000033f0: 6566 2067 6574 5f61 6c6c 5f63 6c69 656e  ef get_all_clien
+00003400: 7473 280a 2020 2020 2020 2020 7365 6c66  ts(.        self
+00003410: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
+00003420: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00003430: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
+00003440: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00003450: 2020 206c 6162 656c 3a20 7374 7220 3d20     label: str = 
+00003460: 4e6f 6e65 2c0a 2020 2020 2020 2020 6e65  None,.        ne
+00003470: 7477 6f72 6b3a 2073 7472 203d 204e 6f6e  twork: str = Non
+00003480: 652c 0a20 2020 2020 2020 2073 6974 653a  e,.        site:
+00003490: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+000034a0: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
+000034b0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+000034c0: 206f 735f 7479 7065 3a20 7374 7220 3d20   os_type: str = 
+000034d0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7374  None,.        st
+000034e0: 6163 6b5f 6964 3a20 7374 7220 3d20 4e6f  ack_id: str = No
+000034f0: 6e65 2c0a 2020 2020 2020 2020 636c 7573  ne,.        clus
+00003500: 7465 725f 6964 3a20 7374 7220 3d20 4e6f  ter_id: str = No
+00003510: 6e65 2c0a 2020 2020 2020 2020 6261 6e64  ne,.        band
+00003520: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00003530: 2020 2020 2020 2320 736f 7274 5f62 793a        # sort_by:
+00003540: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00003550: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
+00003560: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
+00003570: 6d69 743a 2069 6e74 203d 2035 3030 2c0a  mit: int = 500,.
+00003580: 2020 2020 2020 2020 2320 2a2a 6b77 6172          # **kwar
+00003590: 6773 2c0a 2020 2020 2920 2d3e 2052 6573  gs,.    ) -> Res
+000035a0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+000035b0: 2222 4765 7420 416c 6c20 636c 6965 6e74  ""Get All client
+000035c0: 730a 0a20 2020 2020 2020 202f 2f20 5573  s..        // Us
+000035d0: 6564 2069 6e64 6972 6563 746c 7920 6279  ed indirectly by
+000035e0: 2073 686f 7720 636c 6965 6e74 7320 2f2f   show clients //
+000035f0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+00003600: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+00003610: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
+00003620: 293a 2052 6574 7572 6e20 636c 6965 6e74  ): Return client
+00003630: 7320 636f 6e6e 6563 7465 6420 746f 2064  s connected to d
+00003640: 6576 6963 6573 2069 6e20 6120 6769 7665  evices in a give
+00003650: 6e20 6772 6f75 702e 2044 6566 6175 6c74  n group. Default
+00003660: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
+00003670: 2020 2020 2020 2073 7761 726d 5f69 6420         swarm_id 
+00003680: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00003690: 2052 6574 7572 6e20 636c 6965 6e74 7320   Return clients 
+000036a0: 636f 6e6e 6563 7465 6420 746f 2073 7761  connected to swa
+000036b0: 726d 2062 7920 7377 6172 6d5f 6964 2e20  rm by swarm_id. 
+000036c0: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+000036d0: 2e0a 2020 2020 2020 2020 2020 2020 6c61  ..            la
+000036e0: 6265 6c20 2873 7472 2c20 6f70 7469 6f6e  bel (str, option
+000036f0: 616c 293a 2052 6574 7572 6e20 636c 6965  al): Return clie
+00003700: 6e74 7320 636f 6e6e 6563 7465 6420 746f  nts connected to
+00003710: 2064 6576 6963 6520 7769 7468 2070 726f   device with pro
+00003720: 7669 6465 6420 6c61 6265 6c2e 0a20 2020  vided label..   
+00003730: 2020 2020 2020 2020 2020 2020 2044 6566               Def
+00003740: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
+00003750: 2020 2020 2020 2020 2020 206e 6574 776f             netwo
+00003760: 726b 2028 7374 722c 206f 7074 696f 6e61  rk (str, optiona
+00003770: 6c29 3a20 5265 7475 726e 2063 6c69 656e  l): Return clien
+00003780: 7473 2066 6f72 2067 6976 656e 206e 6574  ts for given net
+00003790: 776f 726b 2028 5353 4944 292e 2044 6566  work (SSID). Def
+000037a0: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
+000037b0: 2020 2020 2020 2020 2020 2073 6974 6520             site 
+000037c0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+000037d0: 2052 6574 7572 6e20 636c 6965 6e74 7320   Return clients 
+000037e0: 696e 2061 2070 6172 7469 6375 6c61 7220  in a particular 
+000037f0: 7369 7465 2e20 4465 6661 756c 7473 2074  site. Defaults t
+00003800: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+00003810: 2020 2020 7365 7269 616c 2028 7374 722c      serial (str,
+00003820: 206f 7074 696f 6e61 6c29 3a20 5265 7475   optional): Retu
+00003830: 726e 2063 6c69 656e 7473 2063 6f6e 6e65  rn clients conne
+00003840: 6374 6564 2074 6f20 7468 6520 6465 7669  cted to the devi
+00003850: 6365 2077 6974 6820 6769 7665 6e20 7365  ce with given se
+00003860: 7269 616c 2e20 4465 6661 756c 7473 2074  rial. Defaults t
+00003870: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+00003880: 2020 2020 6f73 5f74 7970 6520 2873 7472      os_type (str
+00003890: 2c20 6f70 7469 6f6e 616c 293a 2052 6574  , optional): Ret
+000038a0: 7572 6e20 636c 6965 6e74 7320 7769 7468  urn clients with
+000038b0: 2070 726f 7669 6465 6420 6f73 5f74 7970   provided os_typ
+000038c0: 652e 2044 6566 6175 6c74 7320 746f 204e  e. Defaults to N
+000038d0: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
+000038e0: 2073 7461 636b 5f69 6420 2873 7472 2c20   stack_id (str, 
+000038f0: 6f70 7469 6f6e 616c 293a 2052 6574 7572  optional): Retur
+00003900: 6e20 636c 6965 6e74 7320 636f 6e6e 6563  n clients connec
+00003910: 7465 6420 746f 2073 7461 636b 2077 6974  ted to stack wit
+00003920: 6820 7072 6f76 6964 6564 2069 642e 2044  h provided id. D
+00003930: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
+00003940: 0a20 2020 2020 2020 2020 2020 2063 6c75  .            clu
+00003950: 7374 6572 5f69 6420 2873 7472 2c20 6f70  ster_id (str, op
+00003960: 7469 6f6e 616c 293a 2052 6574 7572 6e20  tional): Return 
+00003970: 636c 6965 6e74 7320 636f 6e6e 6563 7465  clients connecte
+00003980: 6420 746f 2063 6c75 7374 6572 2077 6974  d to cluster wit
+00003990: 6820 7072 6f76 6964 6564 2069 642e 2044  h provided id. D
+000039a0: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
+000039b0: 0a20 2020 2020 2020 2020 2020 2062 616e  .            ban
+000039c0: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
+000039d0: 293a 2052 6574 7572 6e20 2857 4c41 4e29  ): Return (WLAN)
+000039e0: 2063 6c69 656e 7473 2063 6f6e 6e65 6374   clients connect
+000039f0: 6564 2074 6f20 7072 6f76 6964 6564 2062  ed to provided b
+00003a00: 616e 642e 2044 6566 6175 6c74 7320 746f  and. Defaults to
+00003a10: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+00003a20: 2020 2046 4958 4d45 2073 6f72 745f 6279     FIXME sort_by
+00003a30: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00003a40: 3a20 536f 7274 204f 7574 7075 7420 6f6e  : Sort Output on
+00003a50: 2070 726f 7669 6465 6420 6b65 7920 6669   provided key fi
+00003a60: 656c 642e 2044 6566 6175 6c74 7320 746f  eld. Defaults to
+00003a70: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+00003a80: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
+00003a90: 6f70 7469 6f6e 616c 293a 2041 5049 206f  optional): API o
+00003aa0: 6666 7365 742e 2044 6566 6175 6c74 7320  ffset. Defaults 
+00003ab0: 746f 2030 2e0a 2020 2020 2020 2020 2020  to 0..          
+00003ac0: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
+00003ad0: 7469 6f6e 616c 293a 2041 5049 2072 6563  tional): API rec
+00003ae0: 6f72 6420 6c69 6d69 742e 2044 6566 6175  ord limit. Defau
+00003af0: 6c74 7320 746f 2035 3030 2e0a 0a20 2020  lts to 500...   
+00003b00: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00003b10: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00003b20: 7365 3a20 4365 6e74 7261 6c43 6c69 2e52  se: CentralCli.R
+00003b30: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00003b40: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00003b50: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
+00003b60: 2020 2020 2020 2020 2020 2267 726f 7570            "group
+00003b70: 223a 2067 726f 7570 2c0a 2020 2020 2020  ": group,.      
+00003b80: 2020 2020 2020 2273 7761 726d 5f69 6422        "swarm_id"
+00003b90: 3a20 7377 6172 6d5f 6964 2c0a 2020 2020  : swarm_id,.    
+00003ba0: 2020 2020 2020 2020 226c 6162 656c 223a          "label":
+00003bb0: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
+00003bc0: 2020 2020 2273 6974 6522 3a20 7369 7465      "site": site
+00003bd0: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
+00003be0: 6572 6961 6c22 3a20 7365 7269 616c 2c0a  erial": serial,.
+00003bf0: 2020 2020 2020 2020 2020 2020 2263 6c75              "clu
+00003c00: 7374 6572 5f69 6422 3a20 636c 7573 7465  ster_id": cluste
+00003c10: 725f 6964 2c0a 2020 2020 2020 2020 2020  r_id,.          
+00003c20: 2020 2320 2766 6965 6c64 7327 3a20 6669    # 'fields': fi
+00003c30: 656c 6473 2c0a 2020 2020 2020 2020 2020  elds,.          
+00003c40: 2020 2320 2773 6f72 745f 6279 273a 2073    # 'sort_by': s
+00003c50: 6f72 745f 6279 2c0a 2020 2020 2020 2020  ort_by,.        
+00003c60: 2020 2020 226f 6666 7365 7422 3a20 6f66      "offset": of
+00003c70: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
+00003c80: 2020 226c 696d 6974 223a 206c 696d 6974    "limit": limit
+00003c90: 2c0a 2020 2020 2020 2020 7d0a 2020 2020  ,.        }.    
+00003ca0: 2020 2020 776c 616e 5f6f 6e6c 795f 7061      wlan_only_pa
+00003cb0: 7261 6d73 203d 207b 226e 6574 776f 726b  rams = {"network
+00003cc0: 223a 206e 6574 776f 726b 2c20 226f 735f  ": network, "os_
+00003cd0: 7479 7065 223a 206f 735f 7479 7065 2c20  type": os_type, 
+00003ce0: 2262 616e 6422 3a20 6261 6e64 7d0a 2020  "band": band}.  
+00003cf0: 2020 2020 2020 7769 7265 645f 6f6e 6c79        wired_only
+00003d00: 5f70 6172 616d 7320 3d20 7b22 7374 6163  _params = {"stac
+00003d10: 6b5f 6964 223a 2073 7461 636b 5f69 647d  k_id": stack_id}
+00003d20: 0a0a 2020 2020 2020 2020 2320 7265 7370  ..        # resp
+00003d30: 203d 2061 7761 6974 2073 656c 662e 6765   = await self.ge
+00003d40: 745f 7769 7265 6c65 7373 5f63 6c69 656e  t_wireless_clien
+00003d50: 7473 282a 2a7b 2a2a 7061 7261 6d73 2c20  ts(**{**params, 
+00003d60: 2a2a 776c 616e 5f6f 6e6c 795f 7061 7261  **wlan_only_para
+00003d70: 6d73 7d2c 2920 2023 202a 2a6b 7761 7267  ms},)  # **kwarg
+00003d80: 7329 0a20 2020 2020 2020 2023 2069 6620  s).        # if 
+00003d90: 7265 7370 2e6f 6b3a 0a20 2020 2020 2020  resp.ok:.       
+00003da0: 2023 2020 2020 2077 6c61 6e5f 7265 7370   #     wlan_resp
+00003db0: 203d 2072 6573 700a 2020 2020 2020 2020   = resp.        
+00003dc0: 2320 2020 2020 7769 7265 645f 7265 7370  #     wired_resp
+00003dd0: 203d 2061 7761 6974 2073 656c 662e 6765   = await self.ge
+00003de0: 745f 7769 7265 645f 636c 6965 6e74 7328  t_wired_clients(
+00003df0: 2a2a 7b2a 2a70 6172 616d 732c 202a 2a77  **{**params, **w
+00003e00: 6972 6564 5f6f 6e6c 795f 7061 7261 6d73  ired_only_params
+00003e10: 7d29 2020 2320 2a2a 6b77 6172 6773 290a  })  # **kwargs).
+00003e20: 2020 2020 2020 2020 2320 2020 2020 6966          #     if
+00003e30: 2077 6972 6564 5f72 6573 702e 6f6b 3a0a   wired_resp.ok:.
+00003e40: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00003e50: 2020 7265 7370 2e6f 7574 7075 7420 3d20    resp.output = 
+00003e60: 776c 616e 5f72 6573 702e 6f75 7470 7574  wlan_resp.output
+00003e70: 202b 2077 6972 6564 5f72 6573 702e 6f75   + wired_resp.ou
+00003e80: 7470 7574 0a0a 2020 2020 2020 2020 7265  tput..        re
+00003e90: 7173 203d 205b 0a20 2020 2020 2020 2020  qs = [.         
+00003ea0: 2020 2073 656c 662e 4261 7463 6852 6571     self.BatchReq
+00003eb0: 7565 7374 2873 656c 662e 6765 745f 7769  uest(self.get_wi
+00003ec0: 7265 6c65 7373 5f63 6c69 656e 7473 2c20  reless_clients, 
+00003ed0: 2a2a 7b2a 2a70 6172 616d 732c 202a 2a77  **{**params, **w
+00003ee0: 6c61 6e5f 6f6e 6c79 5f70 6172 616d 737d  lan_only_params}
+00003ef0: 292c 0a20 2020 2020 2020 2020 2020 2073  ),.            s
+00003f00: 656c 662e 4261 7463 6852 6571 7565 7374  elf.BatchRequest
+00003f10: 2873 656c 662e 6765 745f 7769 7265 645f  (self.get_wired_
+00003f20: 636c 6965 6e74 732c 202a 2a7b 2a2a 7061  clients, **{**pa
+00003f30: 7261 6d73 2c20 2a2a 7769 7265 645f 6f6e  rams, **wired_on
+00003f40: 6c79 5f70 6172 616d 737d 290a 2020 2020  ly_params}).    
+00003f50: 2020 2020 5d0a 2020 2020 2020 2020 2320      ].        # 
+00003f60: 4649 584d 4520 6966 2077 6972 656c 6573  FIXME if wireles
+00003f70: 7320 636c 6965 6e74 7320 6361 6c6c 2070  s clients call p
+00003f80: 6173 7365 7320 6275 7420 7769 7265 6420  asses but wired 
+00003f90: 6661 696c 7320 7468 6572 6520 6973 206e  fails there is n
+00003fa0: 6f20 696e 6469 6361 7469 6f6e 2069 6e20  o indication in 
+00003fb0: 6365 6e63 6c69 2073 686f 7720 636c 6965  cencli show clie
+00003fc0: 6e74 7320 6f75 7470 7574 0a20 2020 2020  nts output.     
+00003fd0: 2020 2072 6573 7020 3d20 6177 6169 7420     resp = await 
+00003fe0: 7365 6c66 2e5f 6261 7463 685f 7265 7175  self._batch_requ
+00003ff0: 6573 7428 7265 7173 290a 2020 2020 2020  est(reqs).      
+00004000: 2020 6966 206c 656e 2872 6573 7029 203d    if len(resp) =
+00004010: 3d20 323a 2020 2320 616e 6420 616c 6c28  = 2:  # and all(
+00004020: 782e 6f6b 2066 6f72 2078 2069 6e20 7265  x.ok for x in re
+00004030: 7370 293a 0a20 2020 2020 2020 2020 2020  sp):.           
+00004040: 206f 7574 203d 205b 5d0a 2020 2020 2020   out = [].      
+00004050: 2020 2020 2020 666f 7220 7220 696e 2072        for r in r
+00004060: 6573 703a 0a20 2020 2020 2020 2020 2020  esp:.           
+00004070: 2020 2020 2069 6620 722e 6f6b 3a0a 2020       if r.ok:.  
+00004080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004090: 2020 6f75 7420 2b3d 2072 2e6f 7574 7075    out += r.outpu
+000040a0: 740a 2020 2020 2020 2020 2020 2020 7261  t.            ra
+000040b0: 7720 3d20 5b0a 2020 2020 2020 2020 2020  w = [.          
+000040c0: 2020 2020 2020 7b22 7261 775f 7769 7265        {"raw_wire
+000040d0: 6c65 7373 5f72 6573 706f 6e73 6522 3a20  less_response": 
+000040e0: 7265 7370 5b30 5d2e 7261 777d 2c0a 2020  resp[0].raw},.  
+000040f0: 2020 2020 2020 2020 2020 2020 2020 7b22                {"
+00004100: 7261 775f 7769 7265 645f 7265 7370 6f6e  raw_wired_respon
+00004110: 7365 223a 2072 6573 705b 315d 2e72 6177  se": resp[1].raw
+00004120: 7d0a 2020 2020 2020 2020 2020 2020 5d0a  }.            ].
+00004130: 2020 2020 2020 2020 2020 2020 7265 7370              resp
+00004140: 203d 2072 6573 705b 315d 2069 6620 7265   = resp[1] if re
+00004150: 7370 5b31 5d2e 6f6b 2065 6c73 6520 7265  sp[1].ok else re
+00004160: 7370 5b30 5d0a 2020 2020 2020 2020 2020  sp[0].          
+00004170: 2020 7265 7370 2e6f 7574 7075 7420 3d20    resp.output = 
+00004180: 6f75 740a 2020 2020 2020 2020 2020 2020  out.            
+00004190: 7265 7370 2e72 6177 203d 2072 6177 0a20  resp.raw = raw. 
+000041a0: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
+000041b0: 4f20 6e65 6564 2052 6573 706f 6e73 6520  O need Response 
+000041c0: 746f 2068 6176 6520 616e 2061 7474 7269  to have an attri
+000041d0: 6275 7465 2074 6861 7420 7374 6f72 6573  bute that stores
+000041e0: 2066 6169 6c65 6420 6361 6c6c 7320 736f   failed calls so
+000041f0: 2063 6c69 2063 6f6d 6d61 6e64 7320 6361   cli commands ca
+00004200: 6e20 6469 7370 6c61 7920 6f75 7470 7574  n display output
+00004210: 206f 6620 7061 7373 6564 2063 616c 6c73   of passed calls
+00004220: 2061 6e64 2064 6574 6169 6c73 206f 6e20   and details on 
+00004230: 6572 726f 7273 2028 7768 656e 2073 6f6d  errors (when som
+00004240: 6520 6361 6c6c 7320 6661 696c 290a 0a20  e calls fail).. 
+00004250: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
+00004260: 7370 0a0a 2020 2020 6173 796e 6320 6465  sp..    async de
+00004270: 6620 6765 745f 636c 6965 6e74 5f72 6f61  f get_client_roa
+00004280: 6d69 6e67 5f68 6973 746f 7279 280a 2020  ming_history(.  
+00004290: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+000042a0: 2020 2020 6d61 6361 6464 723a 2073 7472      macaddr: str
+000042b0: 2c0a 2020 2020 2020 2020 6361 6c63 756c  ,.        calcul
+000042c0: 6174 655f 746f 7461 6c3a 2062 6f6f 6c20  ate_total: bool 
+000042d0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+000042e0: 6672 6f6d 5f74 696d 6573 7461 6d70 3a20  from_timestamp: 
+000042f0: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
+00004300: 2020 2020 746f 5f74 696d 6573 7461 6d70      to_timestamp
+00004310: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
+00004320: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
+00004330: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
+00004340: 696d 6974 3a20 696e 7420 3d20 3130 302c  imit: int = 100,
+00004350: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+00004360: 7365 3a0a 2020 2020 2020 2020 2222 2257  se:.        """W
+00004370: 6972 656c 6573 7320 436c 6965 6e74 204d  ireless Client M
+00004380: 6f62 696c 6974 7920 5472 6169 6c2e 0a0a  obility Trail...
+00004390: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+000043a0: 2020 2020 2020 2020 2020 6d61 6361 6464            macadd
+000043b0: 7220 2873 7472 293a 204d 4143 2061 6464  r (str): MAC add
+000043c0: 7265 7373 206f 6620 7468 6520 5769 7265  ress of the Wire
+000043d0: 6c65 7373 2043 6c69 656e 7420 746f 2062  less Client to b
+000043e0: 6520 7175 6572 6965 640a 2020 2020 2020  e queried.      
+000043f0: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
+00004400: 746f 7461 6c20 2862 6f6f 6c2c 206f 7074  total (bool, opt
+00004410: 696f 6e61 6c29 3a20 5768 6574 6865 7220  ional): Whether 
+00004420: 746f 2063 616c 6375 6c61 7465 2074 6f74  to calculate tot
+00004430: 616c 2074 7261 6e73 6974 696f 6e73 0a20  al transitions. 
+00004440: 2020 2020 2020 2020 2020 2066 726f 6d5f             from_
+00004450: 7469 6d65 7374 616d 7020 2869 6e74 2c20  timestamp (int, 
+00004460: 6f70 7469 6f6e 616c 293a 204e 6565 6420  optional): Need 
+00004470: 696e 666f 726d 6174 696f 6e20 6672 6f6d  information from
+00004480: 2074 6869 7320 7469 6d65 7374 616d 702e   this timestamp.
+00004490: 2054 696d 6573 7461 6d70 2069 7320 6570   Timestamp is ep
+000044a0: 6f63 680a 2020 2020 2020 2020 2020 2020  och.            
+000044b0: 2020 2020 696e 2073 6563 6f6e 6473 2e20      in seconds. 
+000044c0: 4465 6661 756c 7420 6973 2063 7572 7265  Default is curre
+000044d0: 6e74 2074 696d 6573 7461 6d70 206d 696e  nt timestamp min
+000044e0: 7573 2033 2068 6f75 7273 0a20 2020 2020  us 3 hours.     
+000044f0: 2020 2020 2020 2074 6f5f 7469 6d65 7374         to_timest
+00004500: 616d 7020 2869 6e74 2c20 6f70 7469 6f6e  amp (int, option
+00004510: 616c 293a 204e 6565 6420 696e 666f 726d  al): Need inform
+00004520: 6174 696f 6e20 746f 2074 6869 7320 7469  ation to this ti
+00004530: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
+00004540: 6d70 2069 7320 6570 6f63 6820 696e 0a20  mp is epoch in. 
+00004550: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00004560: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
+00004570: 6973 2063 7572 7265 6e74 2074 696d 6573  is current times
+00004580: 7461 6d70 0a20 2020 2020 2020 2020 2020  tamp.           
+00004590: 206f 6666 7365 7420 2869 6e74 2c20 6f70   offset (int, op
+000045a0: 7469 6f6e 616c 293a 2050 6167 696e 6174  tional): Paginat
+000045b0: 696f 6e20 6f66 6673 6574 2044 6566 6175  ion offset Defau
+000045c0: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
+000045d0: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
+000045e0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
+000045f0: 696e 6174 696f 6e20 6c69 6d69 742e 2044  ination limit. D
+00004600: 6566 6175 6c74 2069 7320 3130 3020 616e  efault is 100 an
+00004610: 6420 6d61 7820 6973 2031 3030 3020 4465  d max is 1000 De
+00004620: 6661 756c 7473 2074 6f20 3130 302e 0a0a  faults to 100...
+00004630: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00004640: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00004650: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00004660: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00004670: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00004680: 2020 2020 2020 7572 6c20 3d20 6622 2f6d        url = f"/m
+00004690: 6f6e 6974 6f72 696e 672f 7631 2f63 6c69  onitoring/v1/cli
+000046a0: 656e 7473 2f77 6972 656c 6573 732f 7b6d  ents/wireless/{m
+000046b0: 6163 6164 6472 7d2f 6d6f 6269 6c69 7479  acaddr}/mobility
+000046c0: 5f74 7261 696c 220a 0a20 2020 2020 2020  _trail"..       
+000046d0: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
+000046e0: 2020 2020 2020 2020 2763 616c 6375 6c61          'calcula
+000046f0: 7465 5f74 6f74 616c 273a 2063 616c 6375  te_total': calcu
+00004700: 6c61 7465 5f74 6f74 616c 2c0a 2020 2020  late_total,.    
+00004710: 2020 2020 2020 2020 2766 726f 6d5f 7469          'from_ti
+00004720: 6d65 7374 616d 7027 3a20 6672 6f6d 5f74  mestamp': from_t
+00004730: 696d 6573 7461 6d70 2c0a 2020 2020 2020  imestamp,.      
+00004740: 2020 2020 2020 2774 6f5f 7469 6d65 7374        'to_timest
+00004750: 616d 7027 3a20 746f 5f74 696d 6573 7461  amp': to_timesta
+00004760: 6d70 2c0a 2020 2020 2020 2020 2020 2020  mp,.            
+00004770: 276f 6666 7365 7427 3a20 6f66 6673 6574  'offset': offset
+00004780: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
+00004790: 696d 6974 273a 206c 696d 6974 0a20 2020  imit': limit.   
+000047a0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+000047b0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+000047c0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
+000047d0: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
+000047e0: 7379 6e63 2064 6566 2067 6574 5f77 6972  sync def get_wir
+000047f0: 656c 6573 735f 636c 6965 6e74 7328 0a20  eless_clients(. 
+00004800: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00004810: 2020 2020 2067 726f 7570 3a20 7374 7220       group: str 
+00004820: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00004830: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
+00004840: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c61  None,.        la
+00004850: 6265 6c3a 2073 7472 203d 204e 6f6e 652c  bel: str = None,
+00004860: 0a20 2020 2020 2020 2073 6974 653a 2073  .        site: s
+00004870: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00004880: 2020 206e 6574 776f 726b 3a20 7374 7220     network: str 
+00004890: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+000048a0: 7365 7269 616c 3a20 7374 7220 3d20 4e6f  serial: str = No
+000048b0: 6e65 2c0a 2020 2020 2020 2020 6f73 5f74  ne,.        os_t
+000048c0: 7970 653a 2073 7472 203d 204e 6f6e 652c  ype: str = None,
+000048d0: 0a20 2020 2020 2020 2063 6c75 7374 6572  .        cluster
+000048e0: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
+000048f0: 0a20 2020 2020 2020 2062 616e 643a 2073  .        band: s
+00004900: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00004910: 2020 2066 6965 6c64 733a 2073 7472 203d     fields: str =
+00004920: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
+00004930: 616c 6375 6c61 7465 5f74 6f74 616c 3a20  alculate_total: 
+00004940: 626f 6f6c 203d 204e 6f6e 652c 0a20 2020  bool = None,.   
+00004950: 2020 2020 2023 2073 6f72 745f 6279 3a20       # sort_by: 
+00004960: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00004970: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
+00004980: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
+00004990: 6974 3a20 696e 7420 3d20 3530 302c 0a20  it: int = 500,. 
+000049a0: 2020 2020 2020 2023 202a 2a6b 7761 7267         # **kwarg
+000049b0: 732c 0a20 2020 2029 202d 3e20 5265 7370  s,.    ) -> Resp
+000049c0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+000049d0: 224c 6973 7420 5769 7265 6c65 7373 2043  "List Wireless C
+000049e0: 6c69 656e 7473 2e0a 0a20 2020 2020 2020  lients...       
+000049f0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+00004a00: 2020 2067 726f 7570 2028 7374 722c 206f     group (str, o
+00004a10: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00004a20: 2062 7920 6772 6f75 7020 6e61 6d65 0a20   by group name. 
+00004a30: 2020 2020 2020 2020 2020 2073 7761 726d             swarm
+00004a40: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
+00004a50: 616c 293a 2046 696c 7465 7220 6279 2053  al): Filter by S
+00004a60: 7761 726d 2049 440a 2020 2020 2020 2020  warm ID.        
+00004a70: 2020 2020 6c61 6265 6c20 2873 7472 2c20      label (str, 
+00004a80: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+00004a90: 7220 6279 204c 6162 656c 206e 616d 650a  r by Label name.
+00004aa0: 2020 2020 2020 2020 2020 2020 7369 7465              site
+00004ab0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00004ac0: 3a20 4669 6c74 6572 2062 7920 5369 7465  : Filter by Site
+00004ad0: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
+00004ae0: 2020 6e65 7477 6f72 6b20 2873 7472 2c20    network (str, 
+00004af0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+00004b00: 7220 6279 206e 6574 776f 726b 206e 616d  r by network nam
+00004b10: 650a 2020 2020 2020 2020 2020 2020 7365  e.            se
+00004b20: 7269 616c 2028 7374 722c 206f 7074 696f  rial (str, optio
+00004b30: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00004b40: 4150 2073 6572 6961 6c20 6e75 6d62 6572  AP serial number
+00004b50: 0a20 2020 2020 2020 2020 2020 206f 735f  .            os_
+00004b60: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
+00004b70: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00004b80: 636c 6965 6e74 206f 7320 7479 7065 0a20  client os type. 
+00004b90: 2020 2020 2020 2020 2020 2063 6c75 7374             clust
+00004ba0: 6572 5f69 6420 2873 7472 2c20 6f70 7469  er_id (str, opti
+00004bb0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+00004bc0: 204d 6f62 696c 6974 7920 436f 6e74 726f   Mobility Contro
+00004bd0: 6c6c 6572 2073 6572 6961 6c20 6e75 6d62  ller serial numb
+00004be0: 6572 0a20 2020 2020 2020 2020 2020 2062  er.            b
+00004bf0: 616e 6420 2873 7472 2c20 6f70 7469 6f6e  and (str, option
+00004c00: 616c 293a 2046 696c 7465 7220 6279 2062  al): Filter by b
+00004c10: 616e 642e 2056 616c 7565 2063 616e 2062  and. Value can b
+00004c20: 6520 6569 7468 6572 2022 322e 3422 206f  e either "2.4" o
+00004c30: 7220 2235 220a 2020 2020 2020 2020 2020  r "5".          
+00004c40: 2020 6669 656c 6473 2028 7374 722c 206f    fields (str, o
+00004c50: 7074 696f 6e61 6c29 3a20 436f 6d6d 6120  ptional): Comma 
+00004c60: 7365 7061 7261 7465 6420 6c69 7374 206f  separated list o
+00004c70: 6620 6669 656c 6473 2074 6f20 6265 2072  f fields to be r
+00004c80: 6574 7572 6e65 642e 2056 616c 6964 2066  eturned. Valid f
+00004c90: 6965 6c64 7320 6172 650a 2020 2020 2020  ields are.      
+00004ca0: 2020 2020 2020 2020 2020 6e61 6d65 2c20            name, 
+00004cb0: 6970 5f61 6464 7265 7373 2c20 7573 6572  ip_address, user
+00004cc0: 6e61 6d65 2c20 6f73 5f74 7970 652c 2063  name, os_type, c
+00004cd0: 6f6e 6e65 6374 696f 6e2c 2061 7373 6f63  onnection, assoc
+00004ce0: 6961 7465 645f 6465 7669 6365 2c20 6772  iated_device, gr
+00004cf0: 6f75 705f 6e61 6d65 2c0a 2020 2020 2020  oup_name,.      
+00004d00: 2020 2020 2020 2020 2020 7377 6172 6d5f            swarm_
+00004d10: 6964 2c20 6e65 7477 6f72 6b2c 2072 6164  id, network, rad
+00004d20: 696f 5f6d 6163 2c20 6d61 6e75 6661 6374  io_mac, manufact
+00004d30: 7572 6572 2c20 766c 616e 2c20 656e 6372  urer, vlan, encr
+00004d40: 7970 7469 6f6e 5f6d 6574 686f 642c 2072  yption_method, r
+00004d50: 6164 696f 5f6e 756d 6265 722c 0a20 2020  adio_number,.   
+00004d60: 2020 2020 2020 2020 2020 2020 2073 7065               spe
+00004d70: 6564 2c20 7573 6167 652c 2068 6561 6c74  ed, usage, healt
+00004d80: 682c 206c 6162 656c 732c 2073 6974 652c  h, labels, site,
+00004d90: 2073 6967 6e61 6c5f 7374 7265 6e67 7468   signal_strength
+00004da0: 2c20 7369 676e 616c 5f64 622c 2073 6e72  , signal_db, snr
+00004db0: 0a20 2020 2020 2020 2020 2020 2063 616c  .            cal
+00004dc0: 6375 6c61 7465 5f74 6f74 616c 2028 626f  culate_total (bo
+00004dd0: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2057  ol, optional): W
+00004de0: 6865 7468 6572 2074 6f20 6361 6c63 756c  hether to calcul
+00004df0: 6174 6520 746f 7461 6c20 7769 7265 6c65  ate total wirele
+00004e00: 7373 2043 6c69 656e 7473 0a20 2020 2020  ss Clients.     
+00004e10: 2020 2020 2020 2073 6f72 7420 2873 7472         sort (str
+00004e20: 2c20 6f70 7469 6f6e 616c 293a 2053 6f72  , optional): Sor
+00004e30: 7420 7061 7261 6d65 7465 7220 6d61 7920  t parameter may 
+00004e40: 6265 206f 6e65 206f 6620 2b6d 6163 6164  be one of +macad
+00004e50: 6472 2c20 2d6d 6163 6164 6472 2e20 2044  dr, -macaddr.  D
+00004e60: 6566 6175 6c74 2069 730a 2020 2020 2020  efault is.      
+00004e70: 2020 2020 2020 2020 2020 272b 6d61 6361            '+maca
+00004e80: 6464 7227 0a20 2020 2020 2020 2020 2020  ddr'.           
+00004e90: 206f 6666 7365 7420 2869 6e74 2c20 6f70   offset (int, op
+00004ea0: 7469 6f6e 616c 293a 2050 6167 696e 6174  tional): Paginat
+00004eb0: 696f 6e20 6f66 6673 6574 2044 6566 6175  ion offset Defau
+00004ec0: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
+00004ed0: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
+00004ee0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
+00004ef0: 696e 6174 696f 6e20 6c69 6d69 742e 2044  ination limit. D
+00004f00: 6566 6175 6c74 2069 7320 3130 3020 616e  efault is 100 an
+00004f10: 6420 6d61 7820 6973 2031 3030 3020 4465  d max is 1000 De
+00004f20: 6661 756c 7473 2074 6f20 3530 302e 0a0a  faults to 500...
+00004f30: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00004f40: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00004f50: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00004f60: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00004f70: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00004f80: 2020 2020 2020 7572 6c20 3d20 222f 6d6f        url = "/mo
+00004f90: 6e69 746f 7269 6e67 2f76 312f 636c 6965  nitoring/v1/clie
+00004fa0: 6e74 732f 7769 7265 6c65 7373 220a 0a20  nts/wireless".. 
+00004fb0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+00004fc0: 7b0a 2020 2020 2020 2020 2020 2020 2267  {.            "g
+00004fd0: 726f 7570 223a 2067 726f 7570 2c0a 2020  roup": group,.  
+00004fe0: 2020 2020 2020 2020 2020 2273 7761 726d            "swarm
+00004ff0: 5f69 6422 3a20 7377 6172 6d5f 6964 2c0a  _id": swarm_id,.
+00005000: 2020 2020 2020 2020 2020 2020 226c 6162              "lab
+00005010: 656c 223a 206c 6162 656c 2c0a 2020 2020  el": label,.    
+00005020: 2020 2020 2020 2020 2273 6974 6522 3a20          "site": 
+00005030: 7369 7465 2c0a 2020 2020 2020 2020 2020  site,.          
+00005040: 2020 226e 6574 776f 726b 223a 206e 6574    "network": net
+00005050: 776f 726b 2c0a 2020 2020 2020 2020 2020  work,.          
+00005060: 2020 2273 6572 6961 6c22 3a20 7365 7269    "serial": seri
+00005070: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
+00005080: 226f 735f 7479 7065 223a 206f 735f 7479  "os_type": os_ty
+00005090: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
+000050a0: 2263 6c75 7374 6572 5f69 6422 3a20 636c  "cluster_id": cl
+000050b0: 7573 7465 725f 6964 2c0a 2020 2020 2020  uster_id,.      
+000050c0: 2020 2020 2020 2262 616e 6422 3a20 6261        "band": ba
+000050d0: 6e64 2c0a 2020 2020 2020 2020 2020 2020  nd,.            
+000050e0: 2266 6965 6c64 7322 3a20 6669 656c 6473  "fields": fields
+000050f0: 2c0a 2020 2020 2020 2020 2020 2020 2263  ,.            "c
+00005100: 616c 6375 6c61 7465 5f74 6f74 616c 223a  alculate_total":
+00005110: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
+00005120: 2c0a 2020 2020 2020 2020 2020 2020 2320  ,.            # 
+00005130: 2773 6f72 7427 3a20 736f 7274 5f62 792c  'sort': sort_by,
+00005140: 0a20 2020 2020 2020 2020 2020 2022 6f66  .            "of
+00005150: 6673 6574 223a 206f 6666 7365 742c 0a20  fset": offset,. 
+00005160: 2020 2020 2020 2020 2020 2022 6c69 6d69             "limi
+00005170: 7422 3a20 6c69 6d69 742c 0a20 2020 2020  t": limit,.     
+00005180: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
+00005190: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+000051a0: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
+000051b0: 7061 7261 6d73 2c29 0a20 2020 2020 2020  params,).       
+000051c0: 2023 2069 6620 736f 7274 5f62 7920 6973   # if sort_by is
+000051d0: 204e 6f6e 653a 0a20 2020 2020 2020 2023   None:.        #
+000051e0: 2020 2020 2072 6574 7572 6e20 7265 7370       return resp
+000051f0: 0a20 2020 2020 2020 2023 2065 6c73 653a  .        # else:
+00005200: 0a20 2020 2020 2020 2023 2020 2020 2072  .        #     r
+00005210: 6574 7572 6e20 7365 6c66 2e5f 736f 7274  eturn self._sort
+00005220: 6564 2872 6573 702c 2073 6f72 745f 6279  ed(resp, sort_by
+00005230: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+00005240: 2067 6574 5f77 6972 6564 5f63 6c69 656e   get_wired_clien
+00005250: 7473 280a 2020 2020 2020 2020 7365 6c66  ts(.        self
+00005260: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
+00005270: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00005280: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
+00005290: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+000052a0: 2020 206c 6162 656c 3a20 7374 7220 3d20     label: str = 
+000052b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7369  None,.        si
+000052c0: 7465 3a20 7374 7220 3d20 4e6f 6e65 2c0a  te: str = None,.
+000052d0: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
+000052e0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+000052f0: 2020 2020 636c 7573 7465 725f 6964 3a20      cluster_id: 
+00005300: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00005310: 2020 2020 7374 6163 6b5f 6964 3a20 7374      stack_id: st
+00005320: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00005330: 2020 6669 656c 6473 3a20 7374 7220 3d20    fields: str = 
+00005340: 4e6f 6e65 2c0a 2020 2020 2020 2020 6361  None,.        ca
+00005350: 6c63 756c 6174 655f 746f 7461 6c3a 2062  lculate_total: b
+00005360: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
+00005370: 2020 2020 2320 736f 7274 5f62 793a 2073      # sort_by: s
+00005380: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00005390: 2020 206f 6666 7365 743a 2069 6e74 203d     offset: int =
+000053a0: 2030 2c0a 2020 2020 2020 2020 6c69 6d69   0,.        limi
+000053b0: 743a 2069 6e74 203d 2035 3030 2c0a 2020  t: int = 500,.  
+000053c0: 2020 2020 2020 2320 2a2a 6b77 6172 6773        # **kwargs
+000053d0: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+000053e0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+000053f0: 4c69 7374 2057 6972 6564 2043 6c69 656e  List Wired Clien
+00005400: 7473 2e0a 0a20 2020 2020 2020 2041 7267  ts...        Arg
+00005410: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
+00005420: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
+00005430: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00005440: 6772 6f75 7020 6e61 6d65 0a20 2020 2020  group name.     
+00005450: 2020 2020 2020 2073 7761 726d 5f69 6420         swarm_id 
+00005460: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00005470: 2046 696c 7465 7220 6279 2053 7761 726d   Filter by Swarm
+00005480: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
+00005490: 6c61 6265 6c20 2873 7472 2c20 6f70 7469  label (str, opti
+000054a0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+000054b0: 204c 6162 656c 206e 616d 650a 2020 2020   Label name.    
+000054c0: 2020 2020 2020 2020 7369 7465 2028 7374          site (st
+000054d0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+000054e0: 6c74 6572 2062 7920 5369 7465 206e 616d  lter by Site nam
+000054f0: 650a 2020 2020 2020 2020 2020 2020 7365  e.            se
+00005500: 7269 616c 2028 7374 722c 206f 7074 696f  rial (str, optio
+00005510: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00005520: 5377 6974 6368 206f 7220 4150 2073 6572  Switch or AP ser
+00005530: 6961 6c20 6e75 6d62 6572 0a20 2020 2020  ial number.     
+00005540: 2020 2020 2020 2063 6c75 7374 6572 5f69         cluster_i
+00005550: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
+00005560: 293a 2046 696c 7465 7220 6279 204d 6f62  ): Filter by Mob
+00005570: 696c 6974 7920 436f 6e74 726f 6c6c 6572  ility Controller
+00005580: 2073 6572 6961 6c20 6e75 6d62 6572 0a20   serial number. 
+00005590: 2020 2020 2020 2020 2020 2073 7461 636b             stack
+000055a0: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
+000055b0: 616c 293a 2046 696c 7465 7220 6279 2053  al): Filter by S
+000055c0: 7769 7463 6820 7374 6163 6b5f 6964 0a20  witch stack_id. 
+000055d0: 2020 2020 2020 2020 2020 2066 6965 6c64             field
+000055e0: 7320 2873 7472 2c20 6f70 7469 6f6e 616c  s (str, optional
+000055f0: 293a 2043 6f6d 6d61 2073 6570 6172 6174  ): Comma separat
+00005600: 6564 206c 6973 7420 6f66 2066 6965 6c64  ed list of field
+00005610: 7320 746f 2062 6520 7265 7475 726e 6564  s to be returned
+00005620: 2e20 5661 6c69 6420 6669 656c 6473 2061  . Valid fields a
+00005630: 7265 0a20 2020 2020 2020 2020 2020 2020  re.             
+00005640: 2020 206e 616d 652c 2069 705f 6164 6472     name, ip_addr
+00005650: 6573 732c 2075 7365 726e 616d 652c 2061  ess, username, a
+00005660: 7373 6f63 6961 7465 645f 6465 7669 6365  ssociated_device
+00005670: 2c20 6772 6f75 705f 6e61 6d65 2c20 696e  , group_name, in
+00005680: 7465 7266 6163 655f 6d61 632c 2076 6c61  terface_mac, vla
+00005690: 6e0a 2020 2020 2020 2020 2020 2020 6361  n.            ca
+000056a0: 6c63 756c 6174 655f 746f 7461 6c20 2862  lculate_total (b
+000056b0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+000056c0: 5768 6574 6865 7220 746f 2063 616c 6375  Whether to calcu
+000056d0: 6c61 7465 2074 6f74 616c 2077 6972 6564  late total wired
+000056e0: 2043 6c69 656e 7473 0a20 2020 2020 2020   Clients.       
+000056f0: 2020 2020 2046 4958 4d45 2073 6f72 7420       FIXME sort 
+00005700: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00005710: 2046 6965 6c64 2074 6f20 736f 7274 206f   Field to sort o
+00005720: 6e2e 2020 4465 6661 756c 7473 2074 6f20  n.  Defaults to 
+00005730: 6d61 630a 2020 2020 2020 2020 2020 2020  mac.            
+00005740: 6f66 6673 6574 2028 696e 742c 206f 7074  offset (int, opt
+00005750: 696f 6e61 6c29 3a20 5061 6769 6e61 7469  ional): Paginati
+00005760: 6f6e 206f 6666 7365 7420 4465 6661 756c  on offset Defaul
+00005770: 7473 2074 6f20 302e 0a20 2020 2020 2020  ts to 0..       
+00005780: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
+00005790: 206f 7074 696f 6e61 6c29 3a20 5061 6769   optional): Pagi
+000057a0: 6e61 7469 6f6e 206c 696d 6974 2e20 4465  nation limit. De
+000057b0: 6661 756c 7420 6973 2031 3030 2061 6e64  fault is 100 and
+000057c0: 206d 6178 2069 7320 3130 3030 2044 6566   max is 1000 Def
+000057d0: 6175 6c74 7320 746f 2035 3030 2e0a 0a20  aults to 500... 
+000057e0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+000057f0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+00005800: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+00005810: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+00005820: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00005830: 2020 2020 2075 726c 203d 2022 2f6d 6f6e       url = "/mon
+00005840: 6974 6f72 696e 672f 7631 2f63 6c69 656e  itoring/v1/clien
+00005850: 7473 2f77 6972 6564 220a 0a20 2020 2020  ts/wired"..     
+00005860: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
+00005870: 2020 2020 2020 2020 2020 2267 726f 7570            "group
+00005880: 223a 2067 726f 7570 2c0a 2020 2020 2020  ": group,.      
+00005890: 2020 2020 2020 2273 7761 726d 5f69 6422        "swarm_id"
+000058a0: 3a20 7377 6172 6d5f 6964 2c0a 2020 2020  : swarm_id,.    
+000058b0: 2020 2020 2020 2020 226c 6162 656c 223a          "label":
+000058c0: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
+000058d0: 2020 2020 2273 6974 6522 3a20 7369 7465      "site": site
+000058e0: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
+000058f0: 6572 6961 6c22 3a20 7365 7269 616c 2c0a  erial": serial,.
+00005900: 2020 2020 2020 2020 2020 2020 2263 6c75              "clu
+00005910: 7374 6572 5f69 6422 3a20 636c 7573 7465  ster_id": cluste
+00005920: 725f 6964 2c0a 2020 2020 2020 2020 2020  r_id,.          
+00005930: 2020 2273 7461 636b 5f69 6422 3a20 7374    "stack_id": st
+00005940: 6163 6b5f 6964 2c0a 2020 2020 2020 2020  ack_id,.        
+00005950: 2020 2020 2266 6965 6c64 7322 3a20 6669      "fields": fi
+00005960: 656c 6473 2c0a 2020 2020 2020 2020 2020  elds,.          
+00005970: 2020 2263 616c 6375 6c61 7465 5f74 6f74    "calculate_tot
+00005980: 616c 223a 2063 616c 6375 6c61 7465 5f74  al": calculate_t
+00005990: 6f74 616c 2c0a 2020 2020 2020 2020 2020  otal,.          
+000059a0: 2020 2320 2773 6f72 7427 3a20 736f 7274    # 'sort': sort
+000059b0: 5f62 792c 0a20 2020 2020 2020 2020 2020  _by,.           
+000059c0: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
+000059d0: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
+000059e0: 6c69 6d69 7422 3a20 6c69 6d69 742c 0a20  limit": limit,. 
+000059f0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+00005a00: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00005a10: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+00005a20: 616d 733d 7061 7261 6d73 2c29 0a20 2020  ams=params,).   
+00005a30: 2020 2020 2023 2069 6620 736f 7274 5f62       # if sort_b
+00005a40: 7920 6973 204e 6f6e 653a 0a20 2020 2020  y is None:.     
+00005a50: 2020 2023 2020 2020 2072 6574 7572 6e20     #     return 
+00005a60: 7265 7370 0a20 2020 2020 2020 2023 2065  resp.        # e
+00005a70: 6c73 653a 0a20 2020 2020 2020 2023 2020  lse:.        #  
+00005a80: 2020 2072 6574 7572 6e20 7365 6c66 2e5f     return self._
+00005a90: 736f 7274 6564 2872 6573 702c 2073 6f72  sorted(resp, sor
+00005aa0: 745f 6279 290a 0a20 2020 2061 7379 6e63  t_by)..    async
+00005ab0: 2064 6566 2067 6574 5f63 6c69 656e 745f   def get_client_
+00005ac0: 6465 7461 696c 7328 0a20 2020 2020 2020  details(.       
+00005ad0: 2073 656c 662c 0a20 2020 2020 2020 206d   self,.        m
+00005ae0: 6163 3a20 7574 696c 732e 4d61 632c 0a20  ac: utils.Mac,. 
+00005af0: 2020 2020 2020 2064 6576 5f74 7970 653a         dev_type:
+00005b00: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00005b10: 2020 2020 2023 2073 6f72 745f 6279 3a20       # sort_by: 
+00005b20: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00005b30: 2020 2020 2a2a 6b77 6172 6773 0a20 2020      **kwargs.   
+00005b40: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+00005b50: 2020 2020 2020 2020 2222 2247 6574 2057          """Get W
+00005b60: 6972 6564 2f57 6972 656c 6573 7320 436c  ired/Wireless Cl
+00005b70: 6965 6e74 2044 6574 6169 6c73 2e0a 0a20  ient Details... 
+00005b80: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00005b90: 2020 2020 2020 2020 206d 6163 2028 7574           mac (ut
+00005ba0: 696c 732e 4d61 6329 3a20 4d41 4320 6164  ils.Mac): MAC ad
+00005bb0: 6472 6573 7320 6f66 2074 6865 2057 6972  dress of the Wir
+00005bc0: 656c 6573 7320 436c 6965 6e74 2074 6f20  eless Client to 
+00005bd0: 6265 2071 7565 7269 6564 0a20 2020 2020  be queried.     
+00005be0: 2020 2020 2020 2020 2020 2041 5049 2077             API w
+00005bf0: 696c 6c20 7265 7475 726e 2072 6573 756c  ill return resul
+00005c00: 7473 206d 6174 6368 696e 6720 6120 7061  ts matching a pa
+00005c10: 7274 6961 6c20 4d61 630a 0a20 2020 2020  rtial Mac..     
+00005c20: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00005c30: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00005c40: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00005c50: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00005c60: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00005c70: 2023 2041 5049 2d46 4c41 5720 5468 6973   # API-FLAW This
+00005c80: 206c 6f67 6963 2069 7320 6865 7265 2062   logic is here b
+00005c90: 6563 6175 7365 2043 656e 7472 616c 2068  ecause Central h
+00005ca0: 6173 2062 6f74 6820 6d65 7468 6f64 732c  as both methods,
+00005cb0: 2062 7574 2067 6976 656e 2061 2077 6c61   but given a wla
+00005cc0: 6e20 636c 6965 6e74 206d 6163 0a20 2020  n client mac.   
+00005cd0: 2020 2020 2023 2063 656e 7472 616c 2077       # central w
+00005ce0: 696c 6c20 7265 7475 726e 2074 6865 2063  ill return the c
+00005cf0: 6c69 656e 7420 6465 7461 696c 7320 6576  lient details ev
+00005d00: 656e 2077 6865 6e20 7573 696e 6720 7468  en when using th
+00005d10: 6520 7769 7265 6420 7572 6c0a 0a20 2020  e wired url..   
+00005d20: 2020 2020 2023 204d 6163 206d 6174 6368       # Mac match
+00005d30: 206c 6f67 6963 2069 7320 6a61 636b 6564   logic is jacked
+00005d40: 2069 6e20 6365 6e74 7261 6c0a 2020 2020   in central.    
+00005d50: 2020 2020 2320 6769 7665 6e20 6120 636c      # given a cl
+00005d60: 6965 6e74 2077 6974 6820 6120 4d41 4320  ient with a MAC 
+00005d70: 6f66 2061 633a 3337 3a34 333a 3461 3a38  of ac:37:43:4a:8
+00005d80: 653a 6661 0a20 2020 2020 2020 2023 0a20  e:fa.        #. 
+00005d90: 2020 2020 2020 2023 204d 616b 6520 4d41         # Make MA
+00005da0: 4320 696e 7661 6c69 6420 2863 6861 6e67  C invalid (chang
+00005db0: 6564 206c 6173 7420 6f63 7465 7429 3a0a  ed last octet):.
+00005dc0: 2020 2020 2020 2020 2320 2020 6163 3a33          #   ac:3
+00005dd0: 373a 3433 3a34 613a 3865 3a66 6620 4e6f  7:43:4a:8e:ff No
+00005de0: 204d 6174 6368 0a20 2020 2020 2020 2023   Match.        #
+00005df0: 2020 2061 6333 3734 3334 6138 6566 6620     ac37434a8eff 
+00005e00: 4e6f 204d 6174 6368 0a20 2020 2020 2020  No Match.       
+00005e10: 2023 2020 2061 633a 3337 3a34 333a 3461   #   ac:37:43:4a
+00005e20: 3a38 652d 6666 2020 5265 7475 726e 7320  :8e-ff  Returns 
+00005e30: 4d41 5443 480a 2020 2020 2020 2020 2320  MATCH.        # 
+00005e40: 2020 6163 3a33 373a 3433 3a34 613a 3865    ac:37:43:4a:8e
+00005e50: 6666 2020 5265 7475 726e 7320 4d41 5443  ff  Returns MATC
+00005e60: 480a 2020 2020 2020 2020 2320 2020 6163  H.        #   ac
+00005e70: 3a33 373a 3433 3a34 613a 3865 6666 2020  :37:43:4a:8eff  
+00005e80: 5265 7475 726e 7320 4d41 5443 480a 2020  Returns MATCH.  
+00005e90: 2020 2020 2020 2320 2020 6163 3337 3433        #   ac3743
+00005ea0: 3461 3865 3a66 6620 2052 6574 7572 6e73  4a8e:ff  Returns
+00005eb0: 204d 4154 4348 0a20 2020 2020 2020 2023   MATCH.        #
+00005ec0: 2020 2061 632d 3337 2d34 332d 3461 2d38     ac-37-43-4a-8
+00005ed0: 652d 6666 2052 6574 7572 6e20 4d41 5443  e-ff Return MATC
+00005ee0: 480a 2020 2020 2020 2020 2320 2020 6163  H.        #   ac
+00005ef0: 3337 2e34 3334 612e 3865 6666 2052 6574  37.434a.8eff Ret
+00005f00: 7572 6e73 204d 4154 4348 0a20 2020 2020  urns MATCH.     
+00005f10: 2020 2069 6620 6e6f 7420 6465 765f 7479     if not dev_ty
+00005f20: 7065 3a0a 2020 2020 2020 2020 2020 2020  pe:.            
+00005f30: 666f 7220 5f64 6576 5f74 7970 6520 696e  for _dev_type in
+00005f40: 205b 2277 6972 656c 6573 7322 2c20 2277   ["wireless", "w
+00005f50: 6972 6564 225d 3a0a 2020 2020 2020 2020  ired"]:.        
+00005f60: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+00005f70: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f63  /monitoring/v1/c
+00005f80: 6c69 656e 7473 2f7b 5f64 6576 5f74 7970  lients/{_dev_typ
+00005f90: 657d 2f7b 6d61 632e 7572 6c7d 220a 2020  e}/{mac.url}".  
+00005fa0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00005fb0: 7370 203d 2061 7761 6974 2073 656c 662e  sp = await self.
+00005fc0: 6765 7428 7572 6c2c 2920 2023 2063 616c  get(url,)  # cal
+00005fd0: 6c62 6163 6b3d 636c 6561 6e65 722e 6765  lback=cleaner.ge
+00005fe0: 745f 636c 6965 6e74 732c 202a 2a6b 7761  t_clients, **kwa
+00005ff0: 7267 7329 0a20 2020 2020 2020 2020 2020  rgs).           
+00006000: 2020 2020 2069 6620 7265 7370 3a0a 2020       if resp:.  
+00006010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006020: 2020 2320 7265 7370 2e6f 7574 7075 7420    # resp.output 
+00006030: 3d20 5b7b 2a2a 7b22 636c 6965 6e74 5f74  = [{**{"client_t
+00006040: 7970 6522 3a20 5f64 6576 5f74 7970 652e  ype": _dev_type.
+00006050: 7570 7065 7228 297d 2c20 2a2a 647d 2066  upper()}, **d} f
+00006060: 6f72 2064 2069 6e20 7265 7370 2e6f 7574  or d in resp.out
+00006070: 7075 745d 0a20 2020 2020 2020 2020 2020  put].           
+00006080: 2020 2020 2020 2020 2062 7265 616b 0a0a           break..
+00006090: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000060a0: 726e 2072 6573 700a 2020 2020 2020 2020  rn resp.        
+000060b0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+000060c0: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
+000060d0: 6f72 696e 672f 7631 2f63 6c69 656e 7473  oring/v1/clients
+000060e0: 2f7b 6465 765f 7479 7065 7d2f 7b6d 6163  /{dev_type}/{mac
+000060f0: 2e75 726c 7d22 0a20 2020 2020 2020 2020  .url}".         
+00006100: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00006110: 7365 6c66 2e67 6574 2875 726c 2c29 2020  self.get(url,)  
+00006120: 2320 6361 6c6c 6261 636b 3d63 6c65 616e  # callback=clean
+00006130: 6572 2e67 6574 5f63 6c69 656e 7473 2c20  er.get_clients, 
+00006140: 2a2a 6b77 6172 6773 290a 0a20 2020 2020  **kwargs)..     
+00006150: 2020 2023 2069 6620 736f 7274 5f62 7920     # if sort_by 
+00006160: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+00006170: 2023 2020 2020 2072 6574 7572 6e20 7265   #     return re
+00006180: 7370 0a20 2020 2020 2020 2023 2065 6c73  sp.        # els
+00006190: 653a 0a20 2020 2020 2020 2023 2020 2020  e:.        #    
+000061a0: 2072 6574 7572 6e20 7365 6c66 2e5f 736f   return self._so
+000061b0: 7274 6564 2872 6573 702c 2073 6f72 745f  rted(resp, sort_
+000061c0: 6279 290a 0a20 2020 2061 7379 6e63 2064  by)..    async d
+000061d0: 6566 2067 6574 5f63 6572 7469 6669 6361  ef get_certifica
+000061e0: 7465 7328 0a20 2020 2020 2020 2073 656c  tes(.        sel
+000061f0: 662c 2071 3a20 7374 7220 3d20 4e6f 6e65  f, q: str = None
+00006200: 2c20 6f66 6673 6574 3a20 696e 7420 3d20  , offset: int = 
+00006210: 302c 206c 696d 6974 3a20 696e 7420 3d20  0, limit: int = 
+00006220: 3230 2c20 6361 6c6c 6261 636b 3a20 6361  20, callback: ca
+00006230: 6c6c 6162 6c65 203d 204e 6f6e 652c 2063  llable = None, c
+00006240: 616c 6c62 6163 6b5f 6b77 6172 6773 3a20  allback_kwargs: 
+00006250: 6469 6374 203d 204e 6f6e 650a 2020 2020  dict = None.    
+00006260: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00006270: 2020 2020 2020 2022 2222 4765 7420 4365         """Get Ce
+00006280: 7274 6966 6963 6174 6573 2064 6574 6169  rtificates detai
+00006290: 6c73 2e0a 0a20 2020 2020 2020 2041 7267  ls...        Arg
+000062a0: 733a 0a20 2020 2020 2020 2020 2020 2071  s:.            q
+000062b0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+000062c0: 3a20 5365 6172 6368 2066 6f72 2061 2070  : Search for a p
+000062d0: 6172 7469 6375 6c61 7220 6365 7274 6966  articular certif
+000062e0: 6963 6174 6520 6279 2069 7473 206e 616d  icate by its nam
+000062f0: 652c 206d 6435 2068 6173 6820 6f72 2073  e, md5 hash or s
+00006300: 6861 315f 6861 7368 0a20 2020 2020 2020  ha1_hash.       
+00006310: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
+00006320: 2c20 6f70 7469 6f6e 616c 293a 204e 756d  , optional): Num
+00006330: 6265 7220 6f66 2069 7465 6d73 2074 6f20  ber of items to 
+00006340: 6265 2073 6b69 7070 6564 2062 6566 6f72  be skipped befor
+00006350: 6520 7265 7475 726e 696e 6720 7468 6520  e returning the 
+00006360: 6461 7461 2c20 7573 6566 756c 0a20 2020  data, useful.   
+00006370: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+00006380: 2070 6167 696e 6174 696f 6e2e 2044 6566   pagination. Def
+00006390: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
+000063a0: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
+000063b0: 6e74 2c20 6f70 7469 6f6e 616c 293a 204d  nt, optional): M
+000063c0: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
+000063d0: 2072 6563 6f72 6473 2074 6f20 6265 2072   records to be r
+000063e0: 6574 7572 6e65 642e 2044 6566 6175 6c74  eturned. Default
+000063f0: 7320 746f 2032 302c 204d 6178 2032 302e  s to 20, Max 20.
+00006400: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00006410: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+00006420: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+00006430: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+00006440: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00006450: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+00006460: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
+00006470: 2f63 6572 7469 6669 6361 7465 7322 0a0a  /certificates"..
+00006480: 2020 2020 2020 2020 2320 6f66 6673 6574          # offset
+00006490: 2061 6e64 206c 696d 6974 2061 7265 2062   and limit are b
+000064a0: 6f74 6820 7265 7175 6972 6564 2062 7920  oth required by 
+000064b0: 7468 6520 4150 4920 6d65 7468 6f64 2e0a  the API method..
+000064c0: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+000064d0: 207b 2271 223a 2071 2c20 226f 6666 7365   {"q": q, "offse
+000064e0: 7422 3a20 6f66 6673 6574 2c20 226c 696d  t": offset, "lim
+000064f0: 6974 223a 206c 696d 6974 7d0a 0a20 2020  it": limit}..   
+00006500: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+00006510: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
+00006520: 7061 7261 6d73 3d70 6172 616d 732c 2063  params=params, c
+00006530: 616c 6c62 6163 6b3d 6361 6c6c 6261 636b  allback=callback
+00006540: 2c20 6361 6c6c 6261 636b 5f6b 7761 7267  , callback_kwarg
+00006550: 733d 6361 6c6c 6261 636b 5f6b 7761 7267  s=callback_kwarg
+00006560: 7329 0a0a 2020 2020 2320 6173 796e 6320  s)..    # async 
+00006570: 6465 6620 7570 6c6f 6164 5f63 6572 7469  def upload_certi
+00006580: 6669 6361 7465 280a 2020 2020 2320 2020  ficate(.    #   
+00006590: 2020 7365 6c66 2c0a 2020 2020 2320 2020    self,.    #   
+000065a0: 2020 6365 7274 5f6e 616d 653a 2073 7472    cert_name: str
+000065b0: 2c0a 2020 2020 2320 2020 2020 6365 7274  ,.    #     cert
+000065c0: 5f74 7970 653a 204c 6974 6572 616c 5b22  _type: Literal["
+000065d0: 5345 5256 4552 5f43 4552 5422 2c20 2243  SERVER_CERT", "C
+000065e0: 415f 4345 5254 222c 2022 4352 4c22 2c20  A_CERT", "CRL", 
+000065f0: 2249 4e54 4552 4d45 4449 4154 455f 4341  "INTERMEDIATE_CA
+00006600: 222c 2022 4f43 5350 5f52 4553 504f 4e44  ", "OCSP_RESPOND
+00006610: 4552 5f43 4552 5422 2c20 224f 4353 505f  ER_CERT", "OCSP_
+00006620: 5349 474e 4552 5f43 4552 5422 2c20 2250  SIGNER_CERT", "P
+00006630: 5542 4c49 435f 4345 5254 225d 2c0a 2020  UBLIC_CERT"],.  
+00006640: 2020 2320 2020 2020 6365 7274 5f66 6f72    #     cert_for
+00006650: 6d61 743a 204c 6974 6572 616c 5b22 5045  mat: Literal["PE
+00006660: 4d22 2c20 2244 4552 222c 2022 504b 4353  M", "DER", "PKCS
+00006670: 3132 225d 2c0a 2020 2020 2320 2020 2020  12"],.    #     
+00006680: 7061 7373 7068 7261 7365 3a20 7374 722c  passphrase: str,
+00006690: 0a20 2020 2023 2020 2020 2063 6572 745f  .    #     cert_
+000066a0: 6461 7461 3a20 7374 722c 0a20 2020 2023  data: str,.    #
+000066b0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+000066c0: 2020 2020 2320 2020 2020 2222 2255 706c      #     """Upl
+000066d0: 6f61 6420 6120 6365 7274 6966 6963 6174  oad a certificat
+000066e0: 652e 0a0a 2020 2020 2320 2020 2020 4172  e...    #     Ar
+000066f0: 6773 3a0a 2020 2020 2320 2020 2020 2020  gs:.    #       
+00006700: 2020 6365 7274 5f6e 616d 6520 2873 7472    cert_name (str
+00006710: 293a 2063 6572 745f 6e61 6d65 0a20 2020  ): cert_name.   
+00006720: 2023 2020 2020 2020 2020 2063 6572 745f   #         cert_
+00006730: 7479 7065 2028 7374 7229 3a20 6365 7274  type (str): cert
+00006740: 5f74 7970 6520 2056 616c 6964 2056 616c  _type  Valid Val
+00006750: 7565 733a 2053 4552 5645 525f 4345 5254  ues: SERVER_CERT
+00006760: 2c20 4341 5f43 4552 542c 2043 524c 2c20  , CA_CERT, CRL, 
+00006770: 494e 5445 524d 4544 4941 5445 5f43 412c  INTERMEDIATE_CA,
+00006780: 0a20 2020 2023 2020 2020 2020 2020 2020  .    #          
+00006790: 2020 204f 4353 505f 5245 5350 4f4e 4445     OCSP_RESPONDE
+000067a0: 525f 4345 5254 2c20 4f43 5350 5f53 4947  R_CERT, OCSP_SIG
+000067b0: 4e45 525f 4345 5254 2c20 5055 424c 4943  NER_CERT, PUBLIC
+000067c0: 5f43 4552 540a 2020 2020 2320 2020 2020  _CERT.    #     
+000067d0: 2020 2020 6365 7274 5f66 6f72 6d61 7420      cert_format 
+000067e0: 2873 7472 293a 2063 6572 745f 666f 726d  (str): cert_form
+000067f0: 6174 2020 5661 6c69 6420 5661 6c75 6573  at  Valid Values
+00006800: 3a20 5045 4d2c 2044 4552 2c20 504b 4353  : PEM, DER, PKCS
+00006810: 3132 0a20 2020 2023 2020 2020 2020 2020  12.    #        
+00006820: 2070 6173 7370 6872 6173 6520 2873 7472   passphrase (str
+00006830: 293a 2070 6173 7370 6872 6173 650a 2020  ): passphrase.  
+00006840: 2020 2320 2020 2020 2020 2020 6365 7274    #         cert
+00006850: 5f64 6174 6120 2873 7472 293a 2043 6572  _data (str): Cer
+00006860: 7469 6669 6361 7465 2063 6f6e 7465 6e74  tificate content
+00006870: 2065 6e63 6f64 6564 2069 6e20 6261 7365   encoded in base
+00006880: 3634 2066 6f72 2061 6c6c 2066 6f72 6d61  64 for all forma
+00006890: 7420 6365 7274 6966 6963 6174 6573 2e0a  t certificates..
+000068a0: 0a20 2020 2023 2020 2020 2052 6574 7572  .    #     Retur
+000068b0: 6e73 3a0a 2020 2020 2320 2020 2020 2020  ns:.    #       
+000068c0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+000068d0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+000068e0: 6f62 6a65 6374 0a20 2020 2023 2020 2020  object.    #    
+000068f0: 2022 2222 0a20 2020 2023 2020 2020 2075   """.    #     u
+00006900: 726c 203d 2022 2f63 6f6e 6669 6775 7261  rl = "/configura
+00006910: 7469 6f6e 2f76 312f 6365 7274 6966 6963  tion/v1/certific
+00006920: 6174 6573 220a 0a20 2020 2023 2020 2020  ates"..    #    
+00006930: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
+00006940: 2020 2023 2020 2020 2020 2020 2027 6365     #         'ce
+00006950: 7274 5f6e 616d 6527 3a20 6365 7274 5f6e  rt_name': cert_n
+00006960: 616d 652c 0a20 2020 2023 2020 2020 2020  ame,.    #      
+00006970: 2020 2027 6365 7274 5f74 7970 6527 3a20     'cert_type': 
+00006980: 6365 7274 5f74 7970 652c 0a20 2020 2023  cert_type,.    #
+00006990: 2020 2020 2020 2020 2027 6365 7274 5f66           'cert_f
+000069a0: 6f72 6d61 7427 3a20 6365 7274 5f66 6f72  ormat': cert_for
+000069b0: 6d61 742c 0a20 2020 2023 2020 2020 2020  mat,.    #      
+000069c0: 2020 2027 7061 7373 7068 7261 7365 273a     'passphrase':
+000069d0: 2070 6173 7370 6872 6173 652c 0a20 2020   passphrase,.   
+000069e0: 2023 2020 2020 2020 2020 2027 6365 7274   #         'cert
+000069f0: 5f64 6174 6127 3a20 6365 7274 5f64 6174  _data': cert_dat
+00006a00: 610a 2020 2020 2320 2020 2020 7d0a 0a20  a.    #     }.. 
+00006a10: 2020 2023 2020 2020 2072 6574 7572 6e20     #     return 
+00006a20: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
+00006a30: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+00006a40: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
+00006a50: 7379 6e63 2064 6566 2067 6574 5f74 656d  sync def get_tem
+00006a60: 706c 6174 6528 7365 6c66 2c20 6772 6f75  plate(self, grou
+00006a70: 703a 2073 7472 2c20 7465 6d70 6c61 7465  p: str, template
+00006a80: 3a20 7374 7229 202d 3e20 5265 7370 6f6e  : str) -> Respon
+00006a90: 7365 3a0a 2020 2020 2020 2020 7572 6c20  se:.        url 
+00006aa0: 3d20 6622 2f63 6f6e 6669 6775 7261 7469  = f"/configurati
+00006ab0: 6f6e 2f76 312f 6772 6f75 7073 2f7b 6772  on/v1/groups/{gr
+00006ac0: 6f75 707d 2f74 656d 706c 6174 6573 2f7b  oup}/templates/{
+00006ad0: 7465 6d70 6c61 7465 7d22 0a20 2020 2020  template}".     
+00006ae0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00006af0: 7365 6c66 2e67 6574 2875 726c 290a 0a20  self.get(url).. 
+00006b00: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+00006b10: 5f74 656d 706c 6174 655f 6465 7461 696c  _template_detail
+00006b20: 735f 666f 725f 6465 7669 6365 2873 656c  s_for_device(sel
+00006b30: 662c 2064 6576 6963 655f 7365 7269 616c  f, device_serial
+00006b40: 3a20 7374 722c 2064 6574 6169 6c73 3a20  : str, details: 
+00006b50: 626f 6f6c 203d 2046 616c 7365 2920 2d3e  bool = False) ->
+00006b60: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00006b70: 2020 2022 2222 4765 7420 636f 6e66 6967     """Get config
+00006b80: 7572 6174 696f 6e20 6465 7461 696c 7320  uration details 
+00006b90: 666f 7220 6120 6465 7669 6365 2028 6f6e  for a device (on
+00006ba0: 6c79 2066 6f72 2074 656d 706c 6174 6520  ly for template 
+00006bb0: 6772 6f75 7073 292e 0a0a 2020 2020 2020  groups)...      
+00006bc0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00006bd0: 2020 2020 6465 7669 6365 5f73 6572 6961      device_seria
+00006be0: 6c20 2873 7472 293a 2053 6572 6961 6c20  l (str): Serial 
+00006bf0: 6e75 6d62 6572 206f 6620 7468 6520 6465  number of the de
+00006c00: 7669 6365 2e0a 2020 2020 2020 2020 2020  vice..          
+00006c10: 2020 6465 7461 696c 7320 2862 6f6f 6c2c    details (bool,
+00006c20: 206f 7074 696f 6e61 6c29 3a20 5573 7561   optional): Usua
+00006c30: 6c6c 7920 7061 7373 2066 616c 7365 2074  lly pass false t
+00006c40: 6f20 6765 7420 6f6e 6c79 2074 6865 2073  o get only the s
+00006c50: 756d 6d61 7279 206f 6620 6120 6465 7669  ummary of a devi
+00006c60: 6365 2773 0a20 2020 2020 2020 2020 2020  ce's.           
+00006c70: 2020 2020 2063 6f6e 6669 6775 7261 7469       configurati
+00006c80: 6f6e 2073 7461 7475 732e 0a20 2020 2020  on status..     
+00006c90: 2020 2020 2020 2020 2020 2050 6173 7320             Pass 
+00006ca0: 7472 7565 206f 6e6c 7920 6966 2064 6574  true only if det
+00006cb0: 6169 6c65 6420 7265 7370 6f6e 7365 206f  ailed response o
+00006cc0: 6620 6120 6465 7669 6365 2773 2063 6f6e  f a device's con
+00006cd0: 6669 6775 7261 7469 6f6e 2073 7461 7475  figuration statu
+00006ce0: 7320 6973 2072 6571 7569 7265 642e 0a20  s is required.. 
+00006cf0: 2020 2020 2020 2020 2020 2020 2020 2050                 P
+00006d00: 6173 7369 6e67 2074 7275 6520 6d69 6768  assing true migh
+00006d10: 7420 7265 7375 6c74 2069 6e20 736c 6f77  t result in slow
+00006d20: 6572 2041 5049 2072 6573 706f 6e73 6520  er API response 
+00006d30: 616e 6420 7065 7266 6f72 6d61 6e63 6520  and performance 
+00006d40: 6566 6665 6374 0a20 2020 2020 2020 2020  effect.         
+00006d50: 2020 2020 2020 2063 6f6d 7061 7261 7469         comparati
+00006d60: 7665 6c79 2e0a 0a20 2020 2020 2020 2052  vely...        R
+00006d70: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00006d80: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00006d90: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+00006da0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00006db0: 2022 2222 0a20 2020 2020 2020 2023 2041   """.        # A
+00006dc0: 5049 2d4e 4f54 4520 7265 7475 726e 7320  PI-NOTE returns 
+00006dd0: 666f 726d 2d64 6174 6120 2861 2062 6967  form-data (a big
+00006de0: 2073 7472 290a 2020 2020 2020 2020 2320   str).        # 
+00006df0: 2041 2063 6c65 616e 6572 2068 6173 2062   A cleaner has b
+00006e00: 6565 6e20 6372 6561 7465 6420 7468 6174  een created that
+00006e10: 2070 6172 7365 7320 7468 6520 7265 7370   parses the resp
+00006e20: 2069 6e74 6f20 6469 6374 0a20 2020 2020   into dict.     
+00006e30: 2020 2023 2020 7769 7468 2073 756d 6d61     #  with summa
+00006e40: 7279 2864 6963 7429 2061 6e64 2072 756e  ry(dict) and run
+00006e50: 6e69 6e67 2f63 656e 7472 616c 5f73 6964  ning/central_sid
+00006e60: 6520 636f 6e66 6967 7320 2873 7472 290a  e configs (str).
+00006e70: 2020 2020 2020 2020 2320 4e65 6564 2063          # Need c
+00006e80: 6c65 616e 6572 2074 6f20 7061 7273 6520  leaner to parse 
+00006e90: 616e 6420 636f 6e76 6572 7420 746f 2064  and convert to d
+00006ea0: 6963 740a 2020 2020 2020 2020 2320 2d2d  ict.        # --
+00006eb0: 6664 336c 6f6e 6761 6c70 6861 6e75 6d65  fd3longalphanume
+00006ec0: 7269 6373 7472 696e 6736 330a 2020 2020  ricstring63.    
+00006ed0: 2020 2020 2320 436f 6e74 656e 742d 4469      # Content-Di
+00006ee0: 7370 6f73 6974 696f 6e3a 2066 6f72 6d2d  sposition: form-
+00006ef0: 6461 7461 3b20 6e61 6d65 3d22 5375 6d6d  data; name="Summ
+00006f00: 6172 7922 0a20 2020 2020 2020 2023 2043  ary".        # C
+00006f10: 6f6e 7465 6e74 2d54 7970 653a 2061 7070  ontent-Type: app
+00006f20: 6c69 6361 7469 6f6e 2f6a 736f 6e0a 0a20  lication/json.. 
+00006f30: 2020 2020 2020 2023 207b 0a20 2020 2020         # {.     
+00006f40: 2020 2023 2020 2020 2022 4465 7669 6365     #     "Device
+00006f50: 5f73 6572 6961 6c22 3a20 2272 6564 6163  _serial": "redac
+00006f60: 7465 6422 2c0a 2020 2020 2020 2020 2320  ted",.        # 
+00006f70: 2020 2020 2244 6576 6963 655f 7479 7065      "Device_type
+00006f80: 223a 2022 4172 7562 6153 7769 7463 6822  ": "ArubaSwitch"
+00006f90: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+00006fa0: 2247 726f 7570 223a 2022 5761 6465 4c61  "Group": "WadeLa
+00006fb0: 6222 2c0a 2020 2020 2020 2020 2320 2020  b",.        #   
+00006fc0: 2020 2243 6f6e 6669 6775 7261 7469 6f6e    "Configuration
+00006fd0: 5f65 7272 6f72 5f73 7461 7475 7322 3a20  _error_status": 
+00006fe0: 6661 6c73 652c 0a20 2020 2020 2020 2023  false,.        #
+00006ff0: 2020 2020 2022 4f76 6572 7269 6465 5f73       "Override_s
+00007000: 7461 7475 7322 3a20 6661 6c73 652c 0a20  tatus": false,. 
+00007010: 2020 2020 2020 2023 2020 2020 2022 5465         #     "Te
+00007020: 6d70 6c61 7465 5f6e 616d 6522 3a20 2232  mplate_name": "2
+00007030: 3933 3046 2d38 222c 0a20 2020 2020 2020  930F-8",.       
+00007040: 2023 2020 2020 2022 5465 6d70 6c61 7465   #     "Template
+00007050: 5f68 6173 6822 3a20 2234 3661 2d72 6564  _hash": "46a-red
+00007060: 6163 7465 642d 3064 222c 0a20 2020 2020  acted-0d",.     
+00007070: 2020 2023 2020 2020 2022 5465 6d70 6c61     #     "Templa
+00007080: 7465 5f65 7272 6f72 5f73 7461 7475 7322  te_error_status"
+00007090: 3a20 6661 6c73 650a 2020 2020 2020 2020  : false.        
+000070a0: 2320 7d0a 2020 2020 2020 2020 2320 2d2d  # }.        # --
+000070b0: 6664 336c 6f6e 6761 6c70 6861 6e75 6d65  fd3longalphanume
+000070c0: 7269 6373 7472 696e 6736 330a 2020 2020  ricstring63.    
+000070d0: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
+000070e0: 6669 6775 7261 7469 6f6e 2f76 312f 6465  figuration/v1/de
+000070f0: 7669 6365 732f 7b64 6576 6963 655f 7365  vices/{device_se
+00007100: 7269 616c 7d2f 636f 6e66 6967 5f64 6574  rial}/config_det
+00007110: 6169 6c73 220a 2020 2020 2020 2020 6865  ails".        he
+00007120: 6164 6572 7320 3d20 7b22 4163 6365 7074  aders = {"Accept
+00007130: 223a 2022 6d75 6c74 6970 6172 742f 666f  ": "multipart/fo
+00007140: 726d 2d64 6174 6122 7d0a 2020 2020 2020  rm-data"}.      
+00007150: 2020 7061 7261 6d73 203d 207b 2264 6574    params = {"det
+00007160: 6169 6c73 223a 2073 7472 2864 6574 6169  ails": str(detai
+00007170: 6c73 297d 0a20 2020 2020 2020 2072 6574  ls)}.        ret
+00007180: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00007190: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+000071a0: 6172 616d 732c 2068 6561 6465 7273 3d68  arams, headers=h
+000071b0: 6561 6465 7273 290a 0a20 2020 2061 7379  eaders)..    asy
+000071c0: 6e63 2064 6566 2067 6574 5f61 6c6c 5f74  nc def get_all_t
+000071d0: 656d 706c 6174 6573 5f69 6e5f 6772 6f75  emplates_in_grou
+000071e0: 7028 0a20 2020 2020 2020 2073 656c 662c  p(.        self,
+000071f0: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
+00007200: 7374 722c 0a20 2020 2020 2020 206e 616d  str,.        nam
+00007210: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
+00007220: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
+00007230: 7065 3a20 4c69 7465 7261 6c5b 2261 7022  pe: Literal["ap"
+00007240: 2c20 2273 7722 2c20 2263 7822 2c20 2267  , "sw", "cx", "g
+00007250: 7722 5d20 3d20 4e6f 6e65 2c0a 2020 2020  w"] = None,.    
+00007260: 2020 2020 7665 7273 696f 6e3a 2073 7472      version: str
+00007270: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00007280: 206d 6f64 656c 3a20 7374 7220 3d20 4e6f   model: str = No
+00007290: 6e65 2c0a 2020 2020 2920 2d3e 2052 6573  ne,.    ) -> Res
+000072a0: 706f 6e73 653a 0a20 2020 2020 2020 2069  ponse:.        i
+000072b0: 6620 6465 7669 6365 5f74 7970 653a 0a20  f device_type:. 
+000072c0: 2020 2020 2020 2020 2020 2064 6576 6963             devic
+000072d0: 655f 7479 7065 203d 2063 6f6e 7374 616e  e_type = constan
+000072e0: 7473 2e6c 6962 5f74 6f5f 6170 6928 2274  ts.lib_to_api("t
+000072f0: 656d 706c 6174 6522 2c20 6465 7669 6365  emplate", device
+00007300: 5f74 7970 6529 0a0a 2020 2020 2020 2020  _type)..        
+00007310: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
+00007320: 2020 2020 2020 2022 6f66 6673 6574 223a         "offset":
+00007330: 2030 2c0a 2020 2020 2020 2020 2020 2020   0,.            
+00007340: 226c 696d 6974 223a 2032 302c 2020 2320  "limit": 20,  # 
+00007350: 3230 2069 7320 7468 6520 6d61 780a 2020  20 is the max.  
+00007360: 2020 2020 2020 2020 2020 2274 656d 706c            "templ
+00007370: 6174 6522 3a20 6e61 6d65 2c0a 2020 2020  ate": name,.    
+00007380: 2020 2020 2020 2020 2264 6576 6963 655f          "device_
+00007390: 7479 7065 223a 2064 6576 6963 655f 7479  type": device_ty
+000073a0: 7065 2c20 2023 2076 616c 6964 203d 2049  pe,  # valid = I
+000073b0: 4150 2c20 4172 7562 6153 7769 7463 682c  AP, ArubaSwitch,
+000073c0: 204d 6f62 696c 6974 7943 6f6e 7472 6f6c   MobilityControl
+000073d0: 6c65 722c 2043 580a 2020 2020 2020 2020  ler, CX.        
+000073e0: 2020 2020 2276 6572 7369 6f6e 223a 2076      "version": v
+000073f0: 6572 7369 6f6e 2c0a 2020 2020 2020 2020  ersion,.        
+00007400: 2020 2020 226d 6f64 656c 223a 206d 6f64      "model": mod
+00007410: 656c 2c0a 2020 2020 2020 2020 7d0a 2020  el,.        }.  
+00007420: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
+00007430: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
+00007440: 6772 6f75 7073 2f7b 6772 6f75 707d 2f74  groups/{group}/t
+00007450: 656d 706c 6174 6573 220a 2020 2020 2020  emplates".      
+00007460: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00007470: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+00007480: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+00007490: 2023 2046 4958 4d45 2023 2054 4f44 4f20   # FIXME # TODO 
+000074a0: 2320 5768 6174 2074 6865 2041 6273 6f6c  # What the Absol
+000074b0: 7574 6520 463f 2120 206e 6f74 2061 626c  ute F?!  not abl
+000074c0: 6520 746f 2073 656e 6420 7465 6d70 6c61  e to send templa
+000074d0: 7465 2061 7320 666f 726d 6461 7461 2070  te as formdata p
+000074e0: 726f 7065 726c 7920 7769 7468 2061 696f  roperly with aio
+000074f0: 6874 7470 0a20 2020 2023 2020 2020 2020  http.    #      
+00007500: 2072 6571 7565 7374 7320 6d6f 6475 6c65   requests module
+00007510: 2077 6f72 6b73 2c20 6275 7420 6e6f 206c   works, but no l
+00007520: 7563 6b20 6166 7465 7220 686f 7572 7320  uck after hours 
+00007530: 6d65 7373 696e 6720 7769 7468 2066 6f72  messing with for
+00007540: 6d2d 6461 7461 2069 6e20 6169 6f68 7474  m-data in aiohtt
+00007550: 700a 2020 2020 6173 796e 6320 6465 6620  p.    async def 
+00007560: 6164 645f 7465 6d70 6c61 7465 280a 2020  add_template(.  
+00007570: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00007580: 2020 2020 6e61 6d65 3a20 7374 722c 0a20      name: str,. 
+00007590: 2020 2020 2020 2067 726f 7570 3a20 7374         group: st
+000075a0: 722c 0a20 2020 2020 2020 2074 656d 706c  r,.        templ
+000075b0: 6174 653a 2055 6e69 6f6e 5b50 6174 682c  ate: Union[Path,
+000075c0: 2073 7472 2c20 6279 7465 735d 2c0a 2020   str, bytes],.  
+000075d0: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
+000075e0: 653a 2063 6f6e 7374 616e 7473 2e44 6576  e: constants.Dev
+000075f0: 5479 7065 7320 3d22 6170 222c 0a20 2020  Types ="ap",.   
+00007600: 2020 2020 2076 6572 7369 6f6e 3a20 7374       version: st
+00007610: 7220 3d20 2241 4c4c 222c 0a20 2020 2020  r = "ALL",.     
+00007620: 2020 206d 6f64 656c 3a20 7374 7220 3d20     model: str = 
+00007630: 2241 4c4c 222c 0a20 2020 2029 202d 3e20  "ALL",.    ) -> 
+00007640: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00007650: 2020 2222 2243 7265 6174 6520 6e65 7720    """Create new 
+00007660: 7465 6d70 6c61 7465 2e0a 0a20 2020 2020  template...     
+00007670: 2020 202f 2f20 5573 6564 2062 7920 6164     // Used by ad
+00007680: 6420 7465 6d70 6c61 7465 202e 2e2e 202f  d template ... /
+00007690: 2f0a 0a20 2020 2020 2020 2041 7267 733a  /..        Args:
+000076a0: 0a20 2020 2020 2020 2020 2020 206e 616d  .            nam
+000076b0: 6520 2873 7472 293a 204e 616d 6520 6f66  e (str): Name of
+000076c0: 2074 656d 706c 6174 652e 0a20 2020 2020   template..     
+000076d0: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
+000076e0: 7229 3a20 4e61 6d65 206f 6620 7468 6520  r): Name of the 
+000076f0: 6772 6f75 7020 666f 7220 7768 6963 6820  group for which 
+00007700: 7468 6520 7465 6d70 6c61 7465 2069 7320  the template is 
+00007710: 746f 2062 6520 6372 6561 7465 642e 0a20  to be created.. 
+00007720: 2020 2020 2020 2020 2020 2074 656d 706c             templ
+00007730: 6174 6520 2855 6e69 6f6e 5b50 6174 682c  ate (Union[Path,
+00007740: 2073 7472 2c20 6279 7465 735d 293a 2054   str, bytes]): T
+00007750: 656d 706c 6174 6520 4669 6c65 206f 7220  emplate File or 
+00007760: 656e 636f 6465 6420 7465 6d70 6c61 7465  encoded template
+00007770: 2063 6f6e 7465 6e74 2e0a 2020 2020 2020   content..      
+00007780: 2020 2020 2020 2020 2020 466f 7220 7377            For sw
+00007790: 2028 414f 532d 5377 6974 6368 2920 6465   (AOS-Switch) de
+000077a0: 7669 6365 5f74 7970 652c 2074 6865 2074  vice_type, the t
+000077b0: 656d 706c 6174 6520 7465 7874 2073 686f  emplate text sho
+000077c0: 756c 6420 696e 636c 7564 6520 7468 6520  uld include the 
+000077d0: 666f 6c6c 6f77 696e 670a 2020 2020 2020  following.      
+000077e0: 2020 2020 2020 2020 2020 636f 6d6d 616e            comman
+000077f0: 6473 2074 6f20 6d61 696e 7461 696e 2063  ds to maintain c
+00007800: 6f6e 6e65 6374 696f 6e20 7769 7468 2063  onnection with c
+00007810: 656e 7472 616c 2e0a 2020 2020 2020 2020  entral..        
+00007820: 2020 2020 2020 2020 312e 2061 7275 6261          1. aruba
+00007830: 2d63 656e 7472 616c 2065 6e61 626c 652e  -central enable.
+00007840: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007850: 2032 2e20 6172 7562 612d 6365 6e74 7261   2. aruba-centra
+00007860: 6c20 7572 6c20 6874 7470 733a 2f2f 3c55  l url https://<U
+00007870: 524c 207c 2049 503e 2f77 732e 0a20 2020  RL | IP>/ws..   
+00007880: 2020 2020 2020 2020 2064 6576 6963 655f           device_
+00007890: 7479 7065 2028 7374 7229 3a20 4465 7669  type (str): Devi
+000078a0: 6365 2074 7970 6520 6f66 2074 6865 2074  ce type of the t
+000078b0: 656d 706c 6174 652e 2020 5661 6c69 6420  emplate.  Valid 
+000078c0: 5661 6c75 6573 3a20 6170 2c20 7377 2c20  Values: ap, sw, 
+000078d0: 6378 2c20 6777 0a20 2020 2020 2020 2020  cx, gw.         
+000078e0: 2020 2020 2020 2044 6566 6175 6c74 7320         Defaults 
+000078f0: 746f 2061 702e 0a20 2020 2020 2020 2020  to ap..         
+00007900: 2020 2076 6572 7369 6f6e 2028 7374 7229     version (str)
+00007910: 3a20 4669 726d 7761 7265 2076 6572 7369  : Firmware versi
+00007920: 6f6e 2070 726f 7065 7274 7920 6f66 2074  on property of t
+00007930: 656d 706c 6174 652e 0a20 2020 2020 2020  emplate..       
+00007940: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
+00007950: 3a20 414c 4c2c 2036 2e35 2e34 2065 7463  : ALL, 6.5.4 etc
+00007960: 2e0a 2020 2020 2020 2020 2020 2020 6d6f  ..            mo
+00007970: 6465 6c20 2873 7472 293a 204d 6f64 656c  del (str): Model
+00007980: 2070 726f 7065 7274 7920 6f66 2074 656d   property of tem
+00007990: 706c 6174 652e 0a20 2020 2020 2020 2020  plate..         
+000079a0: 2020 2020 2020 2046 6f72 2073 7720 2841         For sw (A
+000079b0: 4f53 2d53 7769 7463 6829 2064 6576 6963  OS-Switch) devic
+000079c0: 655f 7479 7065 2c20 7061 7274 206e 756d  e_type, part num
+000079d0: 6265 7220 284a 206e 756d 6265 7229 2063  ber (J number) c
+000079e0: 616e 2062 6520 7573 6564 2066 6f72 2074  an be used for t
+000079f0: 6865 206d 6f64 656c 0a20 2020 2020 2020  he model.       
+00007a00: 2020 2020 2020 2020 2070 6172 616d 6574           paramet
+00007a10: 6572 2e20 4578 616d 706c 653a 2032 3932  er. Example: 292
+00007a20: 302c 204a 3937 3237 412c 2065 7463 2e0a  0, J9727A, etc..
+00007a30: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00007a40: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00007a50: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+00007a60: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+00007a70: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00007a80: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+00007a90: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
+00007aa0: 2f67 726f 7570 732f 7b67 726f 7570 7d2f  /groups/{group}/
+00007ab0: 7465 6d70 6c61 7465 7322 0a20 2020 2020  templates".     
+00007ac0: 2020 2066 6f72 6d64 6174 6120 3d20 6169     formdata = ai
+00007ad0: 6f68 7474 702e 466f 726d 4461 7461 2829  ohttp.FormData()
+00007ae0: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
+00007af0: 7374 616e 6365 2874 656d 706c 6174 652c  stance(template,
+00007b00: 2062 7974 6573 293a 0a20 2020 2020 2020   bytes):.       
+00007b10: 2020 2020 2023 2066 6f72 6d64 6174 612e       # formdata.
+00007b20: 6164 645f 6669 656c 6428 2274 656d 706c  add_field("templ
+00007b30: 6174 6522 2c20 7b22 7465 6d70 6c61 7465  ate", {"template
+00007b40: 223a 2074 656d 706c 6174 657d 2c20 6669  ": template}, fi
+00007b50: 6c65 6e61 6d65 3d22 7465 6d70 6c61 7465  lename="template
+00007b60: 2e74 7874 2229 0a20 2020 2020 2020 2020  .txt").         
+00007b70: 2020 2023 2066 696c 6573 203d 2061 696f     # files = aio
+00007b80: 6874 7470 2e46 6f72 6d44 6174 6128 5b28  http.FormData([(
+00007b90: 2274 656d 706c 6174 6522 2c20 2822 7465  "template", ("te
+00007ba0: 6d70 6c61 7465 2e74 7874 222c 2074 656d  mplate.txt", tem
+00007bb0: 706c 6174 6529 2c29 5d29 0a20 2020 2020  plate),)]).     
+00007bc0: 2020 2020 2020 2066 696c 6573 203d 207b         files = {
+00007bd0: 2774 656d 706c 6174 6527 3a20 2827 7465  'template': ('te
+00007be0: 6d70 6c61 7465 2e74 7874 272c 2074 656d  mplate.txt', tem
+00007bf0: 706c 6174 6529 7d0a 2020 2020 2020 2020  plate)}.        
+00007c00: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00007c10: 2020 7465 6d70 6c61 7465 203d 2074 656d    template = tem
+00007c20: 706c 6174 6520 6966 2069 7369 6e73 7461  plate if isinsta
+00007c30: 6e63 6528 7465 6d70 6c61 7465 2c20 5061  nce(template, Pa
+00007c40: 7468 2920 656c 7365 2050 6174 6828 7374  th) else Path(st
+00007c50: 7228 7465 6d70 6c61 7465 2929 0a20 2020  r(template)).   
+00007c60: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+00007c70: 7465 6d70 6c61 7465 2e65 7869 7374 7328  template.exists(
+00007c80: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00007c90: 2020 2072 6169 7365 2046 696c 654e 6f74     raise FileNot
+00007ca0: 466f 756e 6445 7272 6f72 0a0a 2020 2020  FoundError..    
+00007cb0: 2020 2020 2020 2020 6669 6c65 7320 3d20          files = 
+00007cc0: 7b27 7465 6d70 6c61 7465 273a 2028 2774  {'template': ('t
+00007cd0: 656d 706c 6174 652e 7478 7427 2c20 7465  emplate.txt', te
+00007ce0: 6d70 6c61 7465 2e72 6561 645f 6279 7465  mplate.read_byte
+00007cf0: 7328 2929 7d0a 2020 2020 2020 2020 2020  s())}.          
+00007d00: 2020 2320 6669 6c65 7320 3d20 6169 6f68    # files = aioh
+00007d10: 7474 702e 466f 726d 4461 7461 285b 2822  ttp.FormData([("
+00007d20: 7465 6d70 6c61 7465 222c 2028 2274 656d  template", ("tem
+00007d30: 706c 6174 652e 7478 7422 2c20 7465 6d70  plate.txt", temp
+00007d40: 6c61 7465 2e72 6561 645f 6279 7465 7328  late.read_bytes(
+00007d50: 2929 2c29 5d29 0a20 2020 2020 2020 2020  )),)]).         
+00007d60: 2020 2023 2066 6f72 6d64 6174 612e 6164     # formdata.ad
+00007d70: 645f 6669 656c 6428 2274 656d 706c 6174  d_field("templat
+00007d80: 6522 2c20 7465 6d70 6c61 7465 2e72 6561  e", template.rea
+00007d90: 645f 6279 7465 7328 292c 2066 696c 656e  d_bytes(), filen
+00007da0: 616d 653d 2274 656d 706c 6174 652e 7478  ame="template.tx
+00007db0: 7422 290a 2020 2020 2020 2020 2020 2020  t").            
+00007dc0: 2320 666f 726d 6461 7461 2e61 6464 5f66  # formdata.add_f
+00007dd0: 6965 6c64 2822 7465 6d70 6c61 7465 222c  ield("template",
+00007de0: 2074 656d 706c 6174 652e 7265 6164 5f62   template.read_b
+00007df0: 7974 6573 2829 290a 0a20 2020 2020 2020  ytes())..       
+00007e00: 2020 2020 2023 2066 6f72 6d64 6174 612e       # formdata.
+00007e10: 6164 645f 6669 656c 6428 0a20 2020 2020  add_field(.     
+00007e20: 2020 2020 2020 2023 2020 2020 2022 7465         #     "te
+00007e30: 6d70 6c61 7465 222c 0a20 2020 2020 2020  mplate",.       
+00007e40: 2020 2020 2023 2020 2020 2074 656d 706c       #     templ
+00007e50: 6174 652e 7265 6164 5f74 6578 7428 292c  ate.read_text(),
+00007e60: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
+00007e70: 2020 2066 696c 656e 616d 653d 2274 656d     filename="tem
+00007e80: 706c 6174 652e 7478 7422 2c0a 2020 2020  plate.txt",.    
+00007e90: 2020 2020 2020 2020 2320 2020 2020 636f          #     co
+00007ea0: 6e74 656e 745f 7479 7065 3d22 6d75 6c74  ntent_type="mult
+00007eb0: 6970 6172 742f 666f 726d 2d64 6174 6122  ipart/form-data"
+00007ec0: 0a20 2020 2020 2020 2020 2020 2023 2029  .            # )
+00007ed0: 0a0a 2020 2020 2020 2020 2320 7772 203d  ..        # wr =
+00007ee0: 2066 6f72 6d64 6174 6128 290a 2020 2020   formdata().    
+00007ef0: 2020 2020 2320 6461 7461 203d 2066 272d      # data = f'-
+00007f00: 2d7b 7772 2e62 6f75 6e64 6172 797d 5c72  -{wr.boundary}\r
+00007f10: 5c6e 436f 6e74 656e 742d 4469 7370 6f73  \nContent-Dispos
+00007f20: 6974 696f 6e3a 2066 6f72 6d2d 6461 7461  ition: form-data
+00007f30: 3b20 6e61 6d65 3d22 7465 6d70 6c61 7465  ; name="template
+00007f40: 223b 6669 6c65 6e61 6d65 3d22 7465 6d70  ";filename="temp
+00007f50: 6c61 7465 2e74 7874 227b 7772 2e5f 7061  late.txt"{wr._pa
+00007f60: 7274 735b 305d 5b30 5d2e 5f76 616c 7565  rts[0][0]._value
+00007f70: 2e64 6563 6f64 6528 297d 5c72 5c6e 2d2d  .decode()}\r\n--
+00007f80: 7b77 722e 626f 756e 6461 7279 7d27 2e65  {wr.boundary}'.e
+00007f90: 6e63 6f64 6528 2275 7466 2d38 2229 0a20  ncode("utf-8"). 
+00007fa0: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
+00007fb0: 7065 203d 2064 6576 6963 655f 7479 7065  pe = device_type
+00007fc0: 2069 6620 6e6f 7420 6861 7361 7474 7228   if not hasattr(
+00007fd0: 6465 7669 6365 5f74 7970 652c 2022 7661  device_type, "va
+00007fe0: 6c75 6522 2920 656c 7365 2064 6576 6963  lue") else devic
+00007ff0: 655f 7479 7065 2e76 616c 7565 0a20 2020  e_type.value.   
+00008000: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
+00008010: 203d 2063 6f6e 7374 616e 7473 2e6c 6962   = constants.lib
+00008020: 5f74 6f5f 6170 6928 2274 656d 706c 6174  _to_api("templat
+00008030: 6522 2c20 6465 7669 6365 5f74 7970 6529  e", device_type)
+00008040: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
+00008050: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00008060: 2027 6e61 6d65 273a 206e 616d 652c 0a20   'name': name,. 
+00008070: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
+00008080: 6365 5f74 7970 6527 3a20 6465 7669 6365  ce_type': device
+00008090: 5f74 7970 652c 0a20 2020 2020 2020 2020  _type,.         
+000080a0: 2020 2027 7665 7273 696f 6e27 3a20 7665     'version': ve
+000080b0: 7273 696f 6e2c 0a20 2020 2020 2020 2020  rsion,.         
+000080c0: 2020 2027 6d6f 6465 6c27 3a20 6d6f 6465     'model': mode
+000080d0: 6c0a 2020 2020 2020 2020 7d0a 2020 2020  l.        }.    
+000080e0: 2020 2020 2320 5754 4620 4d69 7373 696e      # WTF Missin
+000080f0: 6720 666f 726d 6461 7461 2070 6172 616d  g formdata param
+00008100: 6574 6572 2027 7465 6d70 6c61 7465 270a  eter 'template'.
+00008110: 2020 2020 2020 2020 2320 7265 7475 726e          # return
+00008120: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
+00008130: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
+00008140: 616d 732c 2070 6179 6c6f 6164 3d66 6f72  ams, payload=for
+00008150: 6d64 6174 612c 2920 2023 0a0a 0a20 2020  mdata,)  #...   
+00008160: 2020 2020 2023 204e 6f20 6469 6666 6572       # No differ
+00008170: 656e 6365 2076 7320 7468 6520 6162 6f76  ence vs the abov
+00008180: 650a 2020 2020 2020 2020 2320 6865 6164  e.        # head
+00008190: 6572 7320 3d20 7b0a 2020 2020 2020 2020  ers = {.        
+000081a0: 2320 2020 2020 2241 7574 686f 7269 7a61  #     "Authoriza
+000081b0: 7469 6f6e 223a 2066 2242 6561 7265 7220  tion": f"Bearer 
+000081c0: 7b73 656c 662e 6175 7468 2e63 656e 7472  {self.auth.centr
+000081d0: 616c 5f69 6e66 6f5b 2774 6f6b 656e 275d  al_info['token']
+000081e0: 5b27 6163 6365 7373 5f74 6f6b 656e 275d  ['access_token']
+000081f0: 7d22 2c0a 2020 2020 2020 2020 2320 2020  }",.        #   
+00008200: 2020 2741 6363 6570 7427 3a20 2761 7070    'Accept': 'app
+00008210: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0a  lication/json',.
+00008220: 2020 2020 2020 2020 2320 2020 2020 2243          #     "C
+00008230: 6f6e 7465 6e74 2d54 7970 6522 3a20 226d  ontent-Type": "m
+00008240: 756c 7469 7061 7274 2f66 6f72 6d2d 6461  ultipart/form-da
+00008250: 7461 220a 2020 2020 2020 2020 2320 7d0a  ta".        # }.
+00008260: 2020 2020 2020 2020 2320 6173 796e 6320          # async 
+00008270: 7769 7468 2061 696f 6874 7470 2e43 6c69  with aiohttp.Cli
+00008280: 656e 7453 6573 7369 6f6e 2873 656c 662e  entSession(self.
+00008290: 6175 7468 2e63 656e 7472 616c 5f69 6e66  auth.central_inf
+000082a0: 6f5b 2262 6173 655f 7572 6c22 5d29 2061  o["base_url"]) a
+000082b0: 7320 7365 7373 696f 6e3a 0a20 2020 2020  s session:.     
+000082c0: 2020 2023 2020 2020 2072 6573 7020 3d20     #     resp = 
+000082d0: 6177 6169 7420 7365 7373 696f 6e2e 706f  await session.po
+000082e0: 7374 2875 726c 2c20 7061 7261 6d73 3d70  st(url, params=p
+000082f0: 6172 616d 732c 2064 6174 613d 666f 726d  arams, data=form
+00008300: 6461 7461 2c20 6865 6164 6572 733d 6865  data, headers=he
+00008310: 6164 6572 732c 2073 736c 3d54 7275 6529  aders, ssl=True)
+00008320: 0a20 2020 2020 2020 2023 2020 2020 2074  .        #     t
+00008330: 7279 3a0a 2020 2020 2020 2020 2320 2020  ry:.        #   
+00008340: 2020 2020 2020 6f75 7470 7574 203d 2061        output = a
+00008350: 7761 6974 2072 6573 702e 636f 6e74 656e  wait resp.conten
+00008360: 742e 7265 6164 2829 0a20 2020 2020 2020  t.read().       
+00008370: 2023 2020 2020 2020 2020 206f 7574 7075   #         outpu
+00008380: 7420 3d20 6f75 7470 7574 2e64 6563 6f64  t = output.decod
+00008390: 6528 290a 2020 2020 2020 2020 2320 2020  e().        #   
+000083a0: 2020 2020 2020 6f75 7470 7574 203d 206a        output = j
+000083b0: 736f 6e2e 6c6f 6164 7328 6f75 7470 7574  son.loads(output
+000083c0: 290a 2020 2020 2020 2020 2320 2020 2020  ).        #     
+000083d0: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
+000083e0: 2061 7320 653a 0a20 2020 2020 2020 2023   as e:.        #
+000083f0: 2020 2020 2020 2020 206f 7574 7075 7420           output 
+00008400: 3d20 4e6f 6e65 0a20 2020 2020 2020 2023  = None.        #
+00008410: 2020 2020 2020 2020 2070 7269 6e74 2865           print(e
+00008420: 290a 2020 2020 2020 2020 2320 7265 7475  ).        # retu
+00008430: 726e 2052 6573 706f 6e73 6528 7265 7370  rn Response(resp
+00008440: 2c20 6f75 7470 7574 3d6f 7574 7075 7429  , output=output)
+00008450: 0a0a 2020 2020 2020 2020 2320 4841 434b  ..        # HACK
+00008460: 2054 6869 7320 776f 726b 7320 6275 7420   This works but 
+00008470: 7072 6566 6572 2074 6f20 6765 7420 6169  prefer to get ai
+00008480: 6f68 7474 7020 736f 7274 6564 2066 6f72  ohttp sorted for
+00008490: 2063 6f6e 7369 7374 656e 6379 0a20 2020   consistency.   
+000084a0: 2020 2020 2069 6d70 6f72 7420 7265 7175       import requ
+000084b0: 6573 7473 0a20 2020 2020 2020 2068 6561  ests.        hea
+000084c0: 6465 7273 203d 207b 0a20 2020 2020 2020  ders = {.       
+000084d0: 2020 2020 2022 4175 7468 6f72 697a 6174       "Authorizat
+000084e0: 696f 6e22 3a20 6622 4265 6172 6572 207b  ion": f"Bearer {
+000084f0: 7365 6c66 2e61 7574 682e 6365 6e74 7261  self.auth.centra
+00008500: 6c5f 696e 666f 5b27 746f 6b65 6e27 5d5b  l_info['token'][
+00008510: 2761 6363 6573 735f 746f 6b65 6e27 5d7d  'access_token']}
+00008520: 222c 0a20 2020 2020 2020 2020 2020 2027  ",.            '
+00008530: 4163 6365 7074 273a 2027 6170 706c 6963  Accept': 'applic
+00008540: 6174 696f 6e2f 6a73 6f6e 270a 2020 2020  ation/json'.    
+00008550: 2020 2020 7d0a 2020 2020 2020 2020 7572      }.        ur
+00008560: 6c3d 6622 7b73 656c 662e 6175 7468 2e63  l=f"{self.auth.c
+00008570: 656e 7472 616c 5f69 6e66 6f5b 2762 6173  entral_info['bas
+00008580: 655f 7572 6c27 5d7d 7b75 726c 7d22 0a20  e_url']}{url}". 
+00008590: 2020 2020 2020 2066 6f72 205f 2069 6e20         for _ in 
+000085a0: 7261 6e67 6528 3229 3a0a 2020 2020 2020  range(2):.      
+000085b0: 2020 2020 2020 7265 7370 203d 2072 6571        resp = req
+000085c0: 7565 7374 732e 7265 7175 6573 7428 2250  uests.request("P
+000085d0: 4f53 5422 2c20 7572 6c3d 7572 6c2c 2070  OST", url=url, p
+000085e0: 6172 616d 733d 7061 7261 6d73 2c20 6669  arams=params, fi
+000085f0: 6c65 733d 6669 6c65 732c 2068 6561 6465  les=files, heade
+00008600: 7273 3d68 6561 6465 7273 290a 2020 2020  rs=headers).    
+00008610: 2020 2020 2020 2020 6f75 7470 7574 203d          output =
+00008620: 2066 225b 7b72 6573 702e 7265 6173 6f6e   f"[{resp.reason
+00008630: 7d5d 2220 2b20 2220 2220 2b20 7265 7370  }]" + " " + resp
+00008640: 2e74 6578 742e 6c73 7472 6970 2827 5b5c  .text.lstrip('[\
+00008650: 6e20 2227 292e 7273 7472 6970 2827 225c  n "').rstrip('"\
+00008660: 6e5d 2729 0a20 2020 2020 2020 2020 2020  n]').           
+00008670: 2072 6573 7020 3d20 5265 7370 6f6e 7365   resp = Response
+00008680: 286f 7574 7075 743d 6f75 7470 7574 2c20  (output=output, 
+00008690: 6f6b 3d72 6573 702e 6f6b 2c20 7572 6c3d  ok=resp.ok, url=
+000086a0: 7572 6c2c 2065 6c61 7073 6564 3d72 6f75  url, elapsed=rou
+000086b0: 6e64 2872 6573 702e 656c 6170 7365 642e  nd(resp.elapsed.
+000086c0: 746f 7461 6c5f 7365 636f 6e64 7328 292c  total_seconds(),
+000086d0: 2032 292c 2073 7461 7475 735f 636f 6465   2), status_code
+000086e0: 3d72 6573 702e 7374 6174 7573 5f63 6f64  =resp.status_cod
+000086f0: 652c 2072 6c5f 7374 723d 222d 2229 0a20  e, rl_str="-"). 
+00008700: 2020 2020 2020 2020 2020 2069 6620 2269             if "i
+00008710: 6e76 616c 6964 5f74 6f6b 656e 2220 696e  nvalid_token" in
+00008720: 2072 6573 702e 6f75 7470 7574 3a0a 2020   resp.output:.  
+00008730: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00008740: 6c66 2e72 6566 7265 7368 5f74 6f6b 656e  lf.refresh_token
+00008750: 2829 0a20 2020 2020 2020 2020 2020 2065  ().            e
+00008760: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00008770: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
+00008780: 2020 2072 6574 7572 6e20 7265 7370 0a0a     return resp..
+00008790: 2020 2020 6173 796e 6320 6465 6620 7570      async def up
+000087a0: 6461 7465 5f65 7869 7374 696e 675f 7465  date_existing_te
+000087b0: 6d70 6c61 7465 280a 2020 2020 2020 2020  mplate(.        
+000087c0: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
+000087d0: 6f75 703a 2073 7472 2c0a 2020 2020 2020  oup: str,.      
+000087e0: 2020 6e61 6d65 3a20 7374 722c 0a20 2020    name: str,.   
+000087f0: 2020 2020 2074 656d 706c 6174 653a 2050       template: P
+00008800: 6174 6820 3d20 4e6f 6e65 2c0a 2020 2020  ath = None,.    
+00008810: 2020 2020 7061 796c 6f61 643a 2073 7472      payload: str
+00008820: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00008830: 2064 6576 6963 655f 7479 7065 3a20 7374   device_type: st
+00008840: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00008850: 2020 7665 7273 696f 6e3a 2073 7472 203d    version: str =
+00008860: 204e 6f6e 652c 0a20 2020 2020 2020 206d   None,.        m
+00008870: 6f64 656c 3a20 7374 7220 3d20 4e6f 6e65  odel: str = None
+00008880: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+00008890: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+000088a0: 5570 6461 7465 2065 7869 7374 696e 6720  Update existing 
+000088b0: 7465 6d70 6c61 7465 2e0a 0a20 2020 2020  template...     
+000088c0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+000088d0: 2020 2020 2067 726f 7570 2028 7374 7229       group (str)
+000088e0: 3a20 4e61 6d65 206f 6620 7468 6520 6772  : Name of the gr
+000088f0: 6f75 7020 666f 7220 7768 6963 6820 7468  oup for which th
+00008900: 6520 7465 6d70 6c61 7465 2069 7320 746f  e template is to
+00008910: 2062 6520 7570 6461 7465 642e 0a20 2020   be updated..   
+00008920: 2020 2020 2020 2020 206e 616d 6520 2873           name (s
+00008930: 7472 293a 204e 616d 6520 6f66 2074 656d  tr): Name of tem
+00008940: 706c 6174 652e 0a20 2020 2020 2020 2020  plate..         
+00008950: 2020 2064 6576 6963 655f 7479 7065 2028     device_type (
+00008960: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00008970: 4465 7669 6365 2074 7970 6520 6f66 2074  Device type of t
+00008980: 6865 2074 656d 706c 6174 652e 0a20 2020  he template..   
+00008990: 2020 2020 2020 2020 2020 2020 2056 616c               Val
+000089a0: 6964 2056 616c 7565 733a 2061 702c 2073  id Values: ap, s
+000089b0: 7720 2841 7275 6261 4f53 2d53 5729 2c20  w (ArubaOS-SW), 
+000089c0: 6378 2028 4172 7562 614f 532d 4358 292c  cx (ArubaOS-CX),
+000089d0: 2067 7720 2863 6f6e 7472 6f6c 6c65 7273   gw (controllers
+000089e0: 2f67 6174 6577 6179 7329 0a20 2020 2020  /gateways).     
+000089f0: 2020 2020 2020 2076 6572 7369 6f6e 2028         version (
+00008a00: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00008a10: 4669 726d 7761 7265 2076 6572 7369 6f6e  Firmware version
+00008a20: 2070 726f 7065 7274 7920 6f66 2074 656d   property of tem
+00008a30: 706c 6174 652e 0a20 2020 2020 2020 2020  plate..         
+00008a40: 2020 2020 2020 2045 7861 6d70 6c65 3a20         Example: 
+00008a50: 414c 4c2c 2036 2e35 2e34 2065 7463 2e0a  ALL, 6.5.4 etc..
+00008a60: 2020 2020 2020 2020 2020 2020 6d6f 6465              mode
+00008a70: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
+00008a80: 293a 204d 6f64 656c 2070 726f 7065 7274  ): Model propert
+00008a90: 7920 6f66 2074 656d 706c 6174 652e 0a20  y of template.. 
+00008aa0: 2020 2020 2020 2020 2020 2020 2020 2046                 F
+00008ab0: 6f72 2027 4172 7562 6153 7769 7463 6827  or 'ArubaSwitch'
+00008ac0: 2064 6576 6963 655f 7479 7065 2c20 7061   device_type, pa
+00008ad0: 7274 206e 756d 6265 7220 284a 206e 756d  rt number (J num
+00008ae0: 6265 7229 2063 616e 2062 6520 7573 6564  ber) can be used
+00008af0: 2066 6f72 2074 6865 206d 6f64 656c 2e0a   for the model..
+00008b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008b10: 4578 616d 706c 653a 2032 3932 302c 204a  Example: 2920, J
+00008b20: 3937 3237 4120 6574 632e 0a20 2020 2020  9727A etc..     
+00008b30: 2020 2020 2020 2074 656d 706c 6174 6520         template 
+00008b40: 2855 6e69 6f6e 5b50 6174 682c 2073 7472  (Union[Path, str
+00008b50: 5d2c 206f 7074 696f 6e61 6c29 3a20 5465  ], optional): Te
+00008b60: 6d70 6c61 7465 2074 6578 742e 0a20 2020  mplate text..   
+00008b70: 2020 2020 2020 2020 2020 2020 2046 6f72               For
+00008b80: 2027 4172 7562 6153 7769 7463 6827 2064   'ArubaSwitch' d
+00008b90: 6576 6963 655f 7479 7065 2c20 7468 6520  evice_type, the 
+00008ba0: 7465 6d70 6c61 7465 2074 6578 7420 7368  template text sh
+00008bb0: 6f75 6c64 2069 6e63 6c75 6465 2074 6865  ould include the
+00008bc0: 2066 6f6c 6c6f 7769 6e67 0a20 2020 2020   following.     
+00008bd0: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
+00008be0: 6e64 7320 746f 206d 6169 6e74 6169 6e20  nds to maintain 
+00008bf0: 636f 6e6e 6563 7469 6f6e 2077 6974 6820  connection with 
+00008c00: 6365 6e74 7261 6c2e 0a20 2020 2020 2020  central..       
+00008c10: 2020 2020 2020 2020 2031 2e20 6172 7562           1. arub
+00008c20: 612d 6365 6e74 7261 6c20 656e 6162 6c65  a-central enable
+00008c30: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00008c40: 2020 322e 2061 7275 6261 2d63 656e 7472    2. aruba-centr
+00008c50: 616c 2075 726c 2068 7474 7073 3a2f 2f3c  al url https://<
+00008c60: 5552 4c20 7c20 4950 3e2f 7773 2e0a 2020  URL | IP>/ws..  
+00008c70: 2020 2020 2020 2020 2020 7061 796c 6f61            payloa
+00008c80: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
+00008c90: 293a 206a 736f 6e20 7265 7072 6573 656e  ): json represen
+00008ca0: 7461 7469 6f6e 206f 6620 7468 6520 7265  tation of the re
+00008cb0: 7175 6972 6564 2070 6172 616d 732e 0a0a  quired params...
+00008cc0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00008cd0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00008ce0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00008cf0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00008d00: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00008d10: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
+00008d20: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
+00008d30: 6772 6f75 7073 2f7b 6772 6f75 707d 2f74  groups/{group}/t
+00008d40: 656d 706c 6174 6573 220a 2020 2020 2020  emplates".      
+00008d50: 2020 7465 6d70 6c61 7465 203d 2074 656d    template = tem
+00008d60: 706c 6174 6520 6966 2069 7369 6e73 7461  plate if isinsta
+00008d70: 6e63 6528 7465 6d70 6c61 7465 2c20 5061  nce(template, Pa
+00008d80: 7468 2920 656c 7365 2050 6174 6828 7374  th) else Path(st
+00008d90: 7228 7465 6d70 6c61 7465 2929 0a0a 2020  r(template))..  
+00008da0: 2020 2020 2020 6966 2064 6576 6963 655f        if device_
+00008db0: 7479 7065 3a0a 2020 2020 2020 2020 2020  type:.          
+00008dc0: 2020 6465 7669 6365 5f74 7970 6520 3d20    device_type = 
+00008dd0: 636f 6e73 7461 6e74 732e 6c69 625f 746f  constants.lib_to
+00008de0: 5f61 7069 2822 7465 6d70 6c61 7465 222c  _api("template",
+00008df0: 2064 6576 6963 655f 7479 7065 290a 0a20   device_type).. 
+00008e00: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+00008e10: 7b0a 2020 2020 2020 2020 2020 2020 276e  {.            'n
+00008e20: 616d 6527 3a20 6e61 6d65 2c0a 2020 2020  ame': name,.    
+00008e30: 2020 2020 2020 2020 2764 6576 6963 655f          'device_
+00008e40: 7479 7065 273a 2064 6576 6963 655f 7479  type': device_ty
+00008e50: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
+00008e60: 2776 6572 7369 6f6e 273a 2076 6572 7369  'version': versi
+00008e70: 6f6e 2c0a 2020 2020 2020 2020 2020 2020  on,.            
+00008e80: 276d 6f64 656c 273a 206d 6f64 656c 0a20  'model': model. 
+00008e90: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+00008ea0: 2020 6966 2074 656d 706c 6174 6520 616e    if template an
+00008eb0: 6420 7465 6d70 6c61 7465 2e69 735f 6669  d template.is_fi
+00008ec0: 6c65 2829 2061 6e64 2074 656d 706c 6174  le() and templat
+00008ed0: 652e 7374 6174 2829 2e73 745f 7369 7a65  e.stat().st_size
+00008ee0: 203e 2030 3a0a 2020 2020 2020 2020 2020   > 0:.          
+00008ef0: 2020 7465 6d70 6c61 7465 5f64 6174 613a    template_data:
+00008f00: 2062 7974 6573 203d 2074 656d 706c 6174   bytes = templat
+00008f10: 652e 7265 6164 5f62 7974 6573 2829 0a20  e.read_bytes(). 
+00008f20: 2020 2020 2020 2065 6c69 6620 7061 796c         elif payl
+00008f30: 6f61 643a 0a20 2020 2020 2020 2020 2020  oad:.           
+00008f40: 2074 656d 706c 6174 655f 6461 7461 3a20   template_data: 
+00008f50: 6279 7465 7320 3d20 7061 796c 6f61 640a  bytes = payload.
+00008f60: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00008f70: 2020 2020 2020 2020 2020 7465 6d70 6c61            templa
+00008f80: 7465 5f64 6174 6120 3d20 4e6f 6e65 0a0a  te_data = None..
+00008f90: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+00008fa0: 7761 6974 2073 656c 662e 7061 7463 6828  wait self.patch(
+00008fb0: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
+00008fc0: 6d73 2c20 7061 796c 6f61 643d 7465 6d70  ms, payload=temp
+00008fd0: 6c61 7465 5f64 6174 6129 0a0a 2020 2020  late_data)..    
+00008fe0: 2320 5465 7374 6564 2061 6e64 2077 6f72  # Tested and wor
+00008ff0: 6b73 2062 7574 206e 6f74 2075 7365 642e  ks but not used.
+00009000: 2020 5468 6973 2063 616c 6c73 2070 7963    This calls pyc
+00009010: 656e 7472 616c 206d 6574 686f 6420 6469  entral method di
+00009020: 7265 6374 6c79 2c20 6275 7420 6974 2068  rectly, but it h
+00009030: 6173 2061 6e20 6572 726f 7220 696e 2062  as an error in b
+00009040: 6173 652e 7079 2063 6f6d 6d61 6e64 2072  ase.py command r
+00009050: 6520 7572 6c20 636f 6e63 6174 0a20 2020  e url concat.   
+00009060: 2023 2061 6e64 2069 7420 646f 6573 6e27   # and it doesn'
+00009070: 7420 6361 7463 6820 616c 6c20 6578 6365  t catch all exce
+00009080: 7074 696f 6e73 2073 6f20 706f 7373 6962  ptions so possib
+00009090: 6c65 2074 6f20 6765 7420 6578 6365 7074  le to get except
+000090a0: 696f 6e20 7768 656e 2065 7661 6c20 7265  ion when eval re
+000090b0: 7370 2e2e 2e20 6f75 7220 5265 7370 6f6e  sp... our Respon
+000090c0: 7365 206f 626a 6563 7420 6973 2062 6574  se object is bet
+000090d0: 7465 7220 494d 484f 0a20 2020 2061 7379  ter IMHO.    asy
+000090e0: 6e63 2064 6566 205f 7570 6461 7465 5f65  nc def _update_e
+000090f0: 7869 7374 696e 675f 7465 6d70 6c61 7465  xisting_template
+00009100: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+00009110: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
+00009120: 7472 2c0a 2020 2020 2020 2020 6e61 6d65  tr,.        name
+00009130: 3a20 7374 722c 0a20 2020 2020 2020 2074  : str,.        t
+00009140: 656d 706c 6174 653a 2050 6174 6820 3d20  emplate: Path = 
+00009150: 4e6f 6e65 2c0a 2020 2020 2020 2020 7061  None,.        pa
+00009160: 796c 6f61 643a 2073 7472 203d 204e 6f6e  yload: str = Non
+00009170: 652c 0a20 2020 2020 2020 2064 6576 6963  e,.        devic
+00009180: 655f 7479 7065 3a20 7374 7220 3d20 4e6f  e_type: str = No
+00009190: 6e65 2c0a 2020 2020 2020 2020 7665 7273  ne,.        vers
+000091a0: 696f 6e3a 2073 7472 203d 204e 6f6e 652c  ion: str = None,
+000091b0: 0a20 2020 2020 2020 206d 6f64 656c 3a20  .        model: 
+000091c0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+000091d0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+000091e0: 2020 2020 2020 2066 726f 6d20 7079 6365         from pyce
+000091f0: 6e74 7261 6c2e 636f 6e66 6967 7572 6174  ntral.configurat
+00009200: 696f 6e20 696d 706f 7274 2054 656d 706c  ion import Templ
+00009210: 6174 6573 0a0a 2020 2020 2020 2020 7465  ates..        te
+00009220: 6d70 6c61 7465 7320 3d20 5465 6d70 6c61  mplates = Templa
+00009230: 7465 7328 290a 2020 2020 2020 2020 6b77  tes().        kw
+00009240: 6172 6773 203d 207b 0a20 2020 2020 2020  args = {.       
+00009250: 2020 2020 2022 6772 6f75 705f 6e61 6d65       "group_name
+00009260: 223a 2067 726f 7570 2c0a 2020 2020 2020  ": group,.      
+00009270: 2020 2020 2020 2274 656d 706c 6174 655f        "template_
+00009280: 6e61 6d65 223a 206e 616d 652c 0a20 2020  name": name,.   
+00009290: 2020 2020 2020 2020 2022 6465 7669 6365           "device
+000092a0: 5f74 7970 6522 3a20 6465 7669 6365 5f74  _type": device_t
+000092b0: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
+000092c0: 2022 7665 7273 696f 6e22 3a20 7665 7273   "version": vers
+000092d0: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
+000092e0: 2022 6d6f 6465 6c22 3a20 6d6f 6465 6c2c   "model": model,
+000092f0: 0a20 2020 2020 2020 2020 2020 2022 7465  .            "te
+00009300: 6d70 6c61 7465 5f66 696c 656e 616d 6522  mplate_filename"
+00009310: 3a20 7374 7228 7465 6d70 6c61 7465 292c  : str(template),
+00009320: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+00009330: 2020 2020 7265 7475 726e 2074 656d 706c      return templ
+00009340: 6174 6573 2e75 7064 6174 655f 7465 6d70  ates.update_temp
+00009350: 6c61 7465 2873 656c 662e 6175 7468 2c20  late(self.auth, 
+00009360: 2a2a 6b77 6172 6773 290a 0a20 2020 2061  **kwargs)..    a
+00009370: 7379 6e63 2064 6566 205f 6765 745f 6772  sync def _get_gr
+00009380: 6f75 705f 6e61 6d65 7328 7365 6c66 2920  oup_names(self) 
+00009390: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+000093a0: 2020 2020 2075 726c 203d 2022 2f63 6f6e       url = "/con
+000093b0: 6669 6775 7261 7469 6f6e 2f76 322f 6772  figuration/v2/gr
+000093c0: 6f75 7073 220a 2020 2020 2020 2020 7061  oups".        pa
+000093d0: 7261 6d73 203d 207b 226f 6666 7365 7422  rams = {"offset"
+000093e0: 3a20 302c 2022 6c69 6d69 7422 3a20 3130  : 0, "limit": 10
+000093f0: 307d 2020 2320 3130 3020 6973 2074 6865  0}  # 100 is the
+00009400: 206d 6178 0a20 2020 2020 2020 2072 6573   max.        res
+00009410: 7020 3d20 6177 6169 7420 7365 6c66 2e67  p = await self.g
+00009420: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+00009430: 6172 616d 732c 290a 2020 2020 2020 2020  arams,).        
+00009440: 7265 7370 2e6f 7574 7075 7420 3d20 636c  resp.output = cl
+00009450: 6561 6e65 722e 5f67 6574 5f67 726f 7570  eaner._get_group
+00009460: 5f6e 616d 6573 2872 6573 702e 6f75 7470  _names(resp.outp
+00009470: 7574 290a 2020 2020 2020 2020 7265 7475  ut).        retu
+00009480: 726e 2072 6573 700a 0a20 2020 2061 7379  rn resp..    asy
+00009490: 6e63 2064 6566 2064 656c 6574 655f 7465  nc def delete_te
+000094a0: 6d70 6c61 7465 280a 2020 2020 2020 2020  mplate(.        
+000094b0: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
+000094c0: 6f75 703a 2073 7472 2c0a 2020 2020 2020  oup: str,.      
+000094d0: 2020 7465 6d70 6c61 7465 3a20 7374 722c    template: str,
+000094e0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+000094f0: 7365 3a0a 2020 2020 2020 2020 2222 2244  se:.        """D
+00009500: 656c 6574 6520 6578 6973 7469 6e67 2074  elete existing t
+00009510: 656d 706c 6174 652e 0a0a 2020 2020 2020  emplate...      
+00009520: 2020 2f2f 2055 7365 6420 6279 2064 656c    // Used by del
+00009530: 6574 6520 7465 6d70 6c61 7465 202e 2e2e  ete template ...
+00009540: 202f 2f0a 0a20 2020 2020 2020 2041 7267   //..        Arg
+00009550: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
+00009560: 726f 7570 2028 7374 7229 3a20 4e61 6d65  roup (str): Name
+00009570: 206f 6620 7468 6520 6772 6f75 7020 666f   of the group fo
+00009580: 7220 7768 6963 6820 7468 6520 7465 6d70  r which the temp
+00009590: 6c61 7465 2069 7320 746f 2062 6520 6465  late is to be de
+000095a0: 6c65 7465 642e 0a20 2020 2020 2020 2020  leted..         
+000095b0: 2020 2074 656d 706c 6174 6520 2873 7472     template (str
+000095c0: 293a 204e 616d 6520 6f66 2074 6865 2074  ): Name of the t
+000095d0: 656d 706c 6174 6520 746f 2062 6520 6465  emplate to be de
+000095e0: 6c65 7465 642e 0a0a 2020 2020 2020 2020  leted...        
+000095f0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00009600: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00009610: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00009620: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00009630: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00009640: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+00009650: 7469 6f6e 2f76 312f 6772 6f75 7073 2f7b  tion/v1/groups/{
+00009660: 6772 6f75 707d 2f74 656d 706c 6174 6573  group}/templates
+00009670: 2f7b 7465 6d70 6c61 7465 7d22 0a0a 2020  /{template}"..  
+00009680: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00009690: 6974 2073 656c 662e 6465 6c65 7465 2875  it self.delete(u
+000096a0: 726c 290a 0a20 2020 2023 2054 4f44 4f20  rl)..    # TODO 
+000096b0: 6465 7072 6563 6174 6520 7468 6973 2075  deprecate this u
+000096c0: 7365 6420 6279 2067 726f 7570 2063 6163  sed by group cac
+000096d0: 6865 2075 7064 6174 652e 2020 5f67 6574  he update.  _get
+000096e0: 5f67 726f 7570 5f6e 616d 6573 2074 6865  _group_names the
+000096f0: 6e20 6765 745f 6772 6f75 7073 5f70 726f  n get_groups_pro
+00009700: 7065 7274 6965 732e 2020 4d6f 7265 2069  perties.  More i
+00009710: 6e66 6f20 696e 2073 696e 676c 6520 6361  nfo in single ca
+00009720: 6c6c 0a20 2020 2061 7379 6e63 2064 6566  ll.    async def
+00009730: 2067 6574 5f61 6c6c 5f67 726f 7570 7328   get_all_groups(
+00009740: 7365 6c66 2920 2d3e 2052 6573 706f 6e73  self) -> Respons
+00009750: 653a 0a20 2020 2020 2020 2072 6573 7020  e:.        resp 
+00009760: 3d20 6177 6169 7420 7365 6c66 2e5f 6765  = await self._ge
+00009770: 745f 6772 6f75 705f 6e61 6d65 7328 290a  t_group_names().
+00009780: 2020 2020 2020 2020 6966 206e 6f74 2072          if not r
+00009790: 6573 702e 6f6b 3a0a 2020 2020 2020 2020  esp.ok:.        
+000097a0: 2020 2020 7265 7475 726e 2072 6573 700a      return resp.
+000097b0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000097c0: 2020 2020 2020 2020 2020 7572 6c20 3d20            url = 
+000097d0: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
+000097e0: 7632 2f67 726f 7570 732f 7465 6d70 6c61  v2/groups/templa
+000097f0: 7465 5f69 6e66 6f22 0a20 2020 2020 2020  te_info".       
+00009800: 2020 2020 2023 2072 6574 7572 6e20 6177       # return aw
+00009810: 6169 7420 7365 6c66 2e67 6574 5f67 726f  ait self.get_gro
+00009820: 7570 735f 7072 6f70 6572 7469 6573 2872  ups_properties(r
+00009830: 6573 702e 6f75 7470 7574 290a 2020 2020  esp.output).    
+00009840: 2020 2020 2020 2020 6261 7463 685f 7265          batch_re
+00009850: 7173 203d 205b 5d0a 2020 2020 2020 2020  qs = [].        
+00009860: 2020 2020 666f 7220 6772 6f75 7073 2069      for groups i
+00009870: 6e20 7574 696c 732e 6368 756e 6b65 7228  n utils.chunker(
+00009880: 7265 7370 2e6f 7574 7075 742c 2032 3029  resp.output, 20)
+00009890: 3a20 2023 2054 6869 7320 6361 6c6c 2061  :  # This call a
+000098a0: 6c6c 6f77 7320 6120 6d61 7820 6f66 2032  llows a max of 2
+000098b0: 300a 2020 2020 2020 2020 2020 2020 2020  0.              
+000098c0: 2020 7061 7261 6d73 203d 207b 2267 726f    params = {"gro
+000098d0: 7570 7322 3a20 222c 222e 6a6f 696e 2867  ups": ",".join(g
+000098e0: 726f 7570 7329 7d0a 2020 2020 2020 2020  roups)}.        
+000098f0: 2020 2020 2020 2020 6261 7463 685f 7265          batch_re
+00009900: 7173 202b 3d20 5b73 656c 662e 4261 7463  qs += [self.Batc
+00009910: 6852 6571 7565 7374 2873 656c 662e 6765  hRequest(self.ge
+00009920: 742c 2075 726c 2c20 7061 7261 6d73 3d70  t, url, params=p
+00009930: 6172 616d 7329 5d0a 2020 2020 2020 2020  arams)].        
+00009940: 2020 2020 2020 2020 2320 616c 6c5f 6772          # all_gr
+00009950: 6f75 7073 203d 2061 7761 6974 2073 656c  oups = await sel
+00009960: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
+00009970: 733d 7061 7261 6d73 290a 2020 2020 2020  s=params).      
+00009980: 2020 2020 2020 2020 2020 2320 544f 444f            # TODO
+00009990: 2064 756e 6465 7220 6164 6420 696e 2052   dunder add in R
+000099a0: 6573 706f 6e73 650a 2020 2020 2020 2020  esponse.        
+000099b0: 2020 2020 6261 7463 685f 7265 7370 203d      batch_resp =
+000099c0: 2061 7761 6974 2073 656c 662e 5f62 6174   await self._bat
+000099d0: 6368 5f72 6571 7565 7374 2862 6174 6368  ch_request(batch
+000099e0: 5f72 6571 7329 0a20 2020 2020 2020 2020  _reqs).         
+000099f0: 2020 2023 2054 4f44 4f20 6d65 7468 6f64     # TODO method
+00009a00: 2074 6f20 636f 6d62 696e 6520 7261 7720   to combine raw 
+00009a10: 616e 6420 6f75 7470 7574 2061 7474 7273  and output attrs
+00009a20: 206f 6620 616c 6c20 7265 7370 6f6e 7365   of all response
+00009a30: 7320 696e 746f 206c 6173 7420 7265 7370  s into last resp
+00009a40: 0a20 2020 2020 2020 2020 2020 206f 7574  .            out
+00009a50: 7075 7420 3d20 5b72 2066 6f72 2072 6573  put = [r for res
+00009a60: 2069 6e20 6261 7463 685f 7265 7370 2066   in batch_resp f
+00009a70: 6f72 2072 2069 6e20 7265 732e 6f75 7470  or r in res.outp
+00009a80: 7574 5d0a 2020 2020 2020 2020 2020 2020  ut].            
+00009a90: 7265 7370 203d 2062 6174 6368 5f72 6573  resp = batch_res
+00009aa0: 705b 2d31 5d0a 2020 2020 2020 2020 2020  p[-1].          
+00009ab0: 2020 7265 7370 2e6f 7574 7075 7420 3d20    resp.output = 
+00009ac0: 6f75 7470 7574 0a20 2020 2020 2020 2020  output.         
+00009ad0: 2020 2069 6620 2264 6174 6122 2069 6e20     if "data" in 
+00009ae0: 7265 7370 2e72 6177 3a0a 2020 2020 2020  resp.raw:.      
+00009af0: 2020 2020 2020 2020 2020 7265 7370 2e72            resp.r
+00009b00: 6177 5b22 6461 7461 225d 203d 206f 7574  aw["data"] = out
+00009b10: 7075 740a 2020 2020 2020 2020 2020 2020  put.            
+00009b20: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00009b30: 2020 2020 2020 6c6f 672e 7761 726e 696e        log.warnin
+00009b40: 6728 2272 6177 2061 7474 7220 696e 2072  g("raw attr in r
+00009b50: 6573 7020 6672 6f6d 2067 6574 5f61 6c6c  esp from get_all
+00009b60: 5f67 726f 7570 7320 6c61 636b 7320 6578  _groups lacks ex
+00009b70: 7065 6374 6564 206f 7574 6572 206b 6579  pected outer key
+00009b80: 2027 6461 7461 2722 290a 0a20 2020 2020   'data'")..     
+00009b90: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
+00009ba0: 7370 0a0a 0a20 2020 2061 7379 6e63 2064  sp...    async d
+00009bb0: 6566 2067 6574 5f61 6c6c 5f74 656d 706c  ef get_all_templ
+00009bc0: 6174 6573 2873 656c 662c 2067 726f 7570  ates(self, group
+00009bd0: 733a 204c 6973 745b 6469 6374 5d20 3d20  s: List[dict] = 
+00009be0: 4e6f 6e65 2c20 2a2a 7061 7261 6d73 2920  None, **params) 
+00009bf0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00009c00: 2020 2020 2022 2222 4765 7420 6461 7461       """Get data
+00009c10: 2066 6f72 2061 6c6c 2064 6566 696e 6564   for all defined
+00009c20: 2074 656d 706c 6174 6573 2066 726f 6d20   templates from 
+00009c30: 4172 7562 6120 4365 6e74 7261 6c0a 0a20  Aruba Central.. 
+00009c40: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00009c50: 2020 2020 2020 2020 2067 726f 7570 7320           groups 
+00009c60: 284c 6973 745b 6469 6374 5d2c 206f 7074  (List[dict], opt
+00009c70: 696f 6e61 6c29 3a20 4c69 7374 206f 6620  ional): List of 
+00009c80: 6772 6f75 7020 6469 6374 696f 6e61 7269  group dictionari
+00009c90: 6573 2028 4966 2070 726f 7669 6465 6420  es (If provided 
+00009ca0: 6164 6469 7469 6f6e 616c 2041 5049 0a20  additional API. 
+00009cb0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00009cc0: 616c 6c73 2074 6f20 6765 7420 6772 6f75  alls to get grou
+00009cd0: 7020 6e61 6d65 7320 666f 7220 616c 6c20  p names for all 
+00009ce0: 7465 6d70 6c61 7465 2067 726f 7570 7320  template groups 
+00009cf0: 6172 6520 6e6f 7420 7065 7266 6f72 6d65  are not performe
+00009d00: 6429 2e0a 2020 2020 2020 2020 2020 2020  d)..            
+00009d10: 2020 2020 4465 6661 756c 7473 2074 6f20      Defaults to 
+00009d20: 4e6f 6e65 2e0a 0a20 2020 2020 2020 2052  None...        R
+00009d30: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00009d40: 2020 2020 5265 7370 6f6e 7365 3a20 6365      Response: ce
+00009d50: 6e74 7261 6c63 6c69 2052 6573 706f 6e73  ntralcli Respons
+00009d60: 6520 4f62 6a65 6374 0a20 2020 2020 2020  e Object.       
+00009d70: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+00009d80: 6e6f 7420 6772 6f75 7073 3a0a 2020 2020  not groups:.    
+00009d90: 2020 2020 2020 2020 7265 7370 203d 2061          resp = a
+00009da0: 7761 6974 2073 656c 662e 6765 745f 616c  wait self.get_al
+00009db0: 6c5f 6772 6f75 7073 2829 0a20 2020 2020  l_groups().     
+00009dc0: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
+00009dd0: 7370 3a0a 2020 2020 2020 2020 2020 2020  sp:.            
+00009de0: 2020 2020 7265 7475 726e 2072 6573 700a      return resp.
+00009df0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+00009e00: 7073 203d 2063 6c65 616e 6572 2e67 6574  ps = cleaner.get
+00009e10: 5f61 6c6c 5f67 726f 7570 7328 7265 7370  _all_groups(resp
+00009e20: 2e6f 7574 7075 7429 0a0a 2020 2020 2020  .output)..      
+00009e30: 2020 7465 6d70 6c61 7465 5f67 726f 7570    template_group
+00009e40: 7320 3d20 5b67 5b22 6e61 6d65 225d 2066  s = [g["name"] f
+00009e50: 6f72 2067 2069 6e20 6772 6f75 7073 2069  or g in groups i
+00009e60: 6620 5472 7565 2069 6e20 675b 2274 656d  f True in g["tem
+00009e70: 706c 6174 6520 6772 6f75 7022 5d2e 7661  plate group"].va
+00009e80: 6c75 6573 2829 5d0a 0a20 2020 2020 2020  lues()]..       
+00009e90: 2069 6620 6e6f 7420 7465 6d70 6c61 7465   if not template
+00009ea0: 5f67 726f 7570 733a 0a20 2020 2020 2020  _groups:.       
+00009eb0: 2020 2020 2072 6574 7572 6e20 5265 7370       return Resp
+00009ec0: 6f6e 7365 280a 2020 2020 2020 2020 2020  onse(.          
+00009ed0: 2020 2020 2020 7572 6c3d 224e 6f20 6361        url="No ca
+00009ee0: 6c6c 2070 6572 666f 726d 6564 222c 0a20  ll performed",. 
+00009ef0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
+00009f00: 6b3d 5472 7565 2c0a 2020 2020 2020 2020  k=True,.        
+00009f10: 2020 2020 2020 2020 6f75 7470 7574 3d5b          output=[
+00009f20: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00009f30: 2020 2072 6177 3d5b 5d2c 0a20 2020 2020     raw=[],.     
+00009f40: 2020 2020 2020 2020 2020 2065 7272 6f72             error
+00009f50: 3d22 4e6f 6e65 206f 6620 7468 6520 636f  ="None of the co
+00009f60: 6e66 6967 7572 6564 2067 726f 7570 7320  nfigured groups 
+00009f70: 6172 6520 5465 6d70 6c61 7465 2047 726f  are Template Gro
+00009f80: 7570 732e 222c 0a20 2020 2020 2020 2020  ups.",.         
+00009f90: 2020 2029 0a0a 2020 2020 2020 2020 7265     )..        re
+00009fa0: 7173 203d 205b 7365 6c66 2e42 6174 6368  qs = [self.Batch
+00009fb0: 5265 7175 6573 7428 7365 6c66 2e67 6574  Request(self.get
+00009fc0: 5f61 6c6c 5f74 656d 706c 6174 6573 5f69  _all_templates_i
+00009fd0: 6e5f 6772 6f75 702c 2067 726f 7570 2c20  n_group, group, 
+00009fe0: 2a2a 7061 7261 6d73 2920 666f 7220 6772  **params) for gr
+00009ff0: 6f75 7020 696e 2074 656d 706c 6174 655f  oup in template_
+0000a000: 6772 6f75 7073 5d0a 2020 2020 2020 2020  groups].        
+0000a010: 2320 544f 444f 206d 6179 6265 2063 616c  # TODO maybe cal
+0000a020: 6c20 7468 6520 6167 6772 6567 6174 6f72  l the aggregator
+0000a030: 2066 726f 6d20 5f62 6174 685f 7265 7175   from _bath_requ
+0000a040: 6573 740a 2020 2020 2020 2020 7265 7370  est.        resp
+0000a050: 6f6e 7365 7320 3d20 6177 6169 7420 7365  onses = await se
+0000a060: 6c66 2e5f 6261 7463 685f 7265 7175 6573  lf._batch_reques
+0000a070: 7428 7265 7173 290a 2020 2020 2020 2020  t(reqs).        
+0000a080: 6661 696c 6564 203d 205b 7220 666f 7220  failed = [r for 
+0000a090: 7220 696e 2072 6573 706f 6e73 6573 2069  r in responses i
+0000a0a0: 6620 6e6f 7420 725d 0a20 2020 2020 2020  f not r].       
+0000a0b0: 2069 6620 6661 696c 6564 3a0a 2020 2020   if failed:.    
+0000a0c0: 2020 2020 2020 2020 7265 7475 726e 2066          return f
+0000a0d0: 6169 6c65 645b 2d31 5d0a 0a20 2020 2020  ailed[-1]..     
+0000a0e0: 2020 2023 2063 6f6d 6269 6e65 2072 6573     # combine res
+0000a0f0: 756c 7420 666f 7220 616c 6c20 6361 6c6c  ult for all call
+0000a100: 7320 696e 746f 2031 0a20 2020 2020 2020  s into 1.       
+0000a110: 2023 2054 4f44 4f20 6167 6772 6567 6174   # TODO aggregat
+0000a120: 6f72 2052 6573 706f 6e73 6520 6f62 6a65  or Response obje
+0000a130: 6374 2066 6f72 206d 756c 7469 2072 6573  ct for multi res
+0000a140: 706f 6e73 650a 2020 2020 2020 2020 2320  ponse.        # 
+0000a150: 6d61 7962 6520 6164 6420 7072 6f70 6572  maybe add proper
+0000a160: 7479 2074 6f20 5265 7370 6f6e 7365 2074  ty to Response t
+0000a170: 6861 7420 7265 7475 726e 7320 6469 6374  hat returns dict
+0000a180: 2062 6569 6e67 2064 6f6e 6520 7769 7468   being done with
+0000a190: 2064 6963 7420 636f 6d70 2062 656c 6f77   dict comp below
+0000a1a0: 0a20 2020 2020 2020 2061 6c6c 5f6f 7574  .        all_out
+0000a1b0: 7075 7420 3d20 5b72 7220 666f 7220 7220  put = [rr for r 
+0000a1c0: 696e 2072 6573 706f 6e73 6573 2066 6f72  in responses for
+0000a1d0: 2072 7220 696e 2072 2e6f 7574 7075 745d   rr in r.output]
+0000a1e0: 0a20 2020 2020 2020 2061 6c6c 5f72 6177  .        all_raw
+0000a1f0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+0000a200: 2066 225b 7b72 2e65 7272 6f72 7d5d 207b   f"[{r.error}] {
+0000a210: 722e 6d65 7468 6f64 7d20 7b72 2e75 726c  r.method} {r.url
+0000a220: 2e70 6174 6820 6966 206e 6f74 2069 6e74  .path if not int
+0000a230: 2872 2e75 726c 2e71 7565 7279 2e67 6574  (r.url.query.get
+0000a240: 2827 6f66 6673 6574 272c 2030 2929 2065  ('offset', 0)) e
+0000a250: 6c73 6520 722e 7572 6c2e 7061 7468 5f71  lse r.url.path_q
+0000a260: 737d 223a 2072 2e72 6177 0a20 2020 2020  s}": r.raw.     
+0000a270: 2020 2020 2020 2066 6f72 2072 2069 6e20         for r in 
+0000a280: 7265 7370 6f6e 7365 730a 2020 2020 2020  responses.      
+0000a290: 2020 7d0a 2020 2020 2020 2020 7265 7370    }.        resp
+0000a2a0: 6f6e 7365 735b 2d31 5d2e 6f75 7470 7574  onses[-1].output
+0000a2b0: 203d 2061 6c6c 5f6f 7574 7075 740a 2020   = all_output.  
+0000a2c0: 2020 2020 2020 7265 7370 6f6e 7365 735b        responses[
+0000a2d0: 2d31 5d2e 7261 7720 3d20 616c 6c5f 7261  -1].raw = all_ra
+0000a2e0: 770a 0a20 2020 2020 2020 2072 6574 7572  w..        retur
+0000a2f0: 6e20 7265 7370 6f6e 7365 735b 2d31 5d0a  n responses[-1].
+0000a300: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+0000a310: 6574 5f73 6b75 5f74 7970 6573 2873 656c  et_sku_types(sel
+0000a320: 6629 3a20 2023 2046 4149 4c45 4420 2d20  f):  # FAILED - 
+0000a330: 2243 6f75 6c64 206e 6f74 2076 6572 6966  "Could not verif
+0000a340: 7920 6163 6365 7373 206c 6576 656c 2066  y access level f
+0000a350: 6f72 2074 6865 2055 524c 2e22 0a20 2020  or the URL.".   
+0000a360: 2020 2020 2075 726c 203d 2022 2f70 6c61       url = "/pla
+0000a370: 7466 6f72 6d2f 6f72 6465 7273 2f76 312f  tform/orders/v1/
+0000a380: 736b 7573 220a 2020 2020 2020 2020 7061  skus".        pa
+0000a390: 7261 6d73 203d 207b 2273 6b75 5f74 7970  rams = {"sku_typ
+0000a3a0: 6522 3a20 2261 6c6c 227d 0a20 2020 2020  e": "all"}.     
+0000a3b0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0000a3c0: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+0000a3d0: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+0000a3e0: 2020 2320 544f 444f 2074 6f74 616c 2069    # TODO total i
+0000a3f0: 7320 7265 7475 726e 6564 2077 6974 6820  s returned with 
+0000a400: 6669 7273 7420 7265 7175 6573 7420 6361  first request ca
+0000a410: 6e20 6261 7463 6820 7265 6d61 696e 696e  n batch remainin
+0000a420: 6720 7265 7175 6573 7473 2077 6974 6820  g requests with 
+0000a430: 6c69 6d69 742f 6f66 6673 6574 2061 646a  limit/offset adj
+0000a440: 7573 7465 640a 2020 2020 2320 4150 492d  usted.    # API-
+0000a450: 464c 4157 206c 696d 6974 2064 6f65 736e  FLAW limit doesn
+0000a460: 2774 2061 7070 6561 7220 746f 2068 6176  't appear to hav
+0000a470: 6520 616e 2075 7070 6572 206c 696d 6974  e an upper limit
+0000a480: 2c20 6275 7420 746f 6f6b 2066 6f72 6576  , but took forev
+0000a490: 6572 2074 6f20 7265 7475 726e 2035 2c30  er to return 5,0
+0000a4a0: 3030 2072 6563 6f72 6473 0a20 2020 2061  00 records.    a
+0000a4b0: 7379 6e63 2064 6566 2067 6574 5f64 6576  sync def get_dev
+0000a4c0: 6963 655f 696e 7665 6e74 6f72 7928 0a20  ice_inventory(. 
+0000a4d0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0000a4e0: 2020 2020 2073 6b75 5f74 7970 653a 2073       sku_type: s
+0000a4f0: 7472 203d 2022 616c 6c22 2c0a 2020 2020  tr = "all",.    
+0000a500: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
+0000a510: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
+0000a520: 6974 3a20 696e 7420 3d20 3130 3030 2c0a  it: int = 1000,.
+0000a530: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+0000a540: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+0000a550: 7420 6465 7669 6365 7320 6672 6f6d 2064  t devices from d
+0000a560: 6576 6963 6520 696e 7665 6e74 6f72 792e  evice inventory.
+0000a570: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0000a580: 2020 2020 2020 2020 2020 2020 736b 755f              sku_
+0000a590: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
+0000a5a0: 6e61 6c29 3a20 616c 6c2f 6961 702f 7377  nal): all/iap/sw
+0000a5b0: 6974 6368 2f63 6f6e 7472 6f6c 6c65 722f  itch/controller/
+0000a5c0: 6761 7465 7761 792f 7667 772f 6361 702f  gateway/vgw/cap/
+0000a5d0: 626f 632f 616c 6c5f 6170 2f61 6c6c 5f63  boc/all_ap/all_c
+0000a5e0: 6f6e 7472 6f6c 6c65 722f 6f74 6865 7273  ontroller/others
+0000a5f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a600: 2044 6566 6175 6c74 7320 746f 2061 6c6c   Defaults to all
+0000a610: 2e0a 2020 2020 2020 2020 2020 2020 6f66  ..            of
+0000a620: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+0000a630: 6e61 6c29 3a20 6f66 6673 6574 206f 7220  nal): offset or 
+0000a640: 7061 6765 206e 756d 6265 7220 4465 6661  page number Defa
+0000a650: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
+0000a660: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
+0000a670: 742c 206f 7074 696f 6e61 6c29 3a20 4e75  t, optional): Nu
+0000a680: 6d62 6572 206f 6620 6465 7669 6365 7320  mber of devices 
+0000a690: 746f 2067 6574 2044 6566 6175 6c74 7320  to get Defaults 
+0000a6a0: 746f 2031 3030 302e 0a0a 2020 2020 2020  to 1000...      
+0000a6b0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0000a6c0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0000a6d0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0000a6e0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+0000a6f0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000a700: 7572 6c20 3d20 222f 706c 6174 666f 726d  url = "/platform
+0000a710: 2f64 6576 6963 655f 696e 7665 6e74 6f72  /device_inventor
+0000a720: 792f 7631 2f64 6576 6963 6573 220a 0a20  y/v1/devices".. 
+0000a730: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+0000a740: 7b0a 2020 2020 2020 2020 2020 2020 2773  {.            's
+0000a750: 6b75 5f74 7970 6527 3a20 736b 755f 7479  ku_type': sku_ty
+0000a760: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
+0000a770: 276f 6666 7365 7427 3a20 6f66 6673 6574  'offset': offset
+0000a780: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
+0000a790: 696d 6974 273a 206c 696d 6974 0a20 2020  imit': limit.   
+0000a7a0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+0000a7b0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+0000a7c0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
+0000a7d0: 733d 7061 7261 6d73 290a 0a20 2020 2023  s=params)..    #
+0000a7e0: 2054 4f44 4f20 636c 6561 6e75 7020 7468   TODO cleanup th
+0000a7f0: 6520 7761 7920 7261 7720 6973 2063 6f6d  e way raw is com
+0000a800: 6269 6e65 642c 2073 6565 2073 686f 7720  bined, see show 
+0000a810: 7769 6473 2061 6c6c 2e0a 2020 2020 6173  wids all..    as
+0000a820: 796e 6320 6465 6620 6765 745f 616c 6c5f  ync def get_all_
+0000a830: 6465 7669 6365 7376 3228 7365 6c66 2c20  devicesv2(self, 
+0000a840: 2a2a 6b77 6172 6773 2920 2d3e 2052 6573  **kwargs) -> Res
+0000a850: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0000a860: 2222 4765 7420 616c 6c20 6465 7669 6365  ""Get all device
+0000a870: 7320 6672 6f6d 2041 7275 6261 2043 656e  s from Aruba Cen
+0000a880: 7472 616c 0a0a 2020 2020 2020 2020 5265  tral..        Re
+0000a890: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+0000a8a0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+0000a8b0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+0000a8c0: 206f 626a 6563 740a 0a20 2020 2020 2020   object..       
+0000a8d0: 2020 2020 2072 6177 2061 7474 7269 6275       raw attribu
+0000a8e0: 7465 2068 6173 2061 6c6c 206b 6579 7320  te has all keys 
+0000a8f0: 7265 7475 726e 6564 2066 6f72 2074 6865  returned for the
+0000a900: 2064 6576 6963 6573 2c20 7468 6520 6f75   devices, the ou
+0000a910: 7470 7574 2061 7474 7269 6275 7465 0a20  tput attribute. 
+0000a920: 2020 2020 2020 2020 2020 2069 6e63 6c75             inclu
+0000a930: 6465 7320 6f6e 6c79 206b 6579 7320 636f  des only keys co
+0000a940: 6d6d 6f6e 2061 6372 6f73 7320 616c 6c20  mmon across all 
+0000a950: 6465 7669 6365 2074 7970 6573 2069 6e20  device types in 
+0000a960: 6365 6e74 7261 6c2e 0a20 2020 2020 2020  central..       
+0000a970: 2022 2222 0a20 2020 2020 2020 2064 6576   """.        dev
+0000a980: 5f74 7970 6573 203d 205b 2261 7073 222c  _types = ["aps",
+0000a990: 2022 7377 6974 6368 6573 222c 2022 6761   "switches", "ga
+0000a9a0: 7465 7761 7973 225d 2020 2320 6d6f 6269  teways"]  # mobi
+0000a9b0: 6c69 7479 5f63 6f6e 7472 6f6c 6c65 7273  lity_controllers
+0000a9c0: 2073 6565 6d73 2073 616d 6520 6173 2067   seems same as g
+0000a9d0: 770a 2020 2020 2020 2020 6c69 625f 6465  w.        lib_de
+0000a9e0: 765f 7479 7065 7320 3d20 7b0a 2020 2020  v_types = {.    
+0000a9f0: 2020 2020 2020 2020 2261 7073 223a 2022          "aps": "
+0000aa00: 6170 222c 0a20 2020 2020 2020 2020 2020  ap",.           
+0000aa10: 2022 6761 7465 7761 7973 223a 2022 6777   "gateways": "gw
+0000aa20: 222c 0a20 2020 2020 2020 207d 0a20 2020  ",.        }.   
+0000aa30: 2020 2020 205f 6f75 7470 7574 203d 207b       _output = {
+0000aa40: 7d0a 0a20 2020 2020 2020 2072 6571 7320  }..        reqs 
+0000aa50: 3d20 5b73 656c 662e 4261 7463 6852 6571  = [self.BatchReq
+0000aa60: 7565 7374 2873 656c 662e 6765 745f 6465  uest(self.get_de
+0000aa70: 7669 6365 732c 2064 6576 5f74 7970 652c  vices, dev_type,
+0000aa80: 202a 2a6b 7761 7267 7329 2066 6f72 2064   **kwargs) for d
+0000aa90: 6576 5f74 7970 6520 696e 2064 6576 5f74  ev_type in dev_t
+0000aaa0: 7970 6573 5d0a 2020 2020 2020 2020 7265  ypes].        re
+0000aab0: 7320 3d20 6177 6169 7420 7365 6c66 2e5f  s = await self._
+0000aac0: 6261 7463 685f 7265 7175 6573 7428 7265  batch_request(re
+0000aad0: 7173 290a 2020 2020 2020 2020 5f66 6169  qs).        _fai
+0000aae0: 6c75 7265 5f69 6478 7320 3d20 5b69 6478  lure_idxs = [idx
+0000aaf0: 2066 6f72 2069 6478 2c20 7220 696e 2065   for idx, r in e
+0000ab00: 6e75 6d65 7261 7465 2872 6573 2920 6966  numerate(res) if
+0000ab10: 206e 6f74 2072 5d0a 2020 2020 2020 2020   not r].        
+0000ab20: 6966 205f 6661 696c 7572 655f 6964 7873  if _failure_idxs
+0000ab30: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+0000ab40: 7370 203d 2072 6573 5b5f 6661 696c 7572  sp = res[_failur
+0000ab50: 655f 6964 7873 5b2d 315d 5d0a 2020 2020  e_idxs[-1]].    
+0000ab60: 2020 2020 2020 2020 7265 7370 2e6f 7574          resp.out
+0000ab70: 7075 7420 3d20 5b7b 2264 6576 5f74 7970  put = [{"dev_typ
+0000ab80: 6522 3a20 6465 765f 7479 7065 735b 665d  e": dev_types[f]
+0000ab90: 2c20 2265 7272 6f72 223a 2072 6573 5b66  , "error": res[f
+0000aba0: 5d2e 6f75 7470 7574 7d20 666f 7220 6620  ].output} for f 
+0000abb0: 696e 205f 6661 696c 7572 655f 6964 7873  in _failure_idxs
+0000abc0: 5d0a 2020 2020 2020 2020 2020 2020 7265  ].            re
+0000abd0: 7475 726e 2072 6573 700a 0a20 2020 2020  turn resp..     
+0000abe0: 2020 2072 6573 7020 3d20 7265 735b 2d31     resp = res[-1
+0000abf0: 5d0a 2020 2020 2020 2020 5f6f 7574 7075  ].        _outpu
+0000ac00: 7420 3d20 7b6b 3a20 7574 696c 732e 6c69  t = {k: utils.li
+0000ac10: 7374 6966 7928 7629 2066 6f72 206b 2c20  stify(v) for k, 
+0000ac20: 7620 696e 207a 6970 2864 6576 5f74 7970  v in zip(dev_typ
+0000ac30: 6573 2c20 5b72 2e6f 7574 7075 7420 666f  es, [r.output fo
+0000ac40: 7220 7220 696e 2072 6573 5d29 2069 6620  r r in res]) if 
+0000ac50: 767d 0a20 2020 2020 2020 2072 6573 702e  v}.        resp.
+0000ac60: 7261 7720 3d20 7b6b 3a20 7574 696c 732e  raw = {k: utils.
+0000ac70: 6c69 7374 6966 7928 7629 2066 6f72 206b  listify(v) for k
+0000ac80: 2c20 7620 696e 207a 6970 2864 6576 5f74  , v in zip(dev_t
+0000ac90: 7970 6573 2c20 5b72 2e72 6177 2066 6f72  ypes, [r.raw for
+0000aca0: 2072 2069 6e20 7265 735d 2920 6966 2076   r in res]) if v
+0000acb0: 7d0a 0a20 2020 2020 2020 2069 6620 5f6f  }..        if _o
+0000acc0: 7574 7075 743a 0a20 2020 2020 2020 2020  utput:.         
+0000acd0: 2020 2023 2041 6464 2074 7970 6520 6b65     # Add type ke
+0000ace0: 7920 746f 2061 6c6c 2064 6963 7473 2063  y to all dicts c
+0000acf0: 6f76 6572 7420 2273 7769 7463 682d 7479  overt "switch-ty
+0000ad00: 7065 2220 746f 2063 656e 636c 6920 7479  pe" to cencli ty
+0000ad10: 7065 2028 6378 206f 7220 7377 290a 2020  pe (cx or sw).  
+0000ad20: 2020 2020 2020 2020 2020 2320 544f 444f            # TODO
+0000ad30: 206d 6f76 6520 746f 2063 6c65 616e 6572   move to cleaner
+0000ad40: 3f20 7365 7420 7479 7065 2074 6f20 7377  ? set type to sw
+0000ad50: 6974 6368 5f74 7970 6520 666f 7220 7377  itch_type for sw
+0000ad60: 6974 6368 6573 206c 6574 2063 6c65 616e  itches let clean
+0000ad70: 6572 2063 6861 6e67 6520 7661 6c75 6520  er change value 
+0000ad80: 746f 206c 6962 2076 616c 730a 2020 2020  to lib vals.    
+0000ad90: 2020 2020 2020 2020 6469 6374 7320 3d20          dicts = 
+0000ada0: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+0000adb0: 2020 7b0a 2020 2020 2020 2020 2020 2020    {.            
+0000adc0: 2020 2020 2020 2020 2a2a 7b0a 2020 2020          **{.    
+0000add0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ade0: 2020 2020 2274 7970 6522 3a20 6c69 625f      "type": lib_
+0000adf0: 6465 765f 7479 7065 732e 6765 7428 6b2c  dev_types.get(k,
+0000ae00: 206b 2920 6966 206b 2021 3d20 2273 7769   k) if k != "swi
+0000ae10: 7463 6865 7322 2065 6c73 650a 2020 2020  tches" else.    
+0000ae20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae30: 2020 2020 636f 6e73 7461 6e74 732e 6765      constants.ge
+0000ae40: 745f 6365 6e63 6c69 5f64 6576 7479 7065  t_cencli_devtype
+0000ae50: 2869 6e6e 6572 5f64 6963 742e 6765 7428  (inner_dict.get(
+0000ae60: 2273 7769 7463 685f 7479 7065 222c 2022  "switch_type", "
+0000ae70: 7377 6974 6368 2229 290a 2020 2020 2020  switch")).      
+0000ae80: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
+0000ae90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000aea0: 2020 2020 202a 2a7b 0a20 2020 2020 2020       **{.       
+0000aeb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aec0: 206b 6b3a 2076 7620 666f 7220 6b6b 2c20   kk: vv for kk, 
+0000aed0: 7676 2069 6e20 696e 6e65 725f 6469 6374  vv in inner_dict
+0000aee0: 2e69 7465 6d73 2829 0a20 2020 2020 2020  .items().       
+0000aef0: 2020 2020 2020 2020 2020 2020 207d 0a20               }. 
+0000af00: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+0000af10: 2066 6f72 206b 2c20 7620 696e 205f 6f75   for k, v in _ou
+0000af20: 7470 7574 2e69 7465 6d73 2829 2066 6f72  tput.items() for
+0000af30: 2069 6e6e 6572 5f64 6963 7420 696e 2076   inner_dict in v
+0000af40: 0a20 2020 2020 2020 2020 2020 205d 0a20  .            ]. 
+0000af50: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
+0000af60: 4f20 6b65 6570 2061 6c6c 2066 6965 6c64  O keep all field
+0000af70: 7320 696e 206f 7574 7075 7420 6469 6374  s in output dict
+0000af80: 2c20 6c65 7420 636c 6561 6e65 7220 6465  , let cleaner de
+0000af90: 6669 6e65 2066 6965 6c64 2066 6f72 206e  fine field for n
+0000afa0: 6f72 6d61 6c20 616e 6420 7665 7262 6f73  ormal and verbos
+0000afb0: 6520 6f70 7469 6f6e 730a 2020 2020 2020  e options.      
+0000afc0: 2020 2020 2020 2320 2020 2020 2069 6620        #      if 
+0000afd0: 7573 6572 2073 656c 6563 7473 202d 2d6a  user selects --j
+0000afe0: 736f 6e20 6f72 202d 2d79 616d 6c20 6b65  son or --yaml ke
+0000aff0: 6570 2061 6c6c 2066 6965 6c64 730a 2020  ep all fields.  
+0000b000: 2020 2020 2020 2020 2020 2320 7265 7475            # retu
+0000b010: 726e 206a 7573 7420 7468 6520 6b65 7973  rn just the keys
+0000b020: 2063 6f6d 6d6f 6e20 6163 726f 7373 2061   common across a
+0000b030: 6c6c 2064 6576 6963 6520 7479 7065 730a  ll device types.
+0000b040: 2020 2020 2020 2020 2020 2020 636f 6d6d              comm
+0000b050: 6f6e 5f6b 6579 7320 3d20 7365 742e 696e  on_keys = set.in
+0000b060: 7465 7273 6563 7469 6f6e 282a 6d61 7028  tersection(*map(
+0000b070: 7365 742c 2064 6963 7473 2929 0a20 2020  set, dicts)).   
+0000b080: 2020 2020 2020 2020 205f 6f75 7470 7574           _output
+0000b090: 203d 205b 7b6b 3a20 645b 6b5d 2066 6f72   = [{k: d[k] for
+0000b0a0: 206b 2069 6e20 636f 6d6d 6f6e 5f6b 6579   k in common_key
+0000b0b0: 737d 2066 6f72 2064 2069 6e20 6469 6374  s} for d in dict
+0000b0c0: 735d 0a0a 2020 2020 2020 2020 2020 2020  s]..            
+0000b0d0: 7265 7370 2e6f 7574 7075 7420 3d20 5f6f  resp.output = _o
+0000b0e0: 7574 7075 740a 0a20 2020 2020 2020 2072  utput..        r
+0000b0f0: 6574 7572 6e20 7265 7370 0a0a 2020 2020  eturn resp..    
+0000b100: 6173 796e 6320 6465 6620 6765 745f 7377  async def get_sw
+0000b110: 6974 6368 5f70 6f72 7473 2873 656c 662c  itch_ports(self,
+0000b120: 2073 6572 6961 6c3a 2073 7472 2c20 736c   serial: str, sl
+0000b130: 6f74 3a20 7374 7220 3d20 4e6f 6e65 2c20  ot: str = None, 
+0000b140: 6378 3a20 626f 6f6c 203d 2046 616c 7365  cx: bool = False
+0000b150: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+0000b160: 2020 2020 2020 2022 2222 5377 6974 6368         """Switch
+0000b170: 2050 6f72 7473 2044 6574 6169 6c73 2e0a   Ports Details..
+0000b180: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0000b190: 2020 2020 2020 2020 2020 2073 6572 6961             seria
+0000b1a0: 6c20 2873 7472 293a 2053 6572 6961 6c20  l (str): Serial 
+0000b1b0: 6e75 6d62 6572 206f 6620 7377 6974 6368  number of switch
+0000b1c0: 2074 6f20 6265 2071 7565 7269 6564 0a20   to be queried. 
+0000b1d0: 2020 2020 2020 2020 2020 2073 6c6f 7420             slot 
+0000b1e0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0000b1f0: 2053 6c6f 7420 6e61 6d65 206f 6620 7468   Slot name of th
+0000b200: 6520 706f 7274 7320 746f 2062 6520 7175  e ports to be qu
+0000b210: 6572 6965 6420 7b46 6f72 2063 6861 7373  eried {For chass
+0000b220: 6973 2074 7970 6520 7377 6974 6368 6573  is type switches
+0000b230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b240: 206f 6e6c 797d 2e0a 2020 2020 2020 2020   only}..        
+0000b250: 2020 2020 6378 2028 626f 6f6c 2c20 6f70      cx (bool, op
+0000b260: 7469 6f6e 616c 293a 2053 6574 2074 6f20  tional): Set to 
+0000b270: 5472 7565 2066 6f72 2041 7275 6261 4f53  True for ArubaOS
+0000b280: 2d43 5820 7377 6974 6368 6573 2e0a 0a20  -CX switches... 
+0000b290: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+0000b2a0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+0000b2b0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+0000b2c0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+0000b2d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000b2e0: 2020 2020 2023 2054 4f44 4f20 7265 6d6f       # TODO remo
+0000b2f0: 7665 206f 6e63 6520 636f 6e66 6972 6d65  ve once confirme
+0000b300: 6420 7468 6520 6378 5f20 7572 6c73 2068  d the cx_ urls h
+0000b310: 6176 6520 6265 656e 2064 6570 7265 6361  ave been depreca
+0000b320: 7465 6420 696e 2066 6176 6f72 206f 6620  ted in favor of 
+0000b330: 7468 6520 6c6f 6769 6361 6c20 726f 7574  the logical rout
+0000b340: 6520 6f66 2068 6176 696e 6720 7468 650a  e of having the.
+0000b350: 2020 2020 2020 2020 2320 6f6e 6520 7572          # one ur
+0000b360: 6c20 776f 726b 2066 6f72 2062 6f74 682e  l work for both.
+0000b370: 0a20 2020 2020 2020 2023 2073 775f 7572  .        # sw_ur
+0000b380: 6c20 3d20 2263 785f 7377 6974 6368 6573  l = "cx_switches
+0000b390: 2220 6966 2063 7820 656c 7365 2022 7377  " if cx else "sw
+0000b3a0: 6974 6368 6573 220a 2020 2020 2020 2020  itches".        
+0000b3b0: 2320 7572 6c20 3d20 6622 2f6d 6f6e 6974  # url = f"/monit
+0000b3c0: 6f72 696e 672f 7631 2f7b 7377 5f75 726c  oring/v1/{sw_url
+0000b3d0: 7d2f 7b73 6572 6961 6c7d 2f70 6f72 7473  }/{serial}/ports
+0000b3e0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+0000b3f0: 6622 2f6d 6f6e 6974 6f72 696e 672f 7631  f"/monitoring/v1
+0000b400: 2f73 7769 7463 6865 732f 7b73 6572 6961  /switches/{seria
+0000b410: 6c7d 2f70 6f72 7473 220a 0a20 2020 2020  l}/ports"..     
+0000b420: 2020 2070 6172 616d 7320 3d20 7b22 736c     params = {"sl
+0000b430: 6f74 223a 2073 6c6f 747d 0a0a 2020 2020  ot": slot}..    
+0000b440: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+0000b450: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+0000b460: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+0000b470: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+0000b480: 5f73 7769 7463 685f 706f 655f 6465 7461  _switch_poe_deta
+0000b490: 696c 7328 0a20 2020 2020 2020 2073 656c  ils(.        sel
+0000b4a0: 662c 0a20 2020 2020 2020 2073 6572 6961  f,.        seria
+0000b4b0: 6c3a 2073 7472 2c0a 2020 2020 2020 2020  l: str,.        
+0000b4c0: 706f 7274 3a20 7374 7220 3d20 4e6f 6e65  port: str = None
+0000b4d0: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+0000b4e0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+0000b4f0: 4765 7420 7377 6974 6368 2070 6f65 2069  Get switch poe i
+0000b500: 6e66 6f2e 0a0a 2020 2020 2020 2020 4172  nfo...        Ar
+0000b510: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+0000b520: 7365 7269 616c 2028 7374 7229 3a20 5377  serial (str): Sw
+0000b530: 6974 6368 2073 6572 6961 6c0a 2020 2020  itch serial.    
+0000b540: 2020 2020 2020 2020 706f 7274 2028 7374          port (st
+0000b550: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+0000b560: 6c74 6572 2062 7920 7377 6974 6368 2070  lter by switch p
+0000b570: 6f72 740a 0a20 2020 2020 2020 2052 6574  ort..        Ret
+0000b580: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0000b590: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0000b5a0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0000b5b0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0000b5c0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+0000b5d0: 2066 222f 6d6f 6e69 746f 7269 6e67 2f76   f"/monitoring/v
+0000b5e0: 312f 7377 6974 6368 6573 2f7b 7365 7269  1/switches/{seri
+0000b5f0: 616c 7d2f 706f 655f 6465 7461 696c 220a  al}/poe_detail".
+0000b600: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
+0000b610: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0000b620: 2770 6f72 7427 3a20 7374 7228 706f 7274  'port': str(port
+0000b630: 290a 2020 2020 2020 2020 7d0a 0a20 2020  ).        }..   
+0000b640: 2020 2020 2069 6620 6e6f 7420 706f 7274       if not port
+0000b650: 3a0a 2020 2020 2020 2020 2020 2020 7572  :.            ur
+0000b660: 6c20 3d20 6622 7b75 726c 7d73 220a 2020  l = f"{url}s".  
+0000b670: 2020 2020 2020 2020 2020 7061 7261 6d73            params
+0000b680: 203d 207b 7d0a 0a20 2020 2020 2020 2072   = {}..        r
+0000b690: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+0000b6a0: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+0000b6b0: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
+0000b6c0: 796e 6320 6465 6620 6765 745f 6761 7465  ync def get_gate
+0000b6d0: 7761 795f 706f 7274 7328 7365 6c66 2c20  way_ports(self, 
+0000b6e0: 7365 7269 616c 3a20 7374 7229 202d 3e20  serial: str) -> 
+0000b6f0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+0000b700: 2020 2222 2247 6174 6577 6179 2050 6f72    """Gateway Por
+0000b710: 7473 2044 6574 6169 6c73 2e0a 0a20 2020  ts Details...   
+0000b720: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+0000b730: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
+0000b740: 7472 293a 2053 6572 6961 6c20 6e75 6d62  tr): Serial numb
+0000b750: 6572 206f 6620 4761 7465 7761 7920 746f  er of Gateway to
+0000b760: 2062 6520 7175 6572 6965 640a 0a20 2020   be queried..   
+0000b770: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+0000b780: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+0000b790: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+0000b7a0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+0000b7b0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000b7c0: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
+0000b7d0: 746f 7269 6e67 2f76 312f 6761 7465 7761  toring/v1/gatewa
+0000b7e0: 7973 2f7b 7365 7269 616c 7d2f 706f 7274  ys/{serial}/port
+0000b7f0: 7322 0a0a 2020 2020 2020 2020 7265 7475  s"..        retu
+0000b800: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+0000b810: 7428 7572 6c29 0a0a 2020 2020 6173 796e  t(url)..    asyn
+0000b820: 6320 6465 6620 6765 745f 6465 765f 6279  c def get_dev_by
+0000b830: 5f74 7970 6528 0a20 2020 2020 2020 2020  _type(.         
+0000b840: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0000b850: 2020 2020 2064 6576 5f74 7970 653a 2073       dev_type: s
+0000b860: 7472 2c0a 2020 2020 2020 2020 2920 2d3e  tr,.        ) ->
+0000b870: 2052 6573 706f 6e73 653a 2020 2320 5645   Response:  # VE
+0000b880: 5249 4649 4544 0a20 2020 2020 2020 2075  RIFIED.        u
+0000b890: 726c 203d 2022 2f70 6c61 7466 6f72 6d2f  rl = "/platform/
+0000b8a0: 6465 7669 6365 5f69 6e76 656e 746f 7279  device_inventory
+0000b8b0: 2f76 312f 6465 7669 6365 7322 0a20 2020  /v1/devices".   
+0000b8c0: 2020 2020 2023 2069 6170 2c20 7377 6974       # iap, swit
+0000b8d0: 6368 2c20 6761 7465 7761 797c 626f 630a  ch, gateway|boc.
+0000b8e0: 2020 2020 2020 2020 6966 2064 6576 5f74          if dev_t
+0000b8f0: 7970 652e 6c6f 7765 7228 2920 696e 205b  ype.lower() in [
+0000b900: 2261 7073 222c 2022 6170 225d 3a0a 2020  "aps", "ap"]:.  
+0000b910: 2020 2020 2020 2020 2020 6465 765f 7479            dev_ty
+0000b920: 7065 203d 2022 616c 6c5f 6170 220a 2020  pe = "all_ap".  
+0000b930: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+0000b940: 2273 6b75 5f74 7970 6522 3a20 6465 765f  "sku_type": dev_
+0000b950: 7479 7065 7d0a 2020 2020 2020 2020 7265  type}.        re
+0000b960: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0000b970: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
+0000b980: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
+0000b990: 6e63 2064 6566 2067 6574 5f76 6172 6961  nc def get_varia
+0000b9a0: 626c 6973 6564 5f74 656d 706c 6174 6528  blised_template(
+0000b9b0: 7365 6c66 2c20 7365 7269 616c 6e75 6d3a  self, serialnum:
+0000b9c0: 2073 7472 2920 2d3e 2052 6573 706f 6e73   str) -> Respons
+0000b9d0: 653a 2020 2320 5645 5249 4649 4544 0a20  e:  # VERIFIED. 
+0000b9e0: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+0000b9f0: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
+0000ba00: 2f64 6576 6963 6573 2f7b 7365 7269 616c  /devices/{serial
+0000ba10: 6e75 6d7d 2f76 6172 6961 626c 6973 6564  num}/variablised
+0000ba20: 5f74 656d 706c 6174 6522 0a20 2020 2020  _template".     
+0000ba30: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0000ba40: 7365 6c66 2e67 6574 2875 726c 290a 0a20  self.get(url).. 
+0000ba50: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+0000ba60: 5f76 6172 6961 626c 6573 2873 656c 662c  _variables(self,
+0000ba70: 2073 6572 6961 6c6e 756d 3a20 7374 7220   serialnum: str 
+0000ba80: 3d20 4e6f 6e65 2920 2d3e 2052 6573 706f  = None) -> Respo
+0000ba90: 6e73 653a 0a20 2020 2020 2020 2069 6620  nse:.        if 
+0000baa0: 7365 7269 616c 6e75 6d20 616e 6420 7365  serialnum and se
+0000bab0: 7269 616c 6e75 6d20 213d 2022 616c 6c22  rialnum != "all"
+0000bac0: 3a0a 2020 2020 2020 2020 2020 2020 7572  :.            ur
+0000bad0: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+0000bae0: 7469 6f6e 2f76 312f 6465 7669 6365 732f  tion/v1/devices/
+0000baf0: 7b73 6572 6961 6c6e 756d 7d2f 7465 6d70  {serialnum}/temp
+0000bb00: 6c61 7465 5f76 6172 6961 626c 6573 220a  late_variables".
+0000bb10: 2020 2020 2020 2020 2020 2020 7061 7261              para
+0000bb20: 6d73 203d 207b 7d0a 2020 2020 2020 2020  ms = {}.        
+0000bb30: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000bb40: 2020 7572 6c20 3d20 222f 636f 6e66 6967    url = "/config
+0000bb50: 7572 6174 696f 6e2f 7631 2f64 6576 6963  uration/v1/devic
+0000bb60: 6573 2f74 656d 706c 6174 655f 7661 7269  es/template_vari
+0000bb70: 6162 6c65 7322 0a20 2020 2020 2020 2020  ables".         
+0000bb80: 2020 2070 6172 616d 7320 3d20 7b22 6c69     params = {"li
+0000bb90: 6d69 7422 3a20 3230 2c20 226f 6666 7365  mit": 20, "offse
+0000bba0: 7422 3a20 307d 0a20 2020 2020 2020 2072  t": 0}.        r
+0000bbb0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+0000bbc0: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+0000bbd0: 3d70 6172 616d 7329 0a0a 2020 2020 2320  =params)..    # 
+0000bbe0: 6173 796e 6320 6465 6620 7570 6461 7465  async def update
+0000bbf0: 5f76 6172 6961 626c 6573 2873 656c 662c  _variables(self,
+0000bc00: 2073 6572 6961 6c6e 756d 3a20 7374 722c   serialnum: str,
+0000bc10: 202a 2a76 6172 5f64 6963 743a 2064 6963   **var_dict: dic
+0000bc20: 7429 202d 3e20 626f 6f6c 3a0a 2020 2020  t) -> bool:.    
+0000bc30: 2320 2020 2020 7572 6c20 3d20 6622 2f63  #     url = f"/c
+0000bc40: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
+0000bc50: 6465 7669 6365 732f 7b73 6572 6961 6c6e  devices/{serialn
+0000bc60: 756d 7d2f 7465 6d70 6c61 7465 5f76 6172  um}/template_var
+0000bc70: 6961 626c 6573 220a 2020 2020 2320 2020  iables".    #   
+0000bc80: 2020 7661 725f 6469 6374 203d 206a 736f    var_dict = jso
+0000bc90: 6e2e 6475 6d70 7328 7661 725f 6469 6374  n.dumps(var_dict
+0000bca0: 290a 2020 2020 2320 2020 2020 7265 7475  ).    #     retu
+0000bcb0: 726e 2061 7761 6974 2073 656c 662e 7061  rn await self.pa
+0000bcc0: 7463 6828 7572 6c2c 2070 6179 6c6f 6164  tch(url, payload
+0000bcd0: 3d76 6172 5f64 6963 7429 0a0a 2020 2020  =var_dict)..    
+0000bce0: 2320 544f 444f 2066 6967 7572 6520 6f75  # TODO figure ou
+0000bcf0: 7420 686f 7720 746f 206d 616b 6520 7468  t how to make th
+0000bd00: 6973 2077 6f72 6b2c 206e 6565 6420 6669  is work, need fi
+0000bd10: 6c65 206c 696b 6520 6f62 6a65 6374 0a20  le like object. 
+0000bd20: 2020 2061 7379 6e63 2064 6566 2075 7064     async def upd
+0000bd30: 6174 655f 6465 7669 6365 5f74 656d 706c  ate_device_templ
+0000bd40: 6174 655f 7661 7269 6162 6c65 7328 0a20  ate_variables(. 
+0000bd50: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0000bd60: 2020 2020 2064 6576 6963 655f 7365 7269       device_seri
+0000bd70: 616c 3a20 7374 722c 0a20 2020 2020 2020  al: str,.       
+0000bd80: 2064 6576 6963 655f 6d61 633a 2073 7472   device_mac: str
+0000bd90: 2c0a 2020 2020 2020 2020 2320 746f 7461  ,.        # tota
+0000bda0: 6c3a 2069 6e74 2c0a 2020 2020 2020 2020  l: int,.        
+0000bdb0: 2320 5f73 7973 5f73 6572 6961 6c3a 2073  # _sys_serial: s
+0000bdc0: 7472 2c0a 2020 2020 2020 2020 2320 5f73  tr,.        # _s
+0000bdd0: 7973 5f6c 616e 5f6d 6163 3a20 7374 722c  ys_lan_mac: str,
+0000bde0: 0a20 2020 2020 2020 2076 6172 5f64 6963  .        var_dic
+0000bdf0: 743a 2064 6963 742c 0a20 2020 2029 202d  t: dict,.    ) -
+0000be00: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+0000be10: 2020 2020 2222 2255 7064 6174 6520 7465      """Update te
+0000be20: 6d70 6c61 7465 2076 6172 6961 626c 6573  mplate variables
+0000be30: 2066 6f72 2061 2064 6576 6963 652e 0a0a   for a device...
+0000be40: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+0000be50: 2020 2020 2020 2020 2020 6465 7669 6365            device
+0000be60: 5f73 6572 6961 6c20 2873 7472 293a 2053  _serial (str): S
+0000be70: 6572 6961 6c20 6e75 6d62 6572 206f 6620  erial number of 
+0000be80: 7468 6520 6465 7669 6365 2e0a 2020 2020  the device..    
+0000be90: 2020 2020 2020 2020 746f 7461 6c20 2869          total (i
+0000bea0: 6e74 293a 2074 6f74 616c 0a20 2020 2020  nt): total.     
+0000beb0: 2020 2020 2020 205f 7379 735f 7365 7269         _sys_seri
+0000bec0: 616c 2028 7374 7229 3a20 5f73 7973 5f73  al (str): _sys_s
+0000bed0: 6572 6961 6c0a 2020 2020 2020 2020 2020  erial.          
+0000bee0: 2020 5f73 7973 5f6c 616e 5f6d 6163 2028    _sys_lan_mac (
+0000bef0: 7374 7229 3a20 5f73 7973 5f6c 616e 5f6d  str): _sys_lan_m
+0000bf00: 6163 0a20 2020 2020 2020 2020 2020 2076  ac.            v
+0000bf10: 6172 5f64 6963 7420 2864 6963 7429 3a20  ar_dict (dict): 
+0000bf20: 6469 6374 2077 6974 6820 7661 7269 6162  dict with variab
+0000bf30: 6c65 7320 746f 2062 6520 7570 6461 7465  les to be update
+0000bf40: 640a 0a20 2020 2020 2020 2052 6574 7572  d..        Retur
+0000bf50: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0000bf60: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+0000bf70: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+0000bf80: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+0000bf90: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
+0000bfa0: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
+0000bfb0: 7631 2f64 6576 6963 6573 2f7b 6465 7669  v1/devices/{devi
+0000bfc0: 6365 5f73 6572 6961 6c7d 2f74 656d 706c  ce_serial}/templ
+0000bfd0: 6174 655f 7661 7269 6162 6c65 7322 0a20  ate_variables". 
+0000bfe0: 2020 2020 2020 2023 2068 6561 6465 7273         # headers
+0000bff0: 203d 207b 2243 6f6e 7465 6e74 2d54 7970   = {"Content-Typ
+0000c000: 6522 3a20 226d 756c 7469 7061 7274 2f66  e": "multipart/f
+0000c010: 6f72 6d2d 6461 7461 227d 0a0a 2020 2020  orm-data"}..    
+0000c020: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
+0000c030: 7b0a 2020 2020 2020 2020 2020 2020 2774  {.            't
+0000c040: 6f74 616c 273a 206c 656e 2876 6172 5f64  otal': len(var_d
+0000c050: 6963 7429 202b 2032 2c0a 2020 2020 2020  ict) + 2,.      
+0000c060: 2020 2020 2020 2276 6172 6961 626c 6573        "variables
+0000c070: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
+0000c080: 2020 2020 202a 2a7b 0a20 2020 2020 2020       **{.       
+0000c090: 2020 2020 2020 2020 2020 2020 2027 5f73               '_s
+0000c0a0: 7973 5f73 6572 6961 6c27 3a20 6465 7669  ys_serial': devi
+0000c0b0: 6365 5f73 6572 6961 6c2c 0a20 2020 2020  ce_serial,.     
+0000c0c0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0000c0d0: 5f73 7973 5f6c 616e 5f6d 6163 273a 2064  _sys_lan_mac': d
+0000c0e0: 6576 6963 655f 6d61 632c 0a20 2020 2020  evice_mac,.     
+0000c0f0: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
+0000c100: 2020 2020 2020 2020 2020 2020 2020 2a2a                **
+0000c110: 7661 725f 6469 6374 0a20 2020 2020 2020  var_dict.       
+0000c120: 2020 2020 207d 0a20 2020 2020 2020 207d       }.        }
+0000c130: 0a20 2020 2020 2020 2023 2064 6174 6120  .        # data 
+0000c140: 3d20 7365 6c66 2e5f 6d61 6b65 5f66 6f72  = self._make_for
+0000c150: 6d5f 6461 7461 286a 736f 6e5f 6461 7461  m_data(json_data
+0000c160: 290a 2020 2020 2020 2020 2320 6461 7461  ).        # data
+0000c170: 203d 206d 756c 7469 7061 7274 6966 7928   = multipartify(
+0000c180: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
+0000c190: 2020 2020 2320 7265 7475 726e 2061 7761      # return awa
+0000c1a0: 6974 2073 656c 662e 7061 7463 6828 7572  it self.patch(ur
+0000c1b0: 6c2c 2068 6561 6465 7273 3d68 6561 6465  l, headers=heade
+0000c1c0: 7273 2c20 6461 7461 3d64 6174 6129 0a20  rs, data=data). 
+0000c1d0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+0000c1e0: 6169 7420 7365 6c66 2e70 6174 6368 2875  ait self.patch(u
+0000c1f0: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
+0000c200: 6f6e 5f64 6174 6129 0a0a 2020 2020 2320  on_data)..    # 
+0000c210: 4150 492d 464c 4157 2020 5365 656d 7320  API-FLAW  Seems 
+0000c220: 746f 2077 6f72 6b20 6669 6e65 2066 6f72  to work fine for
+0000c230: 2063 782c 2061 702c 2062 7574 2067 7720   cx, ap, but gw 
+0000c240: 7468 6520 7265 7475 726e 2069 730a 2020  the return is.  
+0000c250: 2020 2320 2246 6574 6368 696e 6720 636f    # "Fetching co
+0000c260: 6e66 6967 7572 6174 696f 6e20 696e 2070  nfiguration in p
+0000c270: 726f 6772 6573 7320 666f 7220 4d6f 6269  rogress for Mobi
+0000c280: 6c69 7479 2043 6f6e 7472 6f6c 6c65 7220  lity Controller 
+0000c290: 5345 5249 414c 2f4d 4143 220a 2020 2020  SERIAL/MAC".    
+0000c2a0: 2320 7375 6273 6571 7565 6e74 2063 616c  # subsequent cal
+0000c2b0: 6c73 2066 6f72 2074 6865 2073 616d 6520  ls for the same 
+0000c2c0: 6777 2072 6574 7572 6e20 3530 3020 696e  gw return 500 in
+0000c2d0: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
+0000c2e0: 726f 722e 0a20 2020 2023 2046 4958 4d45  ror..    # FIXME
+0000c2f0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+0000c300: 6574 5f64 6576 6963 655f 636f 6e66 6967  et_device_config
+0000c310: 7572 6174 696f 6e28 7365 6c66 2c20 6465  uration(self, de
+0000c320: 7669 6365 5f73 6572 6961 6c3a 2073 7472  vice_serial: str
+0000c330: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+0000c340: 2020 2020 2020 2022 2222 4765 7420 6c61         """Get la
+0000c350: 7374 206b 6e6f 776e 2072 756e 6e69 6e67  st known running
+0000c360: 2063 6f6e 6669 6775 7261 7469 6f6e 2066   configuration f
+0000c370: 6f72 2061 2064 6576 6963 652e 0a0a 2020  or a device...  
+0000c380: 2020 2020 2020 2f2f 2055 7365 6420 6279        // Used by
+0000c390: 2073 686f 7720 7275 6e20 3c44 4556 4943   show run <DEVIC
+0000c3a0: 452d 4944 454e 3e20 2f2f 0a0a 2020 2020  E-IDEN> //..    
+0000c3b0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+0000c3c0: 2020 2020 2020 6465 7669 6365 5f73 6572        device_ser
+0000c3d0: 6961 6c20 2873 7472 293a 2053 6572 6961  ial (str): Seria
+0000c3e0: 6c20 6e75 6d62 6572 206f 6620 7468 6520  l number of the 
+0000c3f0: 6465 7669 6365 2e0a 0a20 2020 2020 2020  device...       
+0000c400: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+0000c410: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+0000c420: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+0000c430: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+0000c440: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+0000c450: 726c 203d 2066 222f 636f 6e66 6967 7572  rl = f"/configur
+0000c460: 6174 696f 6e2f 7631 2f64 6576 6963 6573  ation/v1/devices
+0000c470: 2f7b 6465 7669 6365 5f73 6572 6961 6c7d  /{device_serial}
+0000c480: 2f63 6f6e 6669 6775 7261 7469 6f6e 220a  /configuration".
+0000c490: 2020 2020 2020 2020 6865 6164 6572 7320          headers 
+0000c4a0: 3d20 7b22 4163 6365 7074 223a 2022 6d75  = {"Accept": "mu
+0000c4b0: 6c74 6970 6172 742f 666f 726d 2d64 6174  ltipart/form-dat
+0000c4c0: 6122 7d0a 0a20 2020 2020 2020 2072 6574  a"}..        ret
+0000c4d0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+0000c4e0: 6574 2875 726c 2c20 6865 6164 6572 733d  et(url, headers=
+0000c4f0: 6865 6164 6572 7329 0a0a 2020 2020 6173  headers)..    as
+0000c500: 796e 6320 6465 6620 6765 745f 6273 7369  ync def get_bssi
+0000c510: 6473 280a 2020 2020 2020 2020 7365 6c66  ds(.        self
+0000c520: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
+0000c530: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0000c540: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
+0000c550: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0000c560: 2020 206c 6162 656c 3a20 7374 7220 3d20     label: str = 
+0000c570: 4e6f 6e65 2c0a 2020 2020 2020 2020 7369  None,.        si
+0000c580: 7465 3a20 7374 7220 3d20 4e6f 6e65 2c0a  te: str = None,.
+0000c590: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
+0000c5a0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0000c5b0: 2020 2020 6d61 6361 6464 723a 2073 7472      macaddr: str
+0000c5c0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000c5d0: 2063 6c75 7374 6572 5f69 643a 2073 7472   cluster_id: str
+0000c5e0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000c5f0: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
+0000c600: 3a20 626f 6f6c 203d 204e 6f6e 652c 0a20  : bool = None,. 
+0000c610: 2020 2020 2020 2073 6f72 743a 2073 7472         sort: str
+0000c620: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000c630: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
+0000c640: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
+0000c650: 2069 6e74 203d 2031 3030 302c 0a20 2020   int = 1000,.   
+0000c660: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+0000c670: 2020 2020 2020 2020 2222 224c 6973 7420          """List 
+0000c680: 4253 5349 4473 2e0a 0a20 2020 2020 2020  BSSIDs...       
+0000c690: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+0000c6a0: 2020 2067 726f 7570 2028 7374 722c 206f     group (str, o
+0000c6b0: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+0000c6c0: 2062 7920 6772 6f75 7020 6e61 6d65 0a20   by group name. 
+0000c6d0: 2020 2020 2020 2020 2020 2073 7761 726d             swarm
+0000c6e0: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
+0000c6f0: 616c 293a 2046 696c 7465 7220 6279 2053  al): Filter by S
+0000c700: 7761 726d 2049 440a 2020 2020 2020 2020  warm ID.        
+0000c710: 2020 2020 6c61 6265 6c20 2873 7472 2c20      label (str, 
+0000c720: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+0000c730: 7220 6279 204c 6162 656c 206e 616d 650a  r by Label name.
+0000c740: 2020 2020 2020 2020 2020 2020 7369 7465              site
+0000c750: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0000c760: 3a20 4669 6c74 6572 2062 7920 5369 7465  : Filter by Site
+0000c770: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
+0000c780: 2020 7365 7269 616c 2028 7374 722c 206f    serial (str, o
+0000c790: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+0000c7a0: 2062 7920 4150 2073 6572 6961 6c20 6e75   by AP serial nu
+0000c7b0: 6d62 6572 0a20 2020 2020 2020 2020 2020  mber.           
+0000c7c0: 206d 6163 6164 6472 2028 7374 722c 206f   macaddr (str, o
+0000c7d0: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+0000c7e0: 2062 7920 4150 204d 4143 2061 6464 7265   by AP MAC addre
+0000c7f0: 7373 0a20 2020 2020 2020 2020 2020 2063  ss.            c
+0000c800: 6c75 7374 6572 5f69 6420 2873 7472 2c20  luster_id (str, 
+0000c810: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+0000c820: 7220 6279 204d 6f62 696c 6974 7920 436f  r by Mobility Co
+0000c830: 6e74 726f 6c6c 6572 2073 6572 6961 6c20  ntroller serial 
+0000c840: 6e75 6d62 6572 0a20 2020 2020 2020 2020  number.         
+0000c850: 2020 2063 616c 6375 6c61 7465 5f74 6f74     calculate_tot
+0000c860: 616c 2028 626f 6f6c 2c20 6f70 7469 6f6e  al (bool, option
+0000c870: 616c 293a 2057 6865 7468 6572 2074 6f20  al): Whether to 
+0000c880: 6361 6c63 756c 6174 6520 746f 7461 6c20  calculate total 
+0000c890: 4150 730a 2020 2020 2020 2020 2020 2020  APs.            
+0000c8a0: 736f 7274 2028 7374 722c 206f 7074 696f  sort (str, optio
+0000c8b0: 6e61 6c29 3a20 536f 7274 2070 6172 616d  nal): Sort param
+0000c8c0: 6574 6572 206d 6179 2062 6520 6f6e 6520  eter may be one 
+0000c8d0: 6f66 202b 7365 7269 616c 2c20 2d73 6572  of +serial, -ser
+0000c8e0: 6961 6c2c 202b 6d61 6361 6464 722c 2d6d  ial, +macaddr,-m
+0000c8f0: 6163 6164 6472 2c0a 2020 2020 2020 2020  acaddr,.        
+0000c900: 2020 2020 2020 2020 2b73 7761 726d 5f69          +swarm_i
+0000c910: 642c 202d 7377 6172 6d5f 6964 2e44 6566  d, -swarm_id.Def
+0000c920: 6175 6c74 2069 7320 272b 7365 7269 616c  ault is '+serial
+0000c930: 270a 2020 2020 2020 2020 2020 2020 6f66  '.            of
+0000c940: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+0000c950: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+0000c960: 206f 6666 7365 7420 4465 6661 756c 7473   offset Defaults
+0000c970: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
+0000c980: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
+0000c990: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
+0000c9a0: 7469 6f6e 206c 696d 6974 2e20 4465 6661  tion limit. Defa
+0000c9b0: 756c 7420 6973 2031 3030 2061 6e64 206d  ult is 100 and m
+0000c9c0: 6178 2069 7320 3130 3030 2044 6566 6175  ax is 1000 Defau
+0000c9d0: 6c74 7320 746f 2031 3030 302e 0a0a 2020  lts to 1000...  
+0000c9e0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0000c9f0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0000ca00: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0000ca10: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0000ca20: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000ca30: 2020 2020 7572 6c20 3d20 222f 6d6f 6e69      url = "/moni
+0000ca40: 746f 7269 6e67 2f76 322f 6273 7369 6473  toring/v2/bssids
+0000ca50: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
+0000ca60: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+0000ca70: 2020 2773 6572 6961 6c27 3a20 7365 7269    'serial': seri
+0000ca80: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
+0000ca90: 2267 726f 7570 223a 2067 726f 7570 2c0a  "group": group,.
+0000caa0: 2020 2020 2020 2020 2020 2020 2273 7761              "swa
+0000cab0: 726d 5f69 6422 3a20 7377 6172 6d5f 6964  rm_id": swarm_id
+0000cac0: 2c0a 2020 2020 2020 2020 2020 2020 226c  ,.            "l
+0000cad0: 6162 656c 223a 206c 6162 656c 2c0a 2020  abel": label,.  
+0000cae0: 2020 2020 2020 2020 2020 2273 6974 6522            "site"
+0000caf0: 3a20 7369 7465 2c0a 2020 2020 2020 2020  : site,.        
+0000cb00: 2020 2020 276d 6163 6164 6472 273a 206d      'macaddr': m
+0000cb10: 6163 6164 6472 2c0a 2020 2020 2020 2020  acaddr,.        
+0000cb20: 2020 2020 2763 6c75 7374 6572 5f69 6427      'cluster_id'
+0000cb30: 3a20 636c 7573 7465 725f 6964 2c0a 2020  : cluster_id,.  
+0000cb40: 2020 2020 2020 2020 2020 2763 616c 6375            'calcu
+0000cb50: 6c61 7465 5f74 6f74 616c 273a 2063 616c  late_total': cal
+0000cb60: 6375 6c61 7465 5f74 6f74 616c 2c0a 2020  culate_total,.  
+0000cb70: 2020 2020 2020 2020 2020 2773 6f72 7427            'sort'
+0000cb80: 3a20 736f 7274 2c0a 2020 2020 2020 2020  : sort,.        
+0000cb90: 2020 2020 226f 6666 7365 7422 3a20 6f66      "offset": of
+0000cba0: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
+0000cbb0: 2020 226c 696d 6974 223a 206c 696d 6974    "limit": limit
+0000cbc0: 2c0a 2020 2020 2020 2020 7d0a 0a20 2020  ,.        }..   
+0000cbd0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+0000cbe0: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
+0000cbf0: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
+0000cc00: 2020 2020 2320 544f 444f 2063 6861 6e67      # TODO chang
+0000cc10: 6520 6465 765f 7479 7065 2074 6f20 7573  e dev_type to us
+0000cc20: 6520 5b67 772c 2073 772c 2063 782c 2061  e [gw, sw, cx, a
+0000cc30: 702c 2073 7769 7463 685d 2020 6d61 6b65  p, switch]  make
+0000cc40: 2063 6f6e 7369 7374 656e 7420 666f 7220   consistent for 
+0000cc50: 616c 6c20 6361 6c6c 730a 2020 2020 6173  all calls.    as
+0000cc60: 796e 6320 6465 6620 6765 745f 6465 7669  ync def get_devi
+0000cc70: 6365 7328 0a20 2020 2020 2020 2073 656c  ces(.        sel
+0000cc80: 662c 0a20 2020 2020 2020 2064 6576 5f74  f,.        dev_t
+0000cc90: 7970 653a 204c 6974 6572 616c 5b22 7377  ype: Literal["sw
+0000cca0: 6974 6368 6573 222c 2022 6170 7322 2c20  itches", "aps", 
+0000ccb0: 2267 6174 6577 6179 7322 5d2c 0a20 2020  "gateways"],.   
+0000ccc0: 2020 2020 2067 726f 7570 3a20 7374 7220       group: str 
+0000ccd0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000cce0: 6c61 6265 6c3a 2073 7472 203d 204e 6f6e  label: str = Non
+0000ccf0: 652c 0a20 2020 2020 2020 2073 7461 636b  e,.        stack
+0000cd00: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
+0000cd10: 0a20 2020 2020 2020 2073 7761 726d 5f69  .        swarm_i
+0000cd20: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
+0000cd30: 2020 2020 2020 2073 6572 6961 6c3a 2073         serial: s
+0000cd40: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0000cd50: 2020 2073 7461 7475 733a 2073 7472 203d     status: str =
+0000cd60: 204e 6f6e 652c 0a20 2020 2020 2020 2066   None,.        f
+0000cd70: 6965 6c64 733a 206c 6973 7420 3d20 4e6f  ields: list = No
+0000cd80: 6e65 2c0a 2020 2020 2020 2020 7368 6f77  ne,.        show
+0000cd90: 5f72 6573 6f75 7263 655f 6465 7461 696c  _resource_detail
+0000cda0: 733a 2062 6f6f 6c20 3d20 4661 6c73 652c  s: bool = False,
+0000cdb0: 0a20 2020 2020 2020 2063 6c75 7374 6572  .        cluster
+0000cdc0: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
+0000cdd0: 0a20 2020 2020 2020 206d 6f64 656c 3a20  .        model: 
+0000cde0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0000cdf0: 2020 2020 6361 6c63 756c 6174 655f 636c      calculate_cl
+0000ce00: 6965 6e74 5f63 6f75 6e74 3a20 626f 6f6c  ient_count: bool
+0000ce10: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
+0000ce20: 2020 6361 6c63 756c 6174 655f 7373 6964    calculate_ssid
+0000ce30: 5f63 6f75 6e74 3a20 626f 6f6c 203d 2046  _count: bool = F
+0000ce40: 616c 7365 2c0a 2020 2020 2020 2020 6d61  alse,.        ma
+0000ce50: 6361 6464 723a 2073 7472 203d 204e 6f6e  caddr: str = Non
+0000ce60: 652c 0a20 2020 2020 2020 2070 7562 6c69  e,.        publi
+0000ce70: 635f 6970 5f61 6464 7265 7373 3a20 7374  c_ip_address: st
+0000ce80: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0000ce90: 2020 7369 7465 3a20 7374 7220 3d20 4e6f    site: str = No
+0000cea0: 6e65 2c0a 2020 2020 2020 2020 6c69 6d69  ne,.        limi
+0000ceb0: 743a 2069 6e74 203d 2031 3030 302c 2020  t: int = 1000,  
+0000cec0: 2320 6d61 7820 616c 6c6f 7765 6420 3130  # max allowed 10
+0000ced0: 3030 0a20 2020 2020 2020 206f 6666 7365  00.        offse
+0000cee0: 743a 2069 6e74 203d 2030 2c0a 2020 2020  t: int = 0,.    
+0000cef0: 2020 2020 2320 736f 7274 3a20 7374 7220      # sort: str 
+0000cf00: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
+0000cf10: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+0000cf20: 2020 2022 2222 4765 7420 4465 7669 6365     """Get Device
+0000cf30: 7320 6672 6f6d 2041 7275 6261 2043 656e  s from Aruba Cen
+0000cf40: 7472 616c 2041 5049 2047 6174 6577 6179  tral API Gateway
+0000cf50: 0a0a 2020 2020 2020 2020 2f2f 2055 7365  ..        // Use
+0000cf60: 6420 6279 2073 686f 7720 3c22 6170 7322  d by show <"aps"
+0000cf70: 7c22 6761 7465 7761 7973 227c 2273 7769  |"gateways"|"swi
+0000cf80: 7463 6865 7322 3e20 2f2f 0a0a 2020 2020  tches"> //..    
+0000cf90: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+0000cfa0: 2020 2020 2020 6465 765f 7479 7065 2028        dev_type (
+0000cfb0: 4c69 7465 7261 6c5b 2273 7769 7463 6865  Literal["switche
+0000cfc0: 7322 2c20 2261 7073 222c 2022 6761 7465  s", "aps", "gate
+0000cfd0: 7761 7973 2229 3a20 5479 7065 206f 6620  ways"): Type of 
+0000cfe0: 6465 7669 6365 7320 746f 2067 6574 2e0a  devices to get..
+0000cff0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+0000d000: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
+0000d010: 293a 2046 696c 7465 7220 6f6e 2073 7065  ): Filter on spe
+0000d020: 6369 6669 6320 6772 6f75 702e 2044 6566  cific group. Def
+0000d030: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
+0000d040: 2020 2020 2020 2020 2020 206c 6162 656c             label
+0000d050: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0000d060: 3a20 4669 6c74 6572 2062 7920 6c61 6265  : Filter by labe
+0000d070: 6c2e 2044 6566 6175 6c74 7320 746f 204e  l. Defaults to N
+0000d080: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
+0000d090: 2073 7461 636b 5f69 6420 2873 7472 2c20   stack_id (str, 
+0000d0a0: 6f70 7469 6f6e 616c 293a 2052 6574 7572  optional): Retur
+0000d0b0: 6e20 7377 6974 6368 2077 6974 6820 7370  n switch with sp
+0000d0c0: 6563 6966 6963 2073 7461 636b 5f69 642e  ecific stack_id.
+0000d0d0: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+0000d0e0: 652e 0a20 2020 2020 2020 2020 2020 2073  e..            s
+0000d0f0: 7761 726d 5f69 6420 2873 7472 2c20 6f70  warm_id (str, op
+0000d100: 7469 6f6e 616c 293a 2052 6574 7572 6e20  tional): Return 
+0000d110: 4150 7320 7769 7468 2061 2073 7065 6369  APs with a speci
+0000d120: 6669 6320 7377 6172 6d5f 6964 2e20 4465  fic swarm_id. De
+0000d130: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
+0000d140: 2020 2020 2020 2020 2020 2020 7365 7269              seri
+0000d150: 616c 2028 7374 722c 206f 7074 696f 6e61  al (str, optiona
+0000d160: 6c29 3a20 5265 7475 726e 2074 6865 2064  l): Return the d
+0000d170: 6576 6963 6520 7769 7468 2073 6572 6961  evice with seria
+0000d180: 6c20 6e75 6d62 6572 2e20 4465 6661 756c  l number. Defaul
+0000d190: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
+0000d1a0: 2020 2020 2020 2020 7374 6174 7573 2028          status (
+0000d1b0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0000d1c0: 4669 6c74 6572 2062 7920 7374 6174 7573  Filter by status
+0000d1d0: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+0000d1e0: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
+0000d1f0: 6669 656c 6473 2028 6c69 7374 2c20 6f70  fields (list, op
+0000d200: 7469 6f6e 616c 293a 2052 6574 7572 6e20  tional): Return 
+0000d210: 7370 6563 6966 6963 2066 6965 6c64 7320  specific fields 
+0000d220: 666f 7220 6465 7669 6365 2e20 4465 6661  for device. Defa
+0000d230: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
+0000d240: 2020 2020 2020 2020 2020 7368 6f77 5f72            show_r
+0000d250: 6573 6f75 7263 655f 6465 7461 696c 7320  esource_details 
+0000d260: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
+0000d270: 3a20 5368 6f77 2072 6573 6f75 7263 6520  : Show resource 
+0000d280: 7574 696c 697a 6174 696f 6e2e 2044 6566  utilization. Def
+0000d290: 6175 6c74 7320 746f 2046 616c 7365 2e0a  aults to False..
+0000d2a0: 2020 2020 2020 2020 2020 2020 636c 7573              clus
+0000d2b0: 7465 725f 6964 2028 7374 722c 206f 7074  ter_id (str, opt
+0000d2c0: 696f 6e61 6c29 3a20 5265 7475 726e 2067  ional): Return g
+0000d2d0: 6174 6577 6179 7320 7769 7468 2061 2073  ateways with a s
+0000d2e0: 7065 6369 6669 6320 636c 7573 7465 725f  pecific cluster_
+0000d2f0: 6964 2e20 4465 6661 756c 7473 2074 6f20  id. Defaults to 
+0000d300: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
+0000d310: 2020 6d6f 6465 6c20 2873 7472 2c20 6f70    model (str, op
+0000d320: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+0000d330: 6279 2064 6576 6963 6520 6d6f 6465 6c2e  by device model.
+0000d340: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+0000d350: 652e 0a20 2020 2020 2020 2020 2020 2063  e..            c
+0000d360: 616c 6375 6c61 7465 5f63 6c69 656e 745f  alculate_client_
+0000d370: 636f 756e 7420 2862 6f6f 6c2c 206f 7074  count (bool, opt
+0000d380: 696f 6e61 6c29 3a20 4361 6c63 756c 6174  ional): Calculat
+0000d390: 6520 636c 6965 6e74 2063 6f75 6e74 2066  e client count f
+0000d3a0: 6f72 2065 6163 6820 6465 7669 6365 2e20  or each device. 
+0000d3b0: 4465 6661 756c 7473 2074 6f20 4661 6c73  Defaults to Fals
+0000d3c0: 652e 0a20 2020 2020 2020 2020 2020 2063  e..            c
+0000d3d0: 616c 6375 6c61 7465 5f73 7369 645f 636f  alculate_ssid_co
+0000d3e0: 756e 7420 2862 6f6f 6c2c 206f 7074 696f  unt (bool, optio
+0000d3f0: 6e61 6c29 3a20 4361 6c63 756c 6174 6520  nal): Calculate 
+0000d400: 5353 4944 2063 6f75 6e74 2066 6f72 2065  SSID count for e
+0000d410: 6163 6820 4150 2e20 4465 6661 756c 7473  ach AP. Defaults
+0000d420: 2074 6f20 4661 6c73 652e 0a20 2020 2020   to False..     
+0000d430: 2020 2020 2020 206d 6163 6164 6472 2028         macaddr (
+0000d440: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0000d450: 5265 7475 726e 2064 6576 6963 6520 7769  Return device wi
+0000d460: 7468 2073 7065 6369 6669 6320 4d41 4320  th specific MAC 
+0000d470: 2866 757a 7a79 206d 6174 6368 292e 2044  (fuzzy match). D
+0000d480: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
+0000d490: 0a20 2020 2020 2020 2020 2020 2070 7562  .            pub
+0000d4a0: 6c69 635f 6970 5f61 6464 7265 7373 2028  lic_ip_address (
+0000d4b0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0000d4c0: 4669 6c74 6572 2064 6576 6963 6573 2062  Filter devices b
+0000d4d0: 7920 5075 626c 6963 2049 502e 2044 6566  y Public IP. Def
+0000d4e0: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
+0000d4f0: 2020 2020 2020 2020 2020 2073 6974 6520             site 
+0000d500: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0000d510: 2046 696c 7465 7220 6279 2073 6974 652e   Filter by site.
+0000d520: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+0000d530: 652e 0a20 2020 2020 2020 2020 2020 206f  e..            o
+0000d540: 6666 7365 7420 2869 6e74 2c20 6f70 7469  ffset (int, opti
+0000d550: 6f6e 616c 293a 2050 6167 696e 6174 696f  onal): Paginatio
+0000d560: 6e20 6f66 6673 6574 2044 6566 6175 6c74  n offset Default
+0000d570: 7320 746f 2030 2e0a 2020 2020 2020 2020  s to 0..        
+0000d580: 2020 2020 6c69 6d69 7420 2869 6e74 2c20      limit (int, 
+0000d590: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
+0000d5a0: 6174 696f 6e20 6c69 6d69 742e 204d 6178  ation limit. Max
+0000d5b0: 2069 7320 3130 3030 2044 6566 6175 6c74   is 1000 Default
+0000d5c0: 7320 746f 2035 3030 2e0a 0a20 2020 2020  s to 500...     
+0000d5d0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+0000d5e0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+0000d5f0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+0000d600: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+0000d610: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000d620: 2064 6576 5f70 6172 616d 7320 3d20 7b0a   dev_params = {.
+0000d630: 2020 2020 2020 2020 2020 2020 2261 7073              "aps
+0000d640: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
+0000d650: 2020 2020 2027 7365 7269 616c 273a 2073       'serial': s
+0000d660: 6572 6961 6c2c 0a20 2020 2020 2020 2020  erial,.         
+0000d670: 2020 2020 2020 2027 6d61 6361 6464 7227         'macaddr'
+0000d680: 3a20 6d61 6361 6464 722c 0a20 2020 2020  : macaddr,.     
+0000d690: 2020 2020 2020 2020 2020 2022 7377 6172             "swar
+0000d6a0: 6d5f 6964 223a 2073 7761 726d 5f69 642c  m_id": swarm_id,
+0000d6b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d6c0: 2027 6d6f 6465 6c27 3a20 6d6f 6465 6c2c   'model': model,
+0000d6d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d6e0: 2027 636c 7573 7465 725f 6964 273a 2063   'cluster_id': c
+0000d6f0: 6c75 7374 6572 5f69 642c 0a20 2020 2020  luster_id,.     
+0000d700: 2020 2020 2020 2020 2020 2027 6669 656c             'fiel
+0000d710: 6473 273a 2066 6965 6c64 732c 0a20 2020  ds': fields,.   
+0000d720: 2020 2020 2020 2020 2020 2020 2027 6361               'ca
+0000d730: 6c63 756c 6174 655f 636c 6965 6e74 5f63  lculate_client_c
+0000d740: 6f75 6e74 273a 2073 7472 2863 616c 6375  ount': str(calcu
+0000d750: 6c61 7465 5f63 6c69 656e 745f 636f 756e  late_client_coun
+0000d760: 7429 2e6c 6f77 6572 2829 2c0a 2020 2020  t).lower(),.    
+0000d770: 2020 2020 2020 2020 2020 2020 2763 616c              'cal
+0000d780: 6375 6c61 7465 5f73 7369 645f 636f 756e  culate_ssid_coun
+0000d790: 7427 3a20 7374 7228 6361 6c63 756c 6174  t': str(calculat
+0000d7a0: 655f 7373 6964 5f63 6f75 6e74 292e 6c6f  e_ssid_count).lo
+0000d7b0: 7765 7228 292c 0a20 2020 2020 2020 2020  wer(),.         
+0000d7c0: 2020 2020 2020 2027 7368 6f77 5f72 6573         'show_res
+0000d7d0: 6f75 7263 655f 6465 7461 696c 7327 3a20  ource_details': 
+0000d7e0: 7374 7228 7368 6f77 5f72 6573 6f75 7263  str(show_resourc
+0000d7f0: 655f 6465 7461 696c 7329 2e6c 6f77 6572  e_details).lower
+0000d800: 2829 2c0a 2020 2020 2020 2020 2020 2020  (),.            
+0000d810: 7d2c 0a20 2020 2020 2020 2020 2020 2022  },.            "
+0000d820: 7377 6974 6368 6573 223a 207b 0a20 2020  switches": {.   
+0000d830: 2020 2020 2020 2020 2020 2020 2027 7374               'st
+0000d840: 6163 6b5f 6964 273a 2073 7461 636b 5f69  ack_id': stack_i
+0000d850: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
+0000d860: 2020 2027 7368 6f77 5f72 6573 6f75 7263     'show_resourc
+0000d870: 655f 6465 7461 696c 7327 3a20 7374 7228  e_details': str(
+0000d880: 7368 6f77 5f72 6573 6f75 7263 655f 6465  show_resource_de
+0000d890: 7461 696c 7329 2e6c 6f77 6572 2829 2c0a  tails).lower(),.
+0000d8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d8b0: 2763 616c 6375 6c61 7465 5f63 6c69 656e  'calculate_clien
+0000d8c0: 745f 636f 756e 7427 3a20 7374 7228 6361  t_count': str(ca
+0000d8d0: 6c63 756c 6174 655f 636c 6965 6e74 5f63  lculate_client_c
+0000d8e0: 6f75 6e74 292e 6c6f 7765 7228 292c 0a20  ount).lower(),. 
+0000d8f0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0000d900: 7075 626c 6963 5f69 705f 6164 6472 6573  public_ip_addres
+0000d910: 7327 3a20 7075 626c 6963 5f69 705f 6164  s': public_ip_ad
+0000d920: 6472 6573 732c 0a20 2020 2020 2020 2020  dress,.         
+0000d930: 2020 207d 2c0a 2020 2020 2020 2020 2020     },.          
+0000d940: 2020 2267 6174 6577 6179 7322 3a20 7b0a    "gateways": {.
+0000d950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d960: 276d 6163 6164 6472 273a 206d 6163 6164  'macaddr': macad
+0000d970: 6472 2c0a 2020 2020 2020 2020 2020 2020  dr,.            
+0000d980: 2020 2020 276d 6f64 656c 273a 206d 6f64      'model': mod
+0000d990: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
+0000d9a0: 2020 2020 2766 6965 6c64 7327 3a20 6669      'fields': fi
+0000d9b0: 656c 6473 2c0a 2020 2020 2020 2020 2020  elds,.          
+0000d9c0: 2020 7d0a 2020 2020 2020 2020 7d0a 2020    }.        }.  
+0000d9d0: 2020 2020 2020 636f 6d6d 6f6e 5f70 6172        common_par
+0000d9e0: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
+0000d9f0: 2020 2020 2267 726f 7570 223a 2067 726f      "group": gro
+0000da00: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
+0000da10: 226c 6162 656c 223a 206c 6162 656c 2c0a  "label": label,.
+0000da20: 2020 2020 2020 2020 2020 2020 2773 6974              'sit
+0000da30: 6527 3a20 7369 7465 2c0a 2020 2020 2020  e': site,.      
+0000da40: 2020 2020 2020 2773 7461 7475 7327 3a20        'status': 
+0000da50: 4e6f 6e65 2069 6620 6e6f 7420 7374 6174  None if not stat
+0000da60: 7573 2065 6c73 6520 7374 6174 7573 2e74  us else status.t
+0000da70: 6974 6c65 2829 2c0a 2020 2020 2020 2020  itle(),.        
+0000da80: 2020 2020 276f 6666 7365 7427 3a20 6f66      'offset': of
+0000da90: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
+0000daa0: 2020 276c 696d 6974 273a 206c 696d 6974    'limit': limit
+0000dab0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+0000dac0: 2020 2020 7572 6c20 3d20 6622 2f6d 6f6e      url = f"/mon
+0000dad0: 6974 6f72 696e 672f 7631 2f7b 6465 765f  itoring/v1/{dev_
+0000dae0: 7479 7065 7d22 0a20 2020 2020 2020 2069  type}".        i
+0000daf0: 6620 6465 765f 7479 7065 203d 3d20 2261  f dev_type == "a
+0000db00: 7073 223a 0a20 2020 2020 2020 2020 2020  ps":.           
+0000db10: 2075 726c 203d 2075 726c 2e72 6570 6c61   url = url.repla
+0000db20: 6365 2822 7631 222c 2022 7632 2229 0a20  ce("v1", "v2"). 
+0000db30: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+0000db40: 7b2a 2a63 6f6d 6d6f 6e5f 7061 7261 6d73  {**common_params
+0000db50: 2c20 2a2a 6465 765f 7061 7261 6d73 5b64  , **dev_params[d
+0000db60: 6576 5f74 7970 655d 7d0a 0a20 2020 2020  ev_type]}..     
+0000db70: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0000db80: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+0000db90: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+0000dba0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+0000dbb0: 6465 765f 6465 7461 696c 7328 0a20 2020  dev_details(.   
+0000dbc0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+0000dbd0: 2020 2064 6576 5f74 7970 653a 204c 6974     dev_type: Lit
+0000dbe0: 6572 616c 5b22 7377 6974 6368 6573 222c  eral["switches",
+0000dbf0: 2022 6170 7322 2c20 2267 6174 6577 6179   "aps", "gateway
+0000dc00: 7322 5d2c 0a20 2020 2020 2020 2073 6572  s"],.        ser
+0000dc10: 6961 6c3a 2073 7472 0a20 2020 2029 202d  ial: str.    ) -
+0000dc20: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+0000dc30: 2020 2020 2222 2252 6574 7572 6e20 4465      """Return De
+0000dc40: 7461 696c 7320 666f 7220 6120 6769 7665  tails for a give
+0000dc50: 6e20 6465 7669 6365 0a0a 2020 2020 2020  n device..      
+0000dc60: 2020 2f2f 2055 7365 6420 6279 2073 686f    // Used by sho
+0000dc70: 7720 6465 7669 6365 5b73 5d20 3c64 6576  w device[s] <dev
+0000dc80: 6963 6520 6964 656e 3e20 2f2f 0a0a 2020  ice iden> //..  
+0000dc90: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+0000dca0: 2020 2020 2020 2020 6465 765f 7479 7065          dev_type
+0000dcb0: 2028 7374 7229 3a20 4465 7669 6365 2054   (str): Device T
+0000dcc0: 7970 650a 2020 2020 2020 2020 2020 2020  ype.            
+0000dcd0: 2020 2020 5661 6c69 6420 5661 6c75 6573      Valid Values
+0000dce0: 3a20 2267 6174 6577 6179 7322 2c20 2261  : "gateways", "a
+0000dcf0: 7073 222c 2022 7377 6974 6368 6573 220a  ps", "switches".
+0000dd00: 2020 2020 2020 2020 2020 2020 7365 7269              seri
+0000dd10: 616c 2028 7374 7229 3a20 5365 7269 616c  al (str): Serial
+0000dd20: 206e 756d 6265 7220 6f66 2044 6576 6963   number of Devic
+0000dd30: 650a 0a20 2020 2020 2020 2052 6574 7572  e..        Retur
+0000dd40: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0000dd50: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+0000dd60: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+0000dd70: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+0000dd80: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
+0000dd90: 222f 6d6f 6e69 746f 7269 6e67 2f76 312f  "/monitoring/v1/
+0000dda0: 7b64 6576 5f74 7970 657d 2f7b 7365 7269  {dev_type}/{seri
+0000ddb0: 616c 7d22 0a20 2020 2020 2020 2072 6574  al}".        ret
+0000ddc0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+0000ddd0: 6574 2875 726c 290a 0a20 2020 2061 7379  et(url)..    asy
+0000dde0: 6e63 2064 6566 206d 6f6e 6974 6f72 696e  nc def monitorin
+0000ddf0: 675f 6765 745f 6d63 7328 0a20 2020 2020  g_get_mcs(.     
+0000de00: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0000de10: 2067 726f 7570 3a20 7374 7220 3d20 4e6f   group: str = No
+0000de20: 6e65 2c0a 2020 2020 2020 2020 6c61 6265  ne,.        labe
+0000de30: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
+0000de40: 2020 2020 2020 2073 6974 653a 2073 7472         site: str
+0000de50: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000de60: 2073 7461 7475 733a 2073 7472 203d 204e   status: str = N
+0000de70: 6f6e 652c 0a20 2020 2020 2020 206d 6163  one,.        mac
+0000de80: 6164 6472 3a20 7374 7220 3d20 4e6f 6e65  addr: str = None
+0000de90: 2c0a 2020 2020 2020 2020 6d6f 6465 6c3a  ,.        model:
+0000dea0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0000deb0: 2020 2020 2066 6965 6c64 733a 2073 7472       fields: str
+0000dec0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000ded0: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
+0000dee0: 3a20 626f 6f6c 203d 204e 6f6e 652c 0a20  : bool = None,. 
+0000def0: 2020 2020 2020 2073 6f72 743a 2073 7472         sort: str
+0000df00: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000df10: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
+0000df20: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
+0000df30: 2069 6e74 203d 2031 3030 2c0a 2020 2020   int = 100,.    
+0000df40: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+0000df50: 2020 2020 2020 2022 2222 4c69 7374 204d         """List M
+0000df60: 6f62 696c 6974 7920 436f 6e74 726f 6c6c  obility Controll
+0000df70: 6572 732e 0a0a 2020 2020 2020 2020 596f  ers...        Yo
+0000df80: 7520 6361 6e20 6f6e 6c79 2073 7065 6369  u can only speci
+0000df90: 6679 206f 6e65 206f 6620 6772 6f75 702c  fy one of group,
+0000dfa0: 206c 6162 656c 2c20 7369 7465 0a0a 2020   label, site..  
+0000dfb0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+0000dfc0: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
+0000dfd0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+0000dfe0: 696c 7465 7220 6279 2067 726f 7570 206e  ilter by group n
+0000dff0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
+0000e000: 6c61 6265 6c20 2873 7472 2c20 6f70 7469  label (str, opti
+0000e010: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+0000e020: 204c 6162 656c 206e 616d 650a 2020 2020   Label name.    
+0000e030: 2020 2020 2020 2020 7369 7465 2028 7374          site (st
+0000e040: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+0000e050: 6c74 6572 2062 7920 5369 7465 206e 616d  lter by Site nam
+0000e060: 650a 2020 2020 2020 2020 2020 2020 7374  e.            st
+0000e070: 6174 7573 2028 7374 722c 206f 7074 696f  atus (str, optio
+0000e080: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+0000e090: 4d6f 6269 6c69 7479 2043 6f6e 7472 6f6c  Mobility Control
+0000e0a0: 6c65 7220 7374 6174 7573 0a20 2020 2020  ler status.     
+0000e0b0: 2020 2020 2020 206d 6163 6164 6472 2028         macaddr (
+0000e0c0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0000e0d0: 4669 6c74 6572 2062 7920 4d6f 6269 6c69  Filter by Mobili
+0000e0e0: 7479 2043 6f6e 7472 6f6c 6c65 7220 4d41  ty Controller MA
+0000e0f0: 4320 6164 6472 6573 730a 2020 2020 2020  C address.      
+0000e100: 2020 2020 2020 6d6f 6465 6c20 2873 7472        model (str
+0000e110: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+0000e120: 7465 7220 6279 204d 6f62 696c 6974 7920  ter by Mobility 
+0000e130: 436f 6e74 726f 6c6c 6572 204d 6f64 656c  Controller Model
+0000e140: 0a20 2020 2020 2020 2020 2020 2066 6965  .            fie
+0000e150: 6c64 7320 2873 7472 2c20 6f70 7469 6f6e  lds (str, option
+0000e160: 616c 293a 2043 6f6d 6d61 2073 6570 6172  al): Comma separ
+0000e170: 6174 6564 206c 6973 7420 6f66 2066 6965  ated list of fie
+0000e180: 6c64 7320 746f 2062 6520 7265 7475 726e  lds to be return
+0000e190: 6564 2e20 5661 6c69 6420 6669 656c 6473  ed. Valid fields
+0000e1a0: 2061 7265 0a20 2020 2020 2020 2020 2020   are.           
+0000e1b0: 2020 2020 2073 7461 7475 732c 2069 705f       status, ip_
+0000e1c0: 6164 6472 6573 732c 206d 6f64 656c 2c20  address, model, 
+0000e1d0: 6669 726d 7761 7265 5f76 6572 7369 6f6e  firmware_version
+0000e1e0: 2c20 6c61 6265 6c73 2c20 6170 5f63 6f75  , labels, ap_cou
+0000e1f0: 6e74 2c20 7573 6167 650a 2020 2020 2020  nt, usage.      
+0000e200: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
+0000e210: 746f 7461 6c20 2862 6f6f 6c2c 206f 7074  total (bool, opt
+0000e220: 696f 6e61 6c29 3a20 5768 6574 6865 7220  ional): Whether 
+0000e230: 746f 2063 616c 6375 6c61 7465 2074 6f74  to calculate tot
+0000e240: 616c 204d 6f62 696c 6974 7920 436f 6e74  al Mobility Cont
+0000e250: 726f 6c6c 6572 730a 2020 2020 2020 2020  rollers.        
+0000e260: 2020 2020 736f 7274 2028 7374 722c 206f      sort (str, o
+0000e270: 7074 696f 6e61 6c29 3a20 536f 7274 2070  ptional): Sort p
+0000e280: 6172 616d 6574 6572 206d 6179 2062 6520  arameter may be 
+0000e290: 6f6e 6520 6f66 202b 7365 7269 616c 2c20  one of +serial, 
+0000e2a0: 2d73 6572 6961 6c2c 202b 6d61 6361 6464  -serial, +macadd
+0000e2b0: 722c 202d 6d61 6361 6464 722e 0a20 2020  r, -macaddr..   
+0000e2c0: 2020 2020 2020 2020 2020 2020 2044 6566               Def
+0000e2d0: 6175 6c74 2069 7320 272b 7365 7269 616c  ault is '+serial
+0000e2e0: 270a 2020 2020 2020 2020 2020 2020 6f66  '.            of
+0000e2f0: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+0000e300: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+0000e310: 206f 6666 7365 7420 4465 6661 756c 7473   offset Defaults
+0000e320: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
+0000e330: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
+0000e340: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
+0000e350: 7469 6f6e 206c 696d 6974 2e20 4d61 7820  tion limit. Max 
+0000e360: 6973 2031 3030 3020 4465 6661 756c 7473  is 1000 Defaults
+0000e370: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
+0000e380: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0000e390: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0000e3a0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0000e3b0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+0000e3c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000e3d0: 7572 6c20 3d20 222f 6d6f 6e69 746f 7269  url = "/monitori
+0000e3e0: 6e67 2f76 312f 6d6f 6269 6c69 7479 5f63  ng/v1/mobility_c
+0000e3f0: 6f6e 7472 6f6c 6c65 7273 220a 0a20 2020  ontrollers"..   
+0000e400: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+0000e410: 2020 2020 2020 2020 2020 2020 2267 726f              "gro
+0000e420: 7570 223a 2067 726f 7570 2c0a 2020 2020  up": group,.    
+0000e430: 2020 2020 2020 2020 226c 6162 656c 223a          "label":
+0000e440: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
+0000e450: 2020 2020 2273 6974 6522 3a20 7369 7465      "site": site
+0000e460: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
+0000e470: 7461 7475 7322 3a20 7374 6174 7573 2c0a  tatus": status,.
+0000e480: 2020 2020 2020 2020 2020 2020 226d 6163              "mac
+0000e490: 6164 6472 223a 206d 6163 6164 6472 2c0a  addr": macaddr,.
+0000e4a0: 2020 2020 2020 2020 2020 2020 226d 6f64              "mod
+0000e4b0: 656c 223a 206d 6f64 656c 2c0a 2020 2020  el": model,.    
+0000e4c0: 2020 2020 2020 2020 2266 6965 6c64 7322          "fields"
+0000e4d0: 3a20 6669 656c 6473 2c0a 2020 2020 2020  : fields,.      
+0000e4e0: 2020 2020 2020 2263 616c 6375 6c61 7465        "calculate
+0000e4f0: 5f74 6f74 616c 223a 2063 616c 6375 6c61  _total": calcula
+0000e500: 7465 5f74 6f74 616c 2c0a 2020 2020 2020  te_total,.      
+0000e510: 2020 2020 2020 2273 6f72 7422 3a20 736f        "sort": so
+0000e520: 7274 2c0a 2020 2020 2020 2020 2020 2020  rt,.            
+0000e530: 226f 6666 7365 7422 3a20 6f66 6673 6574  "offset": offset
+0000e540: 2c0a 2020 2020 2020 2020 2020 2020 226c  ,.            "l
+0000e550: 696d 6974 223a 206c 696d 6974 2c0a 2020  imit": limit,.  
+0000e560: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+0000e570: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0000e580: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
+0000e590: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
+0000e5a0: 6173 796e 6320 6465 6620 6765 745f 776c  async def get_wl
+0000e5b0: 616e 7328 0a20 2020 2020 2020 2073 656c  ans(.        sel
+0000e5c0: 662c 0a20 2020 2020 2020 206e 616d 653a  f,.        name:
+0000e5d0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0000e5e0: 2020 2020 2067 726f 7570 3a20 7374 7220       group: str 
+0000e5f0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000e600: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
+0000e610: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c61  None,.        la
+0000e620: 6265 6c3a 2073 7472 203d 204e 6f6e 652c  bel: str = None,
+0000e630: 0a20 2020 2020 2020 2073 6974 653a 2073  .        site: s
+0000e640: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0000e650: 2020 2063 616c 6375 6c61 7465 5f63 6c69     calculate_cli
+0000e660: 656e 745f 636f 756e 743a 2062 6f6f 6c20  ent_count: bool 
+0000e670: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000e680: 736f 7274 5f62 793a 2073 7472 203d 204e  sort_by: str = N
+0000e690: 6f6e 650a 2020 2020 2920 2d3e 2052 6573  one.    ) -> Res
+0000e6a0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0000e6b0: 2222 4c69 7374 2061 6c6c 2057 4c41 4e73  ""List all WLANs
+0000e6c0: 2028 5353 4944 7329 2e0a 0a20 2020 2020   (SSIDs)...     
+0000e6d0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+0000e6e0: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
+0000e6f0: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+0000e700: 6572 2062 7920 6772 6f75 7020 6e61 6d65  er by group name
+0000e710: 0a20 2020 2020 2020 2020 2020 2073 7761  .            swa
+0000e720: 726d 5f69 6420 2873 7472 2c20 6f70 7469  rm_id (str, opti
 0000e730: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-0000e740: 204c 6162 656c 206e 616d 650a 2020 2020   Label name.    
-0000e750: 2020 2020 2020 2020 7369 7465 2028 7374          site (st
-0000e760: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-0000e770: 6c74 6572 2062 7920 5369 7465 206e 616d  lter by Site nam
-0000e780: 650a 2020 2020 2020 2020 2020 2020 6361  e.            ca
-0000e790: 6c63 756c 6174 655f 636c 6965 6e74 5f63  lculate_client_c
-0000e7a0: 6f75 6e74 2028 626f 6f6c 2c20 6f70 7469  ount (bool, opti
-0000e7b0: 6f6e 616c 293a 2057 6865 7468 6572 2074  onal): Whether t
-0000e7c0: 6f20 6361 6c63 756c 6174 6520 636c 6965  o calculate clie
-0000e7d0: 6e74 2063 6f75 6e74 2070 6572 2053 5349  nt count per SSI
-0000e7e0: 440a 2020 2020 2020 2020 2020 2020 736f  D.            so
-0000e7f0: 7274 5f62 7920 2873 7472 2c20 6f70 7469  rt_by (str, opti
-0000e800: 6f6e 616c 293a 2053 6f72 7420 7061 7261  onal): Sort para
-0000e810: 6d65 7465 7220 6d61 7920 6265 206f 6e65  meter may be one
-0000e820: 206f 6620 2b65 7373 6964 2c20 2d65 7373   of +essid, -ess
-0000e830: 6964 2e20 4465 6661 756c 7420 6973 2027  id. Default is '
-0000e840: 2b65 7373 6964 270a 0a20 2020 2020 2020  +essid'..       
-0000e850: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0000e860: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0000e870: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0000e880: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0000e890: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-0000e8a0: 726c 203d 2022 2f6d 6f6e 6974 6f72 696e  rl = "/monitorin
-0000e8b0: 672f 7632 2f6e 6574 776f 726b 7322 0a20  g/v2/networks". 
-0000e8c0: 2020 2020 2020 2069 6620 6e61 6d65 3a0a         if name:.
-0000e8d0: 2020 2020 2020 2020 2020 2020 7572 6c20              url 
-0000e8e0: 3d20 6622 7b75 726c 7d2f 7b6e 616d 657d  = f"{url}/{name}
-0000e8f0: 220a 0a20 2020 2020 2020 2069 6620 6361  "..        if ca
-0000e900: 6c63 756c 6174 655f 636c 6965 6e74 5f63  lculate_client_c
-0000e910: 6f75 6e74 2069 6e20 5b54 7275 652c 2046  ount in [True, F
-0000e920: 616c 7365 5d3a 0a20 2020 2020 2020 2020  alse]:.         
-0000e930: 2020 2063 616c 6375 6c61 7465 5f63 6c69     calculate_cli
-0000e940: 656e 745f 636f 756e 7420 3d20 7374 7228  ent_count = str(
-0000e950: 6361 6c63 756c 6174 655f 636c 6965 6e74  calculate_client
-0000e960: 5f63 6f75 6e74 290a 0a20 2020 2020 2020  _count)..       
-0000e970: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
-0000e980: 2020 2020 2020 2020 2767 726f 7570 273a          'group':
-0000e990: 2067 726f 7570 2c0a 2020 2020 2020 2020   group,.        
-0000e9a0: 2020 2020 2773 7761 726d 5f69 6427 3a20      'swarm_id': 
-0000e9b0: 7377 6172 6d5f 6964 2c0a 2020 2020 2020  swarm_id,.      
-0000e9c0: 2020 2020 2020 276c 6162 656c 273a 206c        'label': l
-0000e9d0: 6162 656c 2c0a 2020 2020 2020 2020 2020  abel,.          
-0000e9e0: 2020 2773 6974 6527 3a20 7369 7465 2c0a    'site': site,.
-0000e9f0: 2020 2020 2020 2020 2020 2020 2763 616c              'cal
-0000ea00: 6375 6c61 7465 5f63 6c69 656e 745f 636f  culate_client_co
-0000ea10: 756e 7427 3a20 6361 6c63 756c 6174 655f  unt': calculate_
-0000ea20: 636c 6965 6e74 5f63 6f75 6e74 2c0a 2020  client_count,.  
-0000ea30: 2020 2020 2020 2020 2020 2773 6f72 7427            'sort'
-0000ea40: 3a20 736f 7274 5f62 792c 0a20 2020 2020  : sort_by,.     
-0000ea50: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-0000ea60: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0000ea70: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-0000ea80: 7061 7261 6d73 290a 0a20 2020 2023 2041  params)..    # A
-0000ea90: 5049 2d46 4c41 5720 5468 6973 206d 6574  PI-FLAW This met
-0000eaa0: 686f 6420 7265 7475 726e 7320 6e65 7874  hod returns next
-0000eab0: 2074 6f20 6e6f 7468 696e 6720 666f 7220   to nothing for 
-0000eac0: 7265 7365 7276 6564 2049 5073 2e0a 2020  reserved IPs..  
-0000ead0: 2020 2320 576f 756c 6420 6265 206d 6f72    # Would be mor
-0000eae0: 6520 6964 6561 6c20 6966 2069 7420 7265  e ideal if it re
-0000eaf0: 7475 726e 6564 2063 6c69 656e 745f 6e61  turned client_na
-0000eb00: 6d65 2070 6f6f 6c20 7076 6964 2065 7463  me pool pvid etc
-0000eb10: 2061 7320 6974 2064 6f65 7320 7769 7468   as it does with
-0000eb20: 206e 6f6e 2072 6573 7365 7276 6564 2049   non resserved I
-0000eb30: 5073 0a20 2020 2061 7379 6e63 2064 6566  Ps.    async def
-0000eb40: 2067 6574 5f64 6863 705f 636c 6965 6e74   get_dhcp_client
-0000eb50: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
-0000eb60: 0a20 2020 2020 2020 2073 6572 6961 6c5f  .        serial_
-0000eb70: 6e75 6d3a 2073 7472 2c0a 2020 2020 2020  num: str,.      
-0000eb80: 2020 7265 7365 7276 6174 696f 6e3a 2062    reservation: b
-0000eb90: 6f6f 6c20 3d20 5472 7565 2c0a 2020 2020  ool = True,.    
-0000eba0: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
-0000ebb0: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
-0000ebc0: 6974 3a20 696e 7420 3d20 3130 300a 2020  it: int = 100.  
-0000ebd0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-0000ebe0: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
-0000ebf0: 4448 4350 2043 6c69 656e 7420 696e 666f  DHCP Client info
-0000ec00: 726d 6174 696f 6e20 6672 6f6d 2047 6174  rmation from Gat
-0000ec10: 6577 6179 2e0a 0a20 2020 2020 2020 2041  eway...        A
-0000ec20: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-0000ec30: 2073 6572 6961 6c5f 6e75 6d20 2873 7472   serial_num (str
-0000ec40: 293a 2053 6572 6961 6c20 6e75 6d62 6572  ): Serial number
-0000ec50: 206f 6620 6d6f 6269 6c69 7479 2063 6f6e   of mobility con
-0000ec60: 7472 6f6c 6c65 7220 746f 2062 6520 7175  troller to be qu
-0000ec70: 6572 6965 640a 2020 2020 2020 2020 2020  eried.          
-0000ec80: 2020 7265 7365 7276 6174 696f 6e20 2862    reservation (b
-0000ec90: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
-0000eca0: 466c 6167 2074 6f20 7475 726e 206f 6e2f  Flag to turn on/
-0000ecb0: 6f66 6620 6c69 7374 696e 6720 4448 4350  off listing DHCP
-0000ecc0: 2072 6573 6572 7661 7469 6f6e 7328 6966   reservations(if
-0000ecd0: 2061 6e79 292e 0a20 2020 2020 2020 2020   any)..         
-0000ece0: 2020 2020 2020 2044 6566 6175 6c74 7320         Defaults 
-0000ecf0: 746f 2054 7275 650a 2020 2020 2020 2020  to True.        
-0000ed00: 2020 2020 6f66 6673 6574 2028 696e 742c      offset (int,
-0000ed10: 206f 7074 696f 6e61 6c29 3a20 5061 6769   optional): Pagi
-0000ed20: 6e61 7469 6f6e 206f 6666 7365 7420 4465  nation offset De
-0000ed30: 6661 756c 7473 2074 6f20 302e 0a20 2020  faults to 0..   
-0000ed40: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
-0000ed50: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-0000ed60: 5061 6769 6e61 7469 6f6e 206c 696d 6974  Pagination limit
-0000ed70: 2e20 6d61 7820 3130 3030 2044 6566 6175  . max 1000 Defau
-0000ed80: 6c74 7320 746f 2031 3030 2e0a 0a20 2020  lts to 100...   
-0000ed90: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-0000eda0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-0000edb0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-0000edc0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-0000edd0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000ede0: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
-0000edf0: 746f 7269 6e67 2f76 312f 6d6f 6269 6c69  toring/v1/mobili
-0000ee00: 7479 5f63 6f6e 7472 6f6c 6c65 7273 2f7b  ty_controllers/{
-0000ee10: 7365 7269 616c 5f6e 756d 7d2f 6468 6370  serial_num}/dhcp
-0000ee20: 5f63 6c69 656e 7473 220a 0a20 2020 2020  _clients"..     
-0000ee30: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-0000ee40: 2020 2020 2020 2020 2020 2772 6573 6572            'reser
-0000ee50: 7661 7469 6f6e 273a 2073 7472 2872 6573  vation': str(res
-0000ee60: 6572 7661 7469 6f6e 292c 0a20 2020 2020  ervation),.     
-0000ee70: 2020 2020 2020 2022 6f66 6673 6574 223a         "offset":
-0000ee80: 206f 6666 7365 742c 0a20 2020 2020 2020   offset,.       
-0000ee90: 2020 2020 2022 6c69 6d69 7422 3a20 6c69       "limit": li
-0000eea0: 6d69 740a 2020 2020 2020 2020 7d0a 0a20  mit.        }.. 
-0000eeb0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0000eec0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-0000eed0: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
-0000eee0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0000eef0: 6765 745f 6468 6370 5f73 6572 7665 7228  get_dhcp_server(
-0000ef00: 7365 6c66 2c20 7365 7269 616c 5f6e 756d  self, serial_num
-0000ef10: 3a20 7374 7229 202d 3e20 5265 7370 6f6e  : str) -> Respon
-0000ef20: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
-0000ef30: 6574 2044 4843 5020 5365 7276 6572 2064  et DHCP Server d
-0000ef40: 6574 6169 6c73 2066 726f 6d20 4761 7465  etails from Gate
-0000ef50: 7761 792e 0a0a 2020 2020 2020 2020 4172  way...        Ar
-0000ef60: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-0000ef70: 7365 7269 616c 5f6e 756d 2028 7374 7229  serial_num (str)
-0000ef80: 3a20 5365 7269 616c 206e 756d 6265 7220  : Serial number 
-0000ef90: 6f66 206d 6f62 696c 6974 7920 636f 6e74  of mobility cont
-0000efa0: 726f 6c6c 6572 2074 6f20 6265 2071 7565  roller to be que
-0000efb0: 7269 6564 0a0a 2020 2020 2020 2020 5265  ried..        Re
-0000efc0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0000efd0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-0000efe0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-0000eff0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-0000f000: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-0000f010: 3d20 6622 2f6d 6f6e 6974 6f72 696e 672f  = f"/monitoring/
-0000f020: 7631 2f6d 6f62 696c 6974 795f 636f 6e74  v1/mobility_cont
-0000f030: 726f 6c6c 6572 732f 7b73 6572 6961 6c5f  rollers/{serial_
-0000f040: 6e75 6d7d 2f64 6863 705f 7365 7276 6572  num}/dhcp_server
-0000f050: 7322 0a0a 2020 2020 2020 2020 7265 7475  s"..        retu
-0000f060: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-0000f070: 7428 7572 6c29 0a0a 2020 2020 6173 796e  t(url)..    asyn
-0000f080: 6320 6465 6620 6765 745f 6761 7465 7761  c def get_gatewa
-0000f090: 7973 5f62 795f 6772 6f75 7028 7365 6c66  ys_by_group(self
-0000f0a0: 2c20 6772 6f75 7029 3a0a 2020 2020 2020  , group):.      
-0000f0b0: 2020 7572 6c20 3d20 222f 6d6f 6e69 746f    url = "/monito
-0000f0c0: 7269 6e67 2f76 312f 6d6f 6269 6c69 7479  ring/v1/mobility
-0000f0d0: 5f63 6f6e 7472 6f6c 6c65 7273 220a 2020  _controllers".  
-0000f0e0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-0000f0f0: 2267 726f 7570 223a 2067 726f 7570 7d0a  "group": group}.
-0000f100: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0000f110: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-0000f120: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-0000f130: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-0000f140: 2067 6574 5f67 726f 7570 5f66 6f72 5f64   get_group_for_d
-0000f150: 6576 5f62 795f 7365 7269 616c 2873 656c  ev_by_serial(sel
-0000f160: 662c 2073 6572 6961 6c5f 6e75 6d29 3a0a  f, serial_num):.
-0000f170: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0000f180: 7761 6974 2073 656c 662e 6765 7428 6622  wait self.get(f"
-0000f190: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
-0000f1a0: 312f 6465 7669 6365 732f 7b73 6572 6961  1/devices/{seria
-0000f1b0: 6c5f 6e75 6d7d 2f67 726f 7570 2229 0a0a  l_num}/group")..
-0000f1c0: 2020 2020 2320 6173 796e 6320 6465 6620      # async def 
-0000f1d0: 6765 745f 6468 6370 5f63 6c69 656e 745f  get_dhcp_client_
-0000f1e0: 696e 666f 5f62 795f 6777 2873 656c 662c  info_by_gw(self,
-0000f1f0: 2073 6572 6961 6c5f 6e75 6d29 3a0a 2020   serial_num):.  
-0000f200: 2020 2320 2020 2020 7572 6c20 3d20 6622    #     url = f"
-0000f210: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f6d  /monitoring/v1/m
-0000f220: 6f62 696c 6974 795f 636f 6e74 726f 6c6c  obility_controll
-0000f230: 6572 732f 7b73 6572 6961 6c5f 6e75 6d7d  ers/{serial_num}
-0000f240: 2f64 6863 705f 636c 6965 6e74 7322 0a20  /dhcp_clients". 
-0000f250: 2020 2023 2020 2020 2070 6172 616d 7320     #     params 
-0000f260: 3d20 7b22 7265 7365 7276 6174 696f 6e22  = {"reservation"
-0000f270: 3a20 4661 6c73 657d 0a20 2020 2023 2020  : False}.    #  
-0000f280: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-0000f290: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
-0000f2a0: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
-0000f2b0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-0000f2c0: 766c 616e 5f69 6e66 6f5f 6279 5f67 7728  vlan_info_by_gw(
-0000f2d0: 7365 6c66 2c20 7365 7269 616c 5f6e 756d  self, serial_num
-0000f2e0: 293a 0a20 2020 2020 2020 2072 6574 7572  ):.        retur
-0000f2f0: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-0000f300: 2866 222f 6d6f 6e69 746f 7269 6e67 2f76  (f"/monitoring/v
-0000f310: 312f 6d6f 6269 6c69 7479 5f63 6f6e 7472  1/mobility_contr
-0000f320: 6f6c 6c65 7273 2f7b 7365 7269 616c 5f6e  ollers/{serial_n
-0000f330: 756d 7d2f 766c 616e 2229 0a0a 2020 2020  um}/vlan")..    
-0000f340: 6173 796e 6320 6465 6620 6765 745f 7570  async def get_up
-0000f350: 6c69 6e6b 5f69 6e66 6f5f 6279 5f67 7728  link_info_by_gw(
-0000f360: 7365 6c66 2c20 7365 7269 616c 5f6e 756d  self, serial_num
-0000f370: 2c20 7469 6d65 7261 6e67 653a 2073 7472  , timerange: str
-0000f380: 203d 2022 3348 2229 3a0a 2020 2020 2020   = "3H"):.      
-0000f390: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
-0000f3a0: 6f72 696e 672f 7631 2f6d 6f62 696c 6974  oring/v1/mobilit
-0000f3b0: 795f 636f 6e74 726f 6c6c 6572 732f 7b73  y_controllers/{s
-0000f3c0: 6572 6961 6c5f 6e75 6d7d 2f75 706c 696e  erial_num}/uplin
-0000f3d0: 6b73 220a 2020 2020 2020 2020 7061 7261  ks".        para
-0000f3e0: 6d73 203d 207b 2274 696d 6572 616e 6765  ms = {"timerange
-0000f3f0: 223a 2074 696d 6572 616e 6765 7d0a 2020  ": timerange}.  
-0000f400: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-0000f410: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-0000f420: 2070 6172 616d 7329 0a0a 2020 2020 6173   params)..    as
-0000f430: 796e 6320 6465 6620 6765 745f 7570 6c69  ync def get_upli
-0000f440: 6e6b 5f74 756e 6e65 6c5f 7374 6174 735f  nk_tunnel_stats_
-0000f450: 6279 5f67 7728 7365 6c66 2c20 7365 7269  by_gw(self, seri
-0000f460: 616c 5f6e 756d 293a 0a20 2020 2020 2020  al_num):.       
-0000f470: 2075 726c 203d 2066 222f 6d6f 6e69 746f   url = f"/monito
-0000f480: 7269 6e67 2f76 312f 6d6f 6269 6c69 7479  ring/v1/mobility
-0000f490: 5f63 6f6e 7472 6f6c 6c65 7273 2f7b 7365  _controllers/{se
-0000f4a0: 7269 616c 5f6e 756d 7d2f 7570 6c69 6e6b  rial_num}/uplink
-0000f4b0: 732f 7475 6e6e 656c 5f73 7461 7473 220a  s/tunnel_stats".
-0000f4c0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0000f4d0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-0000f4e0: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
-0000f4f0: 6620 6765 745f 7570 6c69 6e6b 5f73 7461  f get_uplink_sta
-0000f500: 7465 5f62 795f 6772 6f75 7028 7365 6c66  te_by_group(self
-0000f510: 2c20 6772 6f75 703a 2073 7472 2920 2d3e  , group: str) ->
-0000f520: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0000f530: 2020 2075 726c 203d 2022 2f6d 6f6e 6974     url = "/monit
-0000f540: 6f72 696e 672f 7631 2f6d 6f62 696c 6974  oring/v1/mobilit
-0000f550: 795f 636f 6e74 726f 6c6c 6572 732f 7570  y_controllers/up
-0000f560: 6c69 6e6b 732f 6469 7374 7269 6275 7469  links/distributi
-0000f570: 6f6e 220a 2020 2020 2020 2020 7061 7261  on".        para
-0000f580: 6d73 203d 207b 2267 726f 7570 223a 2067  ms = {"group": g
-0000f590: 726f 7570 7d0a 2020 2020 2020 2020 7265  roup}.        re
-0000f5a0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0000f5b0: 6765 7428 7572 6c2c 2070 6172 616d 7329  get(url, params)
-0000f5c0: 0a0a 2020 2020 2320 544f 444f 206d 6f76  ..    # TODO mov
-0000f5d0: 6520 636c 6561 6e65 720a 2020 2020 6173  e cleaner.    as
-0000f5e0: 796e 6320 6465 6620 6765 745f 616c 6c5f  ync def get_all_
-0000f5f0: 7369 7465 7328 0a20 2020 2020 2020 2073  sites(.        s
-0000f600: 656c 662c 0a20 2020 2020 2020 2063 616c  elf,.        cal
-0000f610: 6375 6c61 7465 5f74 6f74 616c 3a20 626f  culate_total: bo
-0000f620: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
-0000f630: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
-0000f640: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
-0000f650: 6974 3a20 696e 7420 3d20 3130 3030 0a20  it: int = 1000. 
-0000f660: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-0000f670: 3a0a 2020 2020 2020 2020 7061 7261 6d73  :.        params
-0000f680: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-0000f690: 2022 6361 6c63 756c 6174 655f 746f 7461   "calculate_tota
-0000f6a0: 6c22 3a20 7374 7228 6361 6c63 756c 6174  l": str(calculat
-0000f6b0: 655f 746f 7461 6c29 2c0a 2020 2020 2020  e_total),.      
-0000f6c0: 2020 2020 2020 226f 6666 7365 7422 3a20        "offset": 
-0000f6d0: 6f66 6673 6574 2c0a 2020 2020 2020 2020  offset,.        
-0000f6e0: 2020 2020 226c 696d 6974 223a 206c 696d      "limit": lim
-0000f6f0: 6974 0a20 2020 2020 2020 207d 0a20 2020  it.        }.   
-0000f700: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-0000f710: 7420 7365 6c66 2e67 6574 2822 2f63 656e  t self.get("/cen
-0000f720: 7472 616c 2f76 322f 7369 7465 7322 2c20  tral/v2/sites", 
-0000f730: 7061 7261 6d73 3d70 6172 616d 732c 2063  params=params, c
-0000f740: 616c 6c62 6163 6b3d 636c 6561 6e65 722e  allback=cleaner.
-0000f750: 7369 7465 7329 0a0a 2020 2020 6173 796e  sites)..    asyn
-0000f760: 6320 6465 6620 6765 745f 7369 7465 5f64  c def get_site_d
-0000f770: 6574 6169 6c73 2873 656c 662c 2073 6974  etails(self, sit
-0000f780: 655f 6964 293a 0a20 2020 2020 2020 2072  e_id):.        r
-0000f790: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-0000f7a0: 2e67 6574 2866 222f 6365 6e74 7261 6c2f  .get(f"/central/
-0000f7b0: 7632 2f73 6974 6573 2f7b 7369 7465 5f69  v2/sites/{site_i
-0000f7c0: 647d 222c 2063 616c 6c62 6163 6b3d 636c  d}", callback=cl
-0000f7d0: 6561 6e65 722e 7369 7465 7329 0a0a 2020  eaner.sites)..  
-0000f7e0: 2020 2320 544f 444f 206d 616b 6520 636f    # TODO make co
-0000f7f0: 6d6d 616e 6420 7468 6973 2073 686f 7773  mmand this shows
-0000f800: 2065 7665 6e74 7320 6672 6f6d 2064 6576   events from dev
-0000f810: 6963 6573 2028 5573 6572 2061 636b 2072  ices (User ack r
-0000f820: 6563 2066 726f 6d20 4448 4350 2073 6572  ec from DHCP ser
-0000f830: 7665 722c 2045 4150 2072 6573 706f 6e73  ver, EAP respons
-0000f840: 6520 666f 7220 636c 6965 6e74 2e2e 2e29  e for client...)
-0000f850: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-0000f860: 6574 5f65 7665 6e74 7328 0a20 2020 2020  et_events(.     
-0000f870: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0000f880: 2067 726f 7570 3a20 7374 7220 3d20 4e6f   group: str = No
-0000f890: 6e65 2c0a 2020 2020 2020 2020 7377 6172  ne,.        swar
-0000f8a0: 6d5f 6964 3a20 7374 7220 3d20 4e6f 6e65  m_id: str = None
-0000f8b0: 2c0a 2020 2020 2020 2020 6c61 6265 6c3a  ,.        label:
-0000f8c0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000f8d0: 2020 2020 2066 726f 6d5f 7473 3a20 696e       from_ts: in
-0000f8e0: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
-0000f8f0: 2020 746f 5f74 733a 2069 6e74 203d 204e    to_ts: int = N
-0000f900: 6f6e 652c 0a20 2020 2020 2020 206d 6163  one,.        mac
-0000f910: 6164 6472 3a20 7374 7220 3d20 4e6f 6e65  addr: str = None
-0000f920: 2c0a 2020 2020 2020 2020 6273 7369 643a  ,.        bssid:
-0000f930: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000f940: 2020 2020 2064 6576 6963 655f 6d61 633a       device_mac:
-0000f950: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000f960: 2020 2020 2068 6f73 746e 616d 653a 2073       hostname: s
-0000f970: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0000f980: 2020 2064 6576 6963 655f 7479 7065 3a20     device_type: 
-0000f990: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-0000f9a0: 2020 2020 736f 7274 3a20 7374 7220 3d20      sort: str = 
-0000f9b0: 272d 7469 6d65 7374 616d 7027 2c0a 2020  '-timestamp',.  
-0000f9c0: 2020 2020 2020 7369 7465 3a20 7374 7220        site: str 
-0000f9d0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000f9e0: 7365 7269 616c 3a20 7374 7220 3d20 4e6f  serial: str = No
-0000f9f0: 6e65 2c0a 2020 2020 2020 2020 6c65 7665  ne,.        leve
-0000fa00: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
-0000fa10: 2020 2020 2020 2065 7665 6e74 5f64 6573         event_des
-0000fa20: 6372 6970 7469 6f6e 3a20 7374 7220 3d20  cription: str = 
-0000fa30: 4e6f 6e65 2c0a 2020 2020 2020 2020 6576  None,.        ev
-0000fa40: 656e 745f 7479 7065 3a20 7374 7220 3d20  ent_type: str = 
-0000fa50: 4e6f 6e65 2c0a 2020 2020 2020 2020 6669  None,.        fi
-0000fa60: 656c 6473 3a20 7374 7220 3d20 4e6f 6e65  elds: str = None
-0000fa70: 2c0a 2020 2020 2020 2020 6361 6c63 756c  ,.        calcul
-0000fa80: 6174 655f 746f 7461 6c3a 2062 6f6f 6c20  ate_total: bool 
-0000fa90: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000faa0: 6f66 6673 6574 3a20 696e 7420 3d20 302c  offset: int = 0,
-0000fab0: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
-0000fac0: 696e 7420 3d20 3130 3030 2c0a 2020 2020  int = 1000,.    
-0000fad0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0000fae0: 2020 2020 2020 2022 2222 4c69 7374 2045         """List E
-0000faf0: 7665 6e74 732e 2076 320a 0a20 2020 2020  vents. v2..     
-0000fb00: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0000fb10: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
-0000fb20: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-0000fb30: 6572 2062 7920 6772 6f75 7020 6e61 6d65  er by group name
-0000fb40: 0a20 2020 2020 2020 2020 2020 2073 7761  .            swa
-0000fb50: 726d 5f69 6420 2873 7472 2c20 6f70 7469  rm_id (str, opti
-0000fb60: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-0000fb70: 2053 7761 726d 2049 440a 2020 2020 2020   Swarm ID.      
-0000fb80: 2020 2020 2020 6c61 6265 6c20 2873 7472        label (str
+0000e740: 2053 7761 726d 2049 440a 2020 2020 2020   Swarm ID.      
+0000e750: 2020 2020 2020 6c61 6265 6c20 2873 7472        label (str
+0000e760: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+0000e770: 7465 7220 6279 204c 6162 656c 206e 616d  ter by Label nam
+0000e780: 650a 2020 2020 2020 2020 2020 2020 7369  e.            si
+0000e790: 7465 2028 7374 722c 206f 7074 696f 6e61  te (str, optiona
+0000e7a0: 6c29 3a20 4669 6c74 6572 2062 7920 5369  l): Filter by Si
+0000e7b0: 7465 206e 616d 650a 2020 2020 2020 2020  te name.        
+0000e7c0: 2020 2020 6361 6c63 756c 6174 655f 636c      calculate_cl
+0000e7d0: 6965 6e74 5f63 6f75 6e74 2028 626f 6f6c  ient_count (bool
+0000e7e0: 2c20 6f70 7469 6f6e 616c 293a 2057 6865  , optional): Whe
+0000e7f0: 7468 6572 2074 6f20 6361 6c63 756c 6174  ther to calculat
+0000e800: 6520 636c 6965 6e74 2063 6f75 6e74 2070  e client count p
+0000e810: 6572 2053 5349 440a 2020 2020 2020 2020  er SSID.        
+0000e820: 2020 2020 736f 7274 5f62 7920 2873 7472      sort_by (str
+0000e830: 2c20 6f70 7469 6f6e 616c 293a 2053 6f72  , optional): Sor
+0000e840: 7420 7061 7261 6d65 7465 7220 6d61 7920  t parameter may 
+0000e850: 6265 206f 6e65 206f 6620 2b65 7373 6964  be one of +essid
+0000e860: 2c20 2d65 7373 6964 2e20 4465 6661 756c  , -essid. Defaul
+0000e870: 7420 6973 2027 2b65 7373 6964 270a 0a20  t is '+essid'.. 
+0000e880: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+0000e890: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+0000e8a0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+0000e8b0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+0000e8c0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000e8d0: 2020 2020 2075 726c 203d 2022 2f6d 6f6e       url = "/mon
+0000e8e0: 6974 6f72 696e 672f 7632 2f6e 6574 776f  itoring/v2/netwo
+0000e8f0: 726b 7322 0a20 2020 2020 2020 2069 6620  rks".        if 
+0000e900: 6e61 6d65 3a0a 2020 2020 2020 2020 2020  name:.          
+0000e910: 2020 7572 6c20 3d20 6622 7b75 726c 7d2f    url = f"{url}/
+0000e920: 7b6e 616d 657d 220a 0a20 2020 2020 2020  {name}"..       
+0000e930: 2069 6620 6361 6c63 756c 6174 655f 636c   if calculate_cl
+0000e940: 6965 6e74 5f63 6f75 6e74 2069 6e20 5b54  ient_count in [T
+0000e950: 7275 652c 2046 616c 7365 5d3a 0a20 2020  rue, False]:.   
+0000e960: 2020 2020 2020 2020 2063 616c 6375 6c61           calcula
+0000e970: 7465 5f63 6c69 656e 745f 636f 756e 7420  te_client_count 
+0000e980: 3d20 7374 7228 6361 6c63 756c 6174 655f  = str(calculate_
+0000e990: 636c 6965 6e74 5f63 6f75 6e74 290a 0a20  client_count).. 
+0000e9a0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+0000e9b0: 7b0a 2020 2020 2020 2020 2020 2020 2767  {.            'g
+0000e9c0: 726f 7570 273a 2067 726f 7570 2c0a 2020  roup': group,.  
+0000e9d0: 2020 2020 2020 2020 2020 2773 7761 726d            'swarm
+0000e9e0: 5f69 6427 3a20 7377 6172 6d5f 6964 2c0a  _id': swarm_id,.
+0000e9f0: 2020 2020 2020 2020 2020 2020 276c 6162              'lab
+0000ea00: 656c 273a 206c 6162 656c 2c0a 2020 2020  el': label,.    
+0000ea10: 2020 2020 2020 2020 2773 6974 6527 3a20          'site': 
+0000ea20: 7369 7465 2c0a 2020 2020 2020 2020 2020  site,.          
+0000ea30: 2020 2763 616c 6375 6c61 7465 5f63 6c69    'calculate_cli
+0000ea40: 656e 745f 636f 756e 7427 3a20 6361 6c63  ent_count': calc
+0000ea50: 756c 6174 655f 636c 6965 6e74 5f63 6f75  ulate_client_cou
+0000ea60: 6e74 2c0a 2020 2020 2020 2020 2020 2020  nt,.            
+0000ea70: 2773 6f72 7427 3a20 736f 7274 5f62 792c  'sort': sort_by,
+0000ea80: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+0000ea90: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+0000eaa0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+0000eab0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+0000eac0: 2020 2023 2041 5049 2d46 4c41 5720 5468     # API-FLAW Th
+0000ead0: 6973 206d 6574 686f 6420 7265 7475 726e  is method return
+0000eae0: 7320 6e65 7874 2074 6f20 6e6f 7468 696e  s next to nothin
+0000eaf0: 6720 666f 7220 7265 7365 7276 6564 2049  g for reserved I
+0000eb00: 5073 2e0a 2020 2020 2320 576f 756c 6420  Ps..    # Would 
+0000eb10: 6265 206d 6f72 6520 6964 6561 6c20 6966  be more ideal if
+0000eb20: 2069 7420 7265 7475 726e 6564 2063 6c69   it returned cli
+0000eb30: 656e 745f 6e61 6d65 2070 6f6f 6c20 7076  ent_name pool pv
+0000eb40: 6964 2065 7463 2061 7320 6974 2064 6f65  id etc as it doe
+0000eb50: 7320 7769 7468 206e 6f6e 2072 6573 7365  s with non resse
+0000eb60: 7276 6564 2049 5073 0a20 2020 2061 7379  rved IPs.    asy
+0000eb70: 6e63 2064 6566 2067 6574 5f64 6863 705f  nc def get_dhcp_
+0000eb80: 636c 6965 6e74 7328 0a20 2020 2020 2020  clients(.       
+0000eb90: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
+0000eba0: 6572 6961 6c5f 6e75 6d3a 2073 7472 2c0a  erial_num: str,.
+0000ebb0: 2020 2020 2020 2020 7265 7365 7276 6174          reservat
+0000ebc0: 696f 6e3a 2062 6f6f 6c20 3d20 5472 7565  ion: bool = True
+0000ebd0: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
+0000ebe0: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
+0000ebf0: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
+0000ec00: 3130 300a 2020 2020 2920 2d3e 2052 6573  100.    ) -> Res
+0000ec10: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0000ec20: 2222 4765 7420 4448 4350 2043 6c69 656e  ""Get DHCP Clien
+0000ec30: 7420 696e 666f 726d 6174 696f 6e20 6672  t information fr
+0000ec40: 6f6d 2047 6174 6577 6179 2e0a 0a20 2020  om Gateway...   
+0000ec50: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+0000ec60: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
+0000ec70: 6d20 2873 7472 293a 2053 6572 6961 6c20  m (str): Serial 
+0000ec80: 6e75 6d62 6572 206f 6620 6d6f 6269 6c69  number of mobili
+0000ec90: 7479 2063 6f6e 7472 6f6c 6c65 7220 746f  ty controller to
+0000eca0: 2062 6520 7175 6572 6965 640a 2020 2020   be queried.    
+0000ecb0: 2020 2020 2020 2020 7265 7365 7276 6174          reservat
+0000ecc0: 696f 6e20 2862 6f6f 6c2c 206f 7074 696f  ion (bool, optio
+0000ecd0: 6e61 6c29 3a20 466c 6167 2074 6f20 7475  nal): Flag to tu
+0000ece0: 726e 206f 6e2f 6f66 6620 6c69 7374 696e  rn on/off listin
+0000ecf0: 6720 4448 4350 2072 6573 6572 7661 7469  g DHCP reservati
+0000ed00: 6f6e 7328 6966 2061 6e79 292e 0a20 2020  ons(if any)..   
+0000ed10: 2020 2020 2020 2020 2020 2020 2044 6566               Def
+0000ed20: 6175 6c74 7320 746f 2054 7275 650a 2020  aults to True.  
+0000ed30: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
+0000ed40: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0000ed50: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
+0000ed60: 7365 7420 4465 6661 756c 7473 2074 6f20  set Defaults to 
+0000ed70: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
+0000ed80: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
+0000ed90: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+0000eda0: 206c 696d 6974 2e20 6d61 7820 3130 3030   limit. max 1000
+0000edb0: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
+0000edc0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+0000edd0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0000ede0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+0000edf0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+0000ee00: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+0000ee10: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
+0000ee20: 222f 6d6f 6e69 746f 7269 6e67 2f76 312f  "/monitoring/v1/
+0000ee30: 6d6f 6269 6c69 7479 5f63 6f6e 7472 6f6c  mobility_control
+0000ee40: 6c65 7273 2f7b 7365 7269 616c 5f6e 756d  lers/{serial_num
+0000ee50: 7d2f 6468 6370 5f63 6c69 656e 7473 220a  }/dhcp_clients".
+0000ee60: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
+0000ee70: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0000ee80: 2772 6573 6572 7661 7469 6f6e 273a 2073  'reservation': s
+0000ee90: 7472 2872 6573 6572 7661 7469 6f6e 292c  tr(reservation),
+0000eea0: 0a20 2020 2020 2020 2020 2020 2022 6f66  .            "of
+0000eeb0: 6673 6574 223a 206f 6666 7365 742c 0a20  fset": offset,. 
+0000eec0: 2020 2020 2020 2020 2020 2022 6c69 6d69             "limi
+0000eed0: 7422 3a20 6c69 6d69 740a 2020 2020 2020  t": limit.      
+0000eee0: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+0000eef0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+0000ef00: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+0000ef10: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+0000ef20: 6320 6465 6620 6765 745f 6468 6370 5f73  c def get_dhcp_s
+0000ef30: 6572 7665 7228 7365 6c66 2c20 7365 7269  erver(self, seri
+0000ef40: 616c 5f6e 756d 3a20 7374 7229 202d 3e20  al_num: str) -> 
+0000ef50: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+0000ef60: 2020 2222 2247 6574 2044 4843 5020 5365    """Get DHCP Se
+0000ef70: 7276 6572 2064 6574 6169 6c73 2066 726f  rver details fro
+0000ef80: 6d20 4761 7465 7761 792e 0a0a 2020 2020  m Gateway...    
+0000ef90: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+0000efa0: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
+0000efb0: 2028 7374 7229 3a20 5365 7269 616c 206e   (str): Serial n
+0000efc0: 756d 6265 7220 6f66 206d 6f62 696c 6974  umber of mobilit
+0000efd0: 7920 636f 6e74 726f 6c6c 6572 2074 6f20  y controller to 
+0000efe0: 6265 2071 7565 7269 6564 0a0a 2020 2020  be queried..    
+0000eff0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+0000f000: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+0000f010: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+0000f020: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+0000f030: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000f040: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
+0000f050: 6f72 696e 672f 7631 2f6d 6f62 696c 6974  oring/v1/mobilit
+0000f060: 795f 636f 6e74 726f 6c6c 6572 732f 7b73  y_controllers/{s
+0000f070: 6572 6961 6c5f 6e75 6d7d 2f64 6863 705f  erial_num}/dhcp_
+0000f080: 7365 7276 6572 7322 0a0a 2020 2020 2020  servers"..      
+0000f090: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+0000f0a0: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
+0000f0b0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+0000f0c0: 6761 7465 7761 7973 5f62 795f 6772 6f75  gateways_by_grou
+0000f0d0: 7028 7365 6c66 2c20 6772 6f75 7029 3a0a  p(self, group):.
+0000f0e0: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+0000f0f0: 6d6f 6e69 746f 7269 6e67 2f76 312f 6d6f  monitoring/v1/mo
+0000f100: 6269 6c69 7479 5f63 6f6e 7472 6f6c 6c65  bility_controlle
+0000f110: 7273 220a 2020 2020 2020 2020 7061 7261  rs".        para
+0000f120: 6d73 203d 207b 2267 726f 7570 223a 2067  ms = {"group": g
+0000f130: 726f 7570 7d0a 2020 2020 2020 2020 7265  roup}.        re
+0000f140: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0000f150: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
+0000f160: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
+0000f170: 6e63 2064 6566 2067 6574 5f67 726f 7570  nc def get_group
+0000f180: 5f66 6f72 5f64 6576 5f62 795f 7365 7269  _for_dev_by_seri
+0000f190: 616c 2873 656c 662c 2073 6572 6961 6c5f  al(self, serial_
+0000f1a0: 6e75 6d29 3a0a 2020 2020 2020 2020 7265  num):.        re
+0000f1b0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0000f1c0: 6765 7428 6622 2f63 6f6e 6669 6775 7261  get(f"/configura
+0000f1d0: 7469 6f6e 2f76 312f 6465 7669 6365 732f  tion/v1/devices/
+0000f1e0: 7b73 6572 6961 6c5f 6e75 6d7d 2f67 726f  {serial_num}/gro
+0000f1f0: 7570 2229 0a0a 2020 2020 2320 6173 796e  up")..    # asyn
+0000f200: 6320 6465 6620 6765 745f 6468 6370 5f63  c def get_dhcp_c
+0000f210: 6c69 656e 745f 696e 666f 5f62 795f 6777  lient_info_by_gw
+0000f220: 2873 656c 662c 2073 6572 6961 6c5f 6e75  (self, serial_nu
+0000f230: 6d29 3a0a 2020 2020 2320 2020 2020 7572  m):.    #     ur
+0000f240: 6c20 3d20 6622 2f6d 6f6e 6974 6f72 696e  l = f"/monitorin
+0000f250: 672f 7631 2f6d 6f62 696c 6974 795f 636f  g/v1/mobility_co
+0000f260: 6e74 726f 6c6c 6572 732f 7b73 6572 6961  ntrollers/{seria
+0000f270: 6c5f 6e75 6d7d 2f64 6863 705f 636c 6965  l_num}/dhcp_clie
+0000f280: 6e74 7322 0a20 2020 2023 2020 2020 2070  nts".    #     p
+0000f290: 6172 616d 7320 3d20 7b22 7265 7365 7276  arams = {"reserv
+0000f2a0: 6174 696f 6e22 3a20 4661 6c73 657d 0a20  ation": False}. 
+0000f2b0: 2020 2023 2020 2020 2072 6574 7572 6e20     #     return 
+0000f2c0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+0000f2d0: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
+0000f2e0: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
+0000f2f0: 6620 6765 745f 766c 616e 5f69 6e66 6f5f  f get_vlan_info_
+0000f300: 6279 5f67 7728 7365 6c66 2c20 7365 7269  by_gw(self, seri
+0000f310: 616c 5f6e 756d 293a 0a20 2020 2020 2020  al_num):.       
+0000f320: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0000f330: 6c66 2e67 6574 2866 222f 6d6f 6e69 746f  lf.get(f"/monito
+0000f340: 7269 6e67 2f76 312f 6d6f 6269 6c69 7479  ring/v1/mobility
+0000f350: 5f63 6f6e 7472 6f6c 6c65 7273 2f7b 7365  _controllers/{se
+0000f360: 7269 616c 5f6e 756d 7d2f 766c 616e 2229  rial_num}/vlan")
+0000f370: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+0000f380: 6765 745f 7570 6c69 6e6b 5f69 6e66 6f5f  get_uplink_info_
+0000f390: 6279 5f67 7728 7365 6c66 2c20 7365 7269  by_gw(self, seri
+0000f3a0: 616c 5f6e 756d 2c20 7469 6d65 7261 6e67  al_num, timerang
+0000f3b0: 653a 2073 7472 203d 2022 3348 2229 3a0a  e: str = "3H"):.
+0000f3c0: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+0000f3d0: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f6d  /monitoring/v1/m
+0000f3e0: 6f62 696c 6974 795f 636f 6e74 726f 6c6c  obility_controll
+0000f3f0: 6572 732f 7b73 6572 6961 6c5f 6e75 6d7d  ers/{serial_num}
+0000f400: 2f75 706c 696e 6b73 220a 2020 2020 2020  /uplinks".      
+0000f410: 2020 7061 7261 6d73 203d 207b 2274 696d    params = {"tim
+0000f420: 6572 616e 6765 223a 2074 696d 6572 616e  erange": timeran
+0000f430: 6765 7d0a 2020 2020 2020 2020 7265 7475  ge}.        retu
+0000f440: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+0000f450: 7428 7572 6c2c 2070 6172 616d 7329 0a0a  t(url, params)..
+0000f460: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+0000f470: 745f 7570 6c69 6e6b 5f74 756e 6e65 6c5f  t_uplink_tunnel_
+0000f480: 7374 6174 735f 6279 5f67 7728 7365 6c66  stats_by_gw(self
+0000f490: 2c20 7365 7269 616c 5f6e 756d 293a 0a20  , serial_num):. 
+0000f4a0: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+0000f4b0: 6d6f 6e69 746f 7269 6e67 2f76 312f 6d6f  monitoring/v1/mo
+0000f4c0: 6269 6c69 7479 5f63 6f6e 7472 6f6c 6c65  bility_controlle
+0000f4d0: 7273 2f7b 7365 7269 616c 5f6e 756d 7d2f  rs/{serial_num}/
+0000f4e0: 7570 6c69 6e6b 732f 7475 6e6e 656c 5f73  uplinks/tunnel_s
+0000f4f0: 7461 7473 220a 2020 2020 2020 2020 7265  tats".        re
+0000f500: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0000f510: 6765 7428 7572 6c29 0a0a 2020 2020 6173  get(url)..    as
+0000f520: 796e 6320 6465 6620 6765 745f 7570 6c69  ync def get_upli
+0000f530: 6e6b 5f73 7461 7465 5f62 795f 6772 6f75  nk_state_by_grou
+0000f540: 7028 7365 6c66 2c20 6772 6f75 703a 2073  p(self, group: s
+0000f550: 7472 2920 2d3e 2052 6573 706f 6e73 653a  tr) -> Response:
+0000f560: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+0000f570: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f6d  /monitoring/v1/m
+0000f580: 6f62 696c 6974 795f 636f 6e74 726f 6c6c  obility_controll
+0000f590: 6572 732f 7570 6c69 6e6b 732f 6469 7374  ers/uplinks/dist
+0000f5a0: 7269 6275 7469 6f6e 220a 2020 2020 2020  ribution".      
+0000f5b0: 2020 7061 7261 6d73 203d 207b 2267 726f    params = {"gro
+0000f5c0: 7570 223a 2067 726f 7570 7d0a 2020 2020  up": group}.    
+0000f5d0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+0000f5e0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+0000f5f0: 6172 616d 7329 0a0a 2020 2020 2320 544f  arams)..    # TO
+0000f600: 444f 206d 6f76 6520 636c 6561 6e65 720a  DO move cleaner.
+0000f610: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+0000f620: 745f 616c 6c5f 7369 7465 7328 0a20 2020  t_all_sites(.   
+0000f630: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+0000f640: 2020 2063 616c 6375 6c61 7465 5f74 6f74     calculate_tot
+0000f650: 616c 3a20 626f 6f6c 203d 2046 616c 7365  al: bool = False
+0000f660: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
+0000f670: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
+0000f680: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
+0000f690: 3130 3030 0a20 2020 2029 202d 3e20 5265  1000.    ) -> Re
+0000f6a0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+0000f6b0: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
+0000f6c0: 2020 2020 2020 2022 6361 6c63 756c 6174         "calculat
+0000f6d0: 655f 746f 7461 6c22 3a20 7374 7228 6361  e_total": str(ca
+0000f6e0: 6c63 756c 6174 655f 746f 7461 6c29 2c0a  lculate_total),.
+0000f6f0: 2020 2020 2020 2020 2020 2020 226f 6666              "off
+0000f700: 7365 7422 3a20 6f66 6673 6574 2c0a 2020  set": offset,.  
+0000f710: 2020 2020 2020 2020 2020 226c 696d 6974            "limit
+0000f720: 223a 206c 696d 6974 0a20 2020 2020 2020  ": limit.       
+0000f730: 207d 0a20 2020 2020 2020 2072 6574 7572   }.        retur
+0000f740: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+0000f750: 2822 2f63 656e 7472 616c 2f76 322f 7369  ("/central/v2/si
+0000f760: 7465 7322 2c20 7061 7261 6d73 3d70 6172  tes", params=par
+0000f770: 616d 732c 2063 616c 6c62 6163 6b3d 636c  ams, callback=cl
+0000f780: 6561 6e65 722e 7369 7465 7329 0a0a 2020  eaner.sites)..  
+0000f790: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+0000f7a0: 7369 7465 5f64 6574 6169 6c73 2873 656c  site_details(sel
+0000f7b0: 662c 2073 6974 655f 6964 293a 0a20 2020  f, site_id):.   
+0000f7c0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+0000f7d0: 7420 7365 6c66 2e67 6574 2866 222f 6365  t self.get(f"/ce
+0000f7e0: 6e74 7261 6c2f 7632 2f73 6974 6573 2f7b  ntral/v2/sites/{
+0000f7f0: 7369 7465 5f69 647d 222c 2063 616c 6c62  site_id}", callb
+0000f800: 6163 6b3d 636c 6561 6e65 722e 7369 7465  ack=cleaner.site
+0000f810: 7329 0a0a 2020 2020 2320 544f 444f 206d  s)..    # TODO m
+0000f820: 616b 6520 636f 6d6d 616e 6420 7468 6973  ake command this
+0000f830: 2073 686f 7773 2065 7665 6e74 7320 6672   shows events fr
+0000f840: 6f6d 2064 6576 6963 6573 2028 5573 6572  om devices (User
+0000f850: 2061 636b 2072 6563 2066 726f 6d20 4448   ack rec from DH
+0000f860: 4350 2073 6572 7665 722c 2045 4150 2072  CP server, EAP r
+0000f870: 6573 706f 6e73 6520 666f 7220 636c 6965  esponse for clie
+0000f880: 6e74 2e2e 2e29 0a20 2020 2061 7379 6e63  nt...).    async
+0000f890: 2064 6566 2067 6574 5f65 7665 6e74 7328   def get_events(
+0000f8a0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+0000f8b0: 2020 2020 2020 2067 726f 7570 3a20 7374         group: st
+0000f8c0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0000f8d0: 2020 7377 6172 6d5f 6964 3a20 7374 7220    swarm_id: str 
+0000f8e0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000f8f0: 6c61 6265 6c3a 2073 7472 203d 204e 6f6e  label: str = Non
+0000f900: 652c 0a20 2020 2020 2020 2066 726f 6d5f  e,.        from_
+0000f910: 7473 3a20 696e 7420 3d20 4e6f 6e65 2c0a  ts: int = None,.
+0000f920: 2020 2020 2020 2020 746f 5f74 733a 2069          to_ts: i
+0000f930: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+0000f940: 2020 206d 6163 6164 6472 3a20 7374 7220     macaddr: str 
+0000f950: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000f960: 6273 7369 643a 2073 7472 203d 204e 6f6e  bssid: str = Non
+0000f970: 652c 0a20 2020 2020 2020 2064 6576 6963  e,.        devic
+0000f980: 655f 6d61 633a 2073 7472 203d 204e 6f6e  e_mac: str = Non
+0000f990: 652c 0a20 2020 2020 2020 2068 6f73 746e  e,.        hostn
+0000f9a0: 616d 653a 2073 7472 203d 204e 6f6e 652c  ame: str = None,
+0000f9b0: 0a20 2020 2020 2020 2064 6576 6963 655f  .        device_
+0000f9c0: 7479 7065 3a20 7374 7220 3d20 4e6f 6e65  type: str = None
+0000f9d0: 2c0a 2020 2020 2020 2020 736f 7274 3a20  ,.        sort: 
+0000f9e0: 7374 7220 3d20 272d 7469 6d65 7374 616d  str = '-timestam
+0000f9f0: 7027 2c0a 2020 2020 2020 2020 7369 7465  p',.        site
+0000fa00: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0000fa10: 2020 2020 2020 7365 7269 616c 3a20 7374        serial: st
+0000fa20: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0000fa30: 2020 6c65 7665 6c3a 2073 7472 203d 204e    level: str = N
+0000fa40: 6f6e 652c 0a20 2020 2020 2020 2065 7665  one,.        eve
+0000fa50: 6e74 5f64 6573 6372 6970 7469 6f6e 3a20  nt_description: 
+0000fa60: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0000fa70: 2020 2020 6576 656e 745f 7479 7065 3a20      event_type: 
+0000fa80: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0000fa90: 2020 2020 6669 656c 6473 3a20 7374 7220      fields: str 
+0000faa0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000fab0: 6361 6c63 756c 6174 655f 746f 7461 6c3a  calculate_total:
+0000fac0: 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020   bool = None,.  
+0000fad0: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
+0000fae0: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
+0000faf0: 696d 6974 3a20 696e 7420 3d20 3130 3030  imit: int = 1000
+0000fb00: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+0000fb10: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+0000fb20: 4c69 7374 2045 7665 6e74 732e 2076 320a  List Events. v2.
+0000fb30: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0000fb40: 2020 2020 2020 2020 2020 2067 726f 7570             group
+0000fb50: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0000fb60: 3a20 4669 6c74 6572 2062 7920 6772 6f75  : Filter by grou
+0000fb70: 7020 6e61 6d65 0a20 2020 2020 2020 2020  p name.         
+0000fb80: 2020 2073 7761 726d 5f69 6420 2873 7472     swarm_id (str
 0000fb90: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-0000fba0: 7465 7220 6279 204c 6162 656c 206e 616d  ter by Label nam
-0000fbb0: 650a 2020 2020 2020 2020 2020 2020 6672  e.            fr
-0000fbc0: 6f6d 5f74 7320 2869 6e74 2c20 6f70 7469  om_ts (int, opti
-0000fbd0: 6f6e 616c 293a 204e 6565 6420 696e 666f  onal): Need info
-0000fbe0: 726d 6174 696f 6e20 6672 6f6d 2074 6869  rmation from thi
-0000fbf0: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
-0000fc00: 6573 7461 6d70 2069 7320 6570 6f63 680a  estamp is epoch.
-0000fc10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fc20: 696e 2073 6563 6f6e 6473 2e20 4465 6661  in seconds. Defa
-0000fc30: 756c 7420 6973 2063 7572 7265 6e74 2074  ult is current t
-0000fc40: 696d 6573 7461 6d70 206d 696e 7573 2033  imestamp minus 3
-0000fc50: 2068 6f75 7273 0a20 2020 2020 2020 2020   hours.         
-0000fc60: 2020 2074 6f5f 7473 2028 696e 742c 206f     to_ts (int, o
-0000fc70: 7074 696f 6e61 6c29 3a20 4e65 6564 2069  ptional): Need i
-0000fc80: 6e66 6f72 6d61 7469 6f6e 2074 6f20 7468  nformation to th
-0000fc90: 6973 2074 696d 6573 7461 6d70 2e20 5469  is timestamp. Ti
-0000fca0: 6d65 7374 616d 7020 6973 2065 706f 6368  mestamp is epoch
-0000fcb0: 2069 6e0a 2020 2020 2020 2020 2020 2020   in.            
-0000fcc0: 2020 2020 7365 636f 6e64 732e 2044 6566      seconds. Def
-0000fcd0: 6175 6c74 2069 7320 6375 7272 656e 7420  ault is current 
-0000fce0: 7469 6d65 7374 616d 700a 2020 2020 2020  timestamp.      
-0000fcf0: 2020 2020 2020 6d61 6361 6464 7220 2873        macaddr (s
-0000fd00: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-0000fd10: 696c 7465 7220 6279 2063 6c69 656e 7420  ilter by client 
-0000fd20: 4d41 4320 6164 6472 6573 730a 2020 2020  MAC address.    
-0000fd30: 2020 2020 2020 2020 6273 7369 6420 2873          bssid (s
-0000fd40: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-0000fd50: 696c 7465 7220 6279 2062 7373 6964 0a20  ilter by bssid. 
-0000fd60: 2020 2020 2020 2020 2020 2064 6576 6963             devic
-0000fd70: 655f 6d61 6320 2873 7472 2c20 6f70 7469  e_mac (str, opti
-0000fd80: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-0000fd90: 2064 6576 6963 655f 6d61 630a 2020 2020   device_mac.    
-0000fda0: 2020 2020 2020 2020 686f 7374 6e61 6d65          hostname
-0000fdb0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0000fdc0: 3a20 4669 6c74 6572 2062 7920 686f 7374  : Filter by host
-0000fdd0: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
-0000fde0: 2064 6576 6963 655f 7479 7065 2028 7374   device_type (st
-0000fdf0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-0000fe00: 6c74 6572 2062 7920 6465 7669 6365 2074  lter by device t
-0000fe10: 7970 652e 0a20 2020 2020 2020 2020 2020  ype..           
-0000fe20: 2020 2020 2056 616c 6964 2056 616c 7565       Valid Value
-0000fe30: 733a 2041 4343 4553 5320 504f 494e 542c  s: ACCESS POINT,
-0000fe40: 2053 5749 5443 482c 2047 4154 4557 4159   SWITCH, GATEWAY
-0000fe50: 2c20 434c 4945 4e54 0a20 2020 2020 2020  , CLIENT.       
-0000fe60: 2020 2020 2073 6f72 7420 2873 7472 2c20       sort (str, 
-0000fe70: 6f70 7469 6f6e 616c 293a 2053 6f72 7420  optional): Sort 
-0000fe80: 6279 2064 6573 632f 6173 6320 7573 696e  by desc/asc usin
-0000fe90: 6720 2d74 696d 6573 7461 6d70 2f2b 7469  g -timestamp/+ti
-0000fea0: 6d65 7374 616d 702e 2044 6566 6175 6c74  mestamp. Default
-0000feb0: 2069 730a 2020 2020 2020 2020 2020 2020   is.            
-0000fec0: 2020 2020 272d 7469 6d65 7374 616d 7027      '-timestamp'
-0000fed0: 2020 5661 6c69 6420 5661 6c75 6573 3a20    Valid Values: 
-0000fee0: 2d74 696d 6573 7461 6d70 2c20 2b74 696d  -timestamp, +tim
-0000fef0: 6573 7461 6d70 0a20 2020 2020 2020 2020  estamp.         
-0000ff00: 2020 2073 6974 6520 2873 7472 2c20 6f70     site (str, op
-0000ff10: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-0000ff20: 6279 2073 6974 6520 6e61 6d65 0a20 2020  by site name.   
-0000ff30: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
-0000ff40: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0000ff50: 2046 696c 7465 7220 6279 2073 7769 7463   Filter by switc
-0000ff60: 6820 7365 7269 616c 206e 756d 6265 720a  h serial number.
-0000ff70: 2020 2020 2020 2020 2020 2020 6c65 7665              leve
-0000ff80: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
-0000ff90: 293a 2046 696c 7465 7220 6279 2065 7665  ): Filter by eve
-0000ffa0: 6e74 206c 6576 656c 0a20 2020 2020 2020  nt level.       
-0000ffb0: 2020 2020 2065 7665 6e74 5f64 6573 6372       event_descr
-0000ffc0: 6970 7469 6f6e 2028 7374 722c 206f 7074  iption (str, opt
-0000ffd0: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
-0000ffe0: 7920 6576 656e 7420 6465 7363 7269 7074  y event descript
-0000fff0: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
-00010000: 6576 656e 745f 7479 7065 2028 7374 722c  event_type (str,
-00010010: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-00010020: 6572 2062 7920 6576 656e 7420 7479 7065  er by event type
-00010030: 0a20 2020 2020 2020 2020 2020 2066 6965  .            fie
-00010040: 6c64 7320 2873 7472 2c20 6f70 7469 6f6e  lds (str, option
-00010050: 616c 293a 2043 6f6d 6d61 2073 6570 6172  al): Comma separ
-00010060: 6174 6564 206c 6973 7420 6f66 2066 6965  ated list of fie
-00010070: 6c64 7320 746f 2062 6520 7265 7475 726e  lds to be return
-00010080: 6564 2e20 5661 6c69 6420 6669 656c 6473  ed. Valid fields
-00010090: 2061 7265 0a20 2020 2020 2020 2020 2020   are.           
-000100a0: 2020 2020 206e 756d 6265 722c 206c 6576       number, lev
-000100b0: 656c 0a20 2020 2020 2020 2020 2020 2063  el.            c
-000100c0: 616c 6375 6c61 7465 5f74 6f74 616c 2028  alculate_total (
-000100d0: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-000100e0: 2057 6865 7468 6572 2074 6f20 6361 6c63   Whether to calc
-000100f0: 756c 6174 6520 746f 7461 6c20 6576 656e  ulate total even
-00010100: 7473 0a20 2020 2020 2020 2020 2020 206f  ts.            o
-00010110: 6666 7365 7420 2869 6e74 2c20 6f70 7469  ffset (int, opti
-00010120: 6f6e 616c 293a 2050 6167 696e 6174 696f  onal): Paginatio
-00010130: 6e20 6f66 6673 6574 2044 6566 6175 6c74  n offset Default
-00010140: 7320 746f 2030 2e0a 2020 2020 2020 2020  s to 0..        
-00010150: 2020 2020 6c69 6d69 7420 2869 6e74 2c20      limit (int, 
-00010160: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
-00010170: 6174 696f 6e20 6c69 6d69 742e 2044 6566  ation limit. Def
-00010180: 6175 6c74 2069 7320 3130 3020 616e 6420  ault is 100 and 
-00010190: 6d61 7820 6973 2031 3030 3020 4465 6661  max is 1000 Defa
-000101a0: 756c 7473 2074 6f20 3130 3030 2e0a 0a20  ults to 1000... 
-000101b0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-000101c0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-000101d0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-000101e0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-000101f0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00010200: 2020 2020 2075 726c 203d 2022 2f6d 6f6e       url = "/mon
-00010210: 6974 6f72 696e 672f 7632 2f65 7665 6e74  itoring/v2/event
-00010220: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
-00010230: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
-00010240: 2020 2022 6772 6f75 7022 3a20 6772 6f75     "group": grou
-00010250: 702c 0a20 2020 2020 2020 2020 2020 2022  p,.            "
-00010260: 7377 6172 6d5f 6964 223a 2073 7761 726d  swarm_id": swarm
-00010270: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
-00010280: 2022 6c61 6265 6c22 3a20 6c61 6265 6c2c   "label": label,
-00010290: 0a20 2020 2020 2020 2020 2020 2022 6672  .            "fr
-000102a0: 6f6d 5f74 696e 6d65 7374 616d 7022 3a20  om_tinmestamp": 
-000102b0: 6672 6f6d 5f74 732c 0a20 2020 2020 2020  from_ts,.       
-000102c0: 2020 2020 2022 746f 5f74 696e 6d65 7374       "to_tinmest
-000102d0: 616d 7022 3a20 746f 5f74 732c 0a20 2020  amp": to_ts,.   
-000102e0: 2020 2020 2020 2020 2027 6d61 6361 6464           'macadd
-000102f0: 7227 3a20 6d61 6361 6464 722c 0a20 2020  r': macaddr,.   
-00010300: 2020 2020 2020 2020 2027 6273 7369 6427           'bssid'
-00010310: 3a20 6273 7369 642c 0a20 2020 2020 2020  : bssid,.       
-00010320: 2020 2020 2027 6465 7669 6365 5f6d 6163       'device_mac
-00010330: 273a 2064 6576 6963 655f 6d61 632c 0a20  ': device_mac,. 
-00010340: 2020 2020 2020 2020 2020 2027 686f 7374             'host
-00010350: 6e61 6d65 273a 2068 6f73 746e 616d 652c  name': hostname,
-00010360: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
-00010370: 7669 6365 5f74 7970 6527 3a20 6465 7669  vice_type': devi
-00010380: 6365 5f74 7970 652c 0a20 2020 2020 2020  ce_type,.       
-00010390: 2020 2020 2027 736f 7274 273a 2073 6f72       'sort': sor
-000103a0: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
-000103b0: 7369 7465 273a 2073 6974 652c 0a20 2020  site': site,.   
-000103c0: 2020 2020 2020 2020 2027 7365 7269 616c           'serial
-000103d0: 273a 2073 6572 6961 6c2c 0a20 2020 2020  ': serial,.     
-000103e0: 2020 2020 2020 2027 6c65 7665 6c27 3a20         'level': 
-000103f0: 6c65 7665 6c2c 0a20 2020 2020 2020 2020  level,.         
-00010400: 2020 2027 6576 656e 745f 6465 7363 7269     'event_descri
-00010410: 7074 696f 6e27 3a20 6576 656e 745f 6465  ption': event_de
-00010420: 7363 7269 7074 696f 6e2c 0a20 2020 2020  scription,.     
-00010430: 2020 2020 2020 2027 6576 656e 745f 7479         'event_ty
-00010440: 7065 273a 2065 7665 6e74 5f74 7970 652c  pe': event_type,
-00010450: 0a20 2020 2020 2020 2020 2020 2027 6669  .            'fi
-00010460: 656c 6473 273a 2066 6965 6c64 732c 0a20  elds': fields,. 
-00010470: 2020 2020 2020 2020 2020 2027 6361 6c63             'calc
-00010480: 756c 6174 655f 746f 7461 6c27 3a20 6361  ulate_total': ca
-00010490: 6c63 756c 6174 655f 746f 7461 6c2c 0a20  lculate_total,. 
-000104a0: 2020 2020 2020 2020 2020 2022 6f66 6673             "offs
-000104b0: 6574 223a 206f 6666 7365 742c 0a20 2020  et": offset,.   
-000104c0: 2020 2020 2020 2020 2022 6c69 6d69 7422           "limit"
-000104d0: 3a20 6c69 6d69 742c 0a20 2020 2020 2020  : limit,.       
-000104e0: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
-000104f0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00010500: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
-00010510: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
-00010520: 2064 6566 2067 6574 5f61 6c6c 5f77 6562   def get_all_web
-00010530: 686f 6f6b 7328 7365 6c66 2920 2d3e 2052  hooks(self) -> R
-00010540: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-00010550: 2022 2222 4c69 7374 2061 6c6c 2064 6566   """List all def
-00010560: 696e 6564 2077 6562 686f 6f6b 732e 0a0a  ined webhooks...
-00010570: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00010580: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00010590: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-000105a0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-000105b0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-000105c0: 2020 2020 2020 7572 6c20 3d20 222f 6365        url = "/ce
-000105d0: 6e74 7261 6c2f 7631 2f77 6562 686f 6f6b  ntral/v1/webhook
-000105e0: 7322 0a0a 2020 2020 2020 2020 7265 7475  s"..        retu
-000105f0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00010600: 7428 7572 6c29 0a0a 2020 2020 6173 796e  t(url)..    asyn
-00010610: 6320 6465 6620 6164 645f 7765 6268 6f6f  c def add_webhoo
-00010620: 6b28 0a20 2020 2020 2020 2073 656c 662c  k(.        self,
-00010630: 0a20 2020 2020 2020 206e 616d 653a 2073  .        name: s
-00010640: 7472 2c0a 2020 2020 2020 2020 7572 6c73  tr,.        urls
-00010650: 3a20 4c69 7374 5b73 7472 5d2c 0a20 2020  : List[str],.   
-00010660: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-00010670: 2020 2020 2020 2020 2222 2241 6464 202f          """Add /
-00010680: 2075 7064 6174 6520 5765 6268 6f6f 6b2e   update Webhook.
-00010690: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-000106a0: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-000106b0: 2028 7374 7229 3a20 6e61 6d65 206f 6620   (str): name of 
-000106c0: 7468 6520 7765 6268 6f6f 6b0a 2020 2020  the webhook.    
-000106d0: 2020 2020 2020 2020 7572 6c73 2028 4c69          urls (Li
-000106e0: 7374 5b73 7472 5d29 3a20 4c69 7374 206f  st[str]): List o
-000106f0: 6620 7765 6268 6f6f 6b20 7572 6c73 0a0a  f webhook urls..
-00010700: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00010710: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00010720: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00010730: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00010740: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00010750: 2020 2020 2020 7572 6c20 3d20 222f 6365        url = "/ce
-00010760: 6e74 7261 6c2f 7631 2f77 6562 686f 6f6b  ntral/v1/webhook
-00010770: 7322 0a20 2020 2020 2020 2075 726c 7320  s".        urls 
-00010780: 3d20 7574 696c 732e 6c69 7374 6966 7928  = utils.listify(
-00010790: 7572 6c73 290a 0a20 2020 2020 2020 206a  urls)..        j
-000107a0: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
-000107b0: 2020 2020 2020 2020 2027 6e61 6d65 273a           'name':
-000107c0: 206e 616d 652c 0a20 2020 2020 2020 2020   name,.         
-000107d0: 2020 2027 7572 6c73 273a 2075 726c 730a     'urls': urls.
-000107e0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
-000107f0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00010800: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
-00010810: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
-00010820: 7461 290a 0a20 2020 2061 7379 6e63 2064  ta)..    async d
-00010830: 6566 2075 7064 6174 655f 7765 6268 6f6f  ef update_webhoo
-00010840: 6b28 0a20 2020 2020 2020 2073 656c 662c  k(.        self,
-00010850: 0a20 2020 2020 2020 2077 6964 3a20 7374  .        wid: st
-00010860: 722c 0a20 2020 2020 2020 206e 616d 653a  r,.        name:
-00010870: 2073 7472 2c0a 2020 2020 2020 2020 7572   str,.        ur
-00010880: 6c73 3a20 4c69 7374 5b73 7472 5d2c 0a20  ls: List[str],. 
-00010890: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-000108a0: 3a0a 2020 2020 2020 2020 2222 2255 7064  :.        """Upd
-000108b0: 6174 6520 7765 6268 6f6f 6b20 7365 7474  ate webhook sett
-000108c0: 696e 6773 2e0a 0a20 2020 2020 2020 2041  ings...        A
-000108d0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-000108e0: 2077 6964 2028 7374 7229 3a20 6964 206f   wid (str): id o
-000108f0: 6620 7468 6520 7765 6268 6f6f 6b0a 2020  f the webhook.  
-00010900: 2020 2020 2020 2020 2020 6e61 6d65 2028            name (
-00010910: 7374 7229 3a20 6e61 6d65 206f 6620 7468  str): name of th
-00010920: 6520 7765 6268 6f6f 6b0a 2020 2020 2020  e webhook.      
-00010930: 2020 2020 2020 7572 6c73 2028 4c69 7374        urls (List
-00010940: 5b73 7472 5d29 3a20 4c69 7374 206f 6620  [str]): List of 
-00010950: 7765 6268 6f6f 6b20 7572 6c73 0a0a 2020  webhook urls..  
-00010960: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-00010970: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-00010980: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-00010990: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-000109a0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000109b0: 2020 2020 7572 6c20 3d20 6622 2f63 656e      url = f"/cen
-000109c0: 7472 616c 2f76 312f 7765 6268 6f6f 6b73  tral/v1/webhooks
-000109d0: 2f7b 7769 647d 220a 0a20 2020 2020 2020  /{wid}"..       
-000109e0: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
-000109f0: 2020 2020 2020 2020 2020 2027 6e61 6d65             'name
-00010a00: 273a 206e 616d 652c 0a20 2020 2020 2020  ': name,.       
-00010a10: 2020 2020 2027 7572 6c73 273a 2075 726c       'urls': url
-00010a20: 730a 2020 2020 2020 2020 7d0a 0a20 2020  s.        }..   
-00010a30: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00010a40: 7420 7365 6c66 2e70 7574 2875 726c 2c20  t self.put(url, 
-00010a50: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
-00010a60: 6174 6129 0a0a 2020 2020 6173 796e 6320  ata)..    async 
-00010a70: 6465 6620 6465 6c65 7465 5f77 6562 686f  def delete_webho
-00010a80: 6f6b 280a 2020 2020 2020 2020 7365 6c66  ok(.        self
-00010a90: 2c0a 2020 2020 2020 2020 7769 643a 2073  ,.        wid: s
-00010aa0: 7472 2c0a 2020 2020 2920 2d3e 2052 6573  tr,.    ) -> Res
-00010ab0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-00010ac0: 2222 4465 6c65 7465 2057 6562 686f 6f6b  ""Delete Webhook
-00010ad0: 732e 0a0a 2020 2020 2020 2020 4172 6773  s...        Args
-00010ae0: 3a0a 2020 2020 2020 2020 2020 2020 7769  :.            wi
-00010af0: 6420 2873 7472 293a 2069 6420 6f66 2074  d (str): id of t
-00010b00: 6865 2077 6562 686f 6f6b 0a0a 2020 2020  he webhook..    
-00010b10: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00010b20: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00010b30: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00010b40: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-00010b50: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00010b60: 2020 7572 6c20 3d20 6622 2f63 656e 7472    url = f"/centr
-00010b70: 616c 2f76 312f 7765 6268 6f6f 6b73 2f7b  al/v1/webhooks/{
-00010b80: 7769 647d 220a 0a20 2020 2020 2020 2072  wid}"..        r
-00010b90: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00010ba0: 2e64 656c 6574 6528 7572 6c29 0a0a 2020  .delete(url)..  
-00010bb0: 2020 6173 796e 6320 6465 6620 7265 6672    async def refr
-00010bc0: 6573 685f 7765 6268 6f6f 6b5f 746f 6b65  esh_webhook_toke
-00010bd0: 6e28 0a20 2020 2020 2020 2073 656c 662c  n(.        self,
-00010be0: 0a20 2020 2020 2020 2077 6964 3a20 7374  .        wid: st
-00010bf0: 722c 0a20 2020 2029 202d 3e20 5265 7370  r,.    ) -> Resp
-00010c00: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00010c10: 2252 6566 7265 7368 2074 6865 2077 6562  "Refresh the web
-00010c20: 686f 6f6b 2074 6f6b 656e 2e0a 0a20 2020  hook token...   
-00010c30: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00010c40: 2020 2020 2020 2077 6964 2028 7374 7229         wid (str)
-00010c50: 3a20 6964 206f 6620 7468 6520 7765 6268  : id of the webh
-00010c60: 6f6f 6b0a 0a20 2020 2020 2020 2052 6574  ook..        Ret
-00010c70: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-00010c80: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-00010c90: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-00010ca0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-00010cb0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-00010cc0: 2066 222f 6365 6e74 7261 6c2f 7631 2f77   f"/central/v1/w
-00010cd0: 6562 686f 6f6b 732f 7b77 6964 7d2f 746f  ebhooks/{wid}/to
-00010ce0: 6b65 6e22 0a0a 2020 2020 2020 2020 7265  ken"..        re
-00010cf0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00010d00: 7075 7428 7572 6c29 0a0a 2020 2020 2320  put(url)..    # 
-00010d10: 4150 492d 464c 4157 2054 6573 7420 7765  API-FLAW Test we
-00010d20: 6268 6f6f 6b20 646f 6573 206e 6f74 2073  bhook does not s
-00010d30: 656e 6420 616e 2022 6964 222c 2069 7427  end an "id", it'
-00010d40: 7320 686f 7720 796f 7520 6465 7465 726d  s how you determ
-00010d50: 696e 6520 7768 6174 2074 6f20 436c 6f73  ine what to Clos
-00010d60: 650a 2020 2020 6173 796e 6320 6465 6620  e.    async def 
-00010d70: 7465 7374 5f77 6562 686f 6f6b 280a 2020  test_webhook(.  
-00010d80: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00010d90: 2020 2020 7769 643a 2073 7472 2c0a 2020      wid: str,.  
-00010da0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-00010db0: 0a20 2020 2020 2020 2022 2222 5465 7374  .        """Test
-00010dc0: 2066 6f72 2077 6562 686f 6f6b 206e 6f74   for webhook not
-00010dd0: 6966 6963 6174 696f 6e2e 0a0a 2020 2020  ification...    
-00010de0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00010df0: 2020 2020 2020 7769 6420 2873 7472 293a        wid (str):
-00010e00: 2069 6420 6f66 2074 6865 2077 6562 686f   id of the webho
-00010e10: 6f6b 0a0a 2020 2020 2020 2020 5265 7475  ok..        Retu
-00010e20: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00010e30: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00010e40: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00010e50: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00010e60: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-00010e70: 6622 2f63 656e 7472 616c 2f76 312f 7765  f"/central/v1/we
-00010e80: 6268 6f6f 6b73 2f7b 7769 647d 2f70 696e  bhooks/{wid}/pin
-00010e90: 6722 0a0a 2020 2020 2020 2020 7265 7475  g"..        retu
-00010ea0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00010eb0: 7428 7572 6c29 0a0a 2020 2020 6173 796e  t(url)..    asyn
-00010ec0: 6320 6465 6620 6765 745f 7369 7465 5f76  c def get_site_v
-00010ed0: 6c61 6e73 2873 656c 662c 2073 6974 655f  lans(self, site_
-00010ee0: 6964 3a20 696e 742c 2073 6561 7263 683a  id: int, search:
-00010ef0: 2073 7472 203d 204e 6f6e 652c 206f 6666   str = None, off
-00010f00: 7365 743a 2069 6e74 203d 2030 2c20 6c69  set: int = 0, li
-00010f10: 6d69 743a 2069 6e74 203d 2031 3030 2920  mit: int = 100) 
-00010f20: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00010f30: 2020 2020 2022 2222 4765 7420 766c 616e       """Get vlan
-00010f40: 206c 6973 7420 6f66 2061 2073 6974 652e   list of a site.
-00010f50: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00010f60: 2020 2020 2020 2020 2020 2020 7369 7465              site
-00010f70: 5f69 6420 2869 6e74 293a 2053 6974 6520  _id (int): Site 
-00010f80: 4944 2e0a 2020 2020 2020 2020 2020 2020  ID..            
-00010f90: 7365 6172 6368 2028 7374 722c 206f 7074  search (str, opt
-00010fa0: 696f 6e61 6c29 3a20 7365 6172 6368 2e0a  ional): search..
-00010fb0: 2020 2020 2020 2020 2020 2020 6f66 6673              offs
-00010fc0: 6574 2028 696e 742c 206f 7074 696f 6e61  et (int, optiona
-00010fd0: 6c29 3a20 6f66 6673 6574 2e20 4465 6661  l): offset. Defa
-00010fe0: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
-00010ff0: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
-00011000: 742c 206f 7074 696f 6e61 6c29 3a20 6c69  t, optional): li
-00011010: 6d69 7420 4465 6661 756c 7473 2074 6f20  mit Defaults to 
-00011020: 3130 302e 0a0a 2020 2020 2020 2020 5265  100...        Re
-00011030: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00011040: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00011050: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00011060: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00011070: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00011080: 3d20 6622 2f74 6f70 6f6c 6f67 795f 6578  = f"/topology_ex
-00011090: 7465 726e 616c 5f61 7069 2f76 6c61 6e73  ternal_api/vlans
-000110a0: 2f7b 7369 7465 5f69 647d 220a 0a20 2020  /{site_id}"..   
-000110b0: 2020 2020 2070 6172 616d 7320 3d20 7b22       params = {"
-000110c0: 7365 6172 6368 223a 2073 6561 7263 682c  search": search,
-000110d0: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
-000110e0: 742c 2022 6c69 6d69 7422 3a20 6c69 6d69  t, "limit": limi
-000110f0: 747d 0a0a 2020 2020 2020 2020 7265 7475  t}..        retu
-00011100: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-00011110: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
-00011120: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
-00011130: 2064 6566 2073 656e 645f 626f 756e 6365   def send_bounce
-00011140: 5f63 6f6d 6d61 6e64 5f74 6f5f 6465 7669  _command_to_devi
-00011150: 6365 2873 656c 662c 2073 6572 6961 6c3a  ce(self, serial:
-00011160: 2073 7472 2c20 636f 6d6d 616e 643a 2073   str, command: s
-00011170: 7472 2c20 706f 7274 3a20 7374 7229 202d  tr, port: str) -
-00011180: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00011190: 2020 2020 2222 2242 6f75 6e63 6520 696e      """Bounce in
-000111a0: 7465 7266 6163 6520 6f72 2050 4f45 2028  terface or POE (
-000111b0: 706f 7765 722d 6f76 6572 2d65 7468 6572  power-over-ether
-000111c0: 6e65 7429 206f 6e20 7377 6974 6368 2070  net) on switch p
-000111d0: 6f72 742e 2020 5661 6c69 6420 6f6e 6c79  ort.  Valid only
-000111e0: 2066 6f72 2041 7275 6261 2053 7769 7463   for Aruba Switc
-000111f0: 6865 732e 0a0a 2020 2020 2020 2020 4172  hes...        Ar
-00011200: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00011210: 7365 7269 616c 2028 7374 7229 3a20 5365  serial (str): Se
-00011220: 7269 616c 206f 6620 6465 7669 6365 0a20  rial of device. 
-00011230: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
-00011240: 6e64 2028 7374 7229 3a20 436f 6d6d 616e  nd (str): Comman
-00011250: 6420 6d65 6e74 696f 6e65 6420 696e 2074  d mentioned in t
-00011260: 6865 2064 6573 6372 6970 7469 6f6e 2074  he description t
-00011270: 6861 7420 6973 2074 6f20 6265 2065 7865  hat is to be exe
-00011280: 6375 7465 640a 2020 2020 2020 2020 2020  cuted.          
-00011290: 2020 706f 7274 2028 7374 7229 3a20 5370    port (str): Sp
-000112a0: 6563 6966 7920 696e 7465 7266 6163 6520  ecify interface 
-000112b0: 706f 7274 2069 6e20 7468 6520 666f 726d  port in the form
-000112c0: 6174 206f 6620 706f 7274 206e 756d 6265  at of port numbe
-000112d0: 7220 666f 7220 6465 7669 6365 7320 6f66  r for devices of
-000112e0: 2074 7970 6520 4850 5043 0a20 2020 2020   type HPPC.     
-000112f0: 2020 2020 2020 2020 2020 2053 7769 7463             Switc
-00011300: 6820 6f72 2073 6c6f 742f 6368 6173 7369  h or slot/chassi
-00011310: 732f 706f 7274 2066 6f72 2043 5820 5377  s/port for CX Sw
-00011320: 6974 6368 0a0a 2020 2020 2020 2020 5265  itch..        Re
-00011330: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00011340: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00011350: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00011360: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00011370: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00011380: 3d20 6622 2f64 6576 6963 655f 6d61 6e61  = f"/device_mana
-00011390: 6765 6d65 6e74 2f76 322f 6465 7669 6365  gement/v2/device
-000113a0: 2f7b 7365 7269 616c 7d2f 6163 7469 6f6e  /{serial}/action
-000113b0: 2f7b 636f 6d6d 616e 647d 220a 0a20 2020  /{command}"..   
-000113c0: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-000113d0: 207b 2270 6f72 7422 3a20 7374 7228 706f   {"port": str(po
-000113e0: 7274 297d 0a0a 2020 2020 2020 2020 7265  rt)}..        re
-000113f0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00011400: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-00011410: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
-00011420: 2020 2020 6173 796e 6320 6465 6620 7365      async def se
-00011430: 6e64 5f63 6f6d 6d61 6e64 5f74 6f5f 6465  nd_command_to_de
-00011440: 7669 6365 280a 2020 2020 2020 2020 7365  vice(.        se
-00011450: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
-00011460: 616c 3a20 7374 722c 0a20 2020 2020 2020  al: str,.       
-00011470: 2063 6f6d 6d61 6e64 3a20 4c69 7465 7261   command: Litera
-00011480: 6c5b 0a20 2020 2020 2020 2020 2020 2022  l[.            "
-00011490: 7265 626f 6f74 222c 0a20 2020 2020 2020  reboot",.       
-000114a0: 2020 2020 2022 626c 696e 6b5f 6c65 645f       "blink_led_
-000114b0: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
-000114c0: 2022 626c 696e 6b5f 6c65 645f 6f66 6622   "blink_led_off"
-000114d0: 2c0a 2020 2020 2020 2020 2020 2020 2262  ,.            "b
-000114e0: 6c69 6e6b 5f6c 6564 222c 0a20 2020 2020  link_led",.     
-000114f0: 2020 2020 2020 2022 6572 6173 655f 636f         "erase_co
-00011500: 6e66 6967 7572 6174 696f 6e22 2c0a 2020  nfiguration",.  
-00011510: 2020 2020 2020 2020 2020 2273 6176 655f            "save_
-00011520: 636f 6e66 6967 7572 6174 696f 6e22 2c0a  configuration",.
-00011530: 2020 2020 2020 2020 2020 2020 2268 616c              "hal
-00011540: 7422 2c0a 2020 2020 2020 2020 2020 2020  t",.            
-00011550: 2263 6f6e 6669 675f 7379 6e63 222c 0a20  "config_sync",. 
-00011560: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-00011570: 2020 6475 7261 7469 6f6e 3a20 696e 7420    duration: int 
-00011580: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
-00011590: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-000115a0: 2020 2022 2222 4765 6e65 7269 6320 636f     """Generic co
-000115b0: 6d6d 616e 6473 2066 6f72 2064 6576 6963  mmands for devic
-000115c0: 652e 0a0a 2020 2020 2020 2020 5375 7070  e...        Supp
-000115d0: 6f72 7465 6420 436f 6d6d 616e 6473 2028  orted Commands (
-000115e0: 7374 7229 3a0a 2020 2020 2020 2020 2020  str):.          
-000115f0: 2020 2d20 7265 626f 6f74 3a20 7375 7070    - reboot: supp
-00011600: 6f72 7465 6420 6279 2049 4150 2f43 6f6e  orted by IAP/Con
-00011610: 7472 6f6c 6c65 7273 2f4d 4153 2053 7769  trollers/MAS Swi
-00011620: 7463 6865 732f 4172 7562 6120 5377 6974  tches/Aruba Swit
-00011630: 6368 6573 0a20 2020 2020 2020 2020 2020  ches.           
-00011640: 202d 2062 6c69 6e6b 5f6c 6564 5f6f 6e3a   - blink_led_on:
-00011650: 2055 7365 2074 6869 7320 636f 6d6d 616e   Use this comman
-00011660: 6420 746f 2065 6e61 626c 6520 7468 6520  d to enable the 
-00011670: 4c45 4420 6469 7370 6c61 792c 2073 7570  LED display, sup
-00011680: 706f 7274 6564 2062 7920 4941 502f 4172  ported by IAP/Ar
-00011690: 7562 6120 5377 6974 6368 6573 0a20 2020  uba Switches.   
-000116a0: 2020 2020 2020 2020 202d 2062 6c69 6e6b           - blink
-000116b0: 5f6c 6564 5f6f 6666 3a20 5573 6520 7468  _led_off: Use th
-000116c0: 6973 2063 6f6d 6d61 6e64 2074 6f20 656e  is command to en
-000116d0: 6162 6c65 2074 6865 204c 4544 2064 6973  able the LED dis
-000116e0: 706c 6179 2c20 7375 7070 6f72 7465 6420  play, supported 
-000116f0: 6279 2049 4150 2f41 7275 6261 2053 7769  by IAP/Aruba Swi
-00011700: 7463 6865 730a 2020 2020 2020 2020 2020  tches.          
-00011710: 2020 2d20 626c 696e 6b5f 6c65 643a 2055    - blink_led: U
-00011720: 7365 2074 6869 7320 636f 6d6d 616e 6420  se this command 
-00011730: 746f 2062 6c69 6e6b 204c 4544 2064 6973  to blink LED dis
-00011740: 706c 6179 2c20 5375 7070 6f72 7465 6420  play, Supported 
-00011750: 6f6e 2041 7275 6261 2053 7769 7463 6865  on Aruba Switche
-00011760: 730a 2020 2020 2020 2020 2020 2020 2d20  s.            - 
-00011770: 6572 6173 655f 636f 6e66 6967 7572 6174  erase_configurat
-00011780: 696f 6e20 3a20 4661 6374 6f72 7920 6465  ion : Factory de
-00011790: 6661 756c 7420 7468 6520 7377 6974 6368  fault the switch
-000117a0: 2e20 2053 7570 706f 7274 6564 206f 6e20  .  Supported on 
-000117b0: 4172 7562 6120 5377 6974 6368 6573 0a20  Aruba Switches. 
-000117c0: 2020 2020 2020 2020 2020 202d 2073 6176             - sav
-000117d0: 655f 636f 6e66 6967 7572 6174 696f 6e3a  e_configuration:
-000117e0: 2053 6176 6573 2074 6865 2072 756e 6e69   Saves the runni
-000117f0: 6e67 2063 6f6e 6669 672e 2073 7570 706f  ng config. suppo
-00011800: 7274 6564 2062 7920 4941 502f 4172 7562  rted by IAP/Arub
-00011810: 6120 5377 6974 6368 6573 0a20 2020 2020  a Switches.     
-00011820: 2020 2020 2020 202d 2068 616c 7420 3a20         - halt : 
-00011830: 5468 6973 2063 6f6d 6d61 6e64 2070 6572  This command per
-00011840: 666f 726d 7320 6120 7368 7574 646f 776e  forms a shutdown
-00011850: 206f 6620 7468 6520 6465 7669 6365 2c20   of the device, 
-00011860: 7375 7070 6f72 7465 6420 6279 2043 6f6e  supported by Con
-00011870: 7472 6f6c 6c65 7273 2061 6c6f 6e65 2e0a  trollers alone..
-00011880: 2020 2020 2020 2020 2020 2020 2d20 636f              - co
-00011890: 6e66 6967 5f73 796e 6320 3a20 5468 6973  nfig_sync : This
-000118a0: 2063 6f6d 6d61 6e64 7320 7065 7266 6f72   commands perfor
-000118b0: 6d73 2066 756c 6c20 7265 6672 6573 6820  ms full refresh 
-000118c0: 6f66 2074 6865 2064 6576 6963 6520 636f  of the device co
-000118d0: 6e66 6967 2c20 7375 7070 6f72 7465 6420  nfig, supported 
-000118e0: 6279 2043 6f6e 7472 6f6c 6c65 7273 2061  by Controllers a
-000118f0: 6c6f 6e65 0a0a 2020 2020 2020 2020 4172  lone..        Ar
-00011900: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00011910: 7365 7269 616c 2028 7374 7229 3a20 5365  serial (str): Se
-00011920: 7269 616c 206f 6620 6465 7669 6365 0a20  rial of device. 
-00011930: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
-00011940: 6e64 2028 7374 7229 3a20 436f 6d6d 616e  nd (str): Comman
-00011950: 6420 746f 2062 6520 6578 6563 7574 6564  d to be executed
-00011960: 0a20 2020 2020 2020 2020 2020 2064 7572  .            dur
-00011970: 6174 696f 6e20 2869 6e74 2c20 4f70 7469  ation (int, Opti
-00011980: 6f6e 616c 293a 204e 756d 6265 7220 6f66  onal): Number of
-00011990: 2073 6563 6f6e 6473 2074 6f20 626c 696e   seconds to blin
-000119a0: 6b5f 6c65 6420 6f6e 6c79 2061 7070 6c69  k_led only appli
-000119b0: 6573 2074 6f20 626c 696e 6b5f 6c65 6420  es to blink_led 
-000119c0: 616e 6420 626c 696e 6b5f 6c65 645f 6f6e  and blink_led_on
-000119d0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-000119e0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-000119f0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-00011a00: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-00011a10: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00011a20: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-00011a30: 2f64 6576 6963 655f 6d61 6e61 6765 6d65  /device_manageme
-00011a40: 6e74 2f76 312f 6465 7669 6365 2f7b 7365  nt/v1/device/{se
-00011a50: 7269 616c 7d2f 6163 7469 6f6e 2f7b 636f  rial}/action/{co
-00011a60: 6d6d 616e 647d 220a 0a20 2020 2020 2020  mmand}"..       
-00011a70: 2072 6573 7020 3d20 6177 6169 7420 7365   resp = await se
-00011a80: 6c66 2e70 6f73 7428 7572 6c29 0a20 2020  lf.post(url).   
-00011a90: 2020 2020 2069 6620 7265 7370 2061 6e64       if resp and
-00011aa0: 2064 7572 6174 696f 6e20 616e 6420 2262   duration and "b
-00011ab0: 6c69 6e6b 5f6c 6564 2220 696e 2063 6f6d  link_led" in com
-00011ac0: 6d61 6e64 2061 6e64 2022 6f66 6622 206e  mand and "off" n
-00011ad0: 6f74 2069 6e20 636f 6d6d 616e 643a 0a20  ot in command:. 
-00011ae0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-00011af0: 2866 2242 6c69 6e6b 696e 6720 4c65 642e  (f"Blinking Led.
-00011b00: 2e2e 207b 6475 7261 7469 6f6e 7d2e 2022  .. {duration}. "
-00011b10: 2c20 656e 643d 2222 290a 2020 2020 2020  , end="").      
-00011b20: 2020 2020 2020 666f 7220 6920 696e 2072        for i in r
-00011b30: 616e 6765 2831 2c20 6475 7261 7469 6f6e  ange(1, duration
-00011b40: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00011b50: 2020 2074 696d 652e 736c 6565 7028 3129     time.sleep(1)
-00011b60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011b70: 2070 7269 6e74 2866 227b 6475 7261 7469   print(f"{durati
-00011b80: 6f6e 202d 2069 7d2e 2022 2c20 656e 643d  on - i}. ", end=
-00011b90: 2222 2069 6620 6920 2520 3230 2065 6c73  "" if i % 20 els
-00011ba0: 6520 225c 6e22 290a 2020 2020 2020 2020  e "\n").        
-00011bb0: 2020 2020 7265 7370 203d 2061 7761 6974      resp = await
-00011bc0: 2073 656c 662e 706f 7374 2875 726c 2e72   self.post(url.r
-00011bd0: 6570 6c61 6365 2822 5f6f 6e22 2c20 225f  eplace("_on", "_
-00011be0: 6f66 6622 2929 0a20 2020 2020 2020 2072  off")).        r
-00011bf0: 6574 7572 6e20 7265 7370 0a0a 2020 2020  eturn resp..    
-00011c00: 6173 796e 6320 6465 6620 6b69 636b 5f75  async def kick_u
-00011c10: 7365 7273 280a 2020 2020 2020 2020 7365  sers(.        se
-00011c20: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
-00011c30: 616c 5f6e 756d 3a20 7374 7220 3d20 4e6f  al_num: str = No
-00011c40: 6e65 2c0a 2020 2020 2020 2020 6b69 636b  ne,.        kick
-00011c50: 5f61 6c6c 3a20 626f 6f6c 203d 2046 616c  _all: bool = Fal
-00011c60: 7365 2c0a 2020 2020 2020 2020 6d61 633a  se,.        mac:
-00011c70: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00011c80: 2020 2020 2073 7369 643a 2073 7472 203d       ssid: str =
-00011c90: 204e 6f6e 652c 0a20 2020 2029 202d 3e20   None,.    ) -> 
-00011ca0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00011cb0: 2020 7572 6c20 3d20 6622 2f64 6576 6963    url = f"/devic
-00011cc0: 655f 6d61 6e61 6765 6d65 6e74 2f76 312f  e_management/v1/
-00011cd0: 6465 7669 6365 2f7b 7365 7269 616c 5f6e  device/{serial_n
-00011ce0: 756d 7d2f 6163 7469 6f6e 2f64 6973 636f  um}/action/disco
-00011cf0: 6e6e 6563 745f 7573 6572 220a 2020 2020  nnect_user".    
-00011d00: 2020 2020 6966 206b 6963 6b5f 616c 6c3a      if kick_all:
-00011d10: 0a20 2020 2020 2020 2020 2020 2070 6179  .            pay
-00011d20: 6c6f 6164 203d 207b 2264 6973 636f 6e6e  load = {"disconn
-00011d30: 6563 745f 7573 6572 5f61 6c6c 223a 2054  ect_user_all": T
-00011d40: 7275 657d 0a20 2020 2020 2020 2065 6c69  rue}.        eli
-00011d50: 6620 6d61 633a 0a20 2020 2020 2020 2020  f mac:.         
-00011d60: 2020 2070 6179 6c6f 6164 203d 207b 2264     payload = {"d
-00011d70: 6973 636f 6e6e 6563 745f 7573 6572 5f6d  isconnect_user_m
-00011d80: 6163 223a 2066 227b 6d61 637d 227d 0a20  ac": f"{mac}"}. 
-00011d90: 2020 2020 2020 2065 6c69 6620 7373 6964         elif ssid
-00011da0: 3a0a 2020 2020 2020 2020 2020 2020 7061  :.            pa
-00011db0: 796c 6f61 6420 3d20 7b22 6469 7363 6f6e  yload = {"discon
-00011dc0: 6e65 6374 5f75 7365 725f 6e65 7477 6f72  nect_user_networ
-00011dd0: 6b22 3a20 6622 7b73 7369 647d 227d 0a20  k": f"{ssid}"}. 
-00011de0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00011df0: 2020 2020 2020 2020 2070 6179 6c6f 6164           payload
-00011e00: 203d 207b 7d0a 0a20 2020 2020 2020 2069   = {}..        i
-00011e10: 6620 7061 796c 6f61 643a 0a20 2020 2020  f payload:.     
-00011e20: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00011e30: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
-00011e40: 6c2c 206a 736f 6e5f 6461 7461 3d70 6179  l, json_data=pay
-00011e50: 6c6f 6164 290a 2020 2020 2020 2020 656c  load).        el
-00011e60: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00011e70: 7265 7475 726e 2052 6573 706f 6e73 6528  return Response(
-00011e80: 6572 726f 723d 224d 6973 7369 6e67 2052  error="Missing R
-00011e90: 6571 7569 7265 6420 5061 7261 6d65 7465  equired Paramete
-00011ea0: 7273 2229 0a0a 2020 2020 6173 796e 6320  rs")..    async 
-00011eb0: 6465 6620 7570 6461 7465 5f73 7368 5f63  def update_ssh_c
-00011ec0: 7265 6473 2873 656c 662c 2064 6576 6963  reds(self, devic
-00011ed0: 655f 7365 7269 616c 3a20 7374 722c 2075  e_serial: str, u
-00011ee0: 7365 726e 616d 653a 2073 7472 2c20 7061  sername: str, pa
-00011ef0: 7373 776f 7264 3a20 7374 7229 202d 3e20  ssword: str) -> 
-00011f00: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00011f10: 2020 2222 2253 6574 2055 7365 726e 616d    """Set Usernam
-00011f20: 652c 2070 6173 7377 6f72 6420 7265 7175  e, password requ
-00011f30: 6972 6564 2066 6f72 2065 7374 6162 6c69  ired for establi
-00011f40: 7368 696e 6720 5353 4820 636f 6e6e 6563  shing SSH connec
-00011f50: 7469 6f6e 2074 6f20 7377 6974 6368 2e0a  tion to switch..
-00011f60: 0a20 2020 2020 2020 2054 6869 7320 6d65  .        This me
-00011f70: 7468 6f64 206f 6e6c 7920 6170 706c 6965  thod only applie
-00011f80: 7320 746f 2073 7769 7463 6865 730a 0a20  s to switches.. 
-00011f90: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00011fa0: 2020 2020 2020 2020 2064 6576 6963 655f           device_
-00011fb0: 7365 7269 616c 2028 7374 7229 3a20 5365  serial (str): Se
-00011fc0: 7269 616c 206e 756d 6265 7220 6f66 2074  rial number of t
-00011fd0: 6865 2073 7769 7463 682e 0a20 2020 2020  he switch..     
-00011fe0: 2020 2020 2020 2075 7365 726e 616d 6520         username 
-00011ff0: 2873 7472 293a 2053 5348 2075 7365 726e  (str): SSH usern
-00012000: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-00012010: 7061 7373 776f 7264 2028 7374 7229 3a20  password (str): 
-00012020: 5353 4820 7061 7373 776f 7264 0a0a 2020  SSH password..  
-00012030: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-00012040: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-00012050: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-00012060: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-00012070: 2020 2020 2020 2020 2020 2020 5375 6363              Succ
-00012080: 6573 7366 756c 2052 6573 706f 6e73 6520  essful Response 
-00012090: 626f 6479 2028 5265 7370 6f6e 7365 2e6f  body (Response.o
-000120a0: 7574 7075 7429 3a20 2253 7563 6365 7373  utput): "Success
-000120b0: 220a 2020 2020 2020 2020 2222 220a 2020  ".        """.  
-000120c0: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
-000120d0: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
-000120e0: 6465 7669 6365 732f 7b64 6576 6963 655f  devices/{device_
-000120f0: 7365 7269 616c 7d2f 7373 685f 636f 6e6e  serial}/ssh_conn
-00012100: 6563 7469 6f6e 220a 0a20 2020 2020 2020  ection"..       
-00012110: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
-00012120: 2020 2020 2020 2020 2020 2027 7573 6572             'user
-00012130: 6e61 6d65 273a 2075 7365 726e 616d 652c  name': username,
-00012140: 0a20 2020 2020 2020 2020 2020 2027 7061  .            'pa
-00012150: 7373 776f 7264 273a 2070 6173 7377 6f72  ssword': passwor
-00012160: 640a 2020 2020 2020 2020 7d0a 0a20 2020  d.        }..   
-00012170: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00012180: 7420 7365 6c66 2e70 6f73 7428 7572 6c2c  t self.post(url,
-00012190: 206a 736f 6e5f 6461 7461 3d6a 736f 6e5f   json_data=json_
-000121a0: 6461 7461 290a 0a20 2020 2061 7379 6e63  data)..    async
-000121b0: 2064 6566 2067 6574 5f74 6173 6b5f 7374   def get_task_st
-000121c0: 6174 7573 2873 656c 662c 2074 6173 6b5f  atus(self, task_
-000121d0: 6964 293a 0a20 2020 2020 2020 2072 6574  id):.        ret
-000121e0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-000121f0: 6574 2866 222f 6465 7669 6365 5f6d 616e  et(f"/device_man
-00012200: 6167 656d 656e 742f 7631 2f73 7461 7475  agement/v1/statu
-00012210: 732f 7b74 6173 6b5f 6964 7d22 290a 0a20  s/{task_id}").. 
-00012220: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-00012230: 5f73 7769 7463 685f 766c 616e 7328 0a20  _switch_vlans(. 
-00012240: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-00012250: 2020 2020 2069 6465 6e3a 2073 7472 2c0a       iden: str,.
-00012260: 2020 2020 2020 2020 7374 6163 6b3a 2062          stack: b
-00012270: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-00012280: 2020 2020 2063 783a 2062 6f6f 6c20 3d20       cx: bool = 
-00012290: 4661 6c73 652c 0a20 2020 2020 2020 206e  False,.        n
-000122a0: 616d 653a 2073 7472 203d 204e 6f6e 652c  ame: str = None,
-000122b0: 0a20 2020 2020 2020 2070 7669 643a 2069  .        pvid: i
-000122c0: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
-000122d0: 2020 2074 6167 6765 645f 706f 7274 3a20     tagged_port: 
-000122e0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-000122f0: 2020 2020 756e 7461 6767 6564 5f70 6f72      untagged_por
-00012300: 743a 2073 7472 203d 204e 6f6e 652c 0a20  t: str = None,. 
-00012310: 2020 2020 2020 2069 735f 6a75 6d62 6f5f         is_jumbo_
-00012320: 656e 6162 6c65 643a 2062 6f6f 6c20 3d20  enabled: bool = 
-00012330: 4e6f 6e65 2c0a 2020 2020 2020 2020 6973  None,.        is
-00012340: 5f76 6f69 6365 5f65 6e61 626c 6564 3a20  _voice_enabled: 
-00012350: 626f 6f6c 203d 204e 6f6e 652c 0a20 2020  bool = None,.   
-00012360: 2020 2020 2069 735f 6967 6d70 5f65 6e61       is_igmp_ena
-00012370: 626c 6564 3a20 626f 6f6c 203d 204e 6f6e  bled: bool = Non
-00012380: 652c 0a20 2020 2020 2020 2074 7970 653a  e,.        type:
-00012390: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000123a0: 2020 2020 2070 7269 6d61 7279 5f76 6c61       primary_vla
-000123b0: 6e5f 6964 3a20 696e 7420 3d20 4e6f 6e65  n_id: int = None
-000123c0: 2c0a 2020 2020 2020 2020 7374 6174 7573  ,.        status
-000123d0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-000123e0: 2020 2020 2020 736f 7274 3a20 7374 7220        sort: str 
+0000fba0: 7465 7220 6279 2053 7761 726d 2049 440a  ter by Swarm ID.
+0000fbb0: 2020 2020 2020 2020 2020 2020 6c61 6265              labe
+0000fbc0: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
+0000fbd0: 293a 2046 696c 7465 7220 6279 204c 6162  ): Filter by Lab
+0000fbe0: 656c 206e 616d 650a 2020 2020 2020 2020  el name.        
+0000fbf0: 2020 2020 6672 6f6d 5f74 7320 2869 6e74      from_ts (int
+0000fc00: 2c20 6f70 7469 6f6e 616c 293a 204e 6565  , optional): Nee
+0000fc10: 6420 696e 666f 726d 6174 696f 6e20 6672  d information fr
+0000fc20: 6f6d 2074 6869 7320 7469 6d65 7374 616d  om this timestam
+0000fc30: 702e 2054 696d 6573 7461 6d70 2069 7320  p. Timestamp is 
+0000fc40: 6570 6f63 680a 2020 2020 2020 2020 2020  epoch.          
+0000fc50: 2020 2020 2020 696e 2073 6563 6f6e 6473        in seconds
+0000fc60: 2e20 4465 6661 756c 7420 6973 2063 7572  . Default is cur
+0000fc70: 7265 6e74 2074 696d 6573 7461 6d70 206d  rent timestamp m
+0000fc80: 696e 7573 2033 2068 6f75 7273 0a20 2020  inus 3 hours.   
+0000fc90: 2020 2020 2020 2020 2074 6f5f 7473 2028           to_ts (
+0000fca0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+0000fcb0: 4e65 6564 2069 6e66 6f72 6d61 7469 6f6e  Need information
+0000fcc0: 2074 6f20 7468 6973 2074 696d 6573 7461   to this timesta
+0000fcd0: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
+0000fce0: 2065 706f 6368 2069 6e0a 2020 2020 2020   epoch in.      
+0000fcf0: 2020 2020 2020 2020 2020 7365 636f 6e64            second
+0000fd00: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
+0000fd10: 7272 656e 7420 7469 6d65 7374 616d 700a  rrent timestamp.
+0000fd20: 2020 2020 2020 2020 2020 2020 6d61 6361              maca
+0000fd30: 6464 7220 2873 7472 2c20 6f70 7469 6f6e  ddr (str, option
+0000fd40: 616c 293a 2046 696c 7465 7220 6279 2063  al): Filter by c
+0000fd50: 6c69 656e 7420 4d41 4320 6164 6472 6573  lient MAC addres
+0000fd60: 730a 2020 2020 2020 2020 2020 2020 6273  s.            bs
+0000fd70: 7369 6420 2873 7472 2c20 6f70 7469 6f6e  sid (str, option
+0000fd80: 616c 293a 2046 696c 7465 7220 6279 2062  al): Filter by b
+0000fd90: 7373 6964 0a20 2020 2020 2020 2020 2020  ssid.           
+0000fda0: 2064 6576 6963 655f 6d61 6320 2873 7472   device_mac (str
+0000fdb0: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+0000fdc0: 7465 7220 6279 2064 6576 6963 655f 6d61  ter by device_ma
+0000fdd0: 630a 2020 2020 2020 2020 2020 2020 686f  c.            ho
+0000fde0: 7374 6e61 6d65 2028 7374 722c 206f 7074  stname (str, opt
+0000fdf0: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
+0000fe00: 7920 686f 7374 6e61 6d65 0a20 2020 2020  y hostname.     
+0000fe10: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
+0000fe20: 7065 2028 7374 722c 206f 7074 696f 6e61  pe (str, optiona
+0000fe30: 6c29 3a20 4669 6c74 6572 2062 7920 6465  l): Filter by de
+0000fe40: 7669 6365 2074 7970 652e 0a20 2020 2020  vice type..     
+0000fe50: 2020 2020 2020 2020 2020 2056 616c 6964             Valid
+0000fe60: 2056 616c 7565 733a 2041 4343 4553 5320   Values: ACCESS 
+0000fe70: 504f 494e 542c 2053 5749 5443 482c 2047  POINT, SWITCH, G
+0000fe80: 4154 4557 4159 2c20 434c 4945 4e54 0a20  ATEWAY, CLIENT. 
+0000fe90: 2020 2020 2020 2020 2020 2073 6f72 7420             sort 
+0000fea0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0000feb0: 2053 6f72 7420 6279 2064 6573 632f 6173   Sort by desc/as
+0000fec0: 6320 7573 696e 6720 2d74 696d 6573 7461  c using -timesta
+0000fed0: 6d70 2f2b 7469 6d65 7374 616d 702e 2044  mp/+timestamp. D
+0000fee0: 6566 6175 6c74 2069 730a 2020 2020 2020  efault is.      
+0000fef0: 2020 2020 2020 2020 2020 272d 7469 6d65            '-time
+0000ff00: 7374 616d 7027 2020 5661 6c69 6420 5661  stamp'  Valid Va
+0000ff10: 6c75 6573 3a20 2d74 696d 6573 7461 6d70  lues: -timestamp
+0000ff20: 2c20 2b74 696d 6573 7461 6d70 0a20 2020  , +timestamp.   
+0000ff30: 2020 2020 2020 2020 2073 6974 6520 2873           site (s
+0000ff40: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+0000ff50: 696c 7465 7220 6279 2073 6974 6520 6e61  ilter by site na
+0000ff60: 6d65 0a20 2020 2020 2020 2020 2020 2073  me.            s
+0000ff70: 6572 6961 6c20 2873 7472 2c20 6f70 7469  erial (str, opti
+0000ff80: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+0000ff90: 2073 7769 7463 6820 7365 7269 616c 206e   switch serial n
+0000ffa0: 756d 6265 720a 2020 2020 2020 2020 2020  umber.          
+0000ffb0: 2020 6c65 7665 6c20 2873 7472 2c20 6f70    level (str, op
+0000ffc0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+0000ffd0: 6279 2065 7665 6e74 206c 6576 656c 0a20  by event level. 
+0000ffe0: 2020 2020 2020 2020 2020 2065 7665 6e74             event
+0000fff0: 5f64 6573 6372 6970 7469 6f6e 2028 7374  _description (st
+00010000: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+00010010: 6c74 6572 2062 7920 6576 656e 7420 6465  lter by event de
+00010020: 7363 7269 7074 696f 6e0a 2020 2020 2020  scription.      
+00010030: 2020 2020 2020 6576 656e 745f 7479 7065        event_type
+00010040: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00010050: 3a20 4669 6c74 6572 2062 7920 6576 656e  : Filter by even
+00010060: 7420 7479 7065 0a20 2020 2020 2020 2020  t type.         
+00010070: 2020 2066 6965 6c64 7320 2873 7472 2c20     fields (str, 
+00010080: 6f70 7469 6f6e 616c 293a 2043 6f6d 6d61  optional): Comma
+00010090: 2073 6570 6172 6174 6564 206c 6973 7420   separated list 
+000100a0: 6f66 2066 6965 6c64 7320 746f 2062 6520  of fields to be 
+000100b0: 7265 7475 726e 6564 2e20 5661 6c69 6420  returned. Valid 
+000100c0: 6669 656c 6473 2061 7265 0a20 2020 2020  fields are.     
+000100d0: 2020 2020 2020 2020 2020 206e 756d 6265             numbe
+000100e0: 722c 206c 6576 656c 0a20 2020 2020 2020  r, level.       
+000100f0: 2020 2020 2063 616c 6375 6c61 7465 5f74       calculate_t
+00010100: 6f74 616c 2028 626f 6f6c 2c20 6f70 7469  otal (bool, opti
+00010110: 6f6e 616c 293a 2057 6865 7468 6572 2074  onal): Whether t
+00010120: 6f20 6361 6c63 756c 6174 6520 746f 7461  o calculate tota
+00010130: 6c20 6576 656e 7473 0a20 2020 2020 2020  l events.       
+00010140: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
+00010150: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
+00010160: 696e 6174 696f 6e20 6f66 6673 6574 2044  ination offset D
+00010170: 6566 6175 6c74 7320 746f 2030 2e0a 2020  efaults to 0..  
+00010180: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
+00010190: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+000101a0: 2050 6167 696e 6174 696f 6e20 6c69 6d69   Pagination limi
+000101b0: 742e 2044 6566 6175 6c74 2069 7320 3130  t. Default is 10
+000101c0: 3020 616e 6420 6d61 7820 6973 2031 3030  0 and max is 100
+000101d0: 3020 4465 6661 756c 7473 2074 6f20 3130  0 Defaults to 10
+000101e0: 3030 2e0a 0a20 2020 2020 2020 2052 6574  00...        Ret
+000101f0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+00010200: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+00010210: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+00010220: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+00010230: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+00010240: 2022 2f6d 6f6e 6974 6f72 696e 672f 7632   "/monitoring/v2
+00010250: 2f65 7665 6e74 7322 0a0a 2020 2020 2020  /events"..      
+00010260: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
+00010270: 2020 2020 2020 2020 2022 6772 6f75 7022           "group"
+00010280: 3a20 6772 6f75 702c 0a20 2020 2020 2020  : group,.       
+00010290: 2020 2020 2022 7377 6172 6d5f 6964 223a       "swarm_id":
+000102a0: 2073 7761 726d 5f69 642c 0a20 2020 2020   swarm_id,.     
+000102b0: 2020 2020 2020 2022 6c61 6265 6c22 3a20         "label": 
+000102c0: 6c61 6265 6c2c 0a20 2020 2020 2020 2020  label,.         
+000102d0: 2020 2022 6672 6f6d 5f74 696e 6d65 7374     "from_tinmest
+000102e0: 616d 7022 3a20 6672 6f6d 5f74 732c 0a20  amp": from_ts,. 
+000102f0: 2020 2020 2020 2020 2020 2022 746f 5f74             "to_t
+00010300: 696e 6d65 7374 616d 7022 3a20 746f 5f74  inmestamp": to_t
+00010310: 732c 0a20 2020 2020 2020 2020 2020 2027  s,.            '
+00010320: 6d61 6361 6464 7227 3a20 6d61 6361 6464  macaddr': macadd
+00010330: 722c 0a20 2020 2020 2020 2020 2020 2027  r,.            '
+00010340: 6273 7369 6427 3a20 6273 7369 642c 0a20  bssid': bssid,. 
+00010350: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
+00010360: 6365 5f6d 6163 273a 2064 6576 6963 655f  ce_mac': device_
+00010370: 6d61 632c 0a20 2020 2020 2020 2020 2020  mac,.           
+00010380: 2027 686f 7374 6e61 6d65 273a 2068 6f73   'hostname': hos
+00010390: 746e 616d 652c 0a20 2020 2020 2020 2020  tname,.         
+000103a0: 2020 2027 6465 7669 6365 5f74 7970 6527     'device_type'
+000103b0: 3a20 6465 7669 6365 5f74 7970 652c 0a20  : device_type,. 
+000103c0: 2020 2020 2020 2020 2020 2027 736f 7274             'sort
+000103d0: 273a 2073 6f72 742c 0a20 2020 2020 2020  ': sort,.       
+000103e0: 2020 2020 2027 7369 7465 273a 2073 6974       'site': sit
+000103f0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00010400: 7365 7269 616c 273a 2073 6572 6961 6c2c  serial': serial,
+00010410: 0a20 2020 2020 2020 2020 2020 2027 6c65  .            'le
+00010420: 7665 6c27 3a20 6c65 7665 6c2c 0a20 2020  vel': level,.   
+00010430: 2020 2020 2020 2020 2027 6576 656e 745f           'event_
+00010440: 6465 7363 7269 7074 696f 6e27 3a20 6576  description': ev
+00010450: 656e 745f 6465 7363 7269 7074 696f 6e2c  ent_description,
+00010460: 0a20 2020 2020 2020 2020 2020 2027 6576  .            'ev
+00010470: 656e 745f 7479 7065 273a 2065 7665 6e74  ent_type': event
+00010480: 5f74 7970 652c 0a20 2020 2020 2020 2020  _type,.         
+00010490: 2020 2027 6669 656c 6473 273a 2066 6965     'fields': fie
+000104a0: 6c64 732c 0a20 2020 2020 2020 2020 2020  lds,.           
+000104b0: 2027 6361 6c63 756c 6174 655f 746f 7461   'calculate_tota
+000104c0: 6c27 3a20 6361 6c63 756c 6174 655f 746f  l': calculate_to
+000104d0: 7461 6c2c 0a20 2020 2020 2020 2020 2020  tal,.           
+000104e0: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
+000104f0: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
+00010500: 6c69 6d69 7422 3a20 6c69 6d69 742c 0a20  limit": limit,. 
+00010510: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+00010520: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00010530: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+00010540: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+00010550: 2061 7379 6e63 2064 6566 2067 6574 5f61   async def get_a
+00010560: 6c6c 5f77 6562 686f 6f6b 7328 7365 6c66  ll_webhooks(self
+00010570: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00010580: 2020 2020 2020 2022 2222 4c69 7374 2061         """List a
+00010590: 6c6c 2064 6566 696e 6564 2077 6562 686f  ll defined webho
+000105a0: 6f6b 732e 0a0a 2020 2020 2020 2020 5265  oks...        Re
+000105b0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+000105c0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+000105d0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+000105e0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+000105f0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00010600: 3d20 222f 6365 6e74 7261 6c2f 7631 2f77  = "/central/v1/w
+00010610: 6562 686f 6f6b 7322 0a0a 2020 2020 2020  ebhooks"..      
+00010620: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00010630: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
+00010640: 2020 6173 796e 6320 6465 6620 6164 645f    async def add_
+00010650: 7765 6268 6f6f 6b28 0a20 2020 2020 2020  webhook(.       
+00010660: 2073 656c 662c 0a20 2020 2020 2020 206e   self,.        n
+00010670: 616d 653a 2073 7472 2c0a 2020 2020 2020  ame: str,.      
+00010680: 2020 7572 6c73 3a20 4c69 7374 5b73 7472    urls: List[str
+00010690: 5d2c 0a20 2020 2029 202d 3e20 5265 7370  ],.    ) -> Resp
+000106a0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+000106b0: 2241 6464 202f 2075 7064 6174 6520 5765  "Add / update We
+000106c0: 6268 6f6f 6b2e 0a0a 2020 2020 2020 2020  bhook...        
+000106d0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+000106e0: 2020 6e61 6d65 2028 7374 7229 3a20 6e61    name (str): na
+000106f0: 6d65 206f 6620 7468 6520 7765 6268 6f6f  me of the webhoo
+00010700: 6b0a 2020 2020 2020 2020 2020 2020 7572  k.            ur
+00010710: 6c73 2028 4c69 7374 5b73 7472 5d29 3a20  ls (List[str]): 
+00010720: 4c69 7374 206f 6620 7765 6268 6f6f 6b20  List of webhook 
+00010730: 7572 6c73 0a0a 2020 2020 2020 2020 5265  urls..        Re
+00010740: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00010750: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00010760: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00010770: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00010780: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00010790: 3d20 222f 6365 6e74 7261 6c2f 7631 2f77  = "/central/v1/w
+000107a0: 6562 686f 6f6b 7322 0a20 2020 2020 2020  ebhooks".       
+000107b0: 2075 726c 7320 3d20 7574 696c 732e 6c69   urls = utils.li
+000107c0: 7374 6966 7928 7572 6c73 290a 0a20 2020  stify(urls)..   
+000107d0: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
+000107e0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+000107f0: 6e61 6d65 273a 206e 616d 652c 0a20 2020  name': name,.   
+00010800: 2020 2020 2020 2020 2027 7572 6c73 273a           'urls':
+00010810: 2075 726c 730a 2020 2020 2020 2020 7d0a   urls.        }.
+00010820: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00010830: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
+00010840: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+00010850: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
+00010860: 7379 6e63 2064 6566 2075 7064 6174 655f  sync def update_
+00010870: 7765 6268 6f6f 6b28 0a20 2020 2020 2020  webhook(.       
+00010880: 2073 656c 662c 0a20 2020 2020 2020 2077   self,.        w
+00010890: 6964 3a20 7374 722c 0a20 2020 2020 2020  id: str,.       
+000108a0: 206e 616d 653a 2073 7472 2c0a 2020 2020   name: str,.    
+000108b0: 2020 2020 7572 6c73 3a20 4c69 7374 5b73      urls: List[s
+000108c0: 7472 5d2c 0a20 2020 2029 202d 3e20 5265  tr],.    ) -> Re
+000108d0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+000108e0: 2222 2255 7064 6174 6520 7765 6268 6f6f  """Update webhoo
+000108f0: 6b20 7365 7474 696e 6773 2e0a 0a20 2020  k settings...   
+00010900: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00010910: 2020 2020 2020 2077 6964 2028 7374 7229         wid (str)
+00010920: 3a20 6964 206f 6620 7468 6520 7765 6268  : id of the webh
+00010930: 6f6f 6b0a 2020 2020 2020 2020 2020 2020  ook.            
+00010940: 6e61 6d65 2028 7374 7229 3a20 6e61 6d65  name (str): name
+00010950: 206f 6620 7468 6520 7765 6268 6f6f 6b0a   of the webhook.
+00010960: 2020 2020 2020 2020 2020 2020 7572 6c73              urls
+00010970: 2028 4c69 7374 5b73 7472 5d29 3a20 4c69   (List[str]): Li
+00010980: 7374 206f 6620 7765 6268 6f6f 6b20 7572  st of webhook ur
+00010990: 6c73 0a0a 2020 2020 2020 2020 5265 7475  ls..        Retu
+000109a0: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+000109b0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+000109c0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+000109d0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+000109e0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+000109f0: 6622 2f63 656e 7472 616c 2f76 312f 7765  f"/central/v1/we
+00010a00: 6268 6f6f 6b73 2f7b 7769 647d 220a 0a20  bhooks/{wid}".. 
+00010a10: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
+00010a20: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00010a30: 2027 6e61 6d65 273a 206e 616d 652c 0a20   'name': name,. 
+00010a40: 2020 2020 2020 2020 2020 2027 7572 6c73             'urls
+00010a50: 273a 2075 726c 730a 2020 2020 2020 2020  ': urls.        
+00010a60: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+00010a70: 6e20 6177 6169 7420 7365 6c66 2e70 7574  n await self.put
+00010a80: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
+00010a90: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
+00010aa0: 6173 796e 6320 6465 6620 6465 6c65 7465  async def delete
+00010ab0: 5f77 6562 686f 6f6b 280a 2020 2020 2020  _webhook(.      
+00010ac0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+00010ad0: 7769 643a 2073 7472 2c0a 2020 2020 2920  wid: str,.    ) 
+00010ae0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00010af0: 2020 2020 2022 2222 4465 6c65 7465 2057       """Delete W
+00010b00: 6562 686f 6f6b 732e 0a0a 2020 2020 2020  ebhooks...      
+00010b10: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00010b20: 2020 2020 7769 6420 2873 7472 293a 2069      wid (str): i
+00010b30: 6420 6f66 2074 6865 2077 6562 686f 6f6b  d of the webhook
+00010b40: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00010b50: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+00010b60: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+00010b70: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+00010b80: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00010b90: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+00010ba0: 2f63 656e 7472 616c 2f76 312f 7765 6268  /central/v1/webh
+00010bb0: 6f6f 6b73 2f7b 7769 647d 220a 0a20 2020  ooks/{wid}"..   
+00010bc0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+00010bd0: 7420 7365 6c66 2e64 656c 6574 6528 7572  t self.delete(ur
+00010be0: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
+00010bf0: 6620 7265 6672 6573 685f 7765 6268 6f6f  f refresh_webhoo
+00010c00: 6b5f 746f 6b65 6e28 0a20 2020 2020 2020  k_token(.       
+00010c10: 2073 656c 662c 0a20 2020 2020 2020 2077   self,.        w
+00010c20: 6964 3a20 7374 722c 0a20 2020 2029 202d  id: str,.    ) -
+00010c30: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00010c40: 2020 2020 2222 2252 6566 7265 7368 2074      """Refresh t
+00010c50: 6865 2077 6562 686f 6f6b 2074 6f6b 656e  he webhook token
+00010c60: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00010c70: 0a20 2020 2020 2020 2020 2020 2077 6964  .            wid
+00010c80: 2028 7374 7229 3a20 6964 206f 6620 7468   (str): id of th
+00010c90: 6520 7765 6268 6f6f 6b0a 0a20 2020 2020  e webhook..     
+00010ca0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00010cb0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00010cc0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00010cd0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00010ce0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00010cf0: 2075 726c 203d 2066 222f 6365 6e74 7261   url = f"/centra
+00010d00: 6c2f 7631 2f77 6562 686f 6f6b 732f 7b77  l/v1/webhooks/{w
+00010d10: 6964 7d2f 746f 6b65 6e22 0a0a 2020 2020  id}/token"..    
+00010d20: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00010d30: 2073 656c 662e 7075 7428 7572 6c29 0a0a   self.put(url)..
+00010d40: 2020 2020 2320 4150 492d 464c 4157 2054      # API-FLAW T
+00010d50: 6573 7420 7765 6268 6f6f 6b20 646f 6573  est webhook does
+00010d60: 206e 6f74 2073 656e 6420 616e 2022 6964   not send an "id
+00010d70: 222c 2069 7427 7320 686f 7720 796f 7520  ", it's how you 
+00010d80: 6465 7465 726d 696e 6520 7768 6174 2074  determine what t
+00010d90: 6f20 436c 6f73 650a 2020 2020 6173 796e  o Close.    asyn
+00010da0: 6320 6465 6620 7465 7374 5f77 6562 686f  c def test_webho
+00010db0: 6f6b 280a 2020 2020 2020 2020 7365 6c66  ok(.        self
+00010dc0: 2c0a 2020 2020 2020 2020 7769 643a 2073  ,.        wid: s
+00010dd0: 7472 2c0a 2020 2020 2920 2d3e 2052 6573  tr,.    ) -> Res
+00010de0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+00010df0: 2222 5465 7374 2066 6f72 2077 6562 686f  ""Test for webho
+00010e00: 6f6b 206e 6f74 6966 6963 6174 696f 6e2e  ok notification.
+00010e10: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+00010e20: 2020 2020 2020 2020 2020 2020 7769 6420              wid 
+00010e30: 2873 7472 293a 2069 6420 6f66 2074 6865  (str): id of the
+00010e40: 2077 6562 686f 6f6b 0a0a 2020 2020 2020   webhook..      
+00010e50: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00010e60: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00010e70: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00010e80: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00010e90: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00010ea0: 7572 6c20 3d20 6622 2f63 656e 7472 616c  url = f"/central
+00010eb0: 2f76 312f 7765 6268 6f6f 6b73 2f7b 7769  /v1/webhooks/{wi
+00010ec0: 647d 2f70 696e 6722 0a0a 2020 2020 2020  d}/ping"..      
+00010ed0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00010ee0: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
+00010ef0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+00010f00: 7369 7465 5f76 6c61 6e73 2873 656c 662c  site_vlans(self,
+00010f10: 2073 6974 655f 6964 3a20 696e 742c 2073   site_id: int, s
+00010f20: 6561 7263 683a 2073 7472 203d 204e 6f6e  earch: str = Non
+00010f30: 652c 206f 6666 7365 743a 2069 6e74 203d  e, offset: int =
+00010f40: 2030 2c20 6c69 6d69 743a 2069 6e74 203d   0, limit: int =
+00010f50: 2031 3030 2920 2d3e 2052 6573 706f 6e73   100) -> Respons
+00010f60: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+00010f70: 7420 766c 616e 206c 6973 7420 6f66 2061  t vlan list of a
+00010f80: 2073 6974 652e 0a0a 2020 2020 2020 2020   site...        
+00010f90: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+00010fa0: 2020 7369 7465 5f69 6420 2869 6e74 293a    site_id (int):
+00010fb0: 2053 6974 6520 4944 2e0a 2020 2020 2020   Site ID..      
+00010fc0: 2020 2020 2020 7365 6172 6368 2028 7374        search (st
+00010fd0: 722c 206f 7074 696f 6e61 6c29 3a20 7365  r, optional): se
+00010fe0: 6172 6368 2e0a 2020 2020 2020 2020 2020  arch..          
+00010ff0: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
+00011000: 7074 696f 6e61 6c29 3a20 6f66 6673 6574  ptional): offset
+00011010: 2e20 4465 6661 756c 7473 2074 6f20 302e  . Defaults to 0.
+00011020: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
+00011030: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
+00011040: 6c29 3a20 6c69 6d69 7420 4465 6661 756c  l): limit Defaul
+00011050: 7473 2074 6f20 3130 302e 0a0a 2020 2020  ts to 100...    
+00011060: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+00011070: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+00011080: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+00011090: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+000110a0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+000110b0: 2020 7572 6c20 3d20 6622 2f74 6f70 6f6c    url = f"/topol
+000110c0: 6f67 795f 6578 7465 726e 616c 5f61 7069  ogy_external_api
+000110d0: 2f76 6c61 6e73 2f7b 7369 7465 5f69 647d  /vlans/{site_id}
+000110e0: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
+000110f0: 7320 3d20 7b22 7365 6172 6368 223a 2073  s = {"search": s
+00011100: 6561 7263 682c 2022 6f66 6673 6574 223a  earch, "offset":
+00011110: 206f 6666 7365 742c 2022 6c69 6d69 7422   offset, "limit"
+00011120: 3a20 6c69 6d69 747d 0a0a 2020 2020 2020  : limit}..      
+00011130: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00011140: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+00011150: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+00011160: 2061 7379 6e63 2064 6566 2073 656e 645f   async def send_
+00011170: 626f 756e 6365 5f63 6f6d 6d61 6e64 5f74  bounce_command_t
+00011180: 6f5f 6465 7669 6365 2873 656c 662c 2073  o_device(self, s
+00011190: 6572 6961 6c3a 2073 7472 2c20 636f 6d6d  erial: str, comm
+000111a0: 616e 643a 2073 7472 2c20 706f 7274 3a20  and: str, port: 
+000111b0: 7374 7229 202d 3e20 5265 7370 6f6e 7365  str) -> Response
+000111c0: 3a0a 2020 2020 2020 2020 2222 2242 6f75  :.        """Bou
+000111d0: 6e63 6520 696e 7465 7266 6163 6520 6f72  nce interface or
+000111e0: 2050 4f45 2028 706f 7765 722d 6f76 6572   POE (power-over
+000111f0: 2d65 7468 6572 6e65 7429 206f 6e20 7377  -ethernet) on sw
+00011200: 6974 6368 2070 6f72 742e 2020 5661 6c69  itch port.  Vali
+00011210: 6420 6f6e 6c79 2066 6f72 2041 7275 6261  d only for Aruba
+00011220: 2053 7769 7463 6865 732e 0a0a 2020 2020   Switches...    
+00011230: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00011240: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
+00011250: 7229 3a20 5365 7269 616c 206f 6620 6465  r): Serial of de
+00011260: 7669 6365 0a20 2020 2020 2020 2020 2020  vice.           
+00011270: 2063 6f6d 6d61 6e64 2028 7374 7229 3a20   command (str): 
+00011280: 436f 6d6d 616e 6420 6d65 6e74 696f 6e65  Command mentione
+00011290: 6420 696e 2074 6865 2064 6573 6372 6970  d in the descrip
+000112a0: 7469 6f6e 2074 6861 7420 6973 2074 6f20  tion that is to 
+000112b0: 6265 2065 7865 6375 7465 640a 2020 2020  be executed.    
+000112c0: 2020 2020 2020 2020 706f 7274 2028 7374          port (st
+000112d0: 7229 3a20 5370 6563 6966 7920 696e 7465  r): Specify inte
+000112e0: 7266 6163 6520 706f 7274 2069 6e20 7468  rface port in th
+000112f0: 6520 666f 726d 6174 206f 6620 706f 7274  e format of port
+00011300: 206e 756d 6265 7220 666f 7220 6465 7669   number for devi
+00011310: 6365 7320 6f66 2074 7970 6520 4850 5043  ces of type HPPC
+00011320: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011330: 2053 7769 7463 6820 6f72 2073 6c6f 742f   Switch or slot/
+00011340: 6368 6173 7369 732f 706f 7274 2066 6f72  chassis/port for
+00011350: 2043 5820 5377 6974 6368 0a0a 2020 2020   CX Switch..    
+00011360: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+00011370: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+00011380: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+00011390: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+000113a0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+000113b0: 2020 7572 6c20 3d20 6622 2f64 6576 6963    url = f"/devic
+000113c0: 655f 6d61 6e61 6765 6d65 6e74 2f76 322f  e_management/v2/
+000113d0: 6465 7669 6365 2f7b 7365 7269 616c 7d2f  device/{serial}/
+000113e0: 6163 7469 6f6e 2f7b 636f 6d6d 616e 647d  action/{command}
+000113f0: 220a 0a20 2020 2020 2020 206a 736f 6e5f  "..        json_
+00011400: 6461 7461 203d 207b 2270 6f72 7422 3a20  data = {"port": 
+00011410: 7374 7228 706f 7274 297d 0a0a 2020 2020  str(port)}..    
+00011420: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00011430: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
+00011440: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
+00011450: 6174 6129 0a0a 2020 2020 6173 796e 6320  ata)..    async 
+00011460: 6465 6620 7365 6e64 5f63 6f6d 6d61 6e64  def send_command
+00011470: 5f74 6f5f 6465 7669 6365 280a 2020 2020  _to_device(.    
+00011480: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00011490: 2020 7365 7269 616c 3a20 7374 722c 0a20    serial: str,. 
+000114a0: 2020 2020 2020 2063 6f6d 6d61 6e64 3a20         command: 
+000114b0: 4c69 7465 7261 6c5b 0a20 2020 2020 2020  Literal[.       
+000114c0: 2020 2020 2022 7265 626f 6f74 222c 0a20       "reboot",. 
+000114d0: 2020 2020 2020 2020 2020 2022 626c 696e             "blin
+000114e0: 6b5f 6c65 645f 6f6e 222c 0a20 2020 2020  k_led_on",.     
+000114f0: 2020 2020 2020 2022 626c 696e 6b5f 6c65         "blink_le
+00011500: 645f 6f66 6622 2c0a 2020 2020 2020 2020  d_off",.        
+00011510: 2020 2020 2262 6c69 6e6b 5f6c 6564 222c      "blink_led",
+00011520: 0a20 2020 2020 2020 2020 2020 2022 6572  .            "er
+00011530: 6173 655f 636f 6e66 6967 7572 6174 696f  ase_configuratio
+00011540: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
+00011550: 2273 6176 655f 636f 6e66 6967 7572 6174  "save_configurat
+00011560: 696f 6e22 2c0a 2020 2020 2020 2020 2020  ion",.          
+00011570: 2020 2268 616c 7422 2c0a 2020 2020 2020    "halt",.      
+00011580: 2020 2020 2020 2263 6f6e 6669 675f 7379        "config_sy
+00011590: 6e63 222c 0a20 2020 2020 2020 205d 2c0a  nc",.        ],.
+000115a0: 2020 2020 2020 2020 6475 7261 7469 6f6e          duration
+000115b0: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
+000115c0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+000115d0: 0a20 2020 2020 2020 2022 2222 4765 6e65  .        """Gene
+000115e0: 7269 6320 636f 6d6d 616e 6473 2066 6f72  ric commands for
+000115f0: 2064 6576 6963 652e 0a0a 2020 2020 2020   device...      
+00011600: 2020 5375 7070 6f72 7465 6420 436f 6d6d    Supported Comm
+00011610: 616e 6473 2028 7374 7229 3a0a 2020 2020  ands (str):.    
+00011620: 2020 2020 2020 2020 2d20 7265 626f 6f74          - reboot
+00011630: 3a20 7375 7070 6f72 7465 6420 6279 2049  : supported by I
+00011640: 4150 2f43 6f6e 7472 6f6c 6c65 7273 2f4d  AP/Controllers/M
+00011650: 4153 2053 7769 7463 6865 732f 4172 7562  AS Switches/Arub
+00011660: 6120 5377 6974 6368 6573 0a20 2020 2020  a Switches.     
+00011670: 2020 2020 2020 202d 2062 6c69 6e6b 5f6c         - blink_l
+00011680: 6564 5f6f 6e3a 2055 7365 2074 6869 7320  ed_on: Use this 
+00011690: 636f 6d6d 616e 6420 746f 2065 6e61 626c  command to enabl
+000116a0: 6520 7468 6520 4c45 4420 6469 7370 6c61  e the LED displa
+000116b0: 792c 2073 7570 706f 7274 6564 2062 7920  y, supported by 
+000116c0: 4941 502f 4172 7562 6120 5377 6974 6368  IAP/Aruba Switch
+000116d0: 6573 0a20 2020 2020 2020 2020 2020 202d  es.            -
+000116e0: 2062 6c69 6e6b 5f6c 6564 5f6f 6666 3a20   blink_led_off: 
+000116f0: 5573 6520 7468 6973 2063 6f6d 6d61 6e64  Use this command
+00011700: 2074 6f20 656e 6162 6c65 2074 6865 204c   to enable the L
+00011710: 4544 2064 6973 706c 6179 2c20 7375 7070  ED display, supp
+00011720: 6f72 7465 6420 6279 2049 4150 2f41 7275  orted by IAP/Aru
+00011730: 6261 2053 7769 7463 6865 730a 2020 2020  ba Switches.    
+00011740: 2020 2020 2020 2020 2d20 626c 696e 6b5f          - blink_
+00011750: 6c65 643a 2055 7365 2074 6869 7320 636f  led: Use this co
+00011760: 6d6d 616e 6420 746f 2062 6c69 6e6b 204c  mmand to blink L
+00011770: 4544 2064 6973 706c 6179 2c20 5375 7070  ED display, Supp
+00011780: 6f72 7465 6420 6f6e 2041 7275 6261 2053  orted on Aruba S
+00011790: 7769 7463 6865 730a 2020 2020 2020 2020  witches.        
+000117a0: 2020 2020 2d20 6572 6173 655f 636f 6e66      - erase_conf
+000117b0: 6967 7572 6174 696f 6e20 3a20 4661 6374  iguration : Fact
+000117c0: 6f72 7920 6465 6661 756c 7420 7468 6520  ory default the 
+000117d0: 7377 6974 6368 2e20 2053 7570 706f 7274  switch.  Support
+000117e0: 6564 206f 6e20 4172 7562 6120 5377 6974  ed on Aruba Swit
+000117f0: 6368 6573 0a20 2020 2020 2020 2020 2020  ches.           
+00011800: 202d 2073 6176 655f 636f 6e66 6967 7572   - save_configur
+00011810: 6174 696f 6e3a 2053 6176 6573 2074 6865  ation: Saves the
+00011820: 2072 756e 6e69 6e67 2063 6f6e 6669 672e   running config.
+00011830: 2073 7570 706f 7274 6564 2062 7920 4941   supported by IA
+00011840: 502f 4172 7562 6120 5377 6974 6368 6573  P/Aruba Switches
+00011850: 0a20 2020 2020 2020 2020 2020 202d 2068  .            - h
+00011860: 616c 7420 3a20 5468 6973 2063 6f6d 6d61  alt : This comma
+00011870: 6e64 2070 6572 666f 726d 7320 6120 7368  nd performs a sh
+00011880: 7574 646f 776e 206f 6620 7468 6520 6465  utdown of the de
+00011890: 7669 6365 2c20 7375 7070 6f72 7465 6420  vice, supported 
+000118a0: 6279 2043 6f6e 7472 6f6c 6c65 7273 2061  by Controllers a
+000118b0: 6c6f 6e65 2e0a 2020 2020 2020 2020 2020  lone..          
+000118c0: 2020 2d20 636f 6e66 6967 5f73 796e 6320    - config_sync 
+000118d0: 3a20 5468 6973 2063 6f6d 6d61 6e64 7320  : This commands 
+000118e0: 7065 7266 6f72 6d73 2066 756c 6c20 7265  performs full re
+000118f0: 6672 6573 6820 6f66 2074 6865 2064 6576  fresh of the dev
+00011900: 6963 6520 636f 6e66 6967 2c20 7375 7070  ice config, supp
+00011910: 6f72 7465 6420 6279 2043 6f6e 7472 6f6c  orted by Control
+00011920: 6c65 7273 2061 6c6f 6e65 0a0a 2020 2020  lers alone..    
+00011930: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00011940: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
+00011950: 7229 3a20 5365 7269 616c 206f 6620 6465  r): Serial of de
+00011960: 7669 6365 0a20 2020 2020 2020 2020 2020  vice.           
+00011970: 2063 6f6d 6d61 6e64 2028 7374 7229 3a20   command (str): 
+00011980: 436f 6d6d 616e 6420 746f 2062 6520 6578  Command to be ex
+00011990: 6563 7574 6564 0a20 2020 2020 2020 2020  ecuted.         
+000119a0: 2020 2064 7572 6174 696f 6e20 2869 6e74     duration (int
+000119b0: 2c20 4f70 7469 6f6e 616c 293a 204e 756d  , Optional): Num
+000119c0: 6265 7220 6f66 2073 6563 6f6e 6473 2074  ber of seconds t
+000119d0: 6f20 626c 696e 6b5f 6c65 6420 6f6e 6c79  o blink_led only
+000119e0: 2061 7070 6c69 6573 2074 6f20 626c 696e   applies to blin
+000119f0: 6b5f 6c65 6420 616e 6420 626c 696e 6b5f  k_led and blink_
+00011a00: 6c65 645f 6f6e 0a0a 2020 2020 2020 2020  led_on..        
+00011a10: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00011a20: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00011a30: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00011a40: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00011a50: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00011a60: 6c20 3d20 6622 2f64 6576 6963 655f 6d61  l = f"/device_ma
+00011a70: 6e61 6765 6d65 6e74 2f76 312f 6465 7669  nagement/v1/devi
+00011a80: 6365 2f7b 7365 7269 616c 7d2f 6163 7469  ce/{serial}/acti
+00011a90: 6f6e 2f7b 636f 6d6d 616e 647d 220a 0a20  on/{command}".. 
+00011aa0: 2020 2020 2020 2072 6573 7020 3d20 6177         resp = aw
+00011ab0: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
+00011ac0: 6c29 0a20 2020 2020 2020 2069 6620 7265  l).        if re
+00011ad0: 7370 2061 6e64 2064 7572 6174 696f 6e20  sp and duration 
+00011ae0: 616e 6420 2262 6c69 6e6b 5f6c 6564 2220  and "blink_led" 
+00011af0: 696e 2063 6f6d 6d61 6e64 2061 6e64 2022  in command and "
+00011b00: 6f66 6622 206e 6f74 2069 6e20 636f 6d6d  off" not in comm
+00011b10: 616e 643a 0a20 2020 2020 2020 2020 2020  and:.           
+00011b20: 2070 7269 6e74 2866 2242 6c69 6e6b 696e   print(f"Blinkin
+00011b30: 6720 4c65 642e 2e2e 207b 6475 7261 7469  g Led... {durati
+00011b40: 6f6e 7d2e 2022 2c20 656e 643d 2222 290a  on}. ", end="").
+00011b50: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00011b60: 6920 696e 2072 616e 6765 2831 2c20 6475  i in range(1, du
+00011b70: 7261 7469 6f6e 293a 0a20 2020 2020 2020  ration):.       
+00011b80: 2020 2020 2020 2020 2074 696d 652e 736c           time.sl
+00011b90: 6565 7028 3129 0a20 2020 2020 2020 2020  eep(1).         
+00011ba0: 2020 2020 2020 2070 7269 6e74 2866 227b         print(f"{
+00011bb0: 6475 7261 7469 6f6e 202d 2069 7d2e 2022  duration - i}. "
+00011bc0: 2c20 656e 643d 2222 2069 6620 6920 2520  , end="" if i % 
+00011bd0: 3230 2065 6c73 6520 225c 6e22 290a 2020  20 else "\n").  
+00011be0: 2020 2020 2020 2020 2020 7265 7370 203d            resp =
+00011bf0: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
+00011c00: 2875 726c 2e72 6570 6c61 6365 2822 5f6f  (url.replace("_o
+00011c10: 6e22 2c20 225f 6f66 6622 2929 0a20 2020  n", "_off")).   
+00011c20: 2020 2020 2072 6574 7572 6e20 7265 7370       return resp
+00011c30: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+00011c40: 6b69 636b 5f75 7365 7273 280a 2020 2020  kick_users(.    
+00011c50: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00011c60: 2020 7365 7269 616c 5f6e 756d 3a20 7374    serial_num: st
+00011c70: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00011c80: 2020 6b69 636b 5f61 6c6c 3a20 626f 6f6c    kick_all: bool
+00011c90: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
+00011ca0: 2020 6d61 633a 2073 7472 203d 204e 6f6e    mac: str = Non
+00011cb0: 652c 0a20 2020 2020 2020 2073 7369 643a  e,.        ssid:
+00011cc0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00011cd0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+00011ce0: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+00011cf0: 2f64 6576 6963 655f 6d61 6e61 6765 6d65  /device_manageme
+00011d00: 6e74 2f76 312f 6465 7669 6365 2f7b 7365  nt/v1/device/{se
+00011d10: 7269 616c 5f6e 756d 7d2f 6163 7469 6f6e  rial_num}/action
+00011d20: 2f64 6973 636f 6e6e 6563 745f 7573 6572  /disconnect_user
+00011d30: 220a 2020 2020 2020 2020 6966 206b 6963  ".        if kic
+00011d40: 6b5f 616c 6c3a 0a20 2020 2020 2020 2020  k_all:.         
+00011d50: 2020 2070 6179 6c6f 6164 203d 207b 2264     payload = {"d
+00011d60: 6973 636f 6e6e 6563 745f 7573 6572 5f61  isconnect_user_a
+00011d70: 6c6c 223a 2054 7275 657d 0a20 2020 2020  ll": True}.     
+00011d80: 2020 2065 6c69 6620 6d61 633a 0a20 2020     elif mac:.   
+00011d90: 2020 2020 2020 2020 2070 6179 6c6f 6164           payload
+00011da0: 203d 207b 2264 6973 636f 6e6e 6563 745f   = {"disconnect_
+00011db0: 7573 6572 5f6d 6163 223a 2066 227b 6d61  user_mac": f"{ma
+00011dc0: 637d 227d 0a20 2020 2020 2020 2065 6c69  c}"}.        eli
+00011dd0: 6620 7373 6964 3a0a 2020 2020 2020 2020  f ssid:.        
+00011de0: 2020 2020 7061 796c 6f61 6420 3d20 7b22      payload = {"
+00011df0: 6469 7363 6f6e 6e65 6374 5f75 7365 725f  disconnect_user_
+00011e00: 6e65 7477 6f72 6b22 3a20 6622 7b73 7369  network": f"{ssi
+00011e10: 647d 227d 0a20 2020 2020 2020 2065 6c73  d}"}.        els
+00011e20: 653a 0a20 2020 2020 2020 2020 2020 2070  e:.            p
+00011e30: 6179 6c6f 6164 203d 207b 7d0a 0a20 2020  ayload = {}..   
+00011e40: 2020 2020 2069 6620 7061 796c 6f61 643a       if payload:
+00011e50: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00011e60: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+00011e70: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
+00011e80: 7461 3d70 6179 6c6f 6164 290a 2020 2020  ta=payload).    
+00011e90: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00011ea0: 2020 2020 2020 7265 7475 726e 2052 6573        return Res
+00011eb0: 706f 6e73 6528 6572 726f 723d 224d 6973  ponse(error="Mis
+00011ec0: 7369 6e67 2052 6571 7569 7265 6420 5061  sing Required Pa
+00011ed0: 7261 6d65 7465 7273 2229 0a0a 2020 2020  rameters")..    
+00011ee0: 6173 796e 6320 6465 6620 7570 6461 7465  async def update
+00011ef0: 5f73 7368 5f63 7265 6473 2873 656c 662c  _ssh_creds(self,
+00011f00: 2064 6576 6963 655f 7365 7269 616c 3a20   device_serial: 
+00011f10: 7374 722c 2075 7365 726e 616d 653a 2073  str, username: s
+00011f20: 7472 2c20 7061 7373 776f 7264 3a20 7374  tr, password: st
+00011f30: 7229 202d 3e20 5265 7370 6f6e 7365 3a0a  r) -> Response:.
+00011f40: 2020 2020 2020 2020 2222 2253 6574 2055          """Set U
+00011f50: 7365 726e 616d 652c 2070 6173 7377 6f72  sername, passwor
+00011f60: 6420 7265 7175 6972 6564 2066 6f72 2065  d required for e
+00011f70: 7374 6162 6c69 7368 696e 6720 5353 4820  stablishing SSH 
+00011f80: 636f 6e6e 6563 7469 6f6e 2074 6f20 7377  connection to sw
+00011f90: 6974 6368 2e0a 0a20 2020 2020 2020 2054  itch...        T
+00011fa0: 6869 7320 6d65 7468 6f64 206f 6e6c 7920  his method only 
+00011fb0: 6170 706c 6965 7320 746f 2073 7769 7463  applies to switc
+00011fc0: 6865 730a 0a20 2020 2020 2020 2041 7267  hes..        Arg
+00011fd0: 733a 0a20 2020 2020 2020 2020 2020 2064  s:.            d
+00011fe0: 6576 6963 655f 7365 7269 616c 2028 7374  evice_serial (st
+00011ff0: 7229 3a20 5365 7269 616c 206e 756d 6265  r): Serial numbe
+00012000: 7220 6f66 2074 6865 2073 7769 7463 682e  r of the switch.
+00012010: 0a20 2020 2020 2020 2020 2020 2075 7365  .            use
+00012020: 726e 616d 6520 2873 7472 293a 2053 5348  rname (str): SSH
+00012030: 2075 7365 726e 616d 650a 2020 2020 2020   username.      
+00012040: 2020 2020 2020 7061 7373 776f 7264 2028        password (
+00012050: 7374 7229 3a20 5353 4820 7061 7373 776f  str): SSH passwo
+00012060: 7264 0a0a 2020 2020 2020 2020 5265 7475  rd..        Retu
+00012070: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00012080: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00012090: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+000120a0: 626a 6563 740a 2020 2020 2020 2020 2020  bject.          
+000120b0: 2020 5375 6363 6573 7366 756c 2052 6573    Successful Res
+000120c0: 706f 6e73 6520 626f 6479 2028 5265 7370  ponse body (Resp
+000120d0: 6f6e 7365 2e6f 7574 7075 7429 3a20 2253  onse.output): "S
+000120e0: 7563 6365 7373 220a 2020 2020 2020 2020  uccess".        
+000120f0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00012100: 3d20 6622 2f63 6f6e 6669 6775 7261 7469  = f"/configurati
+00012110: 6f6e 2f76 312f 6465 7669 6365 732f 7b64  on/v1/devices/{d
+00012120: 6576 6963 655f 7365 7269 616c 7d2f 7373  evice_serial}/ss
+00012130: 685f 636f 6e6e 6563 7469 6f6e 220a 0a20  h_connection".. 
+00012140: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
+00012150: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00012160: 2027 7573 6572 6e61 6d65 273a 2075 7365   'username': use
+00012170: 726e 616d 652c 0a20 2020 2020 2020 2020  rname,.         
+00012180: 2020 2027 7061 7373 776f 7264 273a 2070     'password': p
+00012190: 6173 7377 6f72 640a 2020 2020 2020 2020  assword.        
+000121a0: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+000121b0: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
+000121c0: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
+000121d0: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
+000121e0: 2061 7379 6e63 2064 6566 2067 6574 5f74   async def get_t
+000121f0: 6173 6b5f 7374 6174 7573 2873 656c 662c  ask_status(self,
+00012200: 2074 6173 6b5f 6964 293a 0a20 2020 2020   task_id):.     
+00012210: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00012220: 7365 6c66 2e67 6574 2866 222f 6465 7669  self.get(f"/devi
+00012230: 6365 5f6d 616e 6167 656d 656e 742f 7631  ce_management/v1
+00012240: 2f73 7461 7475 732f 7b74 6173 6b5f 6964  /status/{task_id
+00012250: 7d22 290a 0a20 2020 2061 7379 6e63 2064  }")..    async d
+00012260: 6566 2067 6574 5f73 7769 7463 685f 766c  ef get_switch_vl
+00012270: 616e 7328 0a20 2020 2020 2020 2073 656c  ans(.        sel
+00012280: 662c 0a20 2020 2020 2020 2069 6465 6e3a  f,.        iden:
+00012290: 2073 7472 2c0a 2020 2020 2020 2020 7374   str,.        st
+000122a0: 6163 6b3a 2062 6f6f 6c20 3d20 4661 6c73  ack: bool = Fals
+000122b0: 652c 0a20 2020 2020 2020 2063 783a 2062  e,.        cx: b
+000122c0: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
+000122d0: 2020 2020 206e 616d 653a 2073 7472 203d       name: str =
+000122e0: 204e 6f6e 652c 0a20 2020 2020 2020 2070   None,.        p
+000122f0: 7669 643a 2069 6e74 203d 204e 6f6e 652c  vid: int = None,
+00012300: 0a20 2020 2020 2020 2074 6167 6765 645f  .        tagged_
+00012310: 706f 7274 3a20 7374 7220 3d20 4e6f 6e65  port: str = None
+00012320: 2c0a 2020 2020 2020 2020 756e 7461 6767  ,.        untagg
+00012330: 6564 5f70 6f72 743a 2073 7472 203d 204e  ed_port: str = N
+00012340: 6f6e 652c 0a20 2020 2020 2020 2069 735f  one,.        is_
+00012350: 6a75 6d62 6f5f 656e 6162 6c65 643a 2062  jumbo_enabled: b
+00012360: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
+00012370: 2020 2020 6973 5f76 6f69 6365 5f65 6e61      is_voice_ena
+00012380: 626c 6564 3a20 626f 6f6c 203d 204e 6f6e  bled: bool = Non
+00012390: 652c 0a20 2020 2020 2020 2069 735f 6967  e,.        is_ig
+000123a0: 6d70 5f65 6e61 626c 6564 3a20 626f 6f6c  mp_enabled: bool
+000123b0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+000123c0: 2074 7970 653a 2073 7472 203d 204e 6f6e   type: str = Non
+000123d0: 652c 0a20 2020 2020 2020 2070 7269 6d61  e,.        prima
+000123e0: 7279 5f76 6c61 6e5f 6964 3a20 696e 7420  ry_vlan_id: int 
 000123f0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00012400: 6361 6c63 756c 6174 655f 746f 7461 6c3a  calculate_total:
-00012410: 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020   bool = None,.  
-00012420: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
-00012430: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
-00012440: 696d 6974 3a20 696e 7420 3d20 3530 302c  imit: int = 500,
-00012450: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-00012460: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
-00012470: 6574 2076 6c61 6e20 696e 666f 2066 6f72  et vlan info for
-00012480: 2073 7769 7463 6820 2843 5820 616e 6420   switch (CX and 
-00012490: 5357 292e 0a0a 2020 2020 2020 2020 4172  SW)...        Ar
-000124a0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-000124b0: 6964 656e 2028 7374 7229 3a20 5365 7269  iden (str): Seri
-000124c0: 616c 204e 756d 6265 7220 6f66 2053 7461  al Number of Sta
-000124d0: 636b 2049 442c 2049 6465 6e74 6966 6965  ck ID, Identifie
-000124e0: 7320 7468 6520 6465 7620 746f 2072 6574  s the dev to ret
-000124f0: 7572 6e20 564c 414e 7320 6672 6f6d 2e0a  urn VLANs from..
-00012500: 2020 2020 2020 2020 2020 2020 7374 6163              stac
-00012510: 6b20 2862 6f6f 6c2c 206f 7074 696f 6e61  k (bool, optiona
-00012520: 6c29 3a20 5365 7420 746f 2054 7275 6520  l): Set to True 
-00012530: 666f 7220 7374 6163 6b2e 2044 6566 6175  for stack. Defau
-00012540: 6c74 3a20 4661 6c73 650a 2020 2020 2020  lt: False.      
-00012550: 2020 2020 2020 6378 3a20 2862 6f6f 6c2c        cx: (bool,
-00012560: 206f 7074 696f 6e61 6c29 3a20 5365 7420   optional): Set 
-00012570: 746f 2054 7275 6520 666f 7220 4172 7562  to True for Arub
-00012580: 614f 532d 4358 2e20 4465 6661 756c 743a  aOS-CX. Default:
-00012590: 2046 616c 7365 0a20 2020 2020 2020 2020   False.         
-000125a0: 2020 206e 616d 6520 2873 7472 2c20 6f70     name (str, op
-000125b0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-000125c0: 6279 2076 6c61 6e20 6e61 6d65 0a20 2020  by vlan name.   
-000125d0: 2020 2020 2020 2020 2069 6420 2869 6e74           id (int
-000125e0: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-000125f0: 7465 7220 6279 2076 6c61 6e20 6964 0a20  ter by vlan id. 
-00012600: 2020 2020 2020 2020 2020 2074 6167 6765             tagge
-00012610: 645f 706f 7274 2028 7374 722c 206f 7074  d_port (str, opt
-00012620: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
-00012630: 7920 7461 6767 6564 2070 6f72 7420 6e61  y tagged port na
-00012640: 6d65 0a20 2020 2020 2020 2020 2020 2075  me.            u
-00012650: 6e74 6167 6765 645f 706f 7274 2028 7374  ntagged_port (st
-00012660: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-00012670: 6c74 6572 2062 7920 756e 7461 6767 6564  lter by untagged
-00012680: 2070 6f72 7420 6e61 6d65 0a20 2020 2020   port name.     
-00012690: 2020 2020 2020 2069 735f 6a75 6d62 6f5f         is_jumbo_
-000126a0: 656e 6162 6c65 6420 2862 6f6f 6c2c 206f  enabled (bool, o
-000126b0: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-000126c0: 2062 7920 6a75 6d62 6f20 656e 6162 6c65   by jumbo enable
-000126d0: 640a 2020 2020 2020 2020 2020 2020 6973  d.            is
-000126e0: 5f76 6f69 6365 5f65 6e61 626c 6564 2028  _voice_enabled (
-000126f0: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-00012700: 2046 696c 7465 7220 6279 2076 6f69 6365   Filter by voice
-00012710: 2065 6e61 626c 6564 0a20 2020 2020 2020   enabled.       
-00012720: 2020 2020 2069 735f 6967 6d70 5f65 6e61       is_igmp_ena
-00012730: 626c 6564 2028 626f 6f6c 2c20 6f70 7469  bled (bool, opti
-00012740: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-00012750: 2069 676d 7020 656e 6162 6c65 640a 2020   igmp enabled.  
-00012760: 2020 2020 2020 2020 2020 7479 7065 2028            type (
-00012770: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00012780: 5479 7065 206f 6620 7468 6520 766c 616e  Type of the vlan
-00012790: 2074 6f20 6265 2071 7565 7269 6564 0a20   to be queried. 
-000127a0: 2020 2020 2020 2020 2020 2070 7269 6d61             prima
-000127b0: 7279 5f76 6c61 6e5f 6964 2028 696e 742c  ry_vlan_id (int,
-000127c0: 206f 7074 696f 6e61 6c29 3a20 5072 696d   optional): Prim
-000127d0: 6172 7920 566c 616e 2049 6420 6f66 2074  ary Vlan Id of t
-000127e0: 6865 2076 6c61 6e20 746f 2062 6520 7175  he vlan to be qu
-000127f0: 6572 6965 6422 0a20 2020 2020 2020 2020  eried".         
-00012800: 2020 2073 7461 7475 7320 2873 7472 2c20     status (str, 
-00012810: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-00012820: 7220 6279 2073 7461 7475 7320 6f66 2056  r by status of V
-00012830: 4c41 4e2e 2053 7461 7475 7320 6361 6e20  LAN. Status can 
-00012840: 6265 2055 702f 446f 776e 0a20 2020 2020  be Up/Down.     
-00012850: 2020 2020 2020 2073 6f72 7420 2873 7472         sort (str
-00012860: 2c20 6f70 7469 6f6e 616c 293a 2053 6f72  , optional): Sor
-00012870: 7420 7061 7261 6d65 7465 7220 6d61 7920  t parameter may 
-00012880: 6265 206f 6e65 206f 6620 2b6e 616d 652c  be one of +name,
-00012890: 202d 6e61 6d65 0a20 2020 2020 2020 2020   -name.         
-000128a0: 2020 2063 616c 6375 6c61 7465 5f74 6f74     calculate_tot
-000128b0: 616c 2028 626f 6f6c 2c20 6f70 7469 6f6e  al (bool, option
-000128c0: 616c 293a 2057 6865 7468 6572 2074 6f20  al): Whether to 
-000128d0: 6361 6c63 756c 6174 6520 746f 7461 6c20  calculate total 
-000128e0: 766c 616e 730a 2020 2020 2020 2020 2020  vlans.          
-000128f0: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
-00012900: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
-00012910: 7469 6f6e 206f 6666 7365 7420 4465 6661  tion offset Defa
-00012920: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
-00012930: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
-00012940: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
-00012950: 6769 6e61 7469 6f6e 206c 696d 6974 2e20  gination limit. 
-00012960: 4465 6661 756c 7420 6973 2031 3030 2061  Default is 100 a
-00012970: 6e64 206d 6178 2069 7320 3130 3030 2044  nd max is 1000 D
-00012980: 6566 6175 6c74 7320 746f 2035 3030 2e0a  efaults to 500..
-00012990: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-000129a0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-000129b0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-000129c0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-000129d0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-000129e0: 2020 2020 2020 2023 2054 4f44 4f20 6c6f         # TODO lo
-000129f0: 6f6b 7320 6c69 6b65 2077 6520 6361 6e20  oks like we can 
-00012a00: 7265 6d6f 7665 2072 6566 6572 656e 6365  remove reference
-00012a10: 7320 746f 2063 7820 7370 6563 6966 6963  s to cx specific
-00012a20: 206d 6574 686f 6473 2c20 7468 6579 2064   methods, they d
-00012a30: 6f6e 2774 2077 6f72 6b0a 2020 2020 2020  on't work.      
-00012a40: 2020 2320 7363 6865 6d61 206e 6f74 2072    # schema not r
-00012a50: 6566 6c65 6374 696e 6720 7468 6174 2077  eflecting that w
-00012a60: 6173 7465 6420 6d79 2074 696d 652e 0a20  asted my time.. 
-00012a70: 2020 2020 2020 2069 6620 6e6f 7420 7374         if not st
-00012a80: 6163 6b3a 0a20 2020 2020 2020 2020 2020  ack:.           
-00012a90: 2023 2073 775f 7572 6c20 3d20 2263 785f   # sw_url = "cx_
-00012aa0: 7377 6974 6368 6573 2220 6966 2063 7820  switches" if cx 
-00012ab0: 656c 7365 2022 7377 6974 6368 6573 220a  else "switches".
-00012ac0: 2020 2020 2020 2020 2020 2020 7377 5f75              sw_u
-00012ad0: 726c 203d 2022 7377 6974 6368 6573 220a  rl = "switches".
-00012ae0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00012af0: 2020 2020 2020 2020 2020 7377 5f75 726c            sw_url
-00012b00: 203d 2022 6378 5f73 7769 7463 685f 7374   = "cx_switch_st
-00012b10: 6163 6b73 2220 6966 2063 7820 656c 7365  acks" if cx else
-00012b20: 2022 7377 6974 6368 5f73 7461 636b 7322   "switch_stacks"
-00012b30: 0a0a 2020 2020 2020 2020 7572 6c20 3d20  ..        url = 
-00012b40: 6622 2f6d 6f6e 6974 6f72 696e 672f 7631  f"/monitoring/v1
-00012b50: 2f7b 7377 5f75 726c 7d2f 7b69 6465 6e7d  /{sw_url}/{iden}
-00012b60: 2f76 6c61 6e22 0a0a 2020 2020 2020 2020  /vlan"..        
-00012b70: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
-00012b80: 2020 2020 2020 2022 6e61 6d65 223a 206e         "name": n
-00012b90: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
-00012ba0: 2022 6964 223a 2070 7669 642c 0a20 2020   "id": pvid,.   
-00012bb0: 2020 2020 2020 2020 2022 7461 6767 6564           "tagged
-00012bc0: 5f70 6f72 7422 3a20 7461 6767 6564 5f70  _port": tagged_p
-00012bd0: 6f72 742c 0a20 2020 2020 2020 2020 2020  ort,.           
-00012be0: 2022 756e 7461 6767 6564 5f70 6f72 7422   "untagged_port"
-00012bf0: 3a20 756e 7461 6767 6564 5f70 6f72 742c  : untagged_port,
-00012c00: 0a20 2020 2020 2020 2020 2020 2022 6973  .            "is
-00012c10: 5f6a 756d 626f 5f65 6e61 626c 6564 223a  _jumbo_enabled":
-00012c20: 2069 735f 6a75 6d62 6f5f 656e 6162 6c65   is_jumbo_enable
-00012c30: 642c 0a20 2020 2020 2020 2020 2020 2022  d,.            "
-00012c40: 6973 5f76 6f69 6365 5f65 6e61 626c 6564  is_voice_enabled
-00012c50: 223a 2069 735f 766f 6963 655f 656e 6162  ": is_voice_enab
-00012c60: 6c65 642c 0a20 2020 2020 2020 2020 2020  led,.           
-00012c70: 2022 6973 5f69 676d 705f 656e 6162 6c65   "is_igmp_enable
-00012c80: 6422 3a20 6973 5f69 676d 705f 656e 6162  d": is_igmp_enab
-00012c90: 6c65 642c 0a20 2020 2020 2020 2020 2020  led,.           
-00012ca0: 2022 7479 7065 223a 2074 7970 652c 0a20   "type": type,. 
-00012cb0: 2020 2020 2020 2020 2020 2022 7072 696d             "prim
-00012cc0: 6172 795f 766c 616e 5f69 6422 3a20 7072  ary_vlan_id": pr
-00012cd0: 696d 6172 795f 766c 616e 5f69 642c 0a20  imary_vlan_id,. 
-00012ce0: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
-00012cf0: 7573 223a 2073 7461 7475 732c 0a20 2020  us": status,.   
-00012d00: 2020 2020 2020 2020 2022 736f 7274 223a           "sort":
-00012d10: 2073 6f72 742c 0a20 2020 2020 2020 2020   sort,.         
-00012d20: 2020 2022 6361 6c63 756c 6174 655f 746f     "calculate_to
-00012d30: 7461 6c22 3a20 6361 6c63 756c 6174 655f  tal": calculate_
-00012d40: 746f 7461 6c2c 0a20 2020 2020 2020 2020  total,.         
-00012d50: 2020 2022 6f66 6673 6574 223a 206f 6666     "offset": off
-00012d60: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
-00012d70: 2022 6c69 6d69 7422 3a20 6c69 6d69 742c   "limit": limit,
-00012d80: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-00012d90: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00012da0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-00012db0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
-00012dc0: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-00012dd0: 5f67 6174 6577 6179 5f76 6c61 6e73 2873  _gateway_vlans(s
-00012de0: 656c 662c 2073 6572 6961 6c3a 2073 7472  elf, serial: str
-00012df0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00012e00: 2020 2020 2020 2022 2222 4765 7420 6761         """Get ga
-00012e10: 7465 7761 7920 564c 414e 2064 6574 6169  teway VLAN detai
-00012e20: 6c73 2e0a 0a20 2020 2020 2020 2041 7267  ls...        Arg
-00012e30: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-00012e40: 6572 6961 6c20 2873 7472 293a 2053 6572  erial (str): Ser
-00012e50: 6961 6c20 6e75 6d62 6572 206f 6620 6761  ial number of ga
-00012e60: 7465 7761 7920 746f 2062 6520 7175 6572  teway to be quer
-00012e70: 6965 640a 0a20 2020 2020 2020 2052 6574  ied..        Ret
-00012e80: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-00012e90: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-00012ea0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-00012eb0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-00012ec0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-00012ed0: 2066 222f 6d6f 6e69 746f 7269 6e67 2f76   f"/monitoring/v
-00012ee0: 312f 6761 7465 7761 7973 2f7b 7365 7269  1/gateways/{seri
-00012ef0: 616c 7d2f 766c 616e 220a 0a20 2020 2020  al}/vlan"..     
-00012f00: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00012f10: 7365 6c66 2e67 6574 2875 726c 290a 0a20  self.get(url).. 
-00012f20: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-00012f30: 5f63 6f6e 7472 6f6c 6c65 725f 766c 616e  _controller_vlan
-00012f40: 7328 7365 6c66 2c20 7365 7269 616c 3a20  s(self, serial: 
-00012f50: 7374 7229 202d 3e20 5265 7370 6f6e 7365  str) -> Response
-00012f60: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
-00012f70: 204d 6f62 696c 6974 7920 436f 6e74 726f   Mobility Contro
-00012f80: 6c6c 6572 7320 564c 414e 2064 6574 6169  llers VLAN detai
-00012f90: 6c73 2e0a 0a20 2020 2020 2020 2041 7267  ls...        Arg
-00012fa0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-00012fb0: 6572 6961 6c20 2873 7472 293a 2053 6572  erial (str): Ser
-00012fc0: 6961 6c20 6e75 6d62 6572 206f 6620 6d6f  ial number of mo
-00012fd0: 6269 6c69 7479 2063 6f6e 7472 6f6c 6c65  bility controlle
-00012fe0: 7220 746f 2062 6520 7175 6572 6965 640a  r to be queried.
-00012ff0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00013000: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-00013010: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-00013020: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00013030: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00013040: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-00013050: 6d6f 6e69 746f 7269 6e67 2f76 312f 6d6f  monitoring/v1/mo
-00013060: 6269 6c69 7479 5f63 6f6e 7472 6f6c 6c65  bility_controlle
-00013070: 7273 2f7b 7365 7269 616c 7d2f 766c 616e  rs/{serial}/vlan
-00013080: 220a 0a20 2020 2020 2020 2072 6574 7572  "..        retur
-00013090: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-000130a0: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
-000130b0: 2064 6566 2067 6574 5f74 735f 636f 6d6d   def get_ts_comm
-000130c0: 616e 6473 2873 656c 662c 2064 6576 5f74  ands(self, dev_t
-000130d0: 7970 653a 204c 6974 6572 616c 5b27 6961  ype: Literal['ia
-000130e0: 7027 2c20 276d 6173 272c 2027 7377 6974  p', 'mas', 'swit
-000130f0: 6368 272c 2027 636f 6e74 726f 6c6c 6572  ch', 'controller
-00013100: 275d 2920 2d3e 2052 6573 706f 6e73 653a  ']) -> Response:
-00013110: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-00013120: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
-00013130: 2f76 312f 636f 6d6d 616e 6473 220a 2020  /v1/commands".  
-00013140: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-00013150: 2264 6576 6963 655f 7479 7065 223a 2064  "device_type": d
-00013160: 6576 5f74 7970 657d 0a20 2020 2020 2020  ev_type}.       
-00013170: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00013180: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
-00013190: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
-000131a0: 6173 796e 6320 6465 6620 7374 6172 745f  async def start_
-000131b0: 7473 5f73 6573 7369 6f6e 280a 2020 2020  ts_session(.    
-000131c0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-000131d0: 2020 7365 7269 616c 3a20 7374 722c 0a20    serial: str,. 
-000131e0: 2020 2020 2020 2064 6576 5f74 7970 653a         dev_type:
-000131f0: 2073 7472 2c0a 2020 2020 2020 2020 636f   str,.        co
-00013200: 6d6d 616e 6473 3a20 556e 696f 6e5b 696e  mmands: Union[in
-00013210: 742c 206c 6973 742c 2064 6963 745d 2c0a  t, list, dict],.
-00013220: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00013230: 653a 0a20 2020 2020 2020 2022 2222 5374  e:.        """St
-00013240: 6172 7420 5472 6f75 626c 6573 686f 6f74  art Troubleshoot
-00013250: 696e 6720 5365 7373 696f 6e2e 0a0a 2020  ing Session...  
-00013260: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00013270: 2020 2020 2020 2020 7365 7269 616c 2028          serial (
-00013280: 7374 7229 3a20 5365 7269 616c 206f 6620  str): Serial of 
-00013290: 6465 7669 6365 0a20 2020 2020 2020 2020  device.         
-000132a0: 2020 2064 6576 5f74 7970 6520 2873 7472     dev_type (str
-000132b0: 293a 2053 7065 6369 6679 206f 6e65 206f  ): Specify one o
-000132c0: 6620 2249 4150 2f53 5749 5443 482f 4358  f "IAP/SWITCH/CX
-000132d0: 2f4d 4153 2f43 4f4e 5452 4f4c 4c45 5222  /MAS/CONTROLLER"
-000132e0: 2066 6f72 2020 4941 5073 2c20 4172 7562   for  IAPs, Arub
-000132f0: 610a 2020 2020 2020 2020 2020 2020 2020  a.              
-00013300: 2020 7377 6974 6368 6573 2c20 4358 2053    switches, CX S
-00013310: 7769 7463 6865 732c 204d 4153 2073 7769  witches, MAS swi
-00013320: 7463 6865 7320 616e 6420 636f 6e74 726f  tches and contro
-00013330: 6c6c 6572 7320 7265 7370 6563 7469 7665  llers respective
-00013340: 6c79 2e0a 2020 2020 2020 2020 2020 2020  ly..            
-00013350: 636f 6d6d 616e 6473 2028 696e 742c 204c  commands (int, L
-00013360: 6973 745b 696e 7420 7c20 6469 6374 5d2c  ist[int | dict],
-00013370: 2064 6963 7429 3a20 6120 7369 6e67 6c65   dict): a single
-00013380: 2063 6f6d 6d61 6e64 5f69 642c 206f 7220   command_id, or 
-00013390: 6120 4c69 7374 206f 6620 636f 6d6d 616e  a List of comman
-000133a0: 645f 6964 7320 2846 6f72 2063 6f6d 6d61  d_ids (For comma
-000133b0: 6e64 7320 7769 7468 206e 6f20 6172 6775  nds with no argu
-000133c0: 6d65 6e74 7329 0a20 2020 2020 2020 2020  ments).         
-000133d0: 2020 2020 2020 204f 5220 6120 6469 6374         OR a dict
-000133e0: 207b 636f 6d6d 616e 645f 6964 3a20 7b61   {command_id: {a
-000133f0: 7267 756d 656e 7431 5f6e 616d 653a 2061  rgument1_name: a
-00013400: 7267 756d 656e 7431 5f76 616c 7565 2c20  rgument1_value, 
-00013410: 6172 6775 6d65 6e74 325f 6e61 6d65 3a20  argument2_name: 
-00013420: 6172 6775 6d65 6e74 325f 7661 6c75 657d  argument2_value}
-00013430: 7d0a 0a20 2020 2020 2020 2052 6574 7572  }..        Retur
-00013440: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-00013450: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-00013460: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-00013470: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-00013480: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
-00013490: 222f 7472 6f75 626c 6573 686f 6f74 696e  "/troubleshootin
-000134a0: 672f 7631 2f64 6576 6963 6573 2f7b 7365  g/v1/devices/{se
-000134b0: 7269 616c 7d22 0a20 2020 2020 2020 2063  rial}".        c
-000134c0: 6f6d 6d61 6e64 7320 3d20 7574 696c 732e  ommands = utils.
-000134d0: 6c69 7374 6966 7928 636f 6d6d 616e 6473  listify(commands
-000134e0: 290a 2020 2020 2020 2020 636d 6473 203d  ).        cmds =
-000134f0: 205b 5d0a 2020 2020 2020 2020 666f 7220   [].        for 
-00013500: 636d 6420 696e 2063 6f6d 6d61 6e64 733a  cmd in commands:
-00013510: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00013520: 6973 696e 7374 616e 6365 2863 6d64 2c20  isinstance(cmd, 
-00013530: 696e 7429 3a0a 2020 2020 2020 2020 2020  int):.          
-00013540: 2020 2020 2020 636d 6473 202b 3d20 5b7b        cmds += [{
-00013550: 2263 6f6d 6d61 6e64 5f69 6422 3a20 636d  "command_id": cm
-00013560: 647d 5d0a 2020 2020 2020 2020 2020 2020  d}].            
-00013570: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
-00013580: 636d 642c 2064 6963 7429 3a0a 2020 2020  cmd, dict):.    
-00013590: 2020 2020 2020 2020 2020 2020 636d 6473              cmds
-000135a0: 202b 3d20 5b0a 2020 2020 2020 2020 2020   += [.          
-000135b0: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
-000135c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000135d0: 2020 2020 2263 6f6d 6d61 6e64 5f69 6422      "command_id"
-000135e0: 3a20 6369 642c 0a20 2020 2020 2020 2020  : cid,.         
-000135f0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00013600: 6172 6775 6d65 6e74 7322 3a20 5b7b 226e  arguments": [{"n
-00013610: 616d 6522 3a20 6b2c 2022 7661 6c75 6522  ame": k, "value"
-00013620: 3a20 767d 2066 6f72 206b 2c20 7620 696e  : v} for k, v in
-00013630: 2063 6d64 5b63 6964 5d2e 6974 656d 7328   cmd[cid].items(
-00013640: 295d 0a20 2020 2020 2020 2020 2020 2020  )].             
-00013650: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
-00013660: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-00013670: 2063 6964 2069 6e20 636d 640a 2020 2020   cid in cmd.    
-00013680: 2020 2020 2020 2020 2020 2020 5d0a 0a20              ].. 
-00013690: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
-000136a0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-000136b0: 2027 6465 7669 6365 5f74 7970 6527 3a20   'device_type': 
-000136c0: 6465 765f 7479 7065 2c0a 2020 2020 2020  dev_type,.      
-000136d0: 2020 2020 2020 2763 6f6d 6d61 6e64 7327        'commands'
-000136e0: 3a20 636d 6473 0a20 2020 2020 2020 207d  : cmds.        }
-000136f0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00013700: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
-00013710: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
-00013720: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
-00013730: 6173 796e 6320 6465 6620 6765 745f 7473  async def get_ts
-00013740: 5f6f 7574 7075 7428 0a20 2020 2020 2020  _output(.       
-00013750: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
-00013760: 6572 6961 6c3a 2073 7472 2c0a 2020 2020  erial: str,.    
-00013770: 2020 2020 7365 7373 696f 6e5f 6964 3a20      session_id: 
-00013780: 696e 742c 0a20 2020 2029 202d 3e20 5265  int,.    ) -> Re
-00013790: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-000137a0: 2222 2247 6574 2054 726f 7562 6c65 7368  """Get Troublesh
-000137b0: 6f6f 7469 6e67 204f 7574 7075 742e 0a0a  ooting Output...
-000137c0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-000137d0: 2020 2020 2020 2020 2020 7365 7269 616c            serial
-000137e0: 2028 7374 7229 3a20 5365 7269 616c 206f   (str): Serial o
-000137f0: 6620 6465 7669 6365 0a20 2020 2020 2020  f device.       
-00013800: 2020 2020 2073 6573 7369 6f6e 5f69 6420       session_id 
-00013810: 2869 6e74 293a 2055 6e69 7175 6520 4944  (int): Unique ID
-00013820: 2066 6f72 2074 726f 7562 6c65 7368 6f6f   for troubleshoo
-00013830: 7469 6e67 2073 6573 7369 6f6e 0a0a 2020  ting session..  
-00013840: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-00013850: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-00013860: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-00013870: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-00013880: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00013890: 2020 2020 7572 6c20 3d20 6622 2f74 726f      url = f"/tro
-000138a0: 7562 6c65 7368 6f6f 7469 6e67 2f76 312f  ubleshooting/v1/
-000138b0: 6465 7669 6365 732f 7b73 6572 6961 6c7d  devices/{serial}
-000138c0: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
-000138d0: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-000138e0: 2020 2773 6573 7369 6f6e 5f69 6427 3a20    'session_id': 
-000138f0: 7365 7373 696f 6e5f 6964 0a20 2020 2020  session_id.     
-00013900: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-00013910: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00013920: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-00013930: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
-00013940: 6e63 2064 6566 2063 6c65 6172 5f74 735f  nc def clear_ts_
-00013950: 7365 7373 696f 6e28 0a20 2020 2020 2020  session(.       
-00013960: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
-00013970: 6572 6961 6c3a 2073 7472 2c0a 2020 2020  erial: str,.    
-00013980: 2020 2020 7365 7373 696f 6e5f 6964 3a20      session_id: 
-00013990: 696e 742c 0a20 2020 2029 202d 3e20 5265  int,.    ) -> Re
-000139a0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-000139b0: 2222 2243 6c65 6172 2054 726f 7562 6c65  """Clear Trouble
-000139c0: 7368 6f6f 7469 6e67 2053 6573 7369 6f6e  shooting Session
-000139d0: 2061 6e64 206f 7574 7075 7420 666f 7220   and output for 
-000139e0: 6465 7669 6365 2e0a 0a20 2020 2020 2020  device...       
-000139f0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-00013a00: 2020 2073 6572 6961 6c20 2873 7472 293a     serial (str):
-00013a10: 2053 6572 6961 6c20 6f66 2064 6576 6963   Serial of devic
-00013a20: 650a 2020 2020 2020 2020 2020 2020 7365  e.            se
-00013a30: 7373 696f 6e5f 6964 2028 696e 7429 3a20  ssion_id (int): 
-00013a40: 556e 6971 7565 2049 4420 666f 7220 6561  Unique ID for ea
-00013a50: 6368 2074 726f 7562 6c65 7368 6f6f 7469  ch troubleshooti
-00013a60: 6e67 2073 6573 7369 6f6e 0a0a 2020 2020  ng session..    
-00013a70: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00013a80: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00013a90: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00013aa0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-00013ab0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00013ac0: 2020 7572 6c20 3d20 6622 2f74 726f 7562    url = f"/troub
-00013ad0: 6c65 7368 6f6f 7469 6e67 2f76 312f 6465  leshooting/v1/de
-00013ae0: 7669 6365 732f 7b73 6572 6961 6c7d 220a  vices/{serial}".
-00013af0: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-00013b00: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-00013b10: 2773 6573 7369 6f6e 5f69 6427 3a20 7365  'session_id': se
-00013b20: 7373 696f 6e5f 6964 0a20 2020 2020 2020  ssion_id.       
-00013b30: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
-00013b40: 726e 2061 7761 6974 2073 656c 662e 6465  rn await self.de
-00013b50: 6c65 7465 2875 726c 2c20 7061 7261 6d73  lete(url, params
-00013b60: 3d70 6172 616d 7329 0a0a 2020 2020 2320  =params)..    # 
-00013b70: 4150 492d 464c 4157 2072 6574 7572 6e73  API-FLAW returns
-00013b80: 2034 3034 2069 6620 7468 6572 6520 6172   404 if there ar
-00013b90: 6520 6e6f 2073 6573 7369 6f6e 7320 7275  e no sessions ru
-00013ba0: 6e6e 696e 670a 2020 2020 6173 796e 6320  nning.    async 
-00013bb0: 6465 6620 6765 745f 7473 5f73 6573 7369  def get_ts_sessi
-00013bc0: 6f6e 5f69 6428 0a20 2020 2020 2020 2073  on_id(.        s
-00013bd0: 656c 662c 0a20 2020 2020 2020 2073 6572  elf,.        ser
-00013be0: 6961 6c3a 2073 7472 2c0a 2020 2020 2920  ial: str,.    ) 
-00013bf0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00013c00: 2020 2020 2022 2222 4765 7420 5472 6f75       """Get Trou
-00013c10: 626c 6573 686f 6f74 696e 6720 5365 7373  bleshooting Sess
-00013c20: 696f 6e20 4944 2066 6f72 2061 2064 6576  ion ID for a dev
-00013c30: 6963 652e 0a0a 2020 2020 2020 2020 4172  ice...        Ar
-00013c40: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00013c50: 7365 7269 616c 2028 7374 7229 3a20 5365  serial (str): Se
-00013c60: 7269 616c 206f 6620 6465 7669 6365 0a0a  rial of device..
-00013c70: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00013c80: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00013c90: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00013ca0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00013cb0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00013cc0: 2020 2020 2020 7572 6c20 3d20 6622 2f74        url = f"/t
-00013cd0: 726f 7562 6c65 7368 6f6f 7469 6e67 2f76  roubleshooting/v
-00013ce0: 312f 6465 7669 6365 732f 7b73 6572 6961  1/devices/{seria
-00013cf0: 6c7d 2f73 6573 7369 6f6e 220a 0a20 2020  l}/session"..   
-00013d00: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00013d10: 7420 7365 6c66 2e67 6574 2875 726c 290a  t self.get(url).
-00013d20: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-00013d30: 6574 5f73 6477 616e 5f64 7073 5f70 6f6c  et_sdwan_dps_pol
-00013d40: 6963 795f 636f 6d70 6c69 616e 6365 2873  icy_compliance(s
-00013d50: 656c 662c 2074 696d 655f 6672 616d 653a  elf, time_frame:
-00013d60: 2073 7472 203d 2022 6c61 7374 5f77 6565   str = "last_wee
-00013d70: 6b22 2c20 6f72 6465 723a 2073 7472 203d  k", order: str =
-00013d80: 2022 6265 7374 2229 202d 3e20 5265 7370   "best") -> Resp
-00013d90: 6f6e 7365 3a0a 2020 2020 2020 2020 7572  onse:.        ur
-00013da0: 6c20 3d20 222f 7364 7761 6e2d 6d6f 6e2d  l = "/sdwan-mon-
-00013db0: 6170 692f 6578 7465 726e 616c 2f6e 6f63  api/external/noc
-00013dc0: 2f72 6570 6f72 7473 2f77 616e 2f70 6f6c  /reports/wan/pol
-00013dd0: 6963 792d 636f 6d70 6c69 616e 6365 220a  icy-compliance".
-00013de0: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
-00013df0: 207b 2270 6572 696f 6422 3a20 7469 6d65   {"period": time
-00013e00: 5f66 7261 6d65 2c20 2272 6573 756c 745f  _frame, "result_
-00013e10: 6f72 6465 7222 3a20 6f72 6465 722c 2022  order": order, "
-00013e20: 636f 756e 7422 3a20 3235 307d 0a20 2020  count": 250}.   
-00013e30: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00013e40: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
-00013e50: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
-00013e60: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
-00013e70: 745f 6170 5f6c 6c64 705f 6e65 6967 6862  t_ap_lldp_neighb
-00013e80: 6f72 2873 656c 662c 2064 6576 6963 655f  or(self, device_
-00013e90: 7365 7269 616c 3a20 7374 7229 202d 3e20  serial: str) -> 
-00013ea0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00013eb0: 2020 2222 2247 6574 206e 6569 6768 626f    """Get neighbo
-00013ec0: 7220 6465 7461 696c 7320 7265 706f 7274  r details report
-00013ed0: 6564 2062 7920 4150 2076 6961 204c 4c44  ed by AP via LLD
-00013ee0: 502e 0a0a 2020 2020 2020 2020 4172 6773  P...        Args
-00013ef0: 3a0a 2020 2020 2020 2020 2020 2020 6465  :.            de
-00013f00: 7669 6365 5f73 6572 6961 6c20 2873 7472  vice_serial (str
-00013f10: 293a 2044 6576 6963 6520 7365 7269 616c  ): Device serial
-00013f20: 206e 756d 6265 722e 0a0a 2020 2020 2020   number...      
-00013f30: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00013f40: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00013f50: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00013f60: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-00013f70: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00013f80: 7572 6c20 3d20 6622 2f74 6f70 6f6c 6f67  url = f"/topolog
-00013f90: 795f 6578 7465 726e 616c 5f61 7069 2f61  y_external_api/a
-00013fa0: 704e 6569 6768 626f 7273 2f7b 6465 7669  pNeighbors/{devi
-00013fb0: 6365 5f73 6572 6961 6c7d 220a 0a20 2020  ce_serial}"..   
-00013fc0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00013fd0: 7420 7365 6c66 2e67 6574 2875 726c 290a  t self.get(url).
-00013fe0: 0a20 2020 2061 7379 6e63 2064 6566 2064  .    async def d
-00013ff0: 6f5f 6d75 6c74 695f 6772 6f75 705f 736e  o_multi_group_sn
-00014000: 6170 7368 6f74 280a 2020 2020 2020 2020  apshot(.        
-00014010: 7365 6c66 2c0a 2020 2020 2020 2020 6261  self,.        ba
-00014020: 636b 7570 5f6e 616d 653a 2073 7472 2c0a  ckup_name: str,.
-00014030: 2020 2020 2020 2020 696e 636c 7564 655f          include_
-00014040: 6772 6f75 7073 3a20 556e 696f 6e5b 6c69  groups: Union[li
-00014050: 7374 2c20 4c69 7374 5b73 7472 5d5d 203d  st, List[str]] =
-00014060: 204e 6f6e 652c 0a20 2020 2020 2020 2065   None,.        e
-00014070: 7863 6c75 6465 5f67 726f 7570 733a 2055  xclude_groups: U
-00014080: 6e69 6f6e 5b6c 6973 742c 204c 6973 745b  nion[list, List[
-00014090: 7374 725d 5d20 3d20 4e6f 6e65 2c0a 2020  str]] = None,.  
-000140a0: 2020 2020 2020 646f 5f6e 6f74 5f64 656c        do_not_del
-000140b0: 6574 653a 2062 6f6f 6c20 3d20 4661 6c73  ete: bool = Fals
-000140c0: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
-000140d0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-000140e0: 2220 2243 7265 6174 6520 6e65 7720 636f  " "Create new co
-000140f0: 6e66 6967 7572 6174 696f 6e20 6261 636b  nfiguration back
-00014100: 7570 2066 6f72 206d 756c 7469 706c 6520  up for multiple 
-00014110: 6772 6f75 7073 2e22 0a0a 2020 2020 2020  groups."..      
-00014120: 2020 4569 7468 6572 2069 6e63 6c75 6465    Either include
-00014130: 5f67 726f 7570 7320 6f72 2065 7863 6c75  _groups or exclu
-00014140: 6465 5f67 726f 7570 7320 7368 6f75 6c64  de_groups should
-00014150: 2062 6520 7072 6f76 6964 6564 2c20 6275   be provided, bu
-00014160: 7420 6e6f 7420 626f 7468 2e0a 0a20 2020  t not both...   
-00014170: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00014180: 2020 2020 2020 2062 6163 6b75 705f 6e61         backup_na
-00014190: 6d65 2028 7374 7229 3a20 4e61 6d65 206f  me (str): Name o
-000141a0: 6620 4261 636b 7570 0a20 2020 2020 2020  f Backup.       
-000141b0: 2020 2020 2069 6e63 6c75 6465 5f67 726f       include_gro
-000141c0: 7570 7320 2855 6e69 6f6e 5b6c 6973 742c  ups (Union[list,
-000141d0: 204c 6973 745b 7374 725d 5d2c 206f 7074   List[str]], opt
-000141e0: 696f 6e61 6c29 3a20 4772 6f75 7073 2074  ional): Groups t
-000141f0: 6f20 696e 636c 7564 6520 696e 2042 6163  o include in Bac
-00014200: 6b75 702e 2044 6566 6175 6c74 7320 746f  kup. Defaults to
-00014210: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00014220: 2020 2065 7863 6c75 6465 5f67 726f 7570     exclude_group
-00014230: 7320 2855 6e69 6f6e 5b6c 6973 742c 204c  s (Union[list, L
-00014240: 6973 745b 7374 725d 5d2c 206f 7074 696f  ist[str]], optio
-00014250: 6e61 6c29 3a20 4772 6f75 7073 2074 6f20  nal): Groups to 
-00014260: 4578 636c 7564 6520 696e 2042 6163 6b75  Exclude in Backu
-00014270: 702e 2044 6566 6175 6c74 7320 746f 204e  p. Defaults to N
-00014280: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
-00014290: 2064 6f5f 6e6f 745f 6465 6c65 7465 2028   do_not_delete (
-000142a0: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-000142b0: 2046 6c61 6720 746f 2072 6570 7265 7365   Flag to represe
-000142c0: 6e74 2069 6620 7468 6520 736e 6170 7368  nt if the snapsh
-000142d0: 6f74 2063 616e 2062 6520 6465 6c65 7465  ot can be delete
-000142e0: 6420 6175 746f 6d61 7469 6361 6c6c 790a  d automatically.
-000142f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014300: 6279 2073 7973 7465 6d20 7768 656e 2063  by system when c
-00014310: 7265 6174 696e 6720 6e65 7720 736e 6170  reating new snap
-00014320: 7368 6f74 206f 7220 6e6f 742e 2044 6566  shot or not. Def
-00014330: 6175 6c74 7320 746f 2046 616c 7365 2e0a  aults to False..
-00014340: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00014350: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-00014360: 6573 706f 6e73 653a 2052 6573 706f 6e73  esponse: Respons
-00014370: 6520 4f62 6a65 6374 0a20 2020 2020 2020  e Object.       
-00014380: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-00014390: 203d 2022 2f63 6f6e 6669 6775 7261 7469   = "/configurati
-000143a0: 6f6e 2f76 312f 6772 6f75 7073 2f73 6e61  on/v1/groups/sna
-000143b0: 7073 686f 742f 6261 636b 7570 7322 0a20  pshot/backups". 
-000143c0: 2020 2020 2020 2069 6e63 6c75 6465 5f67         include_g
-000143d0: 726f 7570 7320 3d20 7574 696c 732e 6c69  roups = utils.li
-000143e0: 7374 6966 7928 696e 636c 7564 655f 6772  stify(include_gr
-000143f0: 6f75 7073 290a 2020 2020 2020 2020 6578  oups).        ex
-00014400: 636c 7564 655f 6772 6f75 7073 203d 2075  clude_groups = u
-00014410: 7469 6c73 2e6c 6973 7469 6679 2865 7863  tils.listify(exc
-00014420: 6c75 6465 5f67 726f 7570 7329 0a20 2020  lude_groups).   
-00014430: 2020 2020 2070 6179 6c6f 6164 203d 207b       payload = {
-00014440: 0a20 2020 2020 2020 2020 2020 2022 6261  .            "ba
-00014450: 636b 7570 5f6e 616d 6522 3a20 6261 636b  ckup_name": back
-00014460: 7570 5f6e 616d 652c 0a20 2020 2020 2020  up_name,.       
-00014470: 2020 2020 2022 646f 5f6e 6f74 5f64 656c       "do_not_del
-00014480: 6574 6522 3a20 646f 5f6e 6f74 5f64 656c  ete": do_not_del
-00014490: 6574 652c 0a20 2020 2020 2020 2020 2020  ete,.           
-000144a0: 2022 696e 636c 7564 655f 6772 6f75 7073   "include_groups
-000144b0: 223a 2069 6e63 6c75 6465 5f67 726f 7570  ": include_group
-000144c0: 732c 0a20 2020 2020 2020 2020 2020 2022  s,.            "
-000144d0: 6578 636c 7564 655f 6772 6f75 7073 223a  exclude_groups":
-000144e0: 2065 7863 6c75 6465 5f67 726f 7570 732c   exclude_groups,
-000144f0: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
-00014500: 2020 2070 6179 6c6f 6164 203d 2073 656c     payload = sel
-00014510: 662e 7374 7269 705f 6e6f 6e65 2870 6179  f.strip_none(pay
-00014520: 6c6f 6164 290a 2020 2020 2020 2020 7265  load).        re
-00014530: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00014540: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-00014550: 6174 613d 7061 796c 6f61 6429 0a0a 2020  ata=payload)..  
-00014560: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-00014570: 736e 6170 7368 6f74 735f 6279 5f67 726f  snapshots_by_gro
-00014580: 7570 2873 656c 662c 2067 726f 7570 3a20  up(self, group: 
-00014590: 7374 7229 3a0a 2020 2020 2020 2020 7572  str):.        ur
-000145a0: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
-000145b0: 7469 6f6e 2f76 312f 6772 6f75 7073 2f7b  tion/v1/groups/{
-000145c0: 6772 6f75 707d 2f73 6e61 7073 686f 7473  group}/snapshots
-000145d0: 220a 2020 2020 2020 2020 7265 7475 726e  ".        return
-000145e0: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-000145f0: 7572 6c29 0a0a 2020 2020 6173 796e 6320  url)..    async 
-00014600: 6465 6620 6765 745f 6777 5f74 756e 6e65  def get_gw_tunne
-00014610: 6c73 280a 2020 2020 2020 2020 7365 6c66  ls(.        self
-00014620: 2c20 7365 7269 616c 3a20 7374 722c 0a20  , serial: str,. 
-00014630: 2020 2020 2020 2074 696d 6572 616e 6765         timerange
-00014640: 3a20 7374 7220 3d20 2231 4d22 2c0a 2020  : str = "1M",.  
-00014650: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
-00014660: 203d 2032 3530 2c0a 2020 2020 2020 2020   = 250,.        
-00014670: 6f66 6673 6574 3a20 696e 7420 3d20 300a  offset: int = 0.
-00014680: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00014690: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
-000146a0: 7420 6761 7465 7761 7920 5570 6c69 6e6b  t gateway Uplink
-000146b0: 2074 756e 6e65 6c20 6465 7461 696c 732e   tunnel details.
-000146c0: 0a0a 2020 2020 2020 2020 5573 6564 2062  ..        Used b
-000146d0: 7920 7768 5f70 726f 7879 2c20 6375 7272  y wh_proxy, curr
-000146e0: 656e 746c 7920 6e6f 7420 7573 6564 2062  ently not used b
-000146f0: 7920 6120 636f 6d6d 616e 6420 7769 6c6c  y a command will
-00014700: 2062 6520 696e 2073 686f 7720 6761 7465   be in show gate
-00014710: 7761 7920 7475 6e6e 656c 730a 0a20 2020  way tunnels..   
-00014720: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00014730: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
-00014740: 7472 293a 2053 6572 6961 6c20 6e75 6d62  tr): Serial numb
-00014750: 6572 206f 6620 6d6f 6269 6c69 7479 2063  er of mobility c
-00014760: 6f6e 7472 6f6c 6c65 7220 746f 2062 6520  ontroller to be 
-00014770: 7175 6572 6965 640a 2020 2020 2020 2020  queried.        
-00014780: 2020 2020 7469 6d65 7261 6e67 6520 2873      timerange (s
-00014790: 7472 293a 2054 696d 6520 7261 6e67 6520  tr): Time range 
-000147a0: 666f 7220 7475 6e6e 656c 2073 7461 7473  for tunnel stats
-000147b0: 2069 6e66 6f72 6d61 7469 6f6e 2e0a 2020   information..  
-000147c0: 2020 2020 2020 2020 2020 2020 2020 3348                3H
-000147d0: 203d 2033 2048 6f75 7273 2c20 3144 203d   = 3 Hours, 1D =
-000147e0: 2031 2044 6179 2c20 3157 203d 2031 2057   1 Day, 1W = 1 W
-000147f0: 6565 6b2c 2031 4d20 3d20 314d 6f6e 7468  eek, 1M = 1Month
-00014800: 2c20 334d 203d 2033 4d6f 6e74 6873 2e0a  , 3M = 3Months..
-00014810: 2020 2020 2020 2020 2020 2020 6c69 6d69              limi
-00014820: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
-00014830: 293a 2050 6167 696e 6174 696f 6e20 6c69  ): Pagination li
-00014840: 6d69 742e 204d 6178 3a20 3130 3030 2044  mit. Max: 1000 D
-00014850: 6566 6175 6c74 7320 746f 2032 3530 2e0a  efaults to 250..
-00014860: 2020 2020 2020 2020 2020 2020 6f66 6673              offs
-00014870: 6574 2028 696e 742c 206f 7074 696f 6e61  et (int, optiona
-00014880: 6c29 3a20 5061 6769 6e61 7469 6f6e 206f  l): Pagination o
-00014890: 6666 7365 7420 4465 6661 756c 7473 2074  ffset Defaults t
-000148a0: 6f20 302e 0a0a 2020 2020 2020 2020 5265  o 0...        Re
-000148b0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-000148c0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-000148d0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-000148e0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-000148f0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00014900: 3d20 6622 2f6d 6f6e 6974 6f72 696e 672f  = f"/monitoring/
-00014910: 7631 2f67 6174 6577 6179 732f 7b73 6572  v1/gateways/{ser
-00014920: 6961 6c7d 2f74 756e 6e65 6c73 220a 0a20  ial}/tunnels".. 
-00014930: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-00014940: 7b0a 2020 2020 2020 2020 2020 2020 2274  {.            "t
-00014950: 696d 6572 616e 6765 223a 2074 696d 6572  imerange": timer
-00014960: 616e 6765 2c0a 2020 2020 2020 2020 2020  ange,.          
-00014970: 2020 226f 6666 7365 7422 3a20 6f66 6673    "offset": offs
-00014980: 6574 2c0a 2020 2020 2020 2020 2020 2020  et,.            
-00014990: 226c 696d 6974 223a 206c 696d 6974 0a20  "limit": limit. 
-000149a0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-000149b0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-000149c0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-000149d0: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-000149e0: 2023 2041 5049 2d46 4c41 5720 6d61 7820   # API-FLAW max 
-000149f0: 6c69 6d69 7420 3130 3020 656e 666f 7263  limit 100 enforc
-00014a00: 6564 2069 6620 796f 7520 7072 6f76 6964  ed if you provid
-00014a10: 6520 7468 6520 6c69 6d69 7420 7061 7261  e the limit para
-00014a20: 6d65 7465 722c 206f 7468 6572 7769 7365  meter, otherwise
-00014a30: 206e 6f20 6c69 6d69 743f 2072 6574 7572   no limit? retur
-00014a40: 6e65 6420 3831 3120 772f 206e 6f20 7061  ned 811 w/ no pa
-00014a50: 7261 6d20 7072 6f76 6964 6564 0a20 2020  ram provided.   
-00014a60: 2023 2041 5049 2d46 4c41 5720 646f 6573   # API-FLAW does
-00014a70: 206e 6f74 2072 6574 7572 6e20 616c 6c20   not return all 
-00014a80: 6c6f 6773 2061 7661 696c 6162 6c65 2069  logs available i
-00014a90: 6e20 5549 2077 7466 3f3f 0a20 2020 2061  n UI wtf??.    a
-00014aa0: 7379 6e63 2064 6566 2067 6574 5f61 7564  sync def get_aud
-00014ab0: 6974 5f6c 6f67 7328 0a20 2020 2020 2020  it_logs(.       
-00014ac0: 2073 656c 662c 0a20 2020 2020 2020 206c   self,.        l
-00014ad0: 6f67 5f69 643a 2073 7472 203d 204e 6f6e  og_id: str = Non
-00014ae0: 652c 0a20 2020 2020 2020 2075 7365 726e  e,.        usern
-00014af0: 616d 653a 2073 7472 203d 204e 6f6e 652c  ame: str = None,
-00014b00: 0a20 2020 2020 2020 2073 7461 7274 5f74  .        start_t
-00014b10: 696d 653a 2069 6e74 203d 204e 6f6e 652c  ime: int = None,
-00014b20: 0a20 2020 2020 2020 2065 6e64 5f74 696d  .        end_tim
-00014b30: 653a 2069 6e74 203d 204e 6f6e 652c 0a20  e: int = None,. 
-00014b40: 2020 2020 2020 2064 6573 6372 6970 7469         descripti
-00014b50: 6f6e 3a20 7374 7220 3d20 4e6f 6e65 2c0a  on: str = None,.
-00014b60: 2020 2020 2020 2020 7461 7267 6574 3a20          target: 
-00014b70: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00014b80: 2020 2020 636c 6173 7369 6669 6361 7469      classificati
-00014b90: 6f6e 3a20 7374 7220 3d20 4e6f 6e65 2c0a  on: str = None,.
-00014ba0: 2020 2020 2020 2020 6375 7374 6f6d 6572          customer
-00014bb0: 5f6e 616d 653a 2073 7472 203d 204e 6f6e  _name: str = Non
-00014bc0: 652c 0a20 2020 2020 2020 2069 705f 6164  e,.        ip_ad
-00014bd0: 6472 6573 733a 2073 7472 203d 204e 6f6e  dress: str = Non
-00014be0: 652c 0a20 2020 2020 2020 2061 7070 5f69  e,.        app_i
-00014bf0: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
-00014c00: 2020 2020 2020 206f 6666 7365 743a 2069         offset: i
-00014c10: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
-00014c20: 6c69 6d69 743a 2069 6e74 203d 2031 3030  limit: int = 100
-00014c30: 2c0a 2020 2020 2020 2020 636f 756e 743a  ,.        count:
-00014c40: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
-00014c50: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-00014c60: 2020 2020 2020 2020 2222 2247 6574 2061          """Get a
-00014c70: 6c6c 2061 7564 6974 206c 6f67 732e 0a0a  ll audit logs...
-00014c80: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-00014c90: 2020 2020 2020 2020 2020 6c6f 675f 6964            log_id
-00014ca0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00014cb0: 3a20 5468 6520 6964 206f 6620 7468 6520  : The id of the 
-00014cc0: 6c6f 6720 746f 2072 6574 7572 6e20 6465  log to return de
-00014cd0: 7461 696c 7320 666f 722e 2044 6566 6175  tails for. Defau
-00014ce0: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
-00014cf0: 2020 2020 2020 2020 2075 7365 726e 616d           usernam
-00014d00: 6520 2873 7472 2c20 6f70 7469 6f6e 616c  e (str, optional
-00014d10: 293a 2046 696c 7465 7220 6175 6469 7420  ): Filter audit 
-00014d20: 6c6f 6773 2062 7920 5573 6572 204e 616d  logs by User Nam
-00014d30: 650a 2020 2020 2020 2020 2020 2020 7374  e.            st
-00014d40: 6172 745f 7469 6d65 2028 696e 742c 206f  art_time (int, o
-00014d50: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-00014d60: 2061 7564 6974 206c 6f67 7320 6279 2054   audit logs by T
-00014d70: 696d 6520 5261 6e67 652e 2053 7461 7274  ime Range. Start
-00014d80: 2074 696d 6520 6f66 2074 6865 2061 7564   time of the aud
-00014d90: 6974 0a20 2020 2020 2020 2020 2020 2020  it.             
-00014da0: 2020 206c 6f67 7320 7368 6f75 6c64 2062     logs should b
-00014db0: 6520 7072 6f76 6964 6564 2069 6e20 6570  e provided in ep
-00014dc0: 6f63 6820 7365 636f 6e64 730a 2020 2020  och seconds.    
-00014dd0: 2020 2020 2020 2020 656e 645f 7469 6d65          end_time
-00014de0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00014df0: 3a20 4669 6c74 6572 2061 7564 6974 206c  : Filter audit l
-00014e00: 6f67 7320 6279 2054 696d 6520 5261 6e67  ogs by Time Rang
-00014e10: 652e 2045 6e64 2074 696d 6520 6f66 2074  e. End time of t
-00014e20: 6865 2061 7564 6974 206c 6f67 730a 2020  he audit logs.  
-00014e30: 2020 2020 2020 2020 2020 2020 2020 7368                sh
-00014e40: 6f75 6c64 2062 6520 7072 6f76 6964 6564  ould be provided
-00014e50: 2069 6e20 6570 6f63 6820 7365 636f 6e64   in epoch second
-00014e60: 730a 2020 2020 2020 2020 2020 2020 6465  s.            de
-00014e70: 7363 7269 7074 696f 6e20 2873 7472 2c20  scription (str, 
-00014e80: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-00014e90: 7220 6175 6469 7420 6c6f 6773 2062 7920  r audit logs by 
-00014ea0: 4465 7363 7269 7074 696f 6e0a 2020 2020  Description.    
-00014eb0: 2020 2020 2020 2020 7461 7267 6574 2028          target (
-00014ec0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00014ed0: 4669 6c74 6572 2061 7564 6974 206c 6f67  Filter audit log
-00014ee0: 7320 6279 2074 6172 6765 7420 2873 6572  s by target (ser
-00014ef0: 6961 6c20 6e75 6d62 6572 292e 0a20 2020  ial number)..   
-00014f00: 2020 2020 2020 2020 2063 6c61 7373 6966           classif
-00014f10: 6963 6174 696f 6e20 2873 7472 2c20 6f70  ication (str, op
-00014f20: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00014f30: 6175 6469 7420 6c6f 6773 2062 7920 436c  audit logs by Cl
-00014f40: 6173 7369 6669 6361 7469 6f6e 0a20 2020  assification.   
-00014f50: 2020 2020 2020 2020 2063 7573 746f 6d65           custome
-00014f60: 725f 6e61 6d65 2028 7374 722c 206f 7074  r_name (str, opt
-00014f70: 696f 6e61 6c29 3a20 4669 6c74 6572 2061  ional): Filter a
-00014f80: 7564 6974 206c 6f67 7320 6279 2043 7573  udit logs by Cus
-00014f90: 746f 6d65 7220 4e61 6d65 0a20 2020 2020  tomer Name.     
-00014fa0: 2020 2020 2020 2069 705f 6164 6472 6573         ip_addres
-00014fb0: 7320 2873 7472 2c20 6f70 7469 6f6e 616c  s (str, optional
-00014fc0: 293a 2046 696c 7465 7220 6175 6469 7420  ): Filter audit 
-00014fd0: 6c6f 6773 2062 7920 4950 2041 6464 7265  logs by IP Addre
-00014fe0: 7373 0a20 2020 2020 2020 2020 2020 2061  ss.            a
-00014ff0: 7070 5f69 6420 2873 7472 2c20 6f70 7469  pp_id (str, opti
-00015000: 6f6e 616c 293a 2046 696c 7465 7220 6175  onal): Filter au
-00015010: 6469 7420 6c6f 6773 2062 7920 6170 705f  dit logs by app_
-00015020: 6964 0a20 2020 2020 2020 2020 2020 206f  id.            o
-00015030: 6666 7365 7420 2869 6e74 2c20 6f70 7469  ffset (int, opti
-00015040: 6f6e 616c 293a 204e 756d 6265 7220 6f66  onal): Number of
-00015050: 2069 7465 6d73 2074 6f20 6265 2073 6b69   items to be ski
-00015060: 7070 6564 2062 6566 6f72 6520 7265 7475  pped before retu
-00015070: 726e 696e 6720 7468 6520 6461 7461 2e0a  rning the data..
-00015080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015090: 4465 6661 756c 7420 746f 2030 2e0a 2020  Default to 0..  
-000150a0: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
-000150b0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-000150c0: 204d 6178 696d 756d 206e 756d 6265 7220   Maximum number 
-000150d0: 6f66 2061 7564 6974 2065 7665 6e74 7320  of audit events 
-000150e0: 746f 2062 6520 7265 7475 726e 6564 206d  to be returned m
-000150f0: 6178 3a20 3130 300a 2020 2020 2020 2020  ax: 100.        
-00015100: 2020 2020 2020 2020 4465 6661 756c 7473          Defaults
-00015110: 2074 6f20 3130 302e 0a20 2020 2020 2020   to 100..       
-00015120: 2020 2020 2063 6f75 6e74 3a20 4f6e 6c79       count: Only
-00015130: 2072 6574 7572 6e20 3c63 6f75 6e74 3e20   return <count> 
-00015140: 7265 7375 6c74 732e 0a0a 2020 2020 2020  results...      
-00015150: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00015160: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00015170: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00015180: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-00015190: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-000151a0: 7572 6c20 3d20 222f 706c 6174 666f 726d  url = "/platform
-000151b0: 2f61 7564 6974 6c6f 6773 2f76 312f 6c6f  /auditlogs/v1/lo
-000151c0: 6773 220a 0a20 2020 2020 2020 2070 6172  gs"..        par
-000151d0: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
-000151e0: 2020 2020 2275 7365 726e 616d 6522 3a20      "username": 
-000151f0: 7573 6572 6e61 6d65 2c0a 2020 2020 2020  username,.      
-00015200: 2020 2020 2020 2273 7461 7274 5f74 696d        "start_tim
-00015210: 6522 3a20 7374 6172 745f 7469 6d65 2c0a  e": start_time,.
-00015220: 2020 2020 2020 2020 2020 2020 2265 6e64              "end
-00015230: 5f74 696d 6522 3a20 656e 645f 7469 6d65  _time": end_time
-00015240: 2c0a 2020 2020 2020 2020 2020 2020 2264  ,.            "d
-00015250: 6573 6372 6970 7469 6f6e 223a 2064 6573  escription": des
-00015260: 6372 6970 7469 6f6e 2c0a 2020 2020 2020  cription,.      
-00015270: 2020 2020 2020 2274 6172 6765 7422 3a20        "target": 
-00015280: 7461 7267 6574 2c0a 2020 2020 2020 2020  target,.        
-00015290: 2020 2020 2263 6c61 7373 6966 6963 6174      "classificat
-000152a0: 696f 6e22 3a20 636c 6173 7369 6669 6361  ion": classifica
-000152b0: 7469 6f6e 2c0a 2020 2020 2020 2020 2020  tion,.          
-000152c0: 2020 2263 7573 746f 6d65 725f 6e61 6d65    "customer_name
-000152d0: 223a 2063 7573 746f 6d65 725f 6e61 6d65  ": customer_name
-000152e0: 2c0a 2020 2020 2020 2020 2020 2020 2269  ,.            "i
-000152f0: 705f 6164 6472 6573 7322 3a20 6970 5f61  p_address": ip_a
-00015300: 6464 7265 7373 2c0a 2020 2020 2020 2020  ddress,.        
-00015310: 2020 2020 2261 7070 5f69 6422 3a20 6170      "app_id": ap
-00015320: 705f 6964 2069 6620 6e6f 7420 6861 7361  p_id if not hasa
-00015330: 7474 7228 6170 705f 6964 2c20 2276 616c  ttr(app_id, "val
-00015340: 7565 2229 2065 6c73 6520 6170 705f 6964  ue") else app_id
-00015350: 2e76 616c 7565 2c0a 2020 2020 2020 2020  .value,.        
-00015360: 2020 2020 226f 6666 7365 7422 3a20 6f66      "offset": of
-00015370: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
-00015380: 2020 226c 696d 6974 223a 206c 696d 6974    "limit": limit
-00015390: 2069 6620 6e6f 7420 636f 756e 7420 6f72   if not count or
-000153a0: 206c 696d 6974 203c 2063 6f75 6e74 2065   limit < count e
-000153b0: 6c73 6520 636f 756e 742c 0a20 2020 2020  lse count,.     
-000153c0: 2020 207d 0a0a 2020 2020 2020 2020 6966     }..        if
-000153d0: 206c 6f67 5f69 643a 0a20 2020 2020 2020   log_id:.       
-000153e0: 2020 2020 2075 726c 203d 2066 227b 7572       url = f"{ur
-000153f0: 6c7d 2f7b 6c6f 675f 6964 7d22 0a20 2020  l}/{log_id}".   
-00015400: 2020 2020 2020 2020 2070 6172 616d 7320           params 
-00015410: 3d20 7b7d 0a0a 2020 2020 2020 2020 7265  = {}..        re
-00015420: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00015430: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-00015440: 7061 7261 6d73 2c20 636f 756e 743d 636f  params, count=co
-00015450: 756e 7429 0a0a 2020 2020 6173 796e 6320  unt)..    async 
-00015460: 6465 6620 6765 745f 6175 6469 745f 6c6f  def get_audit_lo
-00015470: 6773 5f65 7665 6e74 7328 0a20 2020 2020  gs_events(.     
-00015480: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00015490: 2067 726f 7570 5f6e 616d 653a 2073 7472   group_name: str
-000154a0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-000154b0: 2064 6576 6963 655f 6964 3a20 7374 7220   device_id: str 
-000154c0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-000154d0: 636c 6173 7369 6669 6361 7469 6f6e 3a20  classification: 
-000154e0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-000154f0: 2020 2020 7374 6172 745f 7469 6d65 3a20      start_time: 
-00015500: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
-00015510: 2020 2020 656e 645f 7469 6d65 3a20 696e      end_time: in
-00015520: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
-00015530: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
-00015540: 302c 0a20 2020 2020 2020 206c 696d 6974  0,.        limit
-00015550: 3a20 696e 7420 3d20 3130 302c 0a20 2020  : int = 100,.   
-00015560: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-00015570: 2020 2020 2020 2020 2222 2247 6574 2061          """Get a
-00015580: 6c6c 2061 7564 6974 2065 7665 6e74 7320  ll audit events 
-00015590: 666f 7220 616c 6c20 6772 6f75 7073 2e0a  for all groups..
-000155a0: 0a20 2020 2020 2020 2043 7572 7265 6e74  .        Current
-000155b0: 6c79 206e 6f74 2075 7365 6420 666f 7220  ly not used for 
-000155c0: 616e 7920 636f 6d6d 616e 6473 2061 6464  any commands add
-000155d0: 6564 2074 6f20 636f 6d70 6172 6520 6f75  ed to compare ou
-000155e0: 7470 7574 2074 6f20 2e2e 2e2f 706c 6174  tput to .../plat
-000155f0: 666f 726d 2f2e 2e2e 2070 6174 6820 2867  form/... path (g
-00015600: 6574 5f61 7564 6974 5f6c 6f67 7329 0a0a  et_audit_logs)..
-00015610: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-00015620: 2020 2020 2020 2020 2020 6772 6f75 705f            group_
-00015630: 6e61 6d65 2028 7374 722c 206f 7074 696f  name (str, optio
-00015640: 6e61 6c29 3a20 4669 6c74 6572 2061 7564  nal): Filter aud
-00015650: 6974 2065 7665 6e74 7320 6279 2047 726f  it events by Gro
-00015660: 7570 204e 616d 650a 2020 2020 2020 2020  up Name.        
-00015670: 2020 2020 6465 7669 6365 5f69 6420 2873      device_id (s
-00015680: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-00015690: 696c 7465 7220 6175 6469 7420 6576 656e  ilter audit even
-000156a0: 7473 2062 7920 5461 7267 6574 202f 2044  ts by Target / D
-000156b0: 6576 6963 6520 4944 2e20 4465 7669 6365  evice ID. Device
-000156c0: 2049 4420 666f 7220 4150 0a20 2020 2020   ID for AP.     
-000156d0: 2020 2020 2020 2020 2020 2069 7320 5643             is VC
-000156e0: 204e 616d 6520 616e 6420 5365 7269 616c   Name and Serial
-000156f0: 204e 756d 6265 7220 666f 7220 5377 6974   Number for Swit
-00015700: 6368 6573 0a20 2020 2020 2020 2020 2020  ches.           
-00015710: 2063 6c61 7373 6966 6963 6174 696f 6e20   classification 
-00015720: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00015730: 2046 696c 7465 7220 6175 6469 7420 6576   Filter audit ev
-00015740: 656e 7473 2062 7920 636c 6173 7369 6669  ents by classifi
-00015750: 6361 7469 6f6e 0a20 2020 2020 2020 2020  cation.         
-00015760: 2020 2073 7461 7274 5f74 696d 6520 2869     start_time (i
-00015770: 6e74 2c20 6f70 7469 6f6e 616c 293a 2046  nt, optional): F
-00015780: 696c 7465 7220 6175 6469 7420 6c6f 6773  ilter audit logs
-00015790: 2062 7920 5469 6d65 2052 616e 6765 2e20   by Time Range. 
-000157a0: 5374 6172 7420 7469 6d65 206f 6620 7468  Start time of th
-000157b0: 6520 6175 6469 740a 2020 2020 2020 2020  e audit.        
-000157c0: 2020 2020 2020 2020 6c6f 6773 2073 686f          logs sho
-000157d0: 756c 6420 6265 2070 726f 7669 6465 6420  uld be provided 
-000157e0: 696e 2065 706f 6368 2073 6563 6f6e 6473  in epoch seconds
-000157f0: 0a20 2020 2020 2020 2020 2020 2065 6e64  .            end
-00015800: 5f74 696d 6520 2869 6e74 2c20 6f70 7469  _time (int, opti
-00015810: 6f6e 616c 293a 2046 696c 7465 7220 6175  onal): Filter au
-00015820: 6469 7420 6c6f 6773 2062 7920 5469 6d65  dit logs by Time
-00015830: 2052 616e 6765 2e20 456e 6420 7469 6d65   Range. End time
-00015840: 206f 6620 7468 6520 6175 6469 7420 6c6f   of the audit lo
-00015850: 6773 0a20 2020 2020 2020 2020 2020 2020  gs.             
-00015860: 2020 2073 686f 756c 6420 6265 2070 726f     should be pro
-00015870: 7669 6465 6420 696e 2065 706f 6368 2073  vided in epoch s
-00015880: 6563 6f6e 6473 0a20 2020 2020 2020 2020  econds.         
-00015890: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
-000158a0: 6f70 7469 6f6e 616c 293a 204e 756d 6265  optional): Numbe
-000158b0: 7220 6f66 2069 7465 6d73 2074 6f20 6265  r of items to be
-000158c0: 2073 6b69 7070 6564 2062 6566 6f72 6520   skipped before 
-000158d0: 7265 7475 726e 696e 6720 7468 6520 6461  returning the da
-000158e0: 7461 2c20 7573 6566 756c 0a20 2020 2020  ta, useful.     
-000158f0: 2020 2020 2020 2020 2020 2066 6f72 2070             for p
-00015900: 6167 696e 6174 696f 6e20 4465 6661 756c  agination Defaul
-00015910: 7473 2074 6f20 302e 0a20 2020 2020 2020  ts to 0..       
-00015920: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
-00015930: 206f 7074 696f 6e61 6c29 3a20 4d61 7869   optional): Maxi
-00015940: 6d75 6d20 6e75 6d62 6572 206f 6620 6175  mum number of au
-00015950: 6469 7420 6576 656e 7473 2074 6f20 6265  dit events to be
-00015960: 2072 6574 7572 6e65 6420 4465 6661 756c   returned Defaul
-00015970: 7473 2074 6f20 3130 302e 0a0a 2020 2020  ts to 100...    
-00015980: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00015990: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-000159a0: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-000159b0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-000159c0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000159d0: 2020 7572 6c20 3d20 222f 6175 6469 746c    url = "/auditl
-000159e0: 6f67 732f 7631 2f65 7665 6e74 7322 0a0a  ogs/v1/events"..
-000159f0: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
-00015a00: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-00015a10: 6772 6f75 705f 6e61 6d65 273a 2067 726f  group_name': gro
-00015a20: 7570 5f6e 616d 652c 0a20 2020 2020 2020  up_name,.       
-00015a30: 2020 2020 2027 6465 7669 6365 5f69 6427       'device_id'
-00015a40: 3a20 6465 7669 6365 5f69 642c 0a20 2020  : device_id,.   
-00015a50: 2020 2020 2020 2020 2027 636c 6173 7369           'classi
-00015a60: 6669 6361 7469 6f6e 273a 2063 6c61 7373  fication': class
-00015a70: 6966 6963 6174 696f 6e2c 0a20 2020 2020  ification,.     
-00015a80: 2020 2020 2020 2027 7374 6172 745f 7469         'start_ti
-00015a90: 6d65 273a 2073 7461 7274 5f74 696d 652c  me': start_time,
-00015aa0: 0a20 2020 2020 2020 2020 2020 2027 656e  .            'en
-00015ab0: 645f 7469 6d65 273a 2065 6e64 5f74 696d  d_time': end_tim
-00015ac0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-00015ad0: 6f66 6673 6574 273a 206f 6666 7365 742c  offset': offset,
-00015ae0: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
-00015af0: 6d69 7427 3a20 6c69 6d69 740a 2020 2020  mit': limit.    
-00015b00: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-00015b10: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00015b20: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
-00015b30: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
-00015b40: 796e 6320 6465 6620 6372 6561 7465 5f73  ync def create_s
-00015b50: 6974 6528 0a20 2020 2020 2020 2073 656c  ite(.        sel
-00015b60: 662c 0a20 2020 2020 2020 2073 6974 655f  f,.        site_
-00015b70: 6e61 6d65 3a20 7374 7220 3d20 4e6f 6e65  name: str = None
-00015b80: 2c0a 2020 2020 2020 2020 6164 6472 6573  ,.        addres
-00015b90: 733a 2073 7472 203d 204e 6f6e 652c 0a20  s: str = None,. 
-00015ba0: 2020 2020 2020 2063 6974 793a 2073 7472         city: str
-00015bb0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00015bc0: 2073 7461 7465 3a20 7374 7220 3d20 4e6f   state: str = No
-00015bd0: 6e65 2c0a 2020 2020 2020 2020 636f 756e  ne,.        coun
-00015be0: 7472 793a 2073 7472 203d 204e 6f6e 652c  try: str = None,
-00015bf0: 0a20 2020 2020 2020 207a 6970 636f 6465  .        zipcode
-00015c00: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00015c10: 2020 2020 2020 6c61 7469 7475 6465 3a20        latitude: 
-00015c20: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
-00015c30: 2020 2020 6c6f 6e67 6974 7564 653a 2069      longitude: i
-00015c40: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
-00015c50: 2020 2073 6974 655f 6c69 7374 3a20 4c69     site_list: Li
-00015c60: 7374 5b44 6963 745b 7374 722c 2055 6e69  st[Dict[str, Uni
-00015c70: 6f6e 5b73 7472 2c20 6469 6374 5d5d 5d20  on[str, dict]]] 
-00015c80: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
-00015c90: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00015ca0: 2020 2022 2222 4372 6561 7465 2053 6974     """Create Sit
-00015cb0: 650a 0a20 2020 2020 2020 2045 6974 6865  e..        Eithe
-00015cc0: 7220 6164 6472 6573 7320 696e 666f 726d  r address inform
-00015cd0: 6174 696f 6e20 6f72 2047 656f 4c6f 6361  ation or GeoLoca
-00015ce0: 7469 6f6e 2069 6e66 6f72 6d61 7469 6f6e  tion information
-00015cf0: 2069 7320 7265 7175 6972 6564 2e20 2046   is required.  F
-00015d00: 6f72 2047 656f 6c6f 6361 7469 6f6e 2061  or Geolocation a
-00015d10: 7474 7269 6275 7465 730a 2020 2020 2020  ttributes.      
-00015d20: 2020 616c 6c20 6174 7472 6962 7574 6573    all attributes
-00015d30: 2061 7265 2072 6571 7569 7265 642e 2020   are required.  
-00015d40: 4f72 2061 204c 6973 745b 6469 6374 5d20  Or a List[dict] 
-00015d50: 7769 7468 206d 756c 7469 706c 6520 7369  with multiple si
-00015d60: 7465 7320 746f 2062 6520 6164 6465 6420  tes to be added 
-00015d70: 636f 6e74 6169 6e69 6e67 2065 6974 6865  containing eithe
-00015d80: 720a 2020 2020 2020 2020 2773 6974 655f  r.        'site_
-00015d90: 6164 6472 6573 7327 206f 7220 2767 656f  address' or 'geo
-00015da0: 6c6f 6361 7469 6f6e 2720 6174 7472 6962  location' attrib
-00015db0: 7574 6573 2066 6f72 2065 6163 6820 7369  utes for each si
-00015dc0: 7465 2e0a 0a20 2020 2020 2020 2041 7267  te...        Arg
-00015dd0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-00015de0: 6974 655f 6e61 6d65 2028 7374 722c 206f  ite_name (str, o
-00015df0: 7074 696f 6e61 6c29 3a20 5369 7465 204e  ptional): Site N
-00015e00: 616d 652e 2044 6566 6175 6c74 7320 746f  ame. Defaults to
-00015e10: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00015e20: 2020 2061 6464 7265 7373 2028 7374 722c     address (str,
-00015e30: 206f 7074 696f 6e61 6c29 3a20 4164 6472   optional): Addr
-00015e40: 6573 732e 2044 6566 6175 6c74 7320 746f  ess. Defaults to
-00015e50: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00015e60: 2020 2063 6974 7920 2873 7472 2c20 6f70     city (str, op
-00015e70: 7469 6f6e 616c 293a 2043 6974 792e 2044  tional): City. D
-00015e80: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-00015e90: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
-00015ea0: 7465 2028 7374 722c 206f 7074 696f 6e61  te (str, optiona
-00015eb0: 6c29 3a20 5374 6174 652e 2044 6566 6175  l): State. Defau
-00015ec0: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
-00015ed0: 2020 2020 2020 2020 2063 6f75 6e74 7279           country
-00015ee0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00015ef0: 3a20 436f 756e 7472 7920 4e61 6d65 2e20  : Country Name. 
-00015f00: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
-00015f10: 2e0a 2020 2020 2020 2020 2020 2020 7a69  ..            zi
-00015f20: 7063 6f64 6520 2873 7472 2c20 6f70 7469  pcode (str, opti
-00015f30: 6f6e 616c 293a 205a 6970 636f 6465 2e20  onal): Zipcode. 
-00015f40: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
-00015f50: 2e0a 2020 2020 2020 2020 2020 2020 6c61  ..            la
-00015f60: 7469 7475 6465 2028 696e 742c 206f 7074  titude (int, opt
-00015f70: 696f 6e61 6c29 3a20 4c61 7469 7475 6465  ional): Latitude
-00015f80: 2028 696e 2074 6865 2072 616e 6765 206f   (in the range o
-00015f90: 6620 2d39 3020 616e 6420 3930 292e 2044  f -90 and 90). D
-00015fa0: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-00015fb0: 0a20 2020 2020 2020 2020 2020 206c 6f6e  .            lon
-00015fc0: 6769 7475 6465 2028 696e 742c 206f 7074  gitude (int, opt
-00015fd0: 696f 6e61 6c29 3a20 4c6f 6e67 6974 7564  ional): Longitud
-00015fe0: 6520 2869 6e20 7468 6520 7261 6e67 6520  e (in the range 
-00015ff0: 6f66 202d 3130 3020 616e 6420 3138 3029  of -100 and 180)
-00016000: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
-00016010: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
-00016020: 7369 7465 5f6c 6973 7420 284c 6973 745b  site_list (List[
-00016030: 4469 6374 5b73 7472 2c20 556e 696f 6e5b  Dict[str, Union[
-00016040: 7374 722c 2064 6963 745d 5d5d 2c20 6f70  str, dict]]], op
-00016050: 7469 6f6e 616c 293a 2041 206c 6973 7420  tional): A list 
-00016060: 6f66 2073 6974 6573 2074 6f20 6265 2063  of sites to be c
-00016070: 7265 6174 6564 2e20 4465 6661 756c 7473  reated. Defaults
-00016080: 2074 6f20 4e6f 6e65 2e0a 0a20 2020 2020   to None...     
-00016090: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-000160a0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-000160b0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-000160c0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-000160d0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000160e0: 2075 726c 203d 2022 2f63 656e 7472 616c   url = "/central
-000160f0: 2f76 322f 7369 7465 7322 0a0a 2020 2020  /v2/sites"..    
-00016100: 2020 2020 6164 6472 6573 735f 6469 6374      address_dict
-00016110: 203d 2075 7469 6c73 2e73 7472 6970 5f6e   = utils.strip_n
-00016120: 6f6e 6528 7b22 6164 6472 6573 7322 3a20  one({"address": 
-00016130: 6164 6472 6573 732c 2022 6369 7479 223a  address, "city":
-00016140: 2063 6974 792c 2022 7374 6174 6522 3a20   city, "state": 
-00016150: 7374 6174 652c 2022 636f 756e 7472 7922  state, "country"
-00016160: 3a20 636f 756e 7472 792c 2022 7a69 7063  : country, "zipc
-00016170: 6f64 6522 3a20 7a69 7063 6f64 657d 290a  ode": zipcode}).
-00016180: 2020 2020 2020 2020 6765 6f5f 6469 6374          geo_dict
-00016190: 203d 2075 7469 6c73 2e73 7472 6970 5f6e   = utils.strip_n
-000161a0: 6f6e 6528 7b22 6c61 7469 7475 6465 223a  one({"latitude":
-000161b0: 206c 6174 6974 7564 652c 2022 6c6f 6e67   latitude, "long
-000161c0: 6974 7564 6522 3a20 6c6f 6e67 6974 7564  itude": longitud
-000161d0: 657d 290a 2020 2020 2020 2020 6a73 6f6e  e}).        json
-000161e0: 5f64 6174 6120 3d20 7b22 7369 7465 5f6e  _data = {"site_n
-000161f0: 616d 6522 3a20 7369 7465 5f6e 616d 657d  ame": site_name}
-00016200: 0a20 2020 2020 2020 2069 6620 6164 6472  .        if addr
-00016210: 6573 735f 6469 6374 3a0a 2020 2020 2020  ess_dict:.      
-00016220: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
-00016230: 2273 6974 655f 6164 6472 6573 7322 5d20  "site_address"] 
-00016240: 3d20 6164 6472 6573 735f 6469 6374 0a20  = address_dict. 
-00016250: 2020 2020 2020 2069 6620 6765 6f5f 6469         if geo_di
-00016260: 6374 3a0a 2020 2020 2020 2020 2020 2020  ct:.            
-00016270: 6a73 6f6e 5f64 6174 615b 2267 656f 6c6f  json_data["geolo
-00016280: 6361 7469 6f6e 225d 203d 2067 656f 5f64  cation"] = geo_d
-00016290: 6963 740a 0a20 2020 2020 2020 2023 2054  ict..        # T
-000162a0: 4f44 4f20 7265 7665 7274 2074 6869 7320  ODO revert this 
-000162b0: 746f 2073 696e 676c 6520 7369 7465 2061  to single site a
-000162c0: 6464 2061 6e64 2075 7365 2062 6174 6368  dd and use batch
-000162d0: 5f61 6464 5f73 6974 6520 6d65 7468 6f64  _add_site method
-000162e0: 2066 6f72 206d 756c 7469 2d61 6464 0a20   for multi-add. 
-000162f0: 2020 2020 2020 2069 6620 7369 7465 5f6c         if site_l
-00016300: 6973 743a 0a20 2020 2020 2020 2020 2020  ist:.           
-00016310: 2072 6573 7020 3d20 6177 6169 7420 7365   resp = await se
-00016320: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
-00016330: 6e5f 6461 7461 3d73 6974 655f 6c69 7374  n_data=site_list
-00016340: 5b30 5d29 0a20 2020 2020 2020 2020 2020  [0]).           
-00016350: 2069 6620 6e6f 7420 7265 7370 3a0a 2020   if not resp:.  
-00016360: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00016370: 7475 726e 2072 6573 700a 2020 2020 2020  turn resp.      
-00016380: 2020 2020 2020 6966 206c 656e 2873 6974        if len(sit
-00016390: 655f 6c69 7374 2920 3e20 313a 0a20 2020  e_list) > 1:.   
-000163a0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-000163b0: 203d 2061 7761 6974 2073 656c 662e 5f62   = await self._b
-000163c0: 6174 6368 5f72 6571 7565 7374 280a 2020  atch_request(.  
-000163d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000163e0: 2020 5b0a 2020 2020 2020 2020 2020 2020    [.            
-000163f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00016400: 2e42 6174 6368 5265 7175 6573 7428 7365  .BatchRequest(se
-00016410: 6c66 2e70 6f73 742c 2028 7572 6c2c 292c  lf.post, (url,),
-00016420: 206a 736f 6e5f 6461 7461 3d5f 6a73 6f6e   json_data=_json
-00016430: 2c20 6361 6c6c 6261 636b 3d63 6c65 616e  , callback=clean
-00016440: 6572 2e5f 756e 6c69 7374 290a 2020 2020  er._unlist).    
-00016450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016460: 2020 2020 666f 7220 5f6a 736f 6e20 696e      for _json in
-00016470: 2073 6974 655f 6c69 7374 5b31 3a5d 0a20   site_list[1:]. 
-00016480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016490: 2020 205d 0a20 2020 2020 2020 2020 2020     ].           
-000164a0: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
-000164b0: 2020 2020 2020 2072 6574 7572 6e20 5b72         return [r
-000164c0: 6573 702c 202a 7265 745d 0a20 2020 2020  esp, *ret].     
-000164d0: 2020 2020 2020 2020 2020 2023 2072 6573             # res
-000164e0: 705f 6c69 7374 203d 2063 6c65 616e 6572  p_list = cleaner
-000164f0: 2e5f 756e 6c69 7374 280a 2020 2020 2020  ._unlist(.      
-00016500: 2020 2020 2020 2020 2020 2320 2020 2020            #     
-00016510: 5b61 7761 6974 2061 7379 6e63 696f 2e67  [await asyncio.g
-00016520: 6174 6865 7228 7365 6c66 2e70 6f73 7428  ather(self.post(
-00016530: 7572 6c2c 206a 736f 6e5f 6461 7461 3d5f  url, json_data=_
-00016540: 6a73 6f6e 2c20 6361 6c6c 6261 636b 3d63  json, callback=c
-00016550: 6c65 616e 6572 2e5f 756e 6c69 7374 2929  leaner._unlist))
-00016560: 2066 6f72 205f 6a73 6f6e 2069 6e20 7369   for _json in si
-00016570: 7465 5f6c 6973 745b 313a 5d5d 0a20 2020  te_list[1:]].   
-00016580: 2020 2020 2020 2020 2020 2020 2023 2029               # )
-00016590: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000165a0: 2023 2023 2054 4f44 4f20 6d61 6b65 206d   # # TODO make m
-000165b0: 756c 7469 2072 6573 706f 6e73 6520 7061  ulti response pa
-000165c0: 636b 696e 6720 6675 6e63 7469 6f6e 0a20  cking function. 
-000165d0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-000165e0: 2072 6573 702e 6f75 7470 7574 203d 2075   resp.output = u
-000165f0: 7469 6c73 2e6c 6973 7469 6679 2872 6573  tils.listify(res
-00016600: 702e 6f75 7470 7574 290a 2020 2020 2020  p.output).      
-00016610: 2020 2020 2020 2020 2020 2320 7265 7370            # resp
-00016620: 2e6f 7574 7075 7420 2b3d 205b 722e 6f75  .output += [r.ou
-00016630: 7470 7574 2066 6f72 2072 2069 6e20 7265  tput for r in re
-00016640: 7370 5f6c 6973 745d 0a20 2020 2020 2020  sp_list].       
-00016650: 2020 2020 2020 2020 2023 2072 6574 7572           # retur
-00016660: 6e20 7265 7370 0a20 2020 2020 2020 2065  n resp.        e
-00016670: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00016680: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00016690: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
-000166a0: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
-000166b0: 2c20 6361 6c6c 6261 636b 3d63 6c65 616e  , callback=clean
-000166c0: 6572 2e5f 756e 6c69 7374 290a 0a20 2020  er._unlist)..   
-000166d0: 2023 2054 4f44 4f20 6164 6420 636c 690a   # TODO add cli.
-000166e0: 2020 2020 6173 796e 6320 6465 6620 7570      async def up
-000166f0: 6461 7465 5f73 6974 6528 0a20 2020 2020  date_site(.     
-00016700: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00016710: 2073 6974 655f 6964 3a20 696e 742c 0a20   site_id: int,. 
-00016720: 2020 2020 2020 2073 6974 655f 6e61 6d65         site_name
-00016730: 3a20 7374 722c 0a20 2020 2020 2020 2061  : str,.        a
-00016740: 6464 7265 7373 3a20 7374 7220 3d20 4e6f  ddress: str = No
-00016750: 6e65 2c0a 2020 2020 2020 2020 6369 7479  ne,.        city
-00016760: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00016770: 2020 2020 2020 7374 6174 653a 2073 7472        state: str
-00016780: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00016790: 207a 6970 636f 6465 3a20 7374 7220 3d20   zipcode: str = 
-000167a0: 4e6f 6e65 2c0a 2020 2020 2020 2020 636f  None,.        co
-000167b0: 756e 7472 793a 2073 7472 203d 204e 6f6e  untry: str = Non
-000167c0: 652c 0a20 2020 2020 2020 206c 6174 6974  e,.        latit
-000167d0: 7564 653a 2073 7472 203d 204e 6f6e 652c  ude: str = None,
-000167e0: 0a20 2020 2020 2020 206c 6f6e 6769 7475  .        longitu
-000167f0: 6465 3a20 7374 7220 3d20 4e6f 6e65 2c0a  de: str = None,.
-00016800: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00016810: 653a 0a20 2020 2020 2020 2022 2222 5570  e:.        """Up
-00016820: 6461 7465 2053 6974 652e 0a0a 2020 2020  date Site...    
-00016830: 2020 2020 5072 6f76 6964 6520 6765 6f2d      Provide geo-
-00016840: 6c6f 6320 6f72 2061 6464 7265 7373 2064  loc or address d
-00016850: 6574 6169 6c73 2c20 6e6f 7420 626f 7468  etails, not both
-00016860: 2e0a 2020 2020 2020 2020 4361 6e20 7072  ..        Can pr
-00016870: 6f76 6964 6520 626f 7468 2069 6e20 7375  ovide both in su
-00016880: 6273 6571 7565 6e74 2063 616c 6c73 2c20  bsequent calls, 
-00016890: 6275 7420 6170 6967 7720 646f 6573 206e  but apigw does n
-000168a0: 6f74 0a20 2020 2020 2020 2061 6c6c 6f77  ot.        allow
-000168b0: 2062 6f74 6820 696e 2073 616d 6520 6361   both in same ca
-000168c0: 6c6c 2e0a 0a20 2020 2020 2020 202f 2f20  ll...        // 
-000168d0: 5573 6564 2062 7920 6365 6e63 6c69 2075  Used by cencli u
-000168e0: 7064 6174 6520 7369 7465 205b 6e61 6d65  pdate site [name
-000168f0: 7c69 647c 6164 6472 6573 735d 204f 5220  |id|address] OR 
-00016900: 2d2d 6c61 7420 3c6c 6174 3e20 2d2d 6c6f  --lat <lat> --lo
-00016910: 6e20 3c6c 6f6e 3e20 2f2f 0a0a 2020 2020  n <lon> //..    
-00016920: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00016930: 2020 2020 2020 7369 7465 5f69 6420 2869        site_id (i
-00016940: 6e74 293a 2053 6974 6520 4944 0a20 2020  nt): Site ID.   
-00016950: 2020 2020 2020 2020 2073 6974 655f 6e61           site_na
-00016960: 6d65 2028 7374 7229 3a20 5369 7465 204e  me (str): Site N
-00016970: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-00016980: 6164 6472 6573 7320 2873 7472 293a 2041  address (str): A
-00016990: 6464 7265 7373 0a20 2020 2020 2020 2020  ddress.         
-000169a0: 2020 2063 6974 7920 2873 7472 293a 2043     city (str): C
-000169b0: 6974 7920 4e61 6d65 0a20 2020 2020 2020  ity Name.       
-000169c0: 2020 2020 2073 7461 7465 2028 7374 7229       state (str)
-000169d0: 3a20 5374 6174 6520 4e61 6d65 0a20 2020  : State Name.   
-000169e0: 2020 2020 2020 2020 207a 6970 636f 6465           zipcode
-000169f0: 2028 7374 7229 3a20 5a69 7063 6f64 650a   (str): Zipcode.
-00016a00: 2020 2020 2020 2020 2020 2020 636f 756e              coun
-00016a10: 7472 7920 2873 7472 293a 2043 6f75 6e74  try (str): Count
-00016a20: 7279 204e 616d 650a 2020 2020 2020 2020  ry Name.        
-00016a30: 2020 2020 6c61 7469 7475 6465 2028 7374      latitude (st
-00016a40: 7229 3a20 4c61 7469 7475 6465 2028 696e  r): Latitude (in
-00016a50: 2074 6865 2072 616e 6765 206f 6620 2d39   the range of -9
-00016a60: 3020 616e 6420 3930 290a 2020 2020 2020  0 and 90).      
-00016a70: 2020 2020 2020 6c6f 6e67 6974 7564 6520        longitude 
-00016a80: 2873 7472 293a 204c 6f6e 6769 7475 6465  (str): Longitude
-00016a90: 2028 696e 2074 6865 2072 616e 6765 206f   (in the range o
-00016aa0: 6620 2d31 3830 2061 6e64 2031 3830 290a  f -180 and 180).
-00016ab0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00016ac0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-00016ad0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-00016ae0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00016af0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00016b00: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-00016b10: 6365 6e74 7261 6c2f 7632 2f73 6974 6573  central/v2/sites
-00016b20: 2f7b 7369 7465 5f69 647d 220a 2020 2020  /{site_id}".    
-00016b30: 2020 2020 6966 207a 6970 636f 6465 3a0a      if zipcode:.
-00016b40: 2020 2020 2020 2020 2020 2020 7a69 7063              zipc
-00016b50: 6f64 6520 3d20 7374 7228 7a69 7063 6f64  ode = str(zipcod
-00016b60: 6529 0a0a 0a20 2020 2020 2020 2073 6974  e)...        sit
-00016b70: 655f 6164 6472 6573 7320 3d20 7b22 6164  e_address = {"ad
-00016b80: 6472 6573 7322 3a20 6164 6472 6573 732c  dress": address,
-00016b90: 2022 6369 7479 223a 2063 6974 792c 2022   "city": city, "
-00016ba0: 7374 6174 6522 3a20 7374 6174 652c 2022  state": state, "
-00016bb0: 636f 756e 7472 7922 3a20 636f 756e 7472  country": countr
-00016bc0: 792c 2022 7a69 7063 6f64 6522 3a20 7a69  y, "zipcode": zi
-00016bd0: 7063 6f64 657d 0a20 2020 2020 2020 2067  pcode}.        g
-00016be0: 656f 6c6f 6361 7469 6f6e 203d 207b 226c  eolocation = {"l
-00016bf0: 6174 6974 7564 6522 3a20 6c61 7469 7475  atitude": latitu
-00016c00: 6465 2c20 226c 6f6e 6769 7475 6465 223a  de, "longitude":
-00016c10: 206c 6f6e 6769 7475 6465 7d0a 0a20 2020   longitude}..   
-00016c20: 2020 2020 2073 6974 655f 6164 6472 6573       site_addres
-00016c30: 7320 3d20 7574 696c 732e 7374 7269 705f  s = utils.strip_
-00016c40: 6e6f 6e65 2873 6974 655f 6164 6472 6573  none(site_addres
-00016c50: 7329 0a20 2020 2020 2020 2067 656f 6c6f  s).        geolo
-00016c60: 6361 7469 6f6e 203d 2075 7469 6c73 2e73  cation = utils.s
-00016c70: 7472 6970 5f6e 6f6e 6528 6765 6f6c 6f63  trip_none(geoloc
-00016c80: 6174 696f 6e29 0a0a 2020 2020 2020 2020  ation)..        
-00016c90: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
-00016ca0: 2020 2020 2020 2020 2020 2273 6974 655f            "site_
-00016cb0: 6e61 6d65 223a 2073 6974 655f 6e61 6d65  name": site_name
-00016cc0: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
-00016cd0: 6974 655f 6164 6472 6573 7322 3a20 7369  ite_address": si
-00016ce0: 7465 5f61 6464 7265 7373 2c0a 2020 2020  te_address,.    
-00016cf0: 2020 2020 2020 2020 2267 656f 6c6f 6361          "geoloca
-00016d00: 7469 6f6e 223a 2067 656f 6c6f 6361 7469  tion": geolocati
-00016d10: 6f6e 0a20 2020 2020 2020 207d 0a0a 2020  on.        }..  
-00016d20: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-00016d30: 6974 2073 656c 662e 7061 7463 6828 7572  it self.patch(ur
-00016d40: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
-00016d50: 6e5f 6461 7461 290a 0a20 2020 2023 2054  n_data)..    # T
-00016d60: 4f44 4f20 616c 6c20 7061 7261 6d73 2072  ODO all params r
-00016d70: 6571 7569 7265 6420 6279 2041 5049 2047  equired by API G
-00016d80: 572c 206e 6565 6420 6361 6c6c 2074 6f20  W, need call to 
-00016d90: 6765 7420 6375 7272 656e 7420 7072 6f70  get current prop
-00016da0: 6572 7469 6573 0a20 2020 2023 2069 6620  erties.    # if 
-00016db0: 6e6f 7420 616c 6c20 6172 6520 7072 6f76  not all are prov
-00016dc0: 6964 6564 0a20 2020 2061 7379 6e63 2064  ided.    async d
-00016dd0: 6566 2075 7064 6174 655f 6170 5f73 7973  ef update_ap_sys
-00016de0: 7465 6d5f 636f 6e66 6967 280a 2020 2020  tem_config(.    
-00016df0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00016e00: 2020 6772 6f75 705f 7377 6172 6d69 643a    group_swarmid:
-00016e10: 2073 7472 2c0a 2020 2020 2020 2020 646e   str,.        dn
-00016e20: 735f 7365 7276 6572 3a20 7374 7220 3d20  s_server: str = 
-00016e30: 4e6f 6e65 2c0a 2020 2020 2020 2020 6e74  None,.        nt
-00016e40: 705f 7365 7276 6572 3a20 4c69 7374 5b73  p_server: List[s
-00016e50: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
-00016e60: 2020 2020 7573 6572 6e61 6d65 3a20 7374      username: st
-00016e70: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00016e80: 2020 7061 7373 776f 7264 3a20 7374 7220    password: str 
-00016e90: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
-00016ea0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00016eb0: 2020 2022 2222 5570 6461 7465 2073 7973     """Update sys
-00016ec0: 7465 6d20 636f 6e66 6967 2e0a 0a20 2020  tem config...   
-00016ed0: 2020 2020 2041 6c6c 2070 6172 616d 7320       All params 
-00016ee0: 6172 6520 7265 7175 6972 6564 2062 7920  are required by 
-00016ef0: 4172 7562 6120 4365 6e74 7261 6c0a 0a20  Aruba Central.. 
-00016f00: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00016f10: 2020 2020 2020 2020 2067 726f 7570 5f73           group_s
-00016f20: 7761 726d 6964 2028 7374 7229 3a20 4772  warmid (str): Gr
-00016f30: 6f75 7020 6e61 6d65 206f 6620 7468 6520  oup name of the 
-00016f40: 6772 6f75 7020 6f72 2067 7569 6420 6f66  group or guid of
-00016f50: 2074 6865 2073 7761 726d 2e20 4578 616d   the swarm. Exam
-00016f60: 706c 653a 4772 6f75 705f 310a 2020 2020  ple:Group_1.    
-00016f70: 2020 2020 2020 2020 2020 2020 6f72 2036              or 6
-00016f80: 6135 6431 3233 6230 3166 3934 3431 3830  a5d123b01f944180
-00016f90: 3632 3434 6561 3665 3032 3366 6162 3538  6244ea6e023fab58
-00016fa0: 3431 6237 3763 3832 3861 3038 3566 3034  41b77c828a085f04
-00016fb0: 662e 0a20 2020 2020 2020 2020 2020 2064  f..            d
-00016fc0: 6e73 5f73 6572 7665 7220 2873 7472 293a  ns_server (str):
-00016fd0: 2044 4e53 2073 6572 7665 7220 4950 7320   DNS server IPs 
-00016fe0: 6f72 2064 6f6d 6169 6e20 6e61 6d65 0a20  or domain name. 
-00016ff0: 2020 2020 2020 2020 2020 206e 7470 5f73             ntp_s
-00017000: 6572 7665 7220 284c 6973 745b 7374 725d  erver (List[str]
-00017010: 293a 204c 6973 7420 6f66 206e 7470 2073  ): List of ntp s
-00017020: 6572 7665 722c 0a20 2020 2020 2020 2020  erver,.         
-00017030: 2020 2020 2020 2045 7861 6d70 6c65 3a20         Example: 
-00017040: 5b22 3139 322e 3136 382e 312e 3122 2c20  ["192.168.1.1", 
-00017050: 2231 3237 2e30 2e30 2e30 222c 2022 7878  "127.0.0.0", "xx
-00017060: 782e 636f 6d22 5d2e 0a20 2020 2020 2020  x.com"]..       
-00017070: 2020 2020 2020 2020 2049 5073 206f 7220           IPs or 
-00017080: 646f 6d61 696e 206e 616d 652e 0a20 2020  domain name..   
-00017090: 2020 2020 2020 2020 2075 7365 726e 616d           usernam
-000170a0: 6520 2873 7472 293a 2075 7365 726e 616d  e (str): usernam
-000170b0: 650a 2020 2020 2020 2020 2020 2020 7061  e.            pa
-000170c0: 7373 776f 7264 2028 7374 7229 3a20 7061  ssword (str): pa
-000170d0: 7373 776f 7264 0a0a 2020 2020 2020 2020  ssword..        
-000170e0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-000170f0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00017100: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00017110: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-00017120: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-00017130: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
-00017140: 7469 6f6e 2f76 312f 7379 7374 656d 5f63  tion/v1/system_c
-00017150: 6f6e 6669 672f 7b67 726f 7570 5f73 7761  onfig/{group_swa
-00017160: 726d 6964 7d22 0a0a 2020 2020 2020 2020  rmid}"..        
-00017170: 6a73 6f6e 5f64 6174 6120 3d20 7574 696c  json_data = util
-00017180: 732e 7374 7269 705f 6e6f 6e65 280a 2020  s.strip_none(.  
-00017190: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
-000171a0: 2020 2020 2020 2020 2020 2020 2764 6e73              'dns
-000171b0: 5f73 6572 7665 7227 3a20 646e 735f 7365  _server': dns_se
-000171c0: 7276 6572 2c0a 2020 2020 2020 2020 2020  rver,.          
-000171d0: 2020 2020 2020 276e 7470 5f73 6572 7665        'ntp_serve
-000171e0: 7227 3a20 6e74 705f 7365 7276 6572 2c0a  r': ntp_server,.
-000171f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017200: 2775 7365 726e 616d 6527 3a20 7573 6572  'username': user
-00017210: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
-00017220: 2020 2020 2020 2770 6173 7377 6f72 6427        'password'
-00017230: 3a20 7061 7373 776f 7264 0a20 2020 2020  : password.     
-00017240: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
-00017250: 2029 0a0a 2020 2020 2020 2020 7265 7475   )..        retu
-00017260: 726e 2061 7761 6974 2073 656c 662e 706f  rn await self.po
-00017270: 7374 2875 726c 2c20 6a73 6f6e 5f64 6174  st(url, json_dat
-00017280: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
-00017290: 2020 6173 796e 6320 6465 6620 6372 6561    async def crea
-000172a0: 7465 5f67 726f 7570 280a 2020 2020 2020  te_group(.      
-000172b0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-000172c0: 6772 6f75 703a 2073 7472 2c0a 2020 2020  group: str,.    
-000172d0: 2020 2020 616c 6c6f 7765 645f 7479 7065      allowed_type
-000172e0: 733a 2055 6e69 6f6e 5b63 6f6e 7374 616e  s: Union[constan
-000172f0: 7473 2e41 6c6c 4465 7654 7970 6573 2c20  ts.AllDevTypes, 
-00017300: 4c69 7374 5b63 6f6e 7374 616e 7473 2e41  List[constants.A
-00017310: 6c6c 4465 7654 7970 6573 5d5d 203d 205b  llDevTypes]] = [
-00017320: 2261 7022 2c20 2267 7722 2c20 2263 7822  "ap", "gw", "cx"
-00017330: 2c20 2273 7722 5d2c 0a20 2020 2020 2020  , "sw"],.       
-00017340: 2077 6972 6564 5f74 673a 2062 6f6f 6c20   wired_tg: bool 
-00017350: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
-00017360: 2077 6c61 6e5f 7467 3a20 626f 6f6c 203d   wlan_tg: bool =
-00017370: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
-00017380: 616f 7331 303a 2062 6f6f 6c20 3d20 4661  aos10: bool = Fa
-00017390: 6c73 652c 0a20 2020 2020 2020 206d 6963  lse,.        mic
-000173a0: 726f 6272 616e 6368 3a20 626f 6f6c 203d  robranch: bool =
-000173b0: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
-000173c0: 6777 5f72 6f6c 653a 2063 6f6e 7374 616e  gw_role: constan
-000173d0: 7473 2e47 6174 6577 6179 526f 6c65 203d  ts.GatewayRole =
-000173e0: 2022 6272 616e 6368 222c 0a20 2020 2020   "branch",.     
-000173f0: 2020 206d 6f6e 6974 6f72 5f6f 6e6c 795f     monitor_only_
-00017400: 7377 3a20 626f 6f6c 203d 2046 616c 7365  sw: bool = False
-00017410: 2c0a 2020 2020 2020 2020 6d6f 6e69 746f  ,.        monito
-00017420: 725f 6f6e 6c79 5f63 783a 2062 6f6f 6c20  r_only_cx: bool 
-00017430: 3d20 4661 6c73 652c 2020 2320 4e6f 7420  = False,  # Not 
-00017440: 7375 7070 6f72 7465 6420 6279 2063 656e  supported by cen
-00017450: 7472 616c 2079 6574 0a20 2020 2029 202d  tral yet.    ) -
-00017460: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00017470: 2020 2020 2222 2243 7265 6174 6520 6e65      """Create ne
-00017480: 7720 6772 6f75 7020 7769 7468 2073 7065  w group with spe
-00017490: 6369 6669 6564 2070 726f 7065 7274 6965  cified propertie
-000174a0: 732e 2076 330a 0a20 2020 2020 2020 202f  s. v3..        /
-000174b0: 2f20 5573 6564 2062 7920 6164 6420 6772  / Used by add gr
-000174c0: 6f75 7020 6261 7463 6820 6164 6420 6772  oup batch add gr
-000174d0: 6f75 7020 2f2f 0a0a 2020 2020 2020 2020  oup //..        
-000174e0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-000174f0: 2020 6772 6f75 7020 2873 7472 293a 2047    group (str): G
-00017500: 726f 7570 204e 616d 650a 2020 2020 2020  roup Name.      
-00017510: 2020 2020 2020 616c 6c6f 7765 645f 7479        allowed_ty
-00017520: 7065 7320 2873 7472 2c20 4c69 7374 5b73  pes (str, List[s
-00017530: 7472 5d29 3a20 416c 6c6f 7765 6420 4465  tr]): Allowed De
-00017540: 7669 6365 2054 7970 6573 2069 6e20 7468  vice Types in th
-00017550: 6520 6772 6f75 702e 2054 6162 7320 666f  e group. Tabs fo
-00017560: 7220 6465 7669 6365 7320 6e6f 7420 616c  r devices not al
-00017570: 6c6f 7765 640a 2020 2020 2020 2020 2020  lowed.          
-00017580: 2020 2020 2020 776f 6e27 7420 6469 7370        won't disp
-00017590: 6c61 7920 696e 2055 492e 2020 7661 6c69  lay in UI.  vali
-000175a0: 6420 7661 6c75 6573 2022 6170 222c 2022  d values "ap", "
-000175b0: 6777 222c 2022 6378 222c 2022 7377 222c  gw", "cx", "sw",
-000175c0: 2022 7377 6974 6368 220a 2020 2020 2020   "switch".      
-000175d0: 2020 2020 2020 2020 2020 2822 7377 6974            ("swit
-000175e0: 6368 2220 6973 2067 656e 6572 6963 2c20  ch" is generic, 
-000175f0: 7769 6c6c 2065 6e61 626c 6520 626f 7468  will enable both
-00017600: 2063 7820 616e 6420 7377 290a 2020 2020   cx and sw).    
-00017610: 2020 2020 2020 2020 7769 7265 645f 7467          wired_tg
-00017620: 2028 626f 6f6c 2c20 6f70 7469 6f6e 616c   (bool, optional
-00017630: 293a 2053 6574 2074 6f20 7472 7565 2069  ): Set to true i
-00017640: 6620 7769 7265 6428 5377 6974 6368 2920  f wired(Switch) 
-00017650: 636f 6e66 6967 7572 6174 696f 6e20 696e  configuration in
-00017660: 2061 2067 726f 7570 2069 7320 6d61 6e61   a group is mana
-00017670: 6765 640a 2020 2020 2020 2020 2020 2020  ged.            
-00017680: 2020 2020 7573 696e 6720 7465 6d70 6c61      using templa
-00017690: 7465 732e 0a20 2020 2020 2020 2020 2020  tes..           
-000176a0: 2077 6c61 6e5f 7467 2028 626f 6f6c 2c20   wlan_tg (bool, 
-000176b0: 6f70 7469 6f6e 616c 293a 2053 6574 2074  optional): Set t
-000176c0: 6f20 7472 7565 2069 6620 7769 7265 6c65  o true if wirele
-000176d0: 7373 2849 4150 2c20 4761 7465 7761 7973  ss(IAP, Gateways
-000176e0: 2920 636f 6e66 6967 7572 6174 696f 6e20  ) configuration 
-000176f0: 696e 2061 0a20 2020 2020 2020 2020 2020  in a.           
-00017700: 2020 2020 2067 726f 7570 2069 7320 6d61       group is ma
-00017710: 6e61 6765 6420 7573 696e 6720 7465 6d70  naged using temp
-00017720: 6c61 7465 732e 0a20 2020 2020 2020 2020  lates..         
-00017730: 2020 2061 6f73 3130 3a20 2862 6f6f 6c29     aos10: (bool)
-00017740: 3a20 6966 2054 7275 6520 7573 6520 414f  : if True use AO
-00017750: 5331 3020 6172 6368 6974 6563 7475 7265  S10 architecture
-00017760: 2066 6f72 2074 6865 2061 6363 6573 7320   for the access 
-00017770: 706f 696e 7473 2061 6e64 2067 6174 6577  points and gatew
-00017780: 6179 7320 696e 2074 6865 2067 726f 7570  ays in the group
-00017790: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000177a0: 2020 6465 6661 756c 7420 4661 6c73 6520    default False 
-000177b0: 2849 6e73 7461 6e74 290a 2020 2020 2020  (Instant).      
-000177c0: 2020 2020 2020 6d69 6372 6f62 7261 6e63        microbranc
-000177d0: 6820 2862 6f6f 6c29 3a20 5472 7565 2074  h (bool): True t
-000177e0: 6f20 656e 6162 6c65 204d 6963 726f 6272  o enable Microbr
-000177f0: 616e 6368 206e 6574 776f 726b 2072 6f6c  anch network rol
-00017800: 6520 666f 7220 4150 7320 6973 2061 7070  e for APs is app
-00017810: 6c69 6361 626c 6520 6f6e 6c79 2066 6f72  licable only for
-00017820: 2041 4f53 3130 2061 7263 6869 7465 6374   AOS10 architect
-00017830: 7572 652e 0a20 2020 2020 2020 2020 2020  ure..           
-00017840: 2067 775f 726f 6c65 2028 4761 7465 7761   gw_role (Gatewa
-00017850: 7952 6f6c 6529 3a20 4761 7465 7761 7920  yRole): Gateway 
-00017860: 726f 6c65 2076 616c 6964 2076 616c 7565  role valid value
-00017870: 7320 2262 7261 6e63 6822 2c20 2276 706e  s "branch", "vpn
-00017880: 6322 2c20 2277 6c61 6e22 2028 2277 6c61  c", "wlan" ("wla
-00017890: 6e22 206f 6e6c 7920 7661 6c69 6420 6f6e  n" only valid on
-000178a0: 2041 4f53 3130 2067 726f 7570 290a 2020   AOS10 group).  
-000178b0: 2020 2020 2020 2020 2020 2020 2020 4465                De
-000178c0: 6661 756c 743a 2022 6272 616e 6368 220a  fault: "branch".
-000178d0: 2020 2020 2020 2020 2020 2020 6d6f 6e69              moni
-000178e0: 746f 725f 6f6e 6c79 5f73 773a 204d 6f6e  tor_only_sw: Mon
-000178f0: 6974 6f72 206f 6e6c 7920 4172 7562 614f  itor only ArubaO
-00017900: 532d 5357 2073 7769 7463 6865 732c 2061  S-SW switches, a
-00017910: 7070 6c69 6573 2074 6f20 5549 2067 726f  pplies to UI gro
-00017920: 7570 206f 6e6c 790a 2020 2020 2020 2020  up only.        
-00017930: 2020 2020 6d6f 6e69 746f 725f 6f6e 6c79      monitor_only
-00017940: 5f63 783a 204d 6f6e 6974 6f72 206f 6e6c  _cx: Monitor onl
-00017950: 7920 4172 7562 614f 532d 4358 2073 7769  y ArubaOS-CX swi
-00017960: 7463 6865 732c 2061 7070 6c69 6573 2074  tches, applies t
-00017970: 6f20 5549 2067 726f 7570 206f 6e6c 7920  o UI group only 
-00017980: 2846 7574 7572 6520 6361 7061 6269 6c69  (Future capabili
-00017990: 7479 290a 0a20 2020 2020 2020 2052 6574  ty)..        Ret
-000179a0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-000179b0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-000179c0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-000179d0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-000179e0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-000179f0: 2022 2f63 6f6e 6669 6775 7261 7469 6f6e   "/configuration
-00017a00: 2f76 332f 6772 6f75 7073 220a 0a20 2020  /v3/groups"..   
-00017a10: 2020 2020 2067 775f 726f 6c65 5f64 6963       gw_role_dic
-00017a20: 7420 3d20 7b0a 2020 2020 2020 2020 2020  t = {.          
-00017a30: 2020 2262 7261 6e63 6822 3a20 2242 7261    "branch": "Bra
-00017a40: 6e63 6847 6174 6577 6179 222c 0a20 2020  nchGateway",.   
-00017a50: 2020 2020 2020 2020 2022 7670 6e63 223a           "vpnc":
-00017a60: 2022 5650 4e43 6f6e 6365 6e74 7261 746f   "VPNConcentrato
-00017a70: 7222 2c0a 2020 2020 2020 2020 2020 2020  r",.            
-00017a80: 2277 6c61 6e22 3a20 2257 4c41 4e47 6174  "wlan": "WLANGat
-00017a90: 6577 6179 222c 0a20 2020 2020 2020 207d  eway",.        }
-00017aa0: 0a20 2020 2020 2020 2064 6576 5f74 7970  .        dev_typ
-00017ab0: 655f 6469 6374 203d 207b 0a20 2020 2020  e_dict = {.     
-00017ac0: 2020 2020 2020 2022 6170 223a 2022 4163         "ap": "Ac
-00017ad0: 6365 7373 506f 696e 7473 222c 0a20 2020  cessPoints",.   
-00017ae0: 2020 2020 2020 2020 2022 6777 223a 2022           "gw": "
-00017af0: 4761 7465 7761 7973 222c 0a20 2020 2020  Gateways",.     
-00017b00: 2020 2020 2020 2022 7377 6974 6368 223a         "switch":
-00017b10: 2022 5377 6974 6368 6573 222c 0a20 2020   "Switches",.   
-00017b20: 2020 2020 2020 2020 2022 6378 223a 2022           "cx": "
-00017b30: 5377 6974 6368 6573 222c 0a20 2020 2020  Switches",.     
-00017b40: 2020 2020 2020 2022 7377 223a 2022 5377         "sw": "Sw
-00017b50: 6974 6368 6573 222c 0a20 2020 2020 2020  itches",.       
-00017b60: 207d 0a0a 2020 2020 2020 2020 6777 5f72   }..        gw_r
-00017b70: 6f6c 6520 3d20 6777 5f72 6f6c 655f 6469  ole = gw_role_di
-00017b80: 6374 2e67 6574 2867 775f 726f 6c65 2c20  ct.get(gw_role, 
-00017b90: 2242 7261 6e63 6847 6174 6577 6179 2229  "BranchGateway")
-00017ba0: 0a0a 2020 2020 2020 2020 616c 6c6f 7765  ..        allowe
-00017bb0: 645f 7479 7065 7320 3d20 7574 696c 732e  d_types = utils.
-00017bc0: 6c69 7374 6966 7928 616c 6c6f 7765 645f  listify(allowed_
-00017bd0: 7479 7065 7329 0a20 2020 2020 2020 2061  types).        a
-00017be0: 6c6c 6f77 6564 5f73 7769 7463 685f 7479  llowed_switch_ty
-00017bf0: 7065 7320 3d20 5b5d 0a20 2020 2020 2020  pes = [].       
-00017c00: 2069 6620 2273 7769 7463 6822 2069 6e20   if "switch" in 
-00017c10: 616c 6c6f 7765 645f 7479 7065 7320 6f72  allowed_types or
-00017c20: 2028 2263 7822 2069 6e20 616c 6c6f 7765   ("cx" in allowe
-00017c30: 645f 7479 7065 7320 616e 6420 2273 7722  d_types and "sw"
-00017c40: 2069 6e20 616c 6c6f 7765 645f 7479 7065   in allowed_type
-00017c50: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-00017c60: 616c 6c6f 7765 645f 7377 6974 6368 5f74  allowed_switch_t
-00017c70: 7970 6573 202b 3d20 5b22 414f 535f 4358  ypes += ["AOS_CX
-00017c80: 222c 2022 414f 535f 5322 5d0a 2020 2020  ", "AOS_S"].    
-00017c90: 2020 2020 656c 6966 2022 7377 2220 696e      elif "sw" in
-00017ca0: 2061 6c6c 6f77 6564 5f74 7970 6573 3a0a   allowed_types:.
-00017cb0: 2020 2020 2020 2020 2020 2020 616c 6c6f              allo
-00017cc0: 7765 645f 7377 6974 6368 5f74 7970 6573  wed_switch_types
-00017cd0: 202b 3d20 5b22 414f 535f 5322 5d0a 2020   += ["AOS_S"].  
-00017ce0: 2020 2020 2020 656c 6966 2022 6378 2220        elif "cx" 
-00017cf0: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
-00017d00: 3a0a 2020 2020 2020 2020 2020 2020 616c  :.            al
-00017d10: 6c6f 7765 645f 7377 6974 6368 5f74 7970  lowed_switch_typ
-00017d20: 6573 202b 3d20 5b22 414f 535f 4358 222c  es += ["AOS_CX",
-00017d30: 2022 414f 535f 5322 5d0a 0a20 2020 2020   "AOS_S"]..     
-00017d40: 2020 206d 6f6e 5f6f 6e6c 795f 7377 6974     mon_only_swit
-00017d50: 6368 6573 203d 205b 5d0a 2020 2020 2020  ches = [].      
-00017d60: 2020 6966 206d 6f6e 6974 6f72 5f6f 6e6c    if monitor_onl
-00017d70: 795f 7377 3a0a 2020 2020 2020 2020 2020  y_sw:.          
-00017d80: 2020 6d6f 6e5f 6f6e 6c79 5f73 7769 7463    mon_only_switc
-00017d90: 6865 7320 2b3d 205b 2241 4f53 5f53 225d  hes += ["AOS_S"]
-00017da0: 0a20 2020 2020 2020 2069 6620 6d6f 6e69  .        if moni
-00017db0: 746f 725f 6f6e 6c79 5f63 783a 0a20 2020  tor_only_cx:.   
-00017dc0: 2020 2020 2020 2020 206c 6f67 2e77 6172           log.war
-00017dd0: 6e69 6e67 2822 6d6f 6e69 746f 725f 6f6e  ning("monitor_on
-00017de0: 6c79 5f63 7820 6e6f 7420 7965 7420 7375  ly_cx not yet su
-00017df0: 7070 6f72 7465 6420 6279 2041 7275 6261  pported by Aruba
-00017e00: 2043 656e 7472 616c 222c 2073 686f 773d   Central", show=
-00017e10: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-00017e20: 2020 2320 6d6f 6e5f 6f6e 6c79 5f73 7769    # mon_only_swi
-00017e30: 7463 6865 7320 2b3d 205b 2241 4f53 5f43  tches += ["AOS_C
-00017e40: 5822 5d0a 0a20 2020 2020 2020 2061 6c6c  X"]..        all
-00017e50: 6f77 6564 5f74 7970 6573 203d 206c 6973  owed_types = lis
-00017e60: 7428 7365 7428 5b64 6576 5f74 7970 655f  t(set([dev_type_
-00017e70: 6469 6374 2e67 6574 2874 2920 666f 7220  dict.get(t) for 
-00017e80: 7420 696e 2061 6c6c 6f77 6564 5f74 7970  t in allowed_typ
-00017e90: 6573 5d29 290a 0a20 2020 2020 2020 2069  es]))..        i
-00017ea0: 6620 6d6f 6e5f 6f6e 6c79 5f73 7769 7463  f mon_only_switc
-00017eb0: 6865 7320 616e 6420 2253 7769 7463 6865  hes and "Switche
-00017ec0: 7322 206e 6f74 2069 6e20 616c 6c6f 7765  s" not in allowe
-00017ed0: 645f 7479 7065 733a 0a20 2020 2020 2020  d_types:.       
-00017ee0: 2020 2020 206c 6f67 2e77 6172 6e69 6e67       log.warning
-00017ef0: 2822 6967 6e6f 7269 6e67 206d 6f6e 6974  ("ignoring monit
-00017f00: 6f72 206f 6e6c 7920 7377 6974 6368 2073  or only switch s
-00017f10: 6574 7469 6e67 2061 7320 6e6f 2073 7769  etting as no swi
-00017f20: 7463 6865 7320 7765 7265 2073 7065 6369  tches were speci
-00017f30: 6669 6564 2061 7320 6265 696e 6720 616c  fied as being al
-00017f40: 6c6f 7765 6420 696e 2067 726f 7570 222c  lowed in group",
-00017f50: 2073 686f 773d 5472 7565 290a 0a20 2020   show=True)..   
-00017f60: 2020 2020 2069 6620 4e6f 6e65 2069 6e20       if None in 
-00017f70: 616c 6c6f 7765 645f 7479 7065 733a 0a20  allowed_types:. 
-00017f80: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00017f90: 2056 616c 7565 4572 726f 7228 2749 6e76   ValueError('Inv
-00017fa0: 616c 6964 2064 6576 6963 6520 7479 7065  alid device type
-00017fb0: 2066 6f72 2061 6c6c 6f77 6564 5f74 7970   for allowed_typ
-00017fc0: 6573 2076 616c 6964 2076 616c 7565 733a  es valid values:
-00017fd0: 2022 6170 222c 2022 6777 222c 2022 7377   "ap", "gw", "sw
-00017fe0: 222c 2022 6378 222c 2022 7377 6974 6368  ", "cx", "switch
-00017ff0: 2227 290a 2020 2020 2020 2020 6966 206d  "').        if m
-00018000: 6963 726f 6272 616e 6368 2061 6e64 206e  icrobranch and n
-00018010: 6f74 2061 6f73 3130 3a0a 2020 2020 2020  ot aos10:.      
-00018020: 2020 2020 2020 7261 6973 6520 5661 6c75        raise Valu
-00018030: 6545 7272 6f72 2822 496e 7661 6c69 6420  eError("Invalid 
-00018040: 636f 6d62 696e 6174 696f 6e2c 2047 726f  combination, Gro
-00018050: 7570 206d 7573 7420 6265 2063 6f6e 6669  up must be confi
-00018060: 6775 7265 6420 6173 2041 4f53 3130 2067  gured as AOS10 g
-00018070: 726f 7570 2074 6f20 7375 7070 6f72 7420  roup to support 
-00018080: 4d69 6372 6f62 7261 6e63 6822 290a 2020  Microbranch").  
-00018090: 2020 2020 2020 2320 6966 2077 6972 6564        # if wired
-000180a0: 5f74 6720 616e 6420 6d6f 6e69 746f 725f  _tg and monitor_
-000180b0: 6f6e 6c79 5f73 7720 6f72 206d 6f6e 6974  only_sw or monit
-000180c0: 6f72 5f6f 6e6c 795f 6378 3a0a 2020 2020  or_only_cx:.    
-000180d0: 2020 2020 6966 2077 6972 6564 5f74 6720      if wired_tg 
-000180e0: 616e 6420 6d6f 6e69 746f 725f 6f6e 6c79  and monitor_only
-000180f0: 5f73 773a 0a20 2020 2020 2020 2020 2020  _sw:.           
-00018100: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
-00018110: 7228 2249 6e76 616c 6964 2063 6f6d 6269  r("Invalid combi
-00018120: 6e61 7469 6f6e 2c20 4d6f 6e69 746f 7220  nation, Monitor 
-00018130: 4f6e 6c79 2069 7320 6e6f 7420 7661 6c69  Only is not vali
-00018140: 6420 666f 7220 5465 6d70 6c61 7465 2047  d for Template G
-00018150: 726f 7570 2229 0a0a 2020 2020 2020 2020  roup")..        
-00018160: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
-00018170: 2020 2020 2020 2020 2020 2267 726f 7570            "group
-00018180: 223a 2067 726f 7570 2c0a 2020 2020 2020  ": group,.      
-00018190: 2020 2020 2020 2267 726f 7570 5f61 7474        "group_att
-000181a0: 7269 6275 7465 7322 3a20 7b0a 2020 2020  ributes": {.    
-000181b0: 2020 2020 2020 2020 2020 2020 2274 656d              "tem
-000181c0: 706c 6174 655f 696e 666f 223a 207b 0a20  plate_info": {. 
-000181d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000181e0: 2020 2022 5769 7265 6422 3a20 7769 7265     "Wired": wire
-000181f0: 645f 7467 2c0a 2020 2020 2020 2020 2020  d_tg,.          
-00018200: 2020 2020 2020 2020 2020 2257 6972 656c            "Wirel
-00018210: 6573 7322 3a20 776c 616e 5f74 670a 2020  ess": wlan_tg.  
-00018220: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
-00018230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018240: 2022 6772 6f75 705f 7072 6f70 6572 7469   "group_properti
-00018250: 6573 223a 207b 0a20 2020 2020 2020 2020  es": {.         
-00018260: 2020 2020 2020 2020 2020 2022 416c 6c6f             "Allo
-00018270: 7765 6444 6576 5479 7065 7322 3a20 616c  wedDevTypes": al
-00018280: 6c6f 7765 645f 7479 7065 732c 0a20 2020  lowed_types,.   
-00018290: 2020 2020 2020 2020 2020 2020 207d 0a20               }. 
-000182a0: 2020 2020 2020 2020 2020 207d 0a20 2020             }.   
-000182b0: 2020 2020 207d 0a20 2020 2020 2020 2069       }.        i
-000182c0: 6620 6777 5f72 6f6c 6520 616e 6420 2247  f gw_role and "G
-000182d0: 6174 6577 6179 7322 2069 6e20 616c 6c6f  ateways" in allo
-000182e0: 7765 645f 7479 7065 733a 0a20 2020 2020  wed_types:.     
-000182f0: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
-00018300: 5b22 6772 6f75 705f 6174 7472 6962 7574  ["group_attribut
-00018310: 6573 225d 5b22 6772 6f75 705f 7072 6f70  es"]["group_prop
-00018320: 6572 7469 6573 225d 5b22 4777 4e65 7477  erties"]["GwNetw
-00018330: 6f72 6b52 6f6c 6522 5d20 3d20 6777 5f72  orkRole"] = gw_r
-00018340: 6f6c 650a 2020 2020 2020 2020 2020 2020  ole.            
-00018350: 6a73 6f6e 5f64 6174 615b 2267 726f 7570  json_data["group
-00018360: 5f61 7474 7269 6275 7465 7322 5d5b 2267  _attributes"]["g
-00018370: 726f 7570 5f70 726f 7065 7274 6965 7322  roup_properties"
-00018380: 5d5b 2241 7263 6869 7465 6374 7572 6522  ]["Architecture"
-00018390: 5d20 3d20 5c0a 2020 2020 2020 2020 2020  ] = \.          
-000183a0: 2020 2020 2020 2249 6e73 7461 6e74 2220        "Instant" 
-000183b0: 6966 206e 6f74 2061 6f73 3130 2065 6c73  if not aos10 els
-000183c0: 6520 2241 4f53 3130 220a 2020 2020 2020  e "AOS10".      
-000183d0: 2020 6966 2022 4163 6365 7373 506f 696e    if "AccessPoin
-000183e0: 7473 2220 696e 2061 6c6c 6f77 6564 5f74  ts" in allowed_t
-000183f0: 7970 6573 3a0a 2020 2020 2020 2020 2020  ypes:.          
-00018400: 2020 6a73 6f6e 5f64 6174 615b 2267 726f    json_data["gro
-00018410: 7570 5f61 7474 7269 6275 7465 7322 5d5b  up_attributes"][
-00018420: 2267 726f 7570 5f70 726f 7065 7274 6965  "group_propertie
-00018430: 7322 5d5b 2241 704e 6574 776f 726b 526f  s"]["ApNetworkRo
-00018440: 6c65 225d 203d 205c 0a20 2020 2020 2020  le"] = \.       
-00018450: 2020 2020 2020 2020 2022 5374 616e 6461           "Standa
-00018460: 7264 2220 6966 206e 6f74 206d 6963 726f  rd" if not micro
-00018470: 6272 616e 6368 2065 6c73 6520 224d 6963  branch else "Mic
-00018480: 726f 6272 616e 6368 220a 2020 2020 2020  robranch".      
-00018490: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
-000184a0: 2267 726f 7570 5f61 7474 7269 6275 7465  "group_attribute
-000184b0: 7322 5d5b 2267 726f 7570 5f70 726f 7065  s"]["group_prope
-000184c0: 7274 6965 7322 5d5b 2241 7263 6869 7465  rties"]["Archite
-000184d0: 6374 7572 6522 5d20 3d20 5c0a 2020 2020  cture"] = \.    
-000184e0: 2020 2020 2020 2020 2020 2020 2249 6e73              "Ins
-000184f0: 7461 6e74 2220 6966 206e 6f74 2061 6f73  tant" if not aos
-00018500: 3130 2065 6c73 6520 2241 4f53 3130 220a  10 else "AOS10".
-00018510: 2020 2020 2020 2020 6966 2022 5377 6974          if "Swit
-00018520: 6368 6573 2220 696e 2061 6c6c 6f77 6564  ches" in allowed
-00018530: 5f74 7970 6573 3a0a 2020 2020 2020 2020  _types:.        
-00018540: 2020 2020 6a73 6f6e 5f64 6174 615b 2267      json_data["g
-00018550: 726f 7570 5f61 7474 7269 6275 7465 7322  roup_attributes"
-00018560: 5d5b 2267 726f 7570 5f70 726f 7065 7274  ]["group_propert
-00018570: 6965 7322 5d5b 2241 6c6c 6f77 6564 5377  ies"]["AllowedSw
-00018580: 6974 6368 5479 7065 7322 5d20 3d20 5c0a  itchTypes"] = \.
-00018590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000185a0: 616c 6c6f 7765 645f 7377 6974 6368 5f74  allowed_switch_t
-000185b0: 7970 6573 0a20 2020 2020 2020 2020 2020  ypes.           
-000185c0: 2069 6620 6d6f 6e5f 6f6e 6c79 5f73 7769   if mon_only_swi
-000185d0: 7463 6865 733a 0a20 2020 2020 2020 2020  tches:.         
-000185e0: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
-000185f0: 5b22 6772 6f75 705f 6174 7472 6962 7574  ["group_attribut
-00018600: 6573 225d 5b22 6772 6f75 705f 7072 6f70  es"]["group_prop
-00018610: 6572 7469 6573 225d 5b22 4d6f 6e69 746f  erties"]["Monito
-00018620: 724f 6e6c 7922 5d20 3d20 5c0a 2020 2020  rOnly"] = \.    
-00018630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018640: 6d6f 6e5f 6f6e 6c79 5f73 7769 7463 6865  mon_only_switche
-00018650: 730a 0a20 2020 2020 2020 2072 6574 7572  s..        retur
-00018660: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
-00018670: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
-00018680: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
-00018690: 2061 7379 6e63 2064 6566 2063 6c6f 6e65   async def clone
-000186a0: 5f67 726f 7570 280a 2020 2020 2020 2020  _group(.        
-000186b0: 7365 6c66 2c0a 2020 2020 2020 2020 636c  self,.        cl
-000186c0: 6f6e 655f 6772 6f75 703a 2073 7472 2c0a  one_group: str,.
-000186d0: 2020 2020 2020 2020 6e65 775f 6772 6f75          new_grou
-000186e0: 703a 2073 7472 2c0a 2020 2020 2020 2020  p: str,.        
-000186f0: 7570 6772 6164 655f 616f 7331 303a 2062  upgrade_aos10: b
-00018700: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-00018710: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-00018720: 2020 2020 2020 2020 2222 2243 6c6f 6e65          """Clone
-00018730: 2061 6e64 2063 7265 6174 6520 6e65 7720   and create new 
-00018740: 6772 6f75 702e 0a0a 2020 2020 2020 2020  group...        
-00018750: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00018760: 2020 636c 6f6e 655f 6772 6f75 7020 2873    clone_group (s
-00018770: 7472 293a 2047 726f 7570 2074 6f20 6265  tr): Group to be
-00018780: 2063 6c6f 6e65 642e 0a20 2020 2020 2020   cloned..       
-00018790: 2020 2020 206e 6577 5f67 726f 7570 2028       new_group (
-000187a0: 7374 7229 3a20 4e61 6d65 206f 6620 6772  str): Name of gr
-000187b0: 6f75 7020 746f 2062 6520 6372 6561 7465  oup to be create
-000187c0: 6420 6261 7365 6420 6f6e 2063 6c6f 6e65  d based on clone
-000187d0: 2e0a 2020 2020 2020 2020 2020 2020 7570  ..            up
-000187e0: 6772 6164 655f 616f 7331 3020 2862 6f6f  grade_aos10 (boo
-000187f0: 6c29 3a20 5365 7420 5472 7565 2074 6f20  l): Set True to 
-00018800: 5570 6461 7465 2074 6865 206e 6577 2063  Update the new c
-00018810: 6c6f 6e65 6420 6772 6f75 7020 746f 2041  loned group to A
-00018820: 4f53 3130 2e0a 0a20 2020 2020 2020 2052  OS10...        R
-00018830: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00018840: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-00018850: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00018860: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00018870: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-00018880: 203d 2022 2f63 6f6e 6669 6775 7261 7469   = "/configurati
-00018890: 6f6e 2f76 322f 6772 6f75 7073 2f63 6c6f  on/v2/groups/clo
-000188a0: 6e65 220a 0a20 2020 2020 2020 2069 6620  ne"..        if 
-000188b0: 7570 6772 6164 655f 616f 7331 303a 0a20  upgrade_aos10:. 
-000188c0: 2020 2020 2020 2020 2020 206c 6f67 2e77             log.w
-000188d0: 6172 6e69 6e67 280a 2020 2020 2020 2020  arning(.        
-000188e0: 2020 2020 2020 2020 2247 726f 7570 206d          "Group m
-000188f0: 6179 206e 6f74 2062 6520 7570 6772 6164  ay not be upgrad
-00018900: 6564 2074 6f20 414f 5331 302c 2041 5049  ed to AOS10, API
-00018910: 206d 6574 686f 6420 6170 7065 6172 7320   method appears 
-00018920: 746f 2068 6176 6520 736f 6d65 2063 6176  to have some cav
-00018930: 6561 7473 2e2e 2e20 446f 6573 6e27 7420  eats... Doesn't 
-00018940: 616c 7761 7973 2077 6f72 6b2e 220a 2020  always work.".  
-00018950: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
-00018960: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-00018970: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-00018980: 6772 6f75 7027 3a20 6e65 775f 6772 6f75  group': new_grou
-00018990: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
-000189a0: 636c 6f6e 655f 6772 6f75 7027 3a20 636c  clone_group': cl
-000189b0: 6f6e 655f 6772 6f75 702c 0a20 2020 2020  one_group,.     
-000189c0: 2020 2020 2020 2027 7570 6772 6164 655f         'upgrade_
-000189d0: 6172 6368 6974 6563 7475 7265 273a 2075  architecture': u
-000189e0: 7067 7261 6465 5f61 6f73 3130 2c0a 2020  pgrade_aos10,.  
-000189f0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-00018a00: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00018a10: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
-00018a20: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
-00018a30: 290a 0a20 2020 2023 2041 5049 2d46 4c41  )..    # API-FLA
-00018a40: 5720 6164 6420 6170 2061 6e64 2067 7720  W add ap and gw 
-00018a50: 746f 2067 726f 7570 2077 6974 6820 6777  to group with gw
-00018a60: 2d72 6f6c 6520 6173 2077 6c61 6e20 616e  -role as wlan an
-00018a70: 6420 7570 6772 6164 6520 746f 2061 6f73  d upgrade to aos
-00018a80: 3130 2e20 2052 6574 7572 6e73 2032 3030  10.  Returns 200
-00018a90: 2c20 6275 7420 6e6f 2063 6861 6e67 6573  , but no changes
-00018aa0: 206d 6164 650a 2020 2020 6173 796e 6320   made.    async 
-00018ab0: 6465 6620 7570 6461 7465 5f67 726f 7570  def update_group
-00018ac0: 5f70 726f 7065 7274 6965 7328 0a20 2020  _properties(.   
-00018ad0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-00018ae0: 2020 2067 726f 7570 3a20 7374 722c 0a20     group: str,. 
-00018af0: 2020 2020 2020 2061 6c6c 6f77 6564 5f74         allowed_t
-00018b00: 7970 6573 3a20 556e 696f 6e5b 636f 6e73  ypes: Union[cons
-00018b10: 7461 6e74 732e 416c 6c44 6576 5479 7065  tants.AllDevType
-00018b20: 732c 204c 6973 745b 636f 6e73 7461 6e74  s, List[constant
-00018b30: 732e 416c 6c44 6576 5479 7065 735d 5d20  s.AllDevTypes]] 
-00018b40: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00018b50: 7769 7265 645f 7467 3a20 626f 6f6c 203d  wired_tg: bool =
-00018b60: 204e 6f6e 652c 0a20 2020 2020 2020 2077   None,.        w
-00018b70: 6c61 6e5f 7467 3a20 626f 6f6c 203d 204e  lan_tg: bool = N
-00018b80: 6f6e 652c 0a20 2020 2020 2020 2061 6f73  one,.        aos
-00018b90: 3130 3a20 626f 6f6c 203d 204e 6f6e 652c  10: bool = None,
-00018ba0: 0a20 2020 2020 2020 206d 6963 726f 6272  .        microbr
-00018bb0: 616e 6368 3a20 626f 6f6c 203d 204e 6f6e  anch: bool = Non
-00018bc0: 652c 0a20 2020 2020 2020 2067 775f 726f  e,.        gw_ro
-00018bd0: 6c65 3a20 636f 6e73 7461 6e74 732e 4761  le: constants.Ga
-00018be0: 7465 7761 7952 6f6c 6520 3d20 4e6f 6e65  tewayRole = None
-00018bf0: 2c0a 2020 2020 2020 2020 6d6f 6e69 746f  ,.        monito
-00018c00: 725f 6f6e 6c79 5f73 773a 2062 6f6f 6c20  r_only_sw: bool 
-00018c10: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00018c20: 6d6f 6e69 746f 725f 6f6e 6c79 5f63 783a  monitor_only_cx:
-00018c30: 2062 6f6f 6c20 3d20 4e6f 6e65 2c20 2023   bool = None,  #
-00018c40: 204e 6f74 2073 7570 706f 7274 6564 2062   Not supported b
-00018c50: 7920 6365 6e74 7261 6c20 7965 740a 2020  y central yet.  
-00018c60: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-00018c70: 0a20 2020 2020 2020 2022 2222 5570 6461  .        """Upda
-00018c80: 7465 2070 726f 7065 7274 6965 7320 666f  te properties fo
-00018c90: 7220 7468 6520 6769 7665 6e20 6772 6f75  r the given grou
-00018ca0: 702e 0a0a 2020 2020 2020 2020 2f2f 2055  p...        // U
-00018cb0: 7365 6420 6279 2075 7064 6174 6520 6772  sed by update gr
-00018cc0: 6f75 7020 2f2f 0a0a 2020 2020 2020 2020  oup //..        
-00018cd0: 2d20 5468 6520 7570 6461 7465 206f 6620  - The update of 
-00018ce0: 7065 7273 6f6e 6120 616e 6420 636f 6e66  persona and conf
-00018cf0: 6967 7572 6174 696f 6e20 6d6f 6465 2073  iguration mode s
-00018d00: 6574 2066 6f72 2065 7869 7374 696e 6720  et for existing 
-00018d10: 6465 7669 6365 2074 7970 6573 2069 7320  device types is 
-00018d20: 6e6f 7420 7065 726d 6974 7465 642e 0a20  not permitted.. 
-00018d30: 2020 2020 2020 202d 2043 616e 2075 7064         - Can upd
-00018d40: 6174 6520 6672 6f6d 2073 7461 6e64 6172  ate from standar
-00018d50: 6420 4150 2074 6f20 4d69 6372 6f42 7261  d AP to MicroBra
-00018d60: 6e63 682c 2062 7574 2063 616e 2774 2067  nch, but can't g
-00018d70: 6f20 6261 636b 0a20 2020 2020 2020 202d  o back.        -
-00018d80: 2043 616e 2075 7064 6174 6520 746f 2041   Can update to A
-00018d90: 4f53 3130 2c20 6275 7420 6361 6e27 7420  OS10, but can't 
-00018da0: 676f 2062 6163 6b0a 2020 2020 2020 2020  go back.        
-00018db0: 2d20 4361 6e20 4164 6420 416c 6c6f 7765  - Can Add Allowe
-00018dc0: 6420 4465 7669 6365 2054 7970 6573 2c20  d Device Types, 
-00018dd0: 6275 7420 6361 6e27 7420 7265 6d6f 7665  but can't remove
-00018de0: 2e0a 2020 2020 2020 2020 2d20 4361 6e20  ..        - Can 
-00018df0: 4164 6420 416c 6c6f 7765 6420 5377 6974  Add Allowed Swit
-00018e00: 6368 2054 7970 6573 2c20 6275 7420 6361  ch Types, but ca
-00018e10: 6e27 7420 7265 6d6f 7665 2e0a 2020 2020  n't remove..    
-00018e20: 2020 2020 2d20 4361 6e20 6f6e 6c79 2063      - Can only c
-00018e30: 6861 6e67 6520 6d6f 6e5f 6f6e 6c79 5f73  hange mon_only_s
-00018e40: 7720 616e 6420 7769 7265 645f 7467 2077  w and wired_tg w
-00018e50: 6865 6e20 6164 6469 6e67 2073 7769 7463  hen adding switc
-00018e60: 6865 7320 2863 782c 2073 7729 2074 6f20  hes (cx, sw) to 
-00018e70: 616c 6c6f 7765 645f 6465 7669 6365 5f74  allowed_device_t
-00018e80: 7970 6573 0a0a 0a20 2020 2020 2020 2041  ypes...        A
-00018e90: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00018ea0: 2067 726f 7570 2028 7374 7229 3a20 4772   group (str): Gr
-00018eb0: 6f75 7020 4e61 6d65 0a20 2020 2020 2020  oup Name.       
-00018ec0: 2020 2020 2061 6c6c 6f77 6564 5f74 7970       allowed_typ
-00018ed0: 6573 2028 7374 722c 204c 6973 745b 7374  es (str, List[st
-00018ee0: 725d 293a 2041 6c6c 6f77 6564 2044 6576  r]): Allowed Dev
-00018ef0: 6963 6520 5479 7065 7320 696e 2074 6865  ice Types in the
-00018f00: 2067 726f 7570 2e20 5461 6273 2066 6f72   group. Tabs for
-00018f10: 2064 6576 6963 6573 206e 6f74 2061 6c6c   devices not all
-00018f20: 6f77 6564 0a20 2020 2020 2020 2020 2020  owed.           
-00018f30: 2020 2020 2077 6f6e 2774 2064 6973 706c       won't displ
-00018f40: 6179 2069 6e20 5549 2e20 2076 616c 6964  ay in UI.  valid
-00018f50: 2076 616c 7565 7320 2261 7022 2c20 2267   values "ap", "g
-00018f60: 7722 2c20 2263 7822 2c20 2273 7722 2c20  w", "cx", "sw", 
-00018f70: 2273 7769 7463 6822 0a20 2020 2020 2020  "switch".       
-00018f80: 2020 2020 2020 2020 2028 2273 7769 7463           ("switc
-00018f90: 6822 2069 7320 6765 6e65 7269 632c 2077  h" is generic, w
-00018fa0: 696c 6c20 656e 6162 6c65 2062 6f74 6820  ill enable both 
-00018fb0: 6378 2061 6e64 2073 7729 0a20 2020 2020  cx and sw).     
-00018fc0: 2020 2020 2020 2077 6972 6564 5f74 6720         wired_tg 
-00018fd0: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
-00018fe0: 3a20 5365 7420 746f 2074 7275 6520 6966  : Set to true if
-00018ff0: 2077 6972 6564 2853 7769 7463 6829 2063   wired(Switch) c
-00019000: 6f6e 6669 6775 7261 7469 6f6e 2069 6e20  onfiguration in 
-00019010: 6120 6772 6f75 7020 6973 206d 616e 6167  a group is manag
-00019020: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
-00019030: 2020 2075 7369 6e67 2074 656d 706c 6174     using templat
-00019040: 6573 2e0a 2020 2020 2020 2020 2020 2020  es..            
-00019050: 776c 616e 5f74 6720 2862 6f6f 6c2c 206f  wlan_tg (bool, o
-00019060: 7074 696f 6e61 6c29 3a20 5365 7420 746f  ptional): Set to
-00019070: 2074 7275 6520 6966 2077 6972 656c 6573   true if wireles
-00019080: 7328 4941 502c 2047 6174 6577 6179 7329  s(IAP, Gateways)
-00019090: 2063 6f6e 6669 6775 7261 7469 6f6e 2069   configuration i
-000190a0: 6e20 610a 2020 2020 2020 2020 2020 2020  n a.            
-000190b0: 2020 2020 6772 6f75 7020 6973 206d 616e      group is man
-000190c0: 6167 6564 2075 7369 6e67 2074 656d 706c  aged using templ
-000190d0: 6174 6573 2e0a 2020 2020 2020 2020 2020  ates..          
-000190e0: 2020 616f 7331 303a 2028 626f 6f6c 293a    aos10: (bool):
-000190f0: 2069 6620 5472 7565 2075 7365 2041 4f53   if True use AOS
-00019100: 3130 2061 7263 6869 7465 6374 7572 6520  10 architecture 
-00019110: 666f 7220 7468 6520 6163 6365 7373 2070  for the access p
-00019120: 6f69 6e74 7320 616e 6420 6761 7465 7761  oints and gatewa
-00019130: 7973 2069 6e20 7468 6520 6772 6f75 702e  ys in the group.
-00019140: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019150: 2064 6566 6175 6c74 2046 616c 7365 2028   default False (
-00019160: 496e 7374 616e 7429 0a20 2020 2020 2020  Instant).       
-00019170: 2020 2020 206d 6963 726f 6272 616e 6368       microbranch
-00019180: 2028 626f 6f6c 293a 2054 7275 6520 746f   (bool): True to
-00019190: 2065 6e61 626c 6520 4d69 6372 6f62 7261   enable Microbra
-000191a0: 6e63 6820 6e65 7477 6f72 6b20 726f 6c65  nch network role
-000191b0: 2066 6f72 2041 5073 2069 7320 6170 706c   for APs is appl
-000191c0: 6963 6162 6c65 206f 6e6c 7920 666f 7220  icable only for 
-000191d0: 414f 5331 3020 6172 6368 6974 6563 7475  AOS10 architectu
-000191e0: 7265 2e0a 2020 2020 2020 2020 2020 2020  re..            
-000191f0: 6777 5f72 6f6c 6520 2847 6174 6577 6179  gw_role (Gateway
-00019200: 526f 6c65 293a 2047 6174 6577 6179 2072  Role): Gateway r
-00019210: 6f6c 6520 7661 6c69 6420 7661 6c75 6573  ole valid values
-00019220: 2022 6272 616e 6368 222c 2022 7670 6e63   "branch", "vpnc
-00019230: 222c 2022 776c 616e 2220 2822 776c 616e  ", "wlan" ("wlan
-00019240: 2220 6f6e 6c79 2076 616c 6964 206f 6e20  " only valid on 
-00019250: 414f 5331 3020 6772 6f75 7029 0a20 2020  AOS10 group).   
-00019260: 2020 2020 2020 2020 206d 6f6e 6974 6f72           monitor
-00019270: 5f6f 6e6c 795f 7377 3a20 4d6f 6e69 746f  _only_sw: Monito
-00019280: 7220 6f6e 6c79 2041 7275 6261 4f53 2d53  r only ArubaOS-S
-00019290: 5720 7377 6974 6368 6573 2c20 6170 706c  W switches, appl
-000192a0: 6965 7320 746f 2055 4920 6772 6f75 7020  ies to UI group 
-000192b0: 6f6e 6c79 0a20 2020 2020 2020 2020 2020  only.           
-000192c0: 206d 6f6e 6974 6f72 5f6f 6e6c 795f 6378   monitor_only_cx
-000192d0: 3a20 4d6f 6e69 746f 7220 6f6e 6c79 2041  : Monitor only A
-000192e0: 7275 6261 4f53 2d43 5820 7377 6974 6368  rubaOS-CX switch
-000192f0: 6573 2c20 6170 706c 6965 7320 746f 2055  es, applies to U
-00019300: 4920 6772 6f75 7020 6f6e 6c79 2028 4675  I group only (Fu
-00019310: 7475 7265 2063 6170 6162 696c 6974 7929  ture capability)
-00019320: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00019330: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-00019340: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-00019350: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-00019360: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00019370: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-00019380: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
-00019390: 322f 6772 6f75 7073 2f7b 6772 6f75 707d  2/groups/{group}
-000193a0: 2f70 726f 7065 7274 6965 7322 0a0a 2020  /properties"..  
-000193b0: 2020 2020 2020 7265 7370 203d 2061 7761        resp = awa
-000193c0: 6974 2073 656c 662e 6765 745f 6772 6f75  it self.get_grou
-000193d0: 7073 5f70 726f 7065 7274 6965 7328 6772  ps_properties(gr
-000193e0: 6f75 7029 0a20 2020 2020 2020 2069 6620  oup).        if 
-000193f0: 7265 7370 3a0a 2020 2020 2020 2020 2020  resp:.          
-00019400: 2020 6966 206e 6f74 2069 7369 6e73 7461    if not isinsta
-00019410: 6e63 6528 7265 7370 2e6f 7574 7075 742c  nce(resp.output,
-00019420: 206c 6973 7429 3a0a 2020 2020 2020 2020   list):.        
-00019430: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
-00019440: 6c75 6545 7272 6f72 2866 2245 7870 6563  lueError(f"Expec
-00019450: 7465 6420 6c69 7374 206f 6620 6469 6374  ted list of dict
-00019460: 7320 6672 6f6d 2067 6574 5f67 726f 7570  s from get_group
-00019470: 735f 7072 6f70 6572 7469 6573 2067 6f74  s_properties got
-00019480: 207b 7479 7065 2872 6573 702e 6f75 7470   {type(resp.outp
-00019490: 7574 297d 2229 0a20 2020 2020 2020 2020  ut)}").         
-000194a0: 2020 2063 7572 5f67 726f 7570 5f70 726f     cur_group_pro
-000194b0: 7073 203d 2072 6573 702e 6f75 7470 7574  ps = resp.output
-000194c0: 5b2d 315d 5b22 7072 6f70 6572 7469 6573  [-1]["properties
-000194d0: 225d 0a20 2020 2020 2020 2065 6c73 653a  "].        else:
-000194e0: 0a20 2020 2020 2020 2020 2020 206c 6f67  .            log
-000194f0: 2e65 7272 6f72 2866 2255 6e61 626c 6520  .error(f"Unable 
-00019500: 746f 2070 6572 666f 726d 2063 616c 6c20  to perform call 
-00019510: 746f 2075 7064 6174 6520 6772 6f75 7020  to update group 
-00019520: 7b67 726f 7570 7d20 7072 6f70 6572 7469  {group} properti
-00019530: 6573 2e20 2043 616c 6c20 746f 2067 6574  es.  Call to get
-00019540: 2063 7572 7265 6e74 2070 726f 7065 7274   current propert
-00019550: 6965 7320 6661 696c 6564 2e22 290a 2020  ies failed.").  
-00019560: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00019570: 2072 6573 700a 0a20 2020 2020 2020 2069   resp..        i
-00019580: 6620 6375 725f 6772 6f75 705f 7072 6f70  f cur_group_prop
-00019590: 735b 2241 4f53 5665 7273 696f 6e22 5d20  s["AOSVersion"] 
-000195a0: 3d3d 2022 414f 535f 3130 5822 2061 6e64  == "AOS_10X" and
-000195b0: 2061 6f73 3130 2069 7320 4661 6c73 653a   aos10 is False:
-000195c0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-000195d0: 7572 6e20 5265 7370 6f6e 7365 280a 2020  urn Response(.  
-000195e0: 2020 2020 2020 2020 2020 2020 2020 6572                er
-000195f0: 726f 723d 6622 7b67 726f 7570 7d20 6973  ror=f"{group} is
-00019600: 2063 7572 7265 6e74 6c79 2061 6e20 414f   currently an AO
-00019610: 5331 3020 6772 6f75 702e 2020 5570 6772  S10 group.  Upgr
-00019620: 6164 696e 6720 746f 2041 4f53 3130 2069  ading to AOS10 i
-00019630: 7320 7375 7070 6f72 7465 642c 2072 6576  s supported, rev
-00019640: 6572 7469 6e67 2062 6163 6b20 6973 206e  erting back is n
-00019650: 6f74 2e22 2c0a 2020 2020 2020 2020 2020  ot.",.          
-00019660: 2020 2020 2020 726c 5f73 7472 3d72 6573        rl_str=res
-00019670: 702e 726c 2c0a 2020 2020 2020 2020 2020  p.rl,.          
-00019680: 2020 290a 2020 2020 2020 2020 6966 2061    ).        if a
-00019690: 6f73 3130 2069 7320 5472 7565 3a0a 2020  os10 is True:.  
-000196a0: 2020 2020 2020 2020 2020 6966 2022 4163            if "Ac
-000196b0: 6365 7373 506f 696e 7473 2220 696e 2063  cessPoints" in c
-000196c0: 7572 5f67 726f 7570 5f70 726f 7073 5b22  ur_group_props["
-000196d0: 416c 6c6f 7765 6444 6576 5479 7065 7322  AllowedDevTypes"
-000196e0: 5d20 6f72 205c 0a20 2020 2020 2020 2020  ] or \.         
-000196f0: 2020 2020 2020 2022 4761 7465 7761 7973         "Gateways
-00019700: 2220 696e 2063 7572 5f67 726f 7570 5f70  " in cur_group_p
-00019710: 726f 7073 5b22 416c 6c6f 7765 6444 6576  rops["AllowedDev
-00019720: 5479 7065 7322 5d3a 0a20 2020 2020 2020  Types"]:.       
-00019730: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00019740: 5265 7370 6f6e 7365 280a 2020 2020 2020  Response(.      
-00019750: 2020 2020 2020 2020 2020 2020 2020 6572                er
-00019760: 726f 723d 6622 7b63 6f6c 6f72 2827 414f  ror=f"{color('AO
-00019770: 5331 3027 297d 2063 616e 206f 6e6c 7920  S10')} can only 
-00019780: 6265 2073 6574 2077 6865 6e20 4150 7320  be set when APs 
-00019790: 6f72 2047 5773 2061 7265 2069 6e69 7469  or GWs are initi
-000197a0: 616c 6c79 2061 6464 6564 2074 6f20 616c  ally added to al
-000197b0: 6c6f 7765 645f 7479 7065 7320 6f66 2067  lowed_types of g
-000197c0: 726f 7570 220a 2020 2020 2020 2020 2020  roup".          
-000197d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000197e0: 6622 5c6e 7b63 6f6c 6f72 2867 726f 7570  f"\n{color(group
-000197f0: 297d 2063 616e 2062 6520 636c 6f6e 6564  )} can be cloned
-00019800: 2077 6974 6820 6f70 7469 6f6e 2074 6f20   with option to 
-00019810: 7570 6772 6164 6520 6475 7269 6e67 2063  upgrade during c
-00019820: 6c6f 6e65 2e22 2c0a 2020 2020 2020 2020  lone.",.        
-00019830: 2020 2020 2020 2020 2020 2020 726c 5f73              rl_s
-00019840: 7472 3d72 6573 702e 726c 2c0a 2020 2020  tr=resp.rl,.    
-00019850: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
-00019860: 2020 2020 2020 2069 6620 2241 6363 6573         if "Acces
-00019870: 7350 6f69 6e74 7322 2069 6e20 6375 725f  sPoints" in cur_
-00019880: 6772 6f75 705f 7072 6f70 735b 2241 6c6c  group_props["All
-00019890: 6f77 6564 4465 7654 7970 6573 225d 3a0a  owedDevTypes"]:.
-000198a0: 2020 2020 2020 2020 2020 2020 6966 206d              if m
-000198b0: 6963 726f 6272 616e 6368 2069 7320 6e6f  icrobranch is no
-000198c0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-000198d0: 2020 2020 2020 2020 7265 7475 726e 2052          return R
-000198e0: 6573 706f 6e73 6528 0a20 2020 2020 2020  esponse(.       
-000198f0: 2020 2020 2020 2020 2020 2020 2065 7272               err
-00019900: 6f72 3d66 227b 6772 6f75 707d 2061 6c72  or=f"{group} alr
-00019910: 6561 6479 2061 6c6c 6f77 7320 4150 732e  eady allows APs.
-00019920: 2020 4d69 6372 6f62 7261 6e63 682f 5374    Microbranch/St
-00019930: 616e 6461 7264 2041 5020 6361 6e20 6f6e  andard AP can on
-00019940: 6c79 2062 6520 7365 7420 220a 2020 2020  ly be set ".    
-00019950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019960: 2020 2020 2020 2277 6865 6e20 696e 6974        "when init
-00019970: 6961 6c6c 7920 6164 6469 6e67 2041 5073  ially adding APs
-00019980: 2074 6f20 616c 6c6f 7765 645f 7479 7065   to allowed_type
-00019990: 7320 6f66 2067 726f 7570 222c 0a20 2020  s of group",.   
-000199a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000199b0: 2072 6c5f 7374 723d 7265 7370 2e72 6c2c   rl_str=resp.rl,
-000199c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000199d0: 2029 0a20 2020 2020 2020 2069 6620 6d6f   ).        if mo
-000199e0: 6e69 746f 725f 6f6e 6c79 5f73 7720 6973  nitor_only_sw is
-000199f0: 2046 616c 7365 2061 6e64 2022 414f 535f   False and "AOS_
-00019a00: 5322 2069 6e20 6375 725f 6772 6f75 705f  S" in cur_group_
-00019a10: 7072 6f70 735b 2241 6c6c 6f77 6564 5377  props["AllowedSw
-00019a20: 6974 6368 5479 7065 7322 5d3a 0a20 2020  itchTypes"]:.   
-00019a30: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00019a40: 5265 7370 6f6e 7365 280a 2020 2020 2020  Response(.      
-00019a50: 2020 2020 2020 2020 2020 6572 726f 723d            error=
-00019a60: 6622 7b67 726f 7570 7d20 616c 7265 6164  f"{group} alread
-00019a70: 7920 616c 6c6f 7773 2041 4f53 2d53 572e  y allows AOS-SW.
-00019a80: 2020 4d6f 6e69 746f 7220 4f6e 6c79 2063    Monitor Only c
-00019a90: 616e 206f 6e6c 7920 6265 2073 6574 2022  an only be set "
-00019aa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019ab0: 2020 2020 2020 2022 7768 656e 2069 6e69         "when ini
-00019ac0: 7469 616c 6c79 2061 6464 696e 6720 414f  tially adding AO
-00019ad0: 532d 5357 2074 6f20 616c 6c6f 7765 645f  S-SW to allowed_
-00019ae0: 7479 7065 7320 6f66 2067 726f 7570 222c  types of group",
-00019af0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019b00: 2072 6c5f 7374 723d 7265 7370 2e72 6c2c   rl_str=resp.rl,
-00019b10: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-00019b20: 2020 2020 2020 2069 6620 6d6f 6e69 746f         if monito
-00019b30: 725f 6f6e 6c79 5f63 7820 6973 2046 616c  r_only_cx is Fal
-00019b40: 7365 2061 6e64 2022 414f 535f 4358 2220  se and "AOS_CX" 
-00019b50: 696e 2063 7572 5f67 726f 7570 5f70 726f  in cur_group_pro
-00019b60: 7073 5b22 416c 6c6f 7765 6453 7769 7463  ps["AllowedSwitc
-00019b70: 6854 7970 6573 225d 3a0a 2020 2020 2020  hTypes"]:.      
-00019b80: 2020 2020 2020 7265 7475 726e 2052 6573        return Res
-00019b90: 706f 6e73 6528 0a20 2020 2020 2020 2020  ponse(.         
-00019ba0: 2020 2020 2020 2065 7272 6f72 3d66 227b         error=f"{
-00019bb0: 6772 6f75 707d 2061 6c72 6561 6479 2061  group} already a
-00019bc0: 6c6c 6f77 7320 414f 532d 4358 2e20 204d  llows AOS-CX.  M
-00019bd0: 6f6e 6974 6f72 204f 6e6c 7920 6361 6e20  onitor Only can 
-00019be0: 6f6e 6c79 2062 6520 7365 7420 220a 2020  only be set ".  
-00019bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019c00: 2020 2020 2277 6865 6e20 696e 6974 6961      "when initia
-00019c10: 6c6c 7920 6164 6469 6e67 2041 4f53 2d43  lly adding AOS-C
-00019c20: 5820 746f 2061 6c6c 6f77 6564 5f74 7970  X to allowed_typ
-00019c30: 6573 206f 6620 6772 6f75 7022 2c0a 2020  es of group",.  
-00019c40: 2020 2020 2020 2020 2020 2020 2020 726c                rl
-00019c50: 5f73 7472 3d72 6573 702e 726c 2c0a 2020  _str=resp.rl,.  
-00019c60: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
-00019c70: 2020 2020 2061 6c6c 6f77 6564 5f74 7970       allowed_typ
-00019c80: 6573 203d 2061 6c6c 6f77 6564 5f74 7970  es = allowed_typ
-00019c90: 6573 206f 7220 5b5d 0a20 2020 2020 2020  es or [].       
-00019ca0: 2061 6c6c 6f77 6564 5f73 7769 7463 685f   allowed_switch_
-00019cb0: 7479 7065 7320 3d20 5b5d 0a20 2020 2020  types = [].     
-00019cc0: 2020 2069 6620 616c 6c6f 7765 645f 7479     if allowed_ty
-00019cd0: 7065 733a 0a20 2020 2020 2020 2020 2020  pes:.           
-00019ce0: 2061 6c6c 6f77 6564 5f74 7970 6573 203d   allowed_types =
-00019cf0: 2075 7469 6c73 2e6c 6973 7469 6679 2861   utils.listify(a
-00019d00: 6c6c 6f77 6564 5f74 7970 6573 290a 2020  llowed_types).  
-00019d10: 2020 2020 2020 2020 2020 6966 2022 7377            if "sw
-00019d20: 6974 6368 2220 696e 2061 6c6c 6f77 6564  itch" in allowed
-00019d30: 5f74 7970 6573 206f 7220 2822 6378 2220  _types or ("cx" 
-00019d40: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
-00019d50: 2061 6e64 2022 7377 2220 696e 2061 6c6c   and "sw" in all
-00019d60: 6f77 6564 5f74 7970 6573 293a 0a20 2020  owed_types):.   
-00019d70: 2020 2020 2020 2020 2020 2020 2061 6c6c               all
-00019d80: 6f77 6564 5f73 7769 7463 685f 7479 7065  owed_switch_type
-00019d90: 7320 2b3d 205b 2241 4f53 5f43 5822 2c20  s += ["AOS_CX", 
-00019da0: 2241 4f53 5f53 225d 0a20 2020 2020 2020  "AOS_S"].       
-00019db0: 2020 2020 2065 6c69 6620 2273 7722 2069       elif "sw" i
-00019dc0: 6e20 616c 6c6f 7765 645f 7479 7065 733a  n allowed_types:
-00019dd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019de0: 2061 6c6c 6f77 6564 5f73 7769 7463 685f   allowed_switch_
-00019df0: 7479 7065 7320 2b3d 205b 2241 4f53 5f53  types += ["AOS_S
-00019e00: 225d 0a20 2020 2020 2020 2020 2020 2065  "].            e
-00019e10: 6c69 6620 2263 7822 2069 6e20 616c 6c6f  lif "cx" in allo
-00019e20: 7765 645f 7479 7065 733a 0a20 2020 2020  wed_types:.     
-00019e30: 2020 2020 2020 2020 2020 2061 6c6c 6f77             allow
-00019e40: 6564 5f73 7769 7463 685f 7479 7065 7320  ed_switch_types 
-00019e50: 2b3d 205b 2241 4f53 5f43 5822 5d0a 0a20  += ["AOS_CX"].. 
-00019e60: 2020 2020 2020 2023 2070 7269 6e74 2822         # print("
-00019e70: 5b44 4542 5547 5d20 2d2d 2d2d 2043 7572  [DEBUG] ---- Cur
-00019e80: 7265 6e74 2050 726f 7065 7274 6965 7320  rent Properties 
-00019e90: 6f66 2067 726f 7570 2229 0a20 2020 2020  of group").     
-00019ea0: 2020 2023 2075 7469 6c73 2e6a 736f 6e5f     # utils.json_
-00019eb0: 7072 696e 7428 6375 725f 6772 6f75 705f  print(cur_group_
-00019ec0: 7072 6f70 7329 0a20 2020 2020 2020 2023  props).        #
-00019ed0: 2070 7269 6e74 2822 5b44 4542 5547 5d20   print("[DEBUG] 
-00019ee0: 2d2d 2d2d 2229 0a20 2020 2020 2020 2023  ----").        #
-00019ef0: 2054 4f44 4f20 636f 7079 2070 6173 7465   TODO copy paste
-00019f00: 2066 726f 6d20 6372 6561 7465 2067 726f   from create gro
-00019f10: 7570 202e 2e2e 2063 6f6d 6d6f 6e20 6675  up ... common fu
-00019f20: 6e63 2074 6f20 6275 696c 6420 7061 796c  nc to build payl
-00019f30: 6f61 640a 2020 2020 2020 2020 6777 5f72  oad.        gw_r
-00019f40: 6f6c 655f 6469 6374 203d 207b 0a20 2020  ole_dict = {.   
-00019f50: 2020 2020 2020 2020 2022 6272 616e 6368           "branch
-00019f60: 223a 2022 4272 616e 6368 4761 7465 7761  ": "BranchGatewa
-00019f70: 7922 2c0a 2020 2020 2020 2020 2020 2020  y",.            
-00019f80: 2276 706e 6322 3a20 2256 504e 436f 6e63  "vpnc": "VPNConc
-00019f90: 656e 7472 6174 6f72 222c 0a20 2020 2020  entrator",.     
-00019fa0: 2020 2020 2020 2022 776c 616e 223a 2022         "wlan": "
-00019fb0: 574c 414e 4761 7465 7761 7922 2c0a 2020  WLANGateway",.  
-00019fc0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-00019fd0: 6465 765f 7479 7065 5f64 6963 7420 3d20  dev_type_dict = 
-00019fe0: 7b0a 2020 2020 2020 2020 2020 2020 2261  {.            "a
-00019ff0: 7022 3a20 2241 6363 6573 7350 6f69 6e74  p": "AccessPoint
-0001a000: 7322 2c0a 2020 2020 2020 2020 2020 2020  s",.            
-0001a010: 2267 7722 3a20 2247 6174 6577 6179 7322  "gw": "Gateways"
-0001a020: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
-0001a030: 7769 7463 6822 3a20 2253 7769 7463 6865  witch": "Switche
-0001a040: 7322 2c0a 2020 2020 2020 2020 2020 2020  s",.            
-0001a050: 2263 7822 3a20 2253 7769 7463 6865 7322  "cx": "Switches"
-0001a060: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
-0001a070: 7722 3a20 2253 7769 7463 6865 7322 2c0a  w": "Switches",.
-0001a080: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-0001a090: 2020 6777 5f72 6f6c 6520 3d20 6777 5f72    gw_role = gw_r
-0001a0a0: 6f6c 655f 6469 6374 2e67 6574 2867 775f  ole_dict.get(gw_
-0001a0b0: 726f 6c65 290a 0a20 2020 2020 2020 206d  role)..        m
-0001a0c0: 6f6e 5f6f 6e6c 795f 7377 6974 6368 6573  on_only_switches
-0001a0d0: 203d 205b 5d0a 2020 2020 2020 2020 6966   = [].        if
-0001a0e0: 206d 6f6e 6974 6f72 5f6f 6e6c 795f 7377   monitor_only_sw
-0001a0f0: 3a0a 2020 2020 2020 2020 2020 2020 6d6f  :.            mo
-0001a100: 6e5f 6f6e 6c79 5f73 7769 7463 6865 7320  n_only_switches 
-0001a110: 2b3d 205b 2241 4f53 5f53 225d 0a20 2020  += ["AOS_S"].   
-0001a120: 2020 2020 2069 6620 6d6f 6e69 746f 725f       if monitor_
-0001a130: 6f6e 6c79 5f63 783a 0a20 2020 2020 2020  only_cx:.       
-0001a140: 2020 2020 206d 6f6e 5f6f 6e6c 795f 7377       mon_only_sw
-0001a150: 6974 6368 6573 202b 3d20 5b22 414f 535f  itches += ["AOS_
-0001a160: 4358 225d 0a20 2020 2020 2020 2020 2020  CX"].           
-0001a170: 2072 6169 7365 204e 6f74 496d 706c 656d   raise NotImplem
-0001a180: 656e 7465 6445 7272 6f72 2822 414f 535f  entedError("AOS_
-0001a190: 4358 204d 6f6e 6974 6f72 204f 6e6c 7920  CX Monitor Only 
-0001a1a0: 6e6f 7420 7375 7070 6f72 7465 6420 696e  not supported in
-0001a1b0: 2043 656e 7472 616c 2079 6574 2e22 290a   Central yet.").
-0001a1c0: 0a20 2020 2020 2020 2061 7263 6820 3d20  .        arch = 
-0001a1d0: 4e6f 6e65 0a20 2020 2020 2020 2069 6620  None.        if 
-0001a1e0: 6d69 6372 6f62 7261 6e63 6820 6973 206e  microbranch is n
-0001a1f0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-0001a200: 2020 2020 2069 6620 616f 7331 3020 6973       if aos10 is
-0001a210: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-0001a220: 2020 2020 2020 2020 2020 2061 7263 6820             arch 
-0001a230: 3d20 2249 6e73 7461 6e74 2220 6966 206e  = "Instant" if n
-0001a240: 6f74 2061 6f73 3130 2065 6c73 6520 2241  ot aos10 else "A
-0001a250: 4f53 3130 220a 0a20 2020 2020 2020 2061  OS10"..        a
-0001a260: 6c6c 6f77 6564 5f74 7970 6573 203d 206c  llowed_types = l
-0001a270: 6973 7428 7365 7428 5b64 6576 5f74 7970  ist(set([dev_typ
-0001a280: 655f 6469 6374 2e67 6574 2874 2920 666f  e_dict.get(t) fo
-0001a290: 7220 7420 696e 2061 6c6c 6f77 6564 5f74  r t in allowed_t
-0001a2a0: 7970 6573 5d29 290a 2020 2020 2020 2020  ypes])).        
-0001a2b0: 636f 6d62 696e 6564 5f61 6c6c 6f77 6564  combined_allowed
-0001a2c0: 203d 205b 2a61 6c6c 6f77 6564 5f74 7970   = [*allowed_typ
-0001a2d0: 6573 2c20 2a63 7572 5f67 726f 7570 5f70  es, *cur_group_p
-0001a2e0: 726f 7073 5b22 416c 6c6f 7765 6444 6576  rops["AllowedDev
-0001a2f0: 5479 7065 7322 5d5d 0a0a 2020 2020 2020  Types"]]..      
-0001a300: 2020 6966 204e 6f6e 6520 696e 2061 6c6c    if None in all
-0001a310: 6f77 6564 5f74 7970 6573 3a0a 2020 2020  owed_types:.    
-0001a320: 2020 2020 2020 2020 7265 7475 726e 2052          return R
-0001a330: 6573 706f 6e73 6528 0a20 2020 2020 2020  esponse(.       
-0001a340: 2020 2020 2020 2020 2065 7272 6f72 3d27           error='
-0001a350: 496e 7661 6c69 6420 6465 7669 6365 2074  Invalid device t
-0001a360: 7970 6520 666f 7220 616c 6c6f 7765 645f  ype for allowed_
-0001a370: 7479 7065 7320 7661 6c69 6420 7661 6c75  types valid valu
-0001a380: 6573 3a20 2261 7022 2c20 2267 7722 2c20  es: "ap", "gw", 
-0001a390: 2273 7722 2c20 2263 7822 2c20 2273 7769  "sw", "cx", "swi
-0001a3a0: 7463 6822 272c 0a20 2020 2020 2020 2020  tch"',.         
-0001a3b0: 2020 2020 2020 2072 6c5f 7374 723d 7265         rl_str=re
-0001a3c0: 7370 2e72 6c2c 0a20 2020 2020 2020 2020  sp.rl,.         
-0001a3d0: 2020 2029 0a20 2020 2020 2020 2069 6620     ).        if 
-0001a3e0: 6d69 6372 6f62 7261 6e63 6820 616e 6420  microbranch and 
-0001a3f0: 6e6f 7420 616f 7331 303a 0a20 2020 2020  not aos10:.     
-0001a400: 2020 2020 2020 2072 6574 7572 6e20 5265         return Re
-0001a410: 7370 6f6e 7365 280a 2020 2020 2020 2020  sponse(.        
-0001a420: 2020 2020 2020 2020 6572 726f 723d 2249          error="I
-0001a430: 6e76 616c 6964 2063 6f6d 6269 6e61 7469  nvalid combinati
-0001a440: 6f6e 2c20 4772 6f75 7020 6d75 7374 2062  on, Group must b
-0001a450: 6520 636f 6e66 6967 7572 6564 2061 7320  e configured as 
-0001a460: 414f 5331 3020 6772 6f75 7020 746f 2073  AOS10 group to s
-0001a470: 7570 706f 7274 204d 6963 726f 6272 616e  upport Microbran
-0001a480: 6368 222c 0a20 2020 2020 2020 2020 2020  ch",.           
-0001a490: 2020 2020 2072 6c5f 7374 723d 7265 7370       rl_str=resp
-0001a4a0: 2e72 6c2c 0a20 2020 2020 2020 2020 2020  .rl,.           
-0001a4b0: 2029 0a20 2020 2020 2020 2069 6620 6d69   ).        if mi
-0001a4c0: 6372 6f62 7261 6e63 6820 616e 6420 2241  crobranch and "A
-0001a4d0: 6363 6573 7350 6f69 6e74 7322 206e 6f74  ccessPoints" not
-0001a4e0: 2069 6e20 636f 6d62 696e 6564 5f61 6c6c   in combined_all
-0001a4f0: 6f77 6564 3a0a 2020 2020 2020 2020 2020  owed:.          
-0001a500: 2020 7265 7475 726e 2052 6573 706f 6e73    return Respons
-0001a510: 6528 0a20 2020 2020 2020 2020 2020 2020  e(.             
-0001a520: 2020 2065 7272 6f72 3d66 2249 6e76 616c     error=f"Inval
-0001a530: 6964 2063 6f6d 6269 6e61 7469 6f6e 2c20  id combination, 
-0001a540: 7b63 6f6c 6f72 2827 4d69 6372 6f62 7261  {color('Microbra
-0001a550: 6e63 6827 297d 2022 0a20 2020 2020 2020  nch')} ".       
-0001a560: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0001a570: 2263 616e 206e 6f74 2062 6520 656e 6162  "can not be enab
-0001a580: 6c65 6420 696e 2067 726f 7570 207b 636f  led in group {co
-0001a590: 6c6f 7228 6772 6f75 7029 7d2e 2020 220a  lor(group)}.  ".
-0001a5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a5b0: 2020 2020 2020 2241 5073 206d 7573 7420        "APs must 
-0001a5c0: 6265 2061 6464 6564 2074 6f20 616c 6c6f  be added to allo
-0001a5d0: 7765 6420 6465 7669 6365 732e 5c6e 220a  wed devices.\n".
-0001a5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a5f0: 2020 2020 2020 6622 5b72 6573 6574 5d43        f"[reset]C
-0001a600: 7572 7265 6e74 2041 6c6c 6f77 6564 2044  urrent Allowed D
-0001a610: 6576 6963 6573 3a20 7b63 6f6c 6f72 2863  evices: {color(c
-0001a620: 6f6d 6269 6e65 645f 616c 6c6f 7765 6429  ombined_allowed)
-0001a630: 7d22 2c0a 2020 2020 2020 2020 2020 2020  }",.            
-0001a640: 2020 2020 726c 5f73 7472 3d72 6573 702e      rl_str=resp.
-0001a650: 726c 2c0a 2020 2020 2020 2020 2020 2020  rl,.            
-0001a660: 290a 2020 2020 2020 2020 2320 6966 2022  ).        # if "
-0001a670: 4761 7465 7761 7973 2220 696e 2063 6f6d  Gateways" in com
-0001a680: 6269 6e65 645f 616c 6c6f 7765 6420 6f72  bined_allowed or
-0001a690: 2022 4163 6365 7373 506f 696e 7473 2220   "AccessPoints" 
-0001a6a0: 696e 2063 6f6d 6269 6e65 645f 616c 6c6f  in combined_allo
-0001a6b0: 7765 643a 0a20 2020 2020 2020 2023 2020  wed:.        #  
-0001a6c0: 2020 2069 6620 616f 7331 3020 6973 206e     if aos10 is n
-0001a6d0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-0001a6e0: 2023 2020 2020 2020 2020 2072 6574 7572   #         retur
-0001a6f0: 6e20 5265 7370 6f6e 7365 280a 2020 2020  n Response(.    
-0001a700: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-0001a710: 2020 6572 726f 723d 6622 7b63 6f6c 6f72    error=f"{color
-0001a720: 2827 414f 5331 3027 297d 2063 616e 206f  ('AOS10')} can o
-0001a730: 6e6c 7920 6265 2073 6574 2077 6865 6e20  nly be set when 
-0001a740: 4150 7320 6f72 2047 5773 2061 7265 2069  APs or GWs are i
-0001a750: 6e69 7469 616c 6c79 2061 6464 6564 2074  nitially added t
-0001a760: 6f20 616c 6c6f 7765 645f 7479 7065 7320  o allowed_types 
-0001a770: 6f66 2067 726f 7570 220a 2020 2020 2020  of group".      
-0001a780: 2020 2320 2020 2020 2020 2020 2020 2020    #             
-0001a790: 2020 2020 2020 6622 5c6e 7b63 6f6c 6f72        f"\n{color
-0001a7a0: 2867 726f 7570 297d 2063 616e 2062 6520  (group)} can be 
-0001a7b0: 636c 6f6e 6564 2077 6974 6820 6f70 7469  cloned with opti
-0001a7c0: 6f6e 2074 6f20 7570 6772 6164 6520 6475  on to upgrade du
-0001a7d0: 7269 6e67 2063 6c6f 6e65 2e22 2c0a 2020  ring clone.",.  
-0001a7e0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0001a7f0: 2020 2020 726c 5f73 7472 3d72 6573 702e      rl_str=resp.
-0001a800: 726c 2c0a 2020 2020 2020 2020 2320 2020  rl,.        #   
-0001a810: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0001a820: 2320 6966 2077 6972 6564 5f74 6720 616e  # if wired_tg an
-0001a830: 6420 6d6f 6e69 746f 725f 6f6e 6c79 5f73  d monitor_only_s
-0001a840: 7720 6f72 206d 6f6e 6974 6f72 5f6f 6e6c  w or monitor_onl
-0001a850: 795f 6378 3a0a 2020 2020 2020 2020 6966  y_cx:.        if
-0001a860: 2077 6972 6564 5f74 6720 616e 6420 6d6f   wired_tg and mo
-0001a870: 6e69 746f 725f 6f6e 6c79 5f73 773a 0a20  nitor_only_sw:. 
-0001a880: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0001a890: 6e20 5265 7370 6f6e 7365 280a 2020 2020  n Response(.    
-0001a8a0: 2020 2020 2020 2020 2020 2020 6572 726f              erro
-0001a8b0: 723d 2249 6e76 616c 6964 2063 6f6d 6269  r="Invalid combi
-0001a8c0: 6e61 7469 6f6e 2c20 4d6f 6e69 746f 7220  nation, Monitor 
-0001a8d0: 4f6e 6c79 2069 7320 6e6f 7420 7661 6c69  Only is not vali
-0001a8e0: 6420 666f 7220 5465 6d70 6c61 7465 2047  d for Template G
-0001a8f0: 726f 7570 222c 0a20 2020 2020 2020 2020  roup",.         
-0001a900: 2020 2020 2020 2072 6c5f 7374 723d 7265         rl_str=re
-0001a910: 7370 2e72 6c2c 0a20 2020 2020 2020 2020  sp.rl,.         
-0001a920: 2020 2029 0a0a 2020 2020 2020 2020 6772     )..        gr
-0001a930: 705f 7072 6f70 7320 3d20 7b0a 2020 2020  p_props = {.    
-0001a940: 2020 2020 2020 2020 2241 6c6c 6f77 6564          "Allowed
-0001a950: 4465 7654 7970 6573 223a 2063 6f6d 6269  DevTypes": combi
-0001a960: 6e65 645f 616c 6c6f 7765 642c 0a20 2020  ned_allowed,.   
-0001a970: 2020 2020 2020 2020 2022 4172 6368 6974           "Archit
-0001a980: 6563 7475 7265 223a 2061 7263 6820 6f72  ecture": arch or
-0001a990: 2063 7572 5f67 726f 7570 5f70 726f 7073   cur_group_props
-0001a9a0: 2e67 6574 2822 4172 6368 6974 6563 7475  .get("Architectu
-0001a9b0: 7265 2229 2c0a 2020 2020 2020 2020 2020  re"),.          
-0001a9c0: 2020 2241 6c6c 6f77 6564 5377 6974 6368    "AllowedSwitch
-0001a9d0: 5479 7065 7322 3a20 616c 6c6f 7765 645f  Types": allowed_
-0001a9e0: 7377 6974 6368 5f74 7970 6573 206f 7220  switch_types or 
-0001a9f0: 6375 725f 6772 6f75 705f 7072 6f70 732e  cur_group_props.
-0001aa00: 6765 7428 2241 6c6c 6f77 6564 5377 6974  get("AllowedSwit
-0001aa10: 6368 5479 7065 7322 2c20 5b5d 292c 0a20  chTypes", []),. 
-0001aa20: 2020 2020 2020 2020 2020 2022 4d6f 6e69             "Moni
-0001aa30: 746f 724f 6e6c 7922 3a20 6d6f 6e5f 6f6e  torOnly": mon_on
-0001aa40: 6c79 5f73 7769 7463 6865 7320 6f72 2063  ly_switches or c
-0001aa50: 7572 5f67 726f 7570 5f70 726f 7073 2e67  ur_group_props.g
-0001aa60: 6574 2822 4d6f 6e69 746f 724f 6e6c 7953  et("MonitorOnlyS
-0001aa70: 7769 7463 6822 290a 2020 2020 2020 2020  witch").        
-0001aa80: 7d0a 2020 2020 2020 2020 6772 705f 7072  }.        grp_pr
-0001aa90: 6f70 7320 3d20 7b6b 3a20 7620 666f 7220  ops = {k: v for 
-0001aaa0: 6b2c 2076 2069 6e20 6772 705f 7072 6f70  k, v in grp_prop
-0001aab0: 732e 6974 656d 7328 2920 6966 2076 7d0a  s.items() if v}.
-0001aac0: 0a20 2020 2020 2020 2069 6620 6777 5f72  .        if gw_r
-0001aad0: 6f6c 6520 616e 6420 2247 6174 6577 6179  ole and "Gateway
-0001aae0: 7322 2069 6e20 616c 6c6f 7765 645f 7479  s" in allowed_ty
-0001aaf0: 7065 733a 0a20 2020 2020 2020 2020 2020  pes:.           
-0001ab00: 2067 7270 5f70 726f 7073 5b22 4777 4e65   grp_props["GwNe
-0001ab10: 7477 6f72 6b52 6f6c 6522 5d20 3d20 6777  tworkRole"] = gw
-0001ab20: 5f72 6f6c 650a 2020 2020 2020 2020 6966  _role.        if
-0001ab30: 2022 4163 6365 7373 506f 696e 7473 2220   "AccessPoints" 
-0001ab40: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
-0001ab50: 206f 7220 2241 6363 6573 7350 6f69 6e74   or "AccessPoint
-0001ab60: 7322 2069 6e20 6375 725f 6772 6f75 705f  s" in cur_group_
-0001ab70: 7072 6f70 735b 2241 6c6c 6f77 6564 4465  props["AllowedDe
-0001ab80: 7654 7970 6573 225d 3a0a 2020 2020 2020  vTypes"]:.      
-0001ab90: 2020 2020 2020 6966 206d 6963 726f 6272        if microbr
-0001aba0: 616e 6368 2069 7320 6e6f 7420 4e6f 6e65  anch is not None
-0001abb0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001abc0: 2020 6772 705f 7072 6f70 735b 2241 704e    grp_props["ApN
-0001abd0: 6574 776f 726b 526f 6c65 225d 203d 205c  etworkRole"] = \
-0001abe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001abf0: 2020 2020 2022 5374 616e 6461 7264 2220       "Standard" 
-0001ac00: 6966 206e 6f74 206d 6963 726f 6272 616e  if not microbran
-0001ac10: 6368 2065 6c73 6520 224d 6963 726f 6272  ch else "Microbr
-0001ac20: 616e 6368 220a 0a20 2020 2020 2020 2074  anch"..        t
-0001ac30: 6d70 6c74 5f69 6e66 6f20 3d20 7b0a 2020  mplt_info = {.  
-0001ac40: 2020 2020 2020 2020 2020 2257 6972 6564            "Wired
-0001ac50: 223a 2077 6972 6564 5f74 672c 0a20 2020  ": wired_tg,.   
-0001ac60: 2020 2020 2020 2020 2022 5769 7265 6c65           "Wirele
-0001ac70: 7373 223a 2077 6c61 6e5f 7467 0a20 2020  ss": wlan_tg.   
-0001ac80: 2020 2020 207d 0a20 2020 2020 2020 2074       }.        t
-0001ac90: 6d70 6c74 5f69 6e66 6f20 3d20 7574 696c  mplt_info = util
-0001aca0: 732e 7374 7269 705f 6e6f 6e65 2874 6d70  s.strip_none(tmp
-0001acb0: 6c74 5f69 6e66 6f29 0a0a 2020 2020 2020  lt_info)..      
-0001acc0: 2020 6772 705f 6174 7472 7320 3d20 7b7d    grp_attrs = {}
-0001acd0: 0a20 2020 2020 2020 2069 6620 746d 706c  .        if tmpl
-0001ace0: 745f 696e 666f 3a0a 2020 2020 2020 2020  t_info:.        
-0001acf0: 2020 2020 6772 705f 6174 7472 735b 2274      grp_attrs["t
-0001ad00: 656d 706c 6174 655f 696e 666f 225d 203d  emplate_info"] =
-0001ad10: 2074 6d70 6c74 5f69 6e66 6f0a 2020 2020   tmplt_info.    
-0001ad20: 2020 2020 6966 2067 7270 5f70 726f 7073      if grp_props
-0001ad30: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
-0001ad40: 705f 6174 7472 735b 2267 726f 7570 5f70  p_attrs["group_p
-0001ad50: 726f 7065 7274 6965 7322 5d20 3d20 7b0a  roperties"] = {.
-0001ad60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ad70: 2a2a 7b6b 3a20 7620 666f 7220 6b2c 2076  **{k: v for k, v
-0001ad80: 2069 6e20 6375 725f 6772 6f75 705f 7072   in cur_group_pr
-0001ad90: 6f70 732e 6974 656d 7328 2920 6966 206b  ops.items() if k
-0001ada0: 206e 6f74 2069 6e20 5b22 414f 5356 6572   not in ["AOSVer
-0001adb0: 7369 6f6e 222c 2022 4d6f 6e69 746f 724f  sion", "MonitorO
-0001adc0: 6e6c 7922 5d7d 2c0a 2020 2020 2020 2020  nly"]},.        
-0001add0: 2020 2020 2020 2020 2a2a 6772 705f 7072          **grp_pr
-0001ade0: 6f70 730a 2020 2020 2020 2020 2020 2020  ops.            
-0001adf0: 7d0a 2020 2020 2020 2020 6a73 6f6e 5f64  }.        json_d
-0001ae00: 6174 6120 3d20 6772 705f 6174 7472 730a  ata = grp_attrs.
-0001ae10: 0a20 2020 2020 2020 2023 206a 736f 6e5f  .        # json_
-0001ae20: 6461 7461 203d 207b 2267 726f 7570 223a  data = {"group":
-0001ae30: 2067 726f 7570 7d0a 2020 2020 2020 2020   group}.        
-0001ae40: 2320 6966 2067 7270 5f61 7474 7273 3a0a  # if grp_attrs:.
-0001ae50: 2020 2020 2020 2020 2320 2020 2020 6a73          #     js
-0001ae60: 6f6e 5f64 6174 615b 2267 726f 7570 5f61  on_data["group_a
-0001ae70: 7474 7269 6275 7465 7322 5d20 3d20 6772  ttributes"] = gr
-0001ae80: 705f 6174 7472 730a 0a0a 0a20 2020 2020  p_attrs....     
-0001ae90: 2020 2023 2069 6620 6c65 6e28 6a73 6f6e     # if len(json
-0001aea0: 5f64 6174 6129 203d 3d20 313a 0a20 2020  _data) == 1:.   
-0001aeb0: 2020 2020 2023 2020 2020 2072 6169 7365       #     raise
-0001aec0: 2056 616c 7565 4572 726f 7228 224e 6f20   ValueError("No 
-0001aed0: 4368 616e 6765 7320 4465 7465 6374 6564  Changes Detected
-0001aee0: 2229 0a20 2020 2020 2020 2023 2065 6c73  ").        # els
-0001aef0: 653a 0a20 2020 2020 2020 2069 6620 636f  e:.        if co
-0001af00: 6e66 6967 2e64 6562 7567 763a 0a20 2020  nfig.debugv:.   
-0001af10: 2020 2020 2020 2020 2070 7269 6e74 2866           print(f
-0001af20: 225b 4445 4255 475d 202d 2d2d 2d20 5365  "[DEBUG] ---- Se
-0001af30: 6e64 696e 6720 7468 6520 666f 6c6c 6f77  nding the follow
-0001af40: 696e 6720 746f 207b 7572 6c7d 2229 0a20  ing to {url}"). 
-0001af50: 2020 2020 2020 2020 2020 2075 7469 6c73             utils
-0001af60: 2e6a 736f 6e5f 7072 696e 7428 6a73 6f6e  .json_print(json
-0001af70: 5f64 6174 6129 0a20 2020 2020 2020 2020  _data).         
-0001af80: 2020 2070 7269 6e74 2822 5b44 4542 5547     print("[DEBUG
-0001af90: 5d20 2d2d 2d2d 2229 0a0a 2020 2020 2020  ] ----")..      
-0001afa0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0001afb0: 656c 662e 7061 7463 6828 7572 6c2c 206a  elf.patch(url, j
-0001afc0: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
-0001afd0: 7461 290a 2020 2020 2020 2020 2320 2320  ta).        # # 
-0001afe0: 4649 584d 4520 7265 6d6f 7665 2064 6562  FIXME remove deb
-0001aff0: 7567 2070 7269 6e74 730a 2020 2020 2020  ug prints.      
-0001b000: 2020 2320 7072 696e 7428 7572 6c29 0a20    # print(url). 
-0001b010: 2020 2020 2020 2023 2066 726f 6d20 7269         # from ri
-0001b020: 6368 2069 6d70 6f72 7420 7072 696e 745f  ch import print_
-0001b030: 6a73 6f6e 0a20 2020 2020 2020 2023 2070  json.        # p
-0001b040: 7269 6e74 5f6a 736f 6e28 6461 7461 3d6a  rint_json(data=j
-0001b050: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
-0001b060: 7379 6e63 2064 6566 2075 7064 6174 655f  sync def update_
-0001b070: 6772 6f75 705f 6e61 6d65 2873 656c 662c  group_name(self,
-0001b080: 2067 726f 7570 3a20 7374 722c 206e 6577   group: str, new
-0001b090: 5f67 726f 7570 3a20 7374 7229 202d 3e20  _group: str) -> 
-0001b0a0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-0001b0b0: 2020 2222 2255 7064 6174 6520 6772 6f75    """Update grou
-0001b0c0: 7020 6e61 6d65 2066 6f72 2074 6865 2067  p name for the g
-0001b0d0: 6976 656e 2067 726f 7570 2e0a 0a20 2020  iven group...   
-0001b0e0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0001b0f0: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
-0001b100: 7229 3a20 4772 6f75 7020 666f 7220 7768  r): Group for wh
-0001b110: 6963 6820 6e61 6d65 206e 6565 6420 746f  ich name need to
-0001b120: 2062 6520 7570 6461 7465 642e 0a20 2020   be updated..   
-0001b130: 2020 2020 2020 2020 206e 6577 5f67 726f           new_gro
-0001b140: 7570 2028 7374 7229 3a20 5468 6520 6e65  up (str): The ne
-0001b150: 7720 6e61 6d65 206f 6620 7468 6520 6772  w name of the gr
-0001b160: 6f75 702e 0a0a 2020 2020 2020 2020 5265  oup...        Re
-0001b170: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0001b180: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-0001b190: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-0001b1a0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-0001b1b0: 2222 220a 2020 2020 2020 2020 2320 544f  """.        # TO
-0001b1c0: 444f 2072 6570 6f72 7420 666c 6177 6564  DO report flawed
-0001b1d0: 2041 5049 206d 6574 686f 640a 2020 2020   API method.    
-0001b1e0: 2020 2020 2320 5468 6973 2077 6f72 6b73      # This works
-0001b1f0: 2066 6f72 2072 656e 616d 696e 6720 3878   for renaming 8x
-0001b200: 2067 726f 7570 730a 2020 2020 2020 2020   groups.        
-0001b210: 2320 6966 2079 6f75 2074 7279 2074 6f20  # if you try to 
-0001b220: 7265 6e61 6d65 2061 2031 3078 2067 726f  rename a 10x gro
-0001b230: 7570 2069 6e61 7070 726f 7072 6961 7465  up inappropriate
-0001b240: 2065 7272 6f72 3a0a 2020 2020 2020 2020   error:.        
-0001b250: 2320 5b0a 2020 2020 2020 2020 2320 2020  # [.        #   
-0001b260: 2020 7b0a 2020 2020 2020 2020 2320 2020    {.        #   
-0001b270: 2020 2020 2020 2264 6573 6372 6970 7469        "descripti
-0001b280: 6f6e 223a 2022 6772 6f75 7020 616c 7265  on": "group alre
-0001b290: 6164 7920 6861 7320 414f 535f 3130 5820  ady has AOS_10X 
-0001b2a0: 7665 7273 696f 6e20 7365 7422 2c0a 2020  version set",.  
-0001b2b0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0001b2c0: 2265 7272 6f72 5f63 6f64 6522 3a20 2230  "error_code": "0
-0001b2d0: 3030 3122 2c0a 2020 2020 2020 2020 2320  001",.        # 
-0001b2e0: 2020 2020 2020 2020 2273 6572 7669 6365          "service
-0001b2f0: 5f6e 616d 6522 3a20 2243 6f6e 6669 6775  _name": "Configu
-0001b300: 7261 7469 6f6e 220a 2020 2020 2020 2020  ration".        
-0001b310: 2320 2020 2020 7d0a 2020 2020 2020 2020  #     }.        
-0001b320: 2320 5d0a 2020 2020 2020 2020 2320 4920  # ].        # I 
-0001b330: 6469 6420 7472 7920 772f 2066 756c 6c20  did try w/ full 
-0001b340: 7061 796c 6f61 6420 7369 6d69 6c61 7220  payload similar 
-0001b350: 746f 2067 6574 5f67 726f 7570 2070 726f  to get_group pro
-0001b360: 7073 2072 6573 700a 2020 2020 2020 2020  ps resp.        
-0001b370: 2320 692e 652e 0a20 2020 2020 2020 2023  # i.e..        #
-0001b380: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
-0001b390: 2022 6772 6f75 7022 3a20 226e 6577 5f6e   "group": "new_n
-0001b3a0: 616d 6522 2c0a 2020 2020 2020 2020 2320  ame",.        # 
-0001b3b0: 2020 2020 2270 726f 7065 7274 6965 7322      "properties"
-0001b3c0: 3a20 7b0a 2020 2020 2020 2020 2320 2020  : {.        #   
-0001b3d0: 2020 2020 2020 2241 4f53 5665 7273 696f        "AOSVersio
-0001b3e0: 6e22 3a20 2241 4f53 5f31 3058 222c 2020  n": "AOS_10X",  
-0001b3f0: 3c2d 2074 7269 6564 2073 7065 6369 6679  <- tried specify
-0001b400: 696e 6720 6772 6f75 7020 6973 2061 6c72  ing group is alr
-0001b410: 6561 6479 2031 3078 0a20 2020 2020 2020  eady 10x.       
-0001b420: 2023 2020 2020 2020 2020 2022 4d6f 6e69   #         "Moni
-0001b430: 746f 724f 6e6c 7953 7769 7463 6822 3a20  torOnlySwitch": 
-0001b440: 4661 6c73 650a 2020 2020 2020 2020 2320  False.        # 
-0001b450: 2020 2020 7d0a 2020 2020 2020 2020 2320      }.        # 
-0001b460: 7d0a 2020 2020 2020 2020 7572 6c20 3d20  }.        url = 
-0001b470: 6622 2f63 6f6e 6669 6775 7261 7469 6f6e  f"/configuration
-0001b480: 2f76 312f 6772 6f75 7073 2f7b 6772 6f75  /v1/groups/{grou
-0001b490: 707d 2f6e 616d 6522 0a0a 2020 2020 2020  p}/name"..      
-0001b4a0: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
-0001b4b0: 2020 2020 2020 2020 2020 2020 2767 726f              'gro
-0001b4c0: 7570 273a 206e 6577 5f67 726f 7570 0a20  up': new_group. 
-0001b4d0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-0001b4e0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0001b4f0: 656c 662e 7061 7463 6828 7572 6c2c 206a  elf.patch(url, j
-0001b500: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
-0001b510: 7461 290a 0a20 2020 2061 7379 6e63 2064  ta)..    async d
-0001b520: 6566 2067 6574 5f61 705f 7365 7474 696e  ef get_ap_settin
-0001b530: 6773 2873 656c 662c 2073 6572 6961 6c5f  gs(self, serial_
-0001b540: 6e75 6d62 6572 3a20 7374 7229 202d 3e20  number: str) -> 
-0001b550: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-0001b560: 2020 2222 2247 6574 2061 6e20 6578 6973    """Get an exis
-0001b570: 7469 6e67 2061 7020 7365 7474 696e 6773  ting ap settings
-0001b580: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
-0001b590: 6564 2069 6e64 6972 6563 746c 7920 2875  ed indirectly (u
-0001b5a0: 7064 6174 655f 6170 5f73 6574 7469 6e67  pdate_ap_setting
-0001b5b0: 7329 2062 7920 6261 7463 6820 7265 6e61  s) by batch rena
-0001b5c0: 6d65 2041 5020 2f2f 0a0a 2020 2020 2020  me AP //..      
-0001b5d0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-0001b5e0: 2020 2020 7365 7269 616c 5f6e 756d 6265      serial_numbe
-0001b5f0: 7220 2873 7472 293a 2041 5020 7365 7269  r (str): AP seri
-0001b600: 616c 206e 756d 6265 722e 0a0a 2020 2020  al number...    
-0001b610: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-0001b620: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-0001b630: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-0001b640: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-0001b650: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001b660: 2020 7572 6c20 3d20 6622 2f63 6f6e 6669    url = f"/confi
-0001b670: 6775 7261 7469 6f6e 2f76 322f 6170 5f73  guration/v2/ap_s
-0001b680: 6574 7469 6e67 732f 7b73 6572 6961 6c5f  ettings/{serial_
-0001b690: 6e75 6d62 6572 7d22 0a0a 2020 2020 2020  number}"..      
-0001b6a0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0001b6b0: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
-0001b6c0: 2020 6173 796e 6320 6465 6620 7570 6461    async def upda
-0001b6d0: 7465 5f61 705f 7365 7474 696e 6773 280a  te_ap_settings(.
-0001b6e0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-0001b6f0: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
-0001b700: 6265 723a 2073 7472 2c0a 2020 2020 2020  ber: str,.      
-0001b710: 2020 686f 7374 6e61 6d65 3a20 7374 722c    hostname: str,
-0001b720: 0a20 2020 2020 2020 2069 705f 6164 6472  .        ip_addr
-0001b730: 6573 733a 2073 7472 203d 204e 6f6e 652c  ess: str = None,
-0001b740: 0a20 2020 2020 2020 207a 6f6e 656e 616d  .        zonenam
-0001b750: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
-0001b760: 2020 2020 2020 2061 6368 616e 6e65 6c3a         achannel:
-0001b770: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0001b780: 2020 2020 2061 7478 706f 7765 723a 2073       atxpower: s
-0001b790: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0001b7a0: 2020 2067 6368 616e 6e65 6c3a 2073 7472     gchannel: str
-0001b7b0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0001b7c0: 2067 7478 706f 7765 723a 2073 7472 203d   gtxpower: str =
-0001b7d0: 204e 6f6e 652c 0a20 2020 2020 2020 2064   None,.        d
-0001b7e0: 6f74 3131 615f 7261 6469 6f5f 6469 7361  ot11a_radio_disa
-0001b7f0: 626c 653a 2062 6f6f 6c20 3d20 4e6f 6e65  ble: bool = None
-0001b800: 2c0a 2020 2020 2020 2020 646f 7431 3167  ,.        dot11g
-0001b810: 5f72 6164 696f 5f64 6973 6162 6c65 3a20  _radio_disable: 
-0001b820: 626f 6f6c 203d 204e 6f6e 652c 0a20 2020  bool = None,.   
-0001b830: 2020 2020 2075 7362 5f70 6f72 745f 6469       usb_port_di
-0001b840: 7361 626c 653a 2062 6f6f 6c20 3d20 4e6f  sable: bool = No
-0001b850: 6e65 2c0a 2020 2020 2920 2d3e 2052 6573  ne,.    ) -> Res
-0001b860: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-0001b870: 2222 5570 6461 7465 2061 6e20 6578 6973  ""Update an exis
-0001b880: 7469 6e67 2061 7020 7365 7474 696e 6773  ting ap settings
-0001b890: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
-0001b8a0: 6564 2062 7920 6261 7463 6820 7265 6e61  ed by batch rena
-0001b8b0: 6d65 2061 7073 2061 6e64 2072 656e 616d  me aps and renam
-0001b8c0: 6520 6170 202f 2f0a 0a20 2020 2020 2020  e ap //..       
-0001b8d0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-0001b8e0: 2020 2073 6572 6961 6c5f 6e75 6d62 6572     serial_number
-0001b8f0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0001b900: 3a20 4150 2053 6572 6961 6c20 4e75 6d62  : AP Serial Numb
-0001b910: 6572 0a20 2020 2020 2020 2020 2020 2068  er.            h
-0001b920: 6f73 746e 616d 6520 2873 7472 293a 2068  ostname (str): h
-0001b930: 6f73 746e 616d 650a 2020 2020 2020 2020  ostname.        
-0001b940: 2020 2020 6970 5f61 6464 7265 7373 2028      ip_address (
-0001b950: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0001b960: 6970 5f61 6464 7265 7373 2044 6566 6175  ip_address Defau
-0001b970: 6c74 2028 4448 4350 290a 2020 2020 2020  lt (DHCP).      
-0001b980: 2020 2020 2020 7a6f 6e65 6e61 6d65 2028        zonename (
-0001b990: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0001b9a0: 7a6f 6e65 6e61 6d65 2e20 4465 6661 756c  zonename. Defaul
-0001b9b0: 7420 2222 2028 4e6f 205a 6f6e 6529 0a20  t "" (No Zone). 
-0001b9c0: 2020 2020 2020 2020 2020 2061 6368 616e             achan
-0001b9d0: 6e65 6c20 2873 7472 2c20 6f70 7469 6f6e  nel (str, option
-0001b9e0: 616c 293a 2061 6368 616e 6e65 6c0a 2020  al): achannel.  
-0001b9f0: 2020 2020 2020 2020 2020 6174 7870 6f77            atxpow
-0001ba00: 6572 2028 7374 722c 206f 7074 696f 6e61  er (str, optiona
-0001ba10: 6c29 3a20 6174 7870 6f77 6572 0a20 2020  l): atxpower.   
-0001ba20: 2020 2020 2020 2020 2067 6368 616e 6e65           gchanne
-0001ba30: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
-0001ba40: 293a 2067 6368 616e 6e65 6c0a 2020 2020  ): gchannel.    
-0001ba50: 2020 2020 2020 2020 6774 7870 6f77 6572          gtxpower
-0001ba60: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0001ba70: 3a20 6774 7870 6f77 6572 0a20 2020 2020  : gtxpower.     
-0001ba80: 2020 2020 2020 2064 6f74 3131 615f 7261         dot11a_ra
-0001ba90: 6469 6f5f 6469 7361 626c 6520 2862 6f6f  dio_disable (boo
-0001baa0: 6c2c 206f 7074 696f 6e61 6c29 3a20 646f  l, optional): do
-0001bab0: 7431 3161 5f72 6164 696f 5f64 6973 6162  t11a_radio_disab
-0001bac0: 6c65 0a20 2020 2020 2020 2020 2020 2064  le.            d
-0001bad0: 6f74 3131 675f 7261 6469 6f5f 6469 7361  ot11g_radio_disa
-0001bae0: 626c 6520 2862 6f6f 6c2c 206f 7074 696f  ble (bool, optio
-0001baf0: 6e61 6c29 3a20 646f 7431 3167 5f72 6164  nal): dot11g_rad
-0001bb00: 696f 5f64 6973 6162 6c65 0a20 2020 2020  io_disable.     
-0001bb10: 2020 2020 2020 2075 7362 5f70 6f72 745f         usb_port_
-0001bb20: 6469 7361 626c 6520 2862 6f6f 6c2c 206f  disable (bool, o
-0001bb30: 7074 696f 6e61 6c29 3a20 7573 625f 706f  ptional): usb_po
-0001bb40: 7274 5f64 6973 6162 6c65 0a0a 2020 2020  rt_disable..    
-0001bb50: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-0001bb60: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-0001bb70: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-0001bb80: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-0001bb90: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001bba0: 2020 7572 6c20 3d20 6622 2f63 6f6e 6669    url = f"/confi
-0001bbb0: 6775 7261 7469 6f6e 2f76 322f 6170 5f73  guration/v2/ap_s
-0001bbc0: 6574 7469 6e67 732f 7b73 6572 6961 6c5f  ettings/{serial_
-0001bbd0: 6e75 6d62 6572 7d22 0a0a 2020 2020 2020  number}"..      
-0001bbe0: 2020 5f6a 736f 6e5f 6461 7461 203d 207b    _json_data = {
-0001bbf0: 0a20 2020 2020 2020 2020 2020 2027 686f  .            'ho
-0001bc00: 7374 6e61 6d65 273a 2068 6f73 746e 616d  stname': hostnam
-0001bc10: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-0001bc20: 6970 5f61 6464 7265 7373 273a 2069 705f  ip_address': ip_
-0001bc30: 6164 6472 6573 732c 0a20 2020 2020 2020  address,.       
-0001bc40: 2020 2020 2027 7a6f 6e65 6e61 6d65 273a       'zonename':
-0001bc50: 207a 6f6e 656e 616d 652c 0a20 2020 2020   zonename,.     
-0001bc60: 2020 2020 2020 2027 6163 6861 6e6e 656c         'achannel
-0001bc70: 273a 2061 6368 616e 6e65 6c2c 0a20 2020  ': achannel,.   
-0001bc80: 2020 2020 2020 2020 2027 6174 7870 6f77           'atxpow
-0001bc90: 6572 273a 2061 7478 706f 7765 722c 0a20  er': atxpower,. 
-0001bca0: 2020 2020 2020 2020 2020 2027 6763 6861             'gcha
-0001bcb0: 6e6e 656c 273a 2067 6368 616e 6e65 6c2c  nnel': gchannel,
-0001bcc0: 0a20 2020 2020 2020 2020 2020 2027 6774  .            'gt
-0001bcd0: 7870 6f77 6572 273a 2067 7478 706f 7765  xpower': gtxpowe
-0001bce0: 722c 0a20 2020 2020 2020 2020 2020 2027  r,.            '
-0001bcf0: 646f 7431 3161 5f72 6164 696f 5f64 6973  dot11a_radio_dis
-0001bd00: 6162 6c65 273a 2064 6f74 3131 615f 7261  able': dot11a_ra
-0001bd10: 6469 6f5f 6469 7361 626c 652c 0a20 2020  dio_disable,.   
-0001bd20: 2020 2020 2020 2020 2027 646f 7431 3167           'dot11g
-0001bd30: 5f72 6164 696f 5f64 6973 6162 6c65 273a  _radio_disable':
-0001bd40: 2064 6f74 3131 675f 7261 6469 6f5f 6469   dot11g_radio_di
-0001bd50: 7361 626c 652c 0a20 2020 2020 2020 2020  sable,.         
-0001bd60: 2020 2027 7573 625f 706f 7274 5f64 6973     'usb_port_dis
-0001bd70: 6162 6c65 273a 2075 7362 5f70 6f72 745f  able': usb_port_
-0001bd80: 6469 7361 626c 650a 2020 2020 2020 2020  disable.        
-0001bd90: 7d0a 2020 2020 2020 2020 6966 204e 6f6e  }.        if Non
-0001bda0: 6520 696e 205f 6a73 6f6e 5f64 6174 612e  e in _json_data.
-0001bdb0: 7661 6c75 6573 2829 3a0a 2020 2020 2020  values():.      
-0001bdc0: 2020 2020 2020 7265 7370 203d 2061 7761        resp = awa
-0001bdd0: 6974 2073 656c 662e 5f72 6571 7565 7374  it self._request
-0001bde0: 2873 656c 662e 6765 745f 6170 5f73 6574  (self.get_ap_set
-0001bdf0: 7469 6e67 732c 2073 6572 6961 6c5f 6e75  tings, serial_nu
-0001be00: 6d62 6572 290a 2020 2020 2020 2020 2020  mber).          
-0001be10: 2020 6966 206e 6f74 2072 6573 703a 0a20    if not resp:. 
-0001be20: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001be30: 6574 7572 6e20 7265 7370 0a0a 2020 2020  eturn resp..    
-0001be40: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-0001be50: 6120 3d20 7365 6c66 2e73 7472 6970 5f6e  a = self.strip_n
-0001be60: 6f6e 6528 5f6a 736f 6e5f 6461 7461 290a  one(_json_data).
-0001be70: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
-0001be80: 5f64 6174 6120 3d20 7b2a 2a72 6573 702e  _data = {**resp.
-0001be90: 6f75 7470 7574 2c20 2a2a 6a73 6f6e 5f64  output, **json_d
-0001bea0: 6174 617d 0a20 2020 2020 2020 2020 2020  ata}.           
-0001beb0: 2069 6620 6e6f 7420 736f 7274 6564 285f   if not sorted(_
-0001bec0: 6a73 6f6e 5f64 6174 612e 6b65 7973 2829  json_data.keys()
-0001bed0: 2920 3d3d 2073 6f72 7465 6428 6a73 6f6e  ) == sorted(json
-0001bee0: 5f64 6174 612e 6b65 7973 2829 293a 0a20  _data.keys()):. 
-0001bef0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-0001bf00: 6973 7369 6e67 203d 2022 2c20 222e 6a6f  issing = ", ".jo
-0001bf10: 696e 285b 6622 277b 6b7d 2722 2066 6f72  in([f"'{k}'" for
-0001bf20: 206b 2069 6e20 6a73 6f6e 5f64 6174 612e   k in json_data.
-0001bf30: 6b65 7973 2829 2069 6620 6b20 6e6f 7420  keys() if k not 
-0001bf40: 696e 205f 6a73 6f6e 5f64 6174 612e 6b65  in _json_data.ke
-0001bf50: 7973 2829 5d29 0a20 2020 2020 2020 2020  ys()]).         
-0001bf60: 2020 2020 2020 2072 6574 7572 6e20 5265         return Re
-0001bf70: 7370 6f6e 7365 280a 2020 2020 2020 2020  sponse(.        
-0001bf80: 2020 2020 2020 2020 2020 2020 6f6b 3d46              ok=F
-0001bf90: 616c 7365 2c0a 2020 2020 2020 2020 2020  alse,.          
-0001bfa0: 2020 2020 2020 2020 2020 6572 726f 723d            error=
-0001bfb0: 6622 5570 6461 7465 2070 6179 6c6f 6164  f"Update payload
-0001bfc0: 2069 7320 6d69 7373 696e 6720 7265 7175   is missing requ
-0001bfd0: 6972 6564 2061 7474 7269 6275 7465 733a  ired attributes:
-0001bfe0: 207b 6d69 7373 696e 677d 222c 0a20 2020   {missing}",.   
-0001bff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c000: 2072 6561 736f 6e3d 2249 4e56 414c 4944   reason="INVALID
-0001c010: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0001c020: 2020 290a 0a20 2020 2020 2020 2072 6574    )..        ret
-0001c030: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
-0001c040: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
-0001c050: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
-0001c060: 2020 2023 2054 4f44 4f20 4e6f 7455 7365     # TODO NotUse
-0001c070: 6420 5965 742e 2020 5368 6f77 7320 616e  d Yet.  Shows an
-0001c080: 7920 7570 6461 7465 7320 6e6f 7420 7965  y updates not ye
-0001c090: 7420 7075 7368 6564 2074 6f20 7468 6520  t pushed to the 
-0001c0a0: 6465 7669 6365 2028 6465 7669 6365 206f  device (device o
-0001c0b0: 6666 6c69 6e65 2c20 6574 6329 0a20 2020  ffline, etc).   
-0001c0c0: 2023 204d 6179 206f 6e6c 7920 6265 2076   # May only be v
-0001c0d0: 616c 6964 2066 6f72 2041 5073 206e 6f74  alid for APs not
-0001c0e0: 2073 7572 652e 0a20 2020 2061 7379 6e63   sure..    async
-0001c0f0: 2064 6566 2067 6574 5f64 6972 7479 5f64   def get_dirty_d
-0001c100: 6966 6628 0a20 2020 2020 2020 2073 656c  iff(.        sel
-0001c110: 662c 0a20 2020 2020 2020 2067 726f 7570  f,.        group
-0001c120: 3a20 7374 722c 0a20 2020 2020 2020 206f  : str,.        o
-0001c130: 6666 7365 743a 2069 6e74 203d 2030 2c0a  ffset: int = 0,.
-0001c140: 2020 2020 2020 2020 6c69 6d69 743a 2069          limit: i
-0001c150: 6e74 203d 2032 300a 2020 2020 2920 2d3e  nt = 20.    ) ->
-0001c160: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0001c170: 2020 2022 2222 4765 7420 6469 7274 7920     """Get dirty 
-0001c180: 6469 6666 2e0a 0a20 2020 2020 2020 2041  diff...        A
-0001c190: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-0001c1a0: 2067 726f 7570 2028 7374 7229 3a20 4772   group (str): Gr
-0001c1b0: 6f75 7020 6e61 6d65 206f 6620 7468 6520  oup name of the 
-0001c1c0: 6772 6f75 7020 6f72 2067 7569 6420 6f66  group or guid of
-0001c1d0: 2074 6865 2073 7761 726d 2e0a 2020 2020   the swarm..    
-0001c1e0: 2020 2020 2020 2020 2020 2020 4578 616d              Exam
-0001c1f0: 706c 653a 4772 6f75 705f 3120 6f72 2036  ple:Group_1 or 6
-0001c200: 6135 6431 3233 6230 3166 3934 3431 3830  a5d123b01f944180
-0001c210: 3632 3434 6561 3665 3032 3366 6162 3538  6244ea6e023fab58
-0001c220: 3431 6237 3763 3832 3861 3038 3566 3034  41b77c828a085f04
-0001c230: 662e 0a20 2020 2020 2020 2020 2020 206f  f..            o
-0001c240: 6666 7365 7420 2869 6e74 2c20 6f70 7469  ffset (int, opti
-0001c250: 6f6e 616c 293a 204e 756d 6265 7220 6f66  onal): Number of
-0001c260: 2069 7465 6d73 2074 6f20 6265 2073 6b69   items to be ski
-0001c270: 7070 6564 2062 6566 6f72 6520 7265 7475  pped before retu
-0001c280: 726e 696e 6720 7468 6520 6461 7461 2c20  rning the data, 
-0001c290: 7573 6566 756c 0a20 2020 2020 2020 2020  useful.         
-0001c2a0: 2020 2020 2020 2066 6f72 2070 6167 696e         for pagin
-0001c2b0: 6174 696f 6e2e 2044 6566 6175 6c74 7320  ation. Defaults 
-0001c2c0: 746f 2030 2e0a 2020 2020 2020 2020 2020  to 0..          
-0001c2d0: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
-0001c2e0: 7469 6f6e 616c 293a 204d 6178 696d 756d  tional): Maximum
-0001c2f0: 206e 756d 6265 7220 6f66 2067 726f 7570   number of group
-0001c300: 2063 6f6e 6669 675f 6d6f 6465 2072 6563   config_mode rec
-0001c310: 6f72 6473 2074 6f20 6265 2072 6574 7572  ords to be retur
-0001c320: 6e65 642e 0a20 2020 2020 2020 2020 2020  ned..           
-0001c330: 2020 2020 204d 6178 3a20 3230 2c20 4465       Max: 20, De
-0001c340: 6661 756c 7473 2074 6f20 3230 2e0a 0a20  faults to 20... 
-0001c350: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-0001c360: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-0001c370: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-0001c380: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-0001c390: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0001c3a0: 2020 2020 2075 726c 203d 2066 222f 636f       url = f"/co
-0001c3b0: 6e66 6967 7572 6174 696f 6e2f 7631 2f64  nfiguration/v1/d
-0001c3c0: 6972 7479 5f64 6966 662f 7b67 726f 7570  irty_diff/{group
-0001c3d0: 7d22 0a0a 2020 2020 2020 2020 7061 7261  }"..        para
-0001c3e0: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
-0001c3f0: 2020 2027 6f66 6673 6574 273a 206f 6666     'offset': off
-0001c400: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
-0001c410: 2027 6c69 6d69 7427 3a20 6c69 6d69 7420   'limit': limit 
-0001c420: 6966 206c 696d 6974 203c 3d20 3230 2065  if limit <= 20 e
-0001c430: 6c73 6520 3230 0a20 2020 2020 2020 207d  lse 20.        }
-0001c440: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0001c450: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-0001c460: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
-0001c470: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
-0001c480: 6566 2067 6574 5f67 726f 7570 735f 7072  ef get_groups_pr
-0001c490: 6f70 6572 7469 6573 2873 656c 662c 2067  operties(self, g
-0001c4a0: 726f 7570 733a 2055 6e69 6f6e 5b73 7472  roups: Union[str
-0001c4b0: 2c20 4c69 7374 5b73 7472 5d5d 203d 204e  , List[str]] = N
-0001c4c0: 6f6e 6529 202d 3e20 5265 7370 6f6e 7365  one) -> Response
-0001c4d0: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
-0001c4e0: 2070 726f 7065 7274 6965 7320 7365 7420   properties set 
-0001c4f0: 666f 7220 6772 6f75 7073 2e0a 0a20 2020  for groups...   
-0001c500: 2020 2020 202f 2f20 5573 6564 2062 7920       // Used by 
-0001c510: 7368 6f77 2067 726f 7570 7320 7768 656e  show groups when
-0001c520: 202d 7620 666c 6167 2069 7320 7072 6f76   -v flag is prov
-0001c530: 6964 6564 202f 2f0a 0a20 2020 2020 2020  ided //..       
-0001c540: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-0001c550: 2020 2067 726f 7570 7320 284c 6973 745b     groups (List[
-0001c560: 7374 725d 2c20 6f70 7469 6f6e 616c 293a  str], optional):
-0001c570: 2047 726f 7570 206c 6973 7420 746f 2066   Group list to f
-0001c580: 6574 6368 2070 726f 7065 7274 6965 732e  etch properties.
-0001c590: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001c5a0: 2057 696c 6c20 6665 7463 6820 616c 6c20   Will fetch all 
-0001c5b0: 6966 206e 6f20 6772 6f75 7073 2070 726f  if no groups pro
-0001c5c0: 7669 6465 642e 0a20 2020 2020 2020 2020  vided..         
-0001c5d0: 2020 2020 2020 204d 6178 696d 756d 2032         Maximum 2
-0001c5e0: 3020 636f 6d6d 6120 7365 7061 7261 7465  0 comma separate
-0001c5f0: 6420 6772 6f75 7020 6e61 6d65 7320 616c  d group names al
-0001c600: 6c6f 7765 642e 0a0a 2020 2020 2020 2020  lowed...        
-0001c610: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-0001c620: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-0001c630: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-0001c640: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-0001c650: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-0001c660: 6c20 3d20 222f 636f 6e66 6967 7572 6174  l = "/configurat
-0001c670: 696f 6e2f 7631 2f67 726f 7570 732f 7072  ion/v1/groups/pr
-0001c680: 6f70 6572 7469 6573 220a 0a20 2020 2020  operties"..     
-0001c690: 2020 2023 2043 656e 7472 616c 2041 5049     # Central API
-0001c6a0: 206d 6574 686f 6420 646f 6573 6e27 7420   method doesn't 
-0001c6b0: 6163 7475 616c 6c79 2074 616b 6520 6120  actually take a 
-0001c6c0: 6c69 7374 2069 7420 7461 6b65 7320 6120  list it takes a 
-0001c6d0: 7374 7269 6e67 2077 6974 680a 2020 2020  string with.    
-0001c6e0: 2020 2020 2320 6772 6f75 7020 6e61 6d65      # group name
-0001c6f0: 7320 7365 7061 7261 7465 6420 6279 2063  s separated by c
-0001c700: 6f6d 6d61 2028 4e4f 2053 5041 4345 5329  omma (NO SPACES)
-0001c710: 0a20 2020 2020 2020 2069 6620 6772 6f75  .        if grou
-0001c720: 7073 2069 7320 4e6f 6e65 3a0a 2020 2020  ps is None:.    
-0001c730: 2020 2020 2020 2020 7265 7370 203d 2061          resp = a
-0001c740: 7761 6974 2073 656c 662e 5f67 6574 5f67  wait self._get_g
-0001c750: 726f 7570 5f6e 616d 6573 2829 0a20 2020  roup_names().   
-0001c760: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-0001c770: 7265 7370 2e6f 6b3a 0a20 2020 2020 2020  resp.ok:.       
-0001c780: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-0001c790: 7265 7370 0a20 2020 2020 2020 2020 2020  resp.           
-0001c7a0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001c7b0: 2020 2020 2020 2067 726f 7570 7320 3d20         groups = 
-0001c7c0: 7265 7370 2e6f 7574 7075 740a 2020 2020  resp.output.    
-0001c7d0: 2020 2020 6261 7463 685f 7265 7173 203d      batch_reqs =
-0001c7e0: 205b 5d0a 2020 2020 2020 2020 666f 7220   [].        for 
-0001c7f0: 5f67 726f 7570 7320 696e 2075 7469 6c73  _groups in utils
-0001c800: 2e63 6875 6e6b 6572 2875 7469 6c73 2e6c  .chunker(utils.l
-0001c810: 6973 7469 6679 2867 726f 7570 7329 2c20  istify(groups), 
-0001c820: 3230 293a 2020 2320 5468 6973 2063 616c  20):  # This cal
-0001c830: 6c20 616c 6c6f 7773 2061 206d 6178 206f  l allows a max o
-0001c840: 6620 3230 0a20 2020 2020 2020 2020 2020  f 20.           
-0001c850: 2070 6172 616d 7320 3d20 7b22 6772 6f75   params = {"grou
-0001c860: 7073 223a 2022 2c22 2e6a 6f69 6e28 5f67  ps": ",".join(_g
-0001c870: 726f 7570 7329 7d0a 2020 2020 2020 2020  roups)}.        
-0001c880: 2020 2020 6261 7463 685f 7265 7173 202b      batch_reqs +
-0001c890: 3d20 5b73 656c 662e 4261 7463 6852 6571  = [self.BatchReq
-0001c8a0: 7565 7374 2873 656c 662e 6765 742c 2075  uest(self.get, u
-0001c8b0: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-0001c8c0: 7329 5d0a 2020 2020 2020 2020 6261 7463  s)].        batc
-0001c8d0: 685f 7265 7370 203d 2061 7761 6974 2073  h_resp = await s
-0001c8e0: 656c 662e 5f62 6174 6368 5f72 6571 7565  elf._batch_reque
-0001c8f0: 7374 2862 6174 6368 5f72 6571 7329 0a20  st(batch_reqs). 
-0001c900: 2020 2020 2020 2023 2054 4f44 4f20 6d65         # TODO me
-0001c910: 7468 6f64 2074 6f20 636f 6d62 696e 6520  thod to combine 
-0001c920: 7261 7720 616e 6420 6f75 7470 7574 2061  raw and output a
-0001c930: 7474 7273 206f 6620 616c 6c20 7265 7370  ttrs of all resp
-0001c940: 6f6e 7365 7320 696e 746f 206c 6173 7420  onses into last 
-0001c950: 7265 7370 0a20 2020 2020 2020 206f 7574  resp.        out
-0001c960: 7075 7420 3d20 5b72 2066 6f72 2072 6573  put = [r for res
-0001c970: 2069 6e20 6261 7463 685f 7265 7370 2066   in batch_resp f
-0001c980: 6f72 2072 2069 6e20 7265 732e 6f75 7470  or r in res.outp
-0001c990: 7574 5d0a 2020 2020 2020 2020 7265 7370  ut].        resp
-0001c9a0: 203d 2062 6174 6368 5f72 6573 705b 2d31   = batch_resp[-1
-0001c9b0: 5d0a 2020 2020 2020 2020 7265 7370 2e6f  ].        resp.o
-0001c9c0: 7574 7075 7420 3d20 6f75 7470 7574 0a20  utput = output. 
-0001c9d0: 2020 2020 2020 2069 6620 2264 6174 6122         if "data"
-0001c9e0: 2069 6e20 7265 7370 2e72 6177 3a0a 2020   in resp.raw:.  
-0001c9f0: 2020 2020 2020 2020 2020 7265 7370 2e72            resp.r
-0001ca00: 6177 5b22 6461 7461 225d 203d 206f 7574  aw["data"] = out
-0001ca10: 7075 740a 2020 2020 2020 2020 656c 7365  put.        else
-0001ca20: 3a0a 2020 2020 2020 2020 2020 2020 6c6f  :.            lo
-0001ca30: 672e 7761 726e 696e 6728 2272 6177 2061  g.warning("raw a
-0001ca40: 7474 7220 696e 2072 6573 7020 6672 6f6d  ttr in resp from
-0001ca50: 2067 6574 5f67 726f 7570 735f 7072 6f70   get_groups_prop
-0001ca60: 6572 7469 6573 206c 6163 6b73 2065 7870  erties lacks exp
-0001ca70: 6563 7465 6420 6f75 7465 7220 6b65 7920  ected outer key 
-0001ca80: 2764 6174 6127 2229 0a20 2020 2020 2020  'data'").       
-0001ca90: 2067 726f 7570 7320 3d20 222c 222e 6a6f   groups = ",".jo
-0001caa0: 696e 2875 7469 6c73 2e6c 6973 7469 6679  in(utils.listify
-0001cab0: 2867 726f 7570 7329 290a 0a20 2020 2020  (groups))..     
-0001cac0: 2020 2023 2070 6172 616d 7320 3d20 7b0a     # params = {.
-0001cad0: 2020 2020 2020 2020 2320 2020 2020 2767          #     'g
-0001cae0: 726f 7570 7327 3a20 6772 6f75 7073 0a20  roups': groups. 
-0001caf0: 2020 2020 2020 2023 207d 0a0a 2020 2020         # }..    
-0001cb00: 2020 2020 2320 7265 7475 726e 2061 7761      # return awa
-0001cb10: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-0001cb20: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
-0001cb30: 2020 2020 2020 2020 7265 7475 726e 2072          return r
-0001cb40: 6573 700a 0a20 2020 2061 7379 6e63 2064  esp..    async d
-0001cb50: 6566 2067 6574 5f76 635f 6669 726d 7761  ef get_vc_firmwa
-0001cb60: 7265 280a 2020 2020 2020 2020 7365 6c66  re(.        self
-0001cb70: 2c0a 2020 2020 2020 2020 7377 6172 6d5f  ,.        swarm_
-0001cb80: 6964 3a20 7374 7220 3d20 4e6f 6e65 2c0a  id: str = None,.
-0001cb90: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
-0001cba0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0001cbb0: 2020 206f 6666 7365 743a 2069 6e74 203d     offset: int =
-0001cbc0: 2030 2c0a 2020 2020 2020 2020 6c69 6d69   0,.        limi
-0001cbd0: 743a 2069 6e74 203d 2031 3030 2c0a 2020  t: int = 100,.  
-0001cbe0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-0001cbf0: 0a20 2020 2020 2020 2022 2222 4c69 7374  .        """List
-0001cc00: 2046 6972 6d77 6172 6520 4465 7461 696c   Firmware Detail
-0001cc10: 7320 6f66 2053 7761 726d 732e 0a0a 2020  s of Swarms...  
-0001cc20: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0001cc30: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
-0001cc40: 3a20 2873 7472 2c20 6f70 7469 6f6e 616c  : (str, optional
-0001cc50: 293a 2050 726f 7669 6469 6e67 2073 7761  ): Providing swa
-0001cc60: 726d 5f69 6420 7265 7375 6c74 7320 696e  rm_id results in
-0001cc70: 2064 6574 6169 6c73 2066 6f72 2074 6861   details for tha
-0001cc80: 7420 7377 6172 6d2e 0a20 2020 2020 2020  t swarm..       
-0001cc90: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
-0001cca0: 206f 7074 696f 6e61 6c29 3a20 4772 6f75   optional): Grou
-0001ccb0: 7020 6e61 6d65 0a20 2020 2020 2020 2020  p name.         
-0001ccc0: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
-0001ccd0: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
-0001cce0: 6174 696f 6e20 6f66 6673 6574 2044 6566  ation offset Def
-0001ccf0: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
-0001cd00: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
-0001cd10: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
-0001cd20: 6167 696e 6174 696f 6e20 6c69 6d69 742e  agination limit.
-0001cd30: 204d 6178 2069 7320 3130 3030 2044 6566   Max is 1000 Def
-0001cd40: 6175 6c74 7320 746f 2031 3030 2e0a 0a20  aults to 100... 
-0001cd50: 2020 2020 2020 2020 2020 2050 726f 7669             Provi
-0001cd60: 6469 6e67 2073 7761 726d 5f69 6420 6973  ding swarm_id is
-0001cd70: 2065 6666 6563 7469 7665 6c79 2061 2066   effectively a f
-0001cd80: 696c 7465 722c 2069 7420 7072 6f76 6964  ilter, it provid
-0001cd90: 6573 206e 6f20 6164 6469 7469 6f6e 616c  es no additional
-0001cda0: 2064 6574 6169 6c2e 0a0a 2020 2020 2020   detail...      
-0001cdb0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-0001cdc0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-0001cdd0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-0001cde0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-0001cdf0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001ce00: 7572 6c20 3d20 222f 6669 726d 7761 7265  url = "/firmware
-0001ce10: 2f76 312f 7377 6172 6d73 220a 2020 2020  /v1/swarms".    
-0001ce20: 2020 2020 6966 2073 7761 726d 5f69 643a      if swarm_id:
-0001ce30: 0a20 2020 2020 2020 2020 2020 2075 726c  .            url
-0001ce40: 203d 2066 227b 7572 6c7d 2f7b 7377 6172   = f"{url}/{swar
-0001ce50: 6d5f 6964 7d22 0a20 2020 2020 2020 2020  m_id}".         
-0001ce60: 2020 2070 6172 616d 7320 3d20 7b7d 0a20     params = {}. 
-0001ce70: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001ce80: 2020 2020 2020 2020 2070 6172 616d 7320           params 
-0001ce90: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0001cea0: 2020 2020 2767 726f 7570 273a 2067 726f      'group': gro
-0001ceb0: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
-0001cec0: 2020 2020 276f 6666 7365 7427 3a20 6f66      'offset': of
-0001ced0: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
-0001cee0: 2020 2020 2020 276c 696d 6974 273a 206c        'limit': l
-0001cef0: 696d 6974 0a20 2020 2020 2020 2020 2020  imit.           
-0001cf00: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
-0001cf10: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-0001cf20: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
-0001cf30: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
-0001cf40: 2064 6566 2067 6574 5f66 775f 7665 7273   def get_fw_vers
-0001cf50: 696f 6e5f 6c69 7374 280a 2020 2020 2020  ion_list(.      
-0001cf60: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-0001cf70: 6465 7669 6365 5f74 7970 653a 2073 7472  device_type: str
-0001cf80: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0001cf90: 2073 7761 726d 5f69 643a 2073 7472 203d   swarm_id: str =
-0001cfa0: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-0001cfb0: 6572 6961 6c3a 2073 7472 203d 204e 6f6e  erial: str = Non
-0001cfc0: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
-0001cfd0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-0001cfe0: 224c 6973 7420 4669 726d 7761 7265 2056  "List Firmware V
-0001cff0: 6572 7369 6f6e 2e0a 0a20 2020 2020 2020  ersion...       
-0001d000: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-0001d010: 2020 2064 6576 6963 655f 7479 7065 2028     device_type (
-0001d020: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0001d030: 5370 6563 6966 7920 6f6e 6520 6f66 2022  Specify one of "
-0001d040: 4941 502f 4d41 532f 4850 2f43 4f4e 5452  IAP/MAS/HP/CONTR
-0001d050: 4f4c 4c45 522f 4358 220a 2020 2020 2020  OLLER/CX".      
-0001d060: 2020 2020 2020 7377 6172 6d5f 6964 2028        swarm_id (
-0001d070: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0001d080: 5377 6172 6d20 4944 0a20 2020 2020 2020  Swarm ID.       
-0001d090: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
-0001d0a0: 2c20 6f70 7469 6f6e 616c 293a 2053 6572  , optional): Ser
-0001d0b0: 6961 6c20 6f66 2064 6576 6963 650a 0a20  ial of device.. 
-0001d0c0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-0001d0d0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-0001d0e0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-0001d0f0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-0001d100: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0001d110: 2020 2020 2075 726c 203d 2022 2f66 6972       url = "/fir
-0001d120: 6d77 6172 652f 7631 2f76 6572 7369 6f6e  mware/v1/version
-0001d130: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
-0001d140: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
-0001d150: 2020 2027 6465 7669 6365 5f74 7970 6527     'device_type'
-0001d160: 3a20 6465 7669 6365 5f74 7970 652c 0a20  : device_type,. 
-0001d170: 2020 2020 2020 2020 2020 2027 7377 6172             'swar
-0001d180: 6d5f 6964 273a 2073 7761 726d 5f69 642c  m_id': swarm_id,
-0001d190: 0a20 2020 2020 2020 2020 2020 2027 7365  .            'se
-0001d1a0: 7269 616c 273a 2073 6572 6961 6c0a 2020  rial': serial.  
-0001d1b0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-0001d1c0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0001d1d0: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
-0001d1e0: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
-0001d1f0: 2320 4e6f 7420 7573 6564 2069 6e20 6120  # Not used in a 
-0001d200: 636f 6d6d 616e 6420 7965 740a 2020 2020  command yet.    
-0001d210: 6173 796e 6320 6465 6620 6368 6563 6b5f  async def check_
-0001d220: 696d 6167 655f 6176 6169 6c61 626c 6528  image_available(
-0001d230: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-0001d240: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
-0001d250: 7065 3a20 7374 722c 0a20 2020 2020 2020  pe: str,.       
-0001d260: 2066 6972 6d77 6172 655f 7665 7273 696f   firmware_versio
-0001d270: 6e3a 2073 7472 2c0a 2020 2020 2920 2d3e  n: str,.    ) ->
-0001d280: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0001d290: 2020 2022 2222 4669 726d 7761 7265 2056     """Firmware V
-0001d2a0: 6572 7369 6f6e 2e0a 0a20 2020 2020 2020  ersion...       
-0001d2b0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-0001d2c0: 2020 2064 6576 6963 655f 7479 7065 2028     device_type (
-0001d2d0: 7374 7229 3a20 5370 6563 6966 7920 6f6e  str): Specify on
-0001d2e0: 6520 6f66 2022 4941 502f 4d41 532f 4850  e of "IAP/MAS/HP
-0001d2f0: 2f43 4f4e 5452 4f4c 4c45 5222 0a20 2020  /CONTROLLER".   
-0001d300: 2020 2020 2020 2020 2066 6972 6d77 6172           firmwar
-0001d310: 655f 7665 7273 696f 6e20 2873 7472 293a  e_version (str):
-0001d320: 2066 6972 6d77 6172 6520 7665 7273 696f   firmware versio
-0001d330: 6e0a 0a20 2020 2020 2020 2052 6574 7572  n..        Retur
-0001d340: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0001d350: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-0001d360: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-0001d370: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-0001d380: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
-0001d390: 222f 6669 726d 7761 7265 2f76 312f 7665  "/firmware/v1/ve
-0001d3a0: 7273 696f 6e73 2f7b 6669 726d 7761 7265  rsions/{firmware
-0001d3b0: 5f76 6572 7369 6f6e 7d22 0a0a 2020 2020  _version}"..    
-0001d3c0: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
-0001d3d0: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
-0001d3e0: 6365 5f74 7970 6527 3a20 6465 7669 6365  ce_type': device
-0001d3f0: 5f74 7970 650a 2020 2020 2020 2020 7d0a  _type.        }.
-0001d400: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0001d410: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-0001d420: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-0001d430: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
-0001d440: 6620 7365 6e64 5f63 6f6d 6d61 6e64 5f74  f send_command_t
-0001d450: 6f5f 7377 6172 6d28 0a20 2020 2020 2020  o_swarm(.       
-0001d460: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
-0001d470: 7761 726d 5f69 643a 2073 7472 2c0a 2020  warm_id: str,.  
-0001d480: 2020 2020 2020 636f 6d6d 616e 643a 204c        command: L
-0001d490: 6974 6572 616c 5b0a 2020 2020 2020 2020  iteral[.        
-0001d4a0: 2020 2020 2272 6562 6f6f 745f 7377 6172      "reboot_swar
-0001d4b0: 6d22 2c0a 2020 2020 2020 2020 2020 2020  m",.            
-0001d4c0: 2265 7261 7365 5f63 6f6e 6669 6775 7261  "erase_configura
-0001d4d0: 7469 6f6e 222c 0a20 2020 2020 2020 205d  tion",.        ]
-0001d4e0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-0001d4f0: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
-0001d500: 656e 6572 6963 2063 6f6d 6d61 6e64 7320  eneric commands 
-0001d510: 666f 7220 7377 6172 6d2e 0a0a 2020 2020  for swarm...    
-0001d520: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-0001d530: 2020 2020 2020 7377 6172 6d5f 6964 2028        swarm_id (
-0001d540: 7374 7229 3a20 5377 6172 6d20 4944 206f  str): Swarm ID o
-0001d550: 6620 6465 7669 6365 0a20 2020 2020 2020  f device.       
-0001d560: 2020 2020 2063 6f6d 6d61 6e64 2028 7374       command (st
-0001d570: 7229 3a20 436f 6d6d 616e 6420 6d65 6e74  r): Command ment
-0001d580: 696f 6e65 6420 696e 2074 6865 2064 6573  ioned in the des
-0001d590: 6372 6970 7469 6f6e 2074 6861 7420 6973  cription that is
-0001d5a0: 2074 6f20 6265 2065 7865 6375 7465 640a   to be executed.
-0001d5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d5c0: 7661 6c69 643a 2027 7265 626f 6f74 5f73  valid: 'reboot_s
-0001d5d0: 7761 726d 272c 2027 6572 6173 655f 636f  warm', 'erase_co
-0001d5e0: 6e66 6967 7572 6174 696f 6e27 0a0a 2020  nfiguration'..  
-0001d5f0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-0001d600: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-0001d610: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-0001d620: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-0001d630: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0001d640: 2020 2020 7572 6c20 3d20 6622 2f64 6576      url = f"/dev
-0001d650: 6963 655f 6d61 6e61 6765 6d65 6e74 2f76  ice_management/v
-0001d660: 312f 7377 6172 6d2f 7b73 7761 726d 5f69  1/swarm/{swarm_i
-0001d670: 647d 2f61 6374 696f 6e2f 7b63 6f6d 6d61  d}/action/{comma
-0001d680: 6e64 7d22 0a0a 2020 2020 2020 2020 7265  nd}"..        re
-0001d690: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0001d6a0: 706f 7374 2875 726c 290a 0a20 2020 2061  post(url)..    a
-0001d6b0: 7379 6e63 2064 6566 2073 656e 645f 7370  sync def send_sp
-0001d6c0: 6565 645f 7465 7374 280a 2020 2020 2020  eed_test(.      
-0001d6d0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-0001d6e0: 7365 7269 616c 3a20 7374 722c 0a20 2020  serial: str,.   
-0001d6f0: 2020 2020 2068 6f73 743a 2073 7472 203d       host: str =
-0001d700: 2022 6e64 742d 6975 7075 692d 6d6c 6162   "ndt-iupui-mlab
-0001d710: 312d 6465 6e30 342e 6d6c 6162 2d6f 7469  1-den04.mlab-oti
-0001d720: 2e6d 6561 7375 7265 6d65 6e74 2d6c 6162  .measurement-lab
-0001d730: 2e6f 7267 222c 0a20 2020 2020 2020 206f  .org",.        o
-0001d740: 7074 696f 6e73 3a20 7374 7220 3d20 4e6f  ptions: str = No
-0001d750: 6e65 0a20 2020 2029 202d 3e20 5265 7370  ne.    ) -> Resp
-0001d760: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-0001d770: 2253 7065 6564 2054 6573 742e 0a0a 2020  "Speed Test...  
-0001d780: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0001d790: 2020 2020 2020 2020 7365 7269 616c 2028          serial (
-0001d7a0: 7374 7229 3a20 5365 7269 616c 206f 6620  str): Serial of 
-0001d7b0: 6465 7669 6365 0a20 2020 2020 2020 2020  device.         
-0001d7c0: 2020 2068 6f73 7420 2873 7472 2c20 4f70     host (str, Op
-0001d7d0: 7469 6f6e 616c 293a 2053 7065 6564 2d54  tional): Speed-T
-0001d7e0: 6573 7420 7365 7276 6572 2049 5020 6164  est server IP ad
-0001d7f0: 6472 6573 732c 2044 6566 6175 6c74 7320  dress, Defaults 
-0001d800: 746f 2073 6572 7665 7220 696e 2043 656e  to server in Cen
-0001d810: 7472 616c 2049 6e64 6961 6e61 2e0a 2020  tral Indiana..  
-0001d820: 2020 2020 2020 2020 2020 6f70 7469 6f6e            option
-0001d830: 7320 2873 7472 293a 2046 6f72 6d61 7474  s (str): Formatt
-0001d840: 6564 2073 7472 696e 6720 6f66 206f 7074  ed string of opt
-0001d850: 696f 6e61 6c20 6172 6775 6d65 6e74 730a  ional arguments.
-0001d860: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0001d870: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-0001d880: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-0001d890: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-0001d8a0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-0001d8b0: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-0001d8c0: 6465 7669 6365 5f6d 616e 6167 656d 656e  device_managemen
-0001d8d0: 742f 7631 2f64 6576 6963 652f 7b73 6572  t/v1/device/{ser
-0001d8e0: 6961 6c7d 2f61 6374 696f 6e2f 7370 6565  ial}/action/spee
-0001d8f0: 6474 6573 7422 0a0a 2020 2020 2020 2020  dtest"..        
-0001d900: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
-0001d910: 2020 2020 2020 2020 2020 2768 6f73 7427            'host'
-0001d920: 3a20 686f 7374 2c0a 2020 2020 2020 2020  : host,.        
-0001d930: 2020 2020 276f 7074 696f 6e73 273a 206f      'options': o
-0001d940: 7074 696f 6e73 206f 7220 2222 0a20 2020  ptions or "".   
-0001d950: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-0001d960: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0001d970: 662e 706f 7374 2875 726c 2c20 6a73 6f6e  f.post(url, json
-0001d980: 5f64 6174 613d 6a73 6f6e 5f64 6174 6129  _data=json_data)
-0001d990: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0001d9a0: 6465 6c65 7465 5f63 6572 7469 6669 6361  delete_certifica
-0001d9b0: 7465 2873 656c 662c 2063 6572 7469 6669  te(self, certifi
-0001d9c0: 6361 7465 3a20 7374 7229 202d 3e20 5265  cate: str) -> Re
-0001d9d0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-0001d9e0: 2222 2244 656c 6574 6520 6578 6973 7469  """Delete existi
-0001d9f0: 6e67 2063 6572 7469 6669 6361 7465 2e0a  ng certificate..
-0001da00: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0001da10: 2020 2020 2020 2020 2020 2063 6572 7469             certi
-0001da20: 6669 6361 7465 2028 7374 7229 3a20 4e61  ficate (str): Na
-0001da30: 6d65 206f 6620 7468 6520 6365 7274 6966  me of the certif
-0001da40: 6963 6174 6520 746f 2064 656c 6574 652e  icate to delete.
-0001da50: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-0001da60: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-0001da70: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-0001da80: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-0001da90: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-0001daa0: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-0001dab0: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
-0001dac0: 312f 6365 7274 6966 6963 6174 6573 2f7b  1/certificates/{
-0001dad0: 6365 7274 6966 6963 6174 657d 220a 0a20  certificate}".. 
-0001dae0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0001daf0: 6169 7420 7365 6c66 2e64 656c 6574 6528  ait self.delete(
-0001db00: 7572 6c29 0a0a 2020 2020 2320 544f 444f  url)..    # TODO
-0001db10: 2061 6363 6570 7420 4c69 7374 206f 6620   accept List of 
-0001db20: 7374 7220 616e 6420 6261 7463 6820 6465  str and batch de
-0001db30: 6c65 7465 0a20 2020 2061 7379 6e63 2064  lete.    async d
-0001db40: 6566 2064 656c 6574 655f 6772 6f75 7028  ef delete_group(
-0001db50: 7365 6c66 2c20 6772 6f75 703a 2073 7472  self, group: str
-0001db60: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0001db70: 2020 2020 2020 2022 2222 4465 6c65 7465         """Delete
-0001db80: 2065 7869 7374 696e 6720 6772 6f75 702e   existing group.
-0001db90: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-0001dba0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-0001dbb0: 7020 2873 7472 293a 204e 616d 6520 6f66  p (str): Name of
-0001dbc0: 2074 6865 2067 726f 7570 2074 6861 7420   the group that 
-0001dbd0: 6e65 6564 7320 746f 2062 6520 6465 6c65  needs to be dele
-0001dbe0: 7465 642e 0a0a 2020 2020 2020 2020 5265  ted...        Re
-0001dbf0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0001dc00: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-0001dc10: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-0001dc20: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-0001dc30: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-0001dc40: 3d20 6622 2f63 6f6e 6669 6775 7261 7469  = f"/configurati
-0001dc50: 6f6e 2f76 312f 6772 6f75 7073 2f7b 6772  on/v1/groups/{gr
-0001dc60: 6f75 707d 220a 0a20 2020 2020 2020 2072  oup}"..        r
-0001dc70: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-0001dc80: 2e64 656c 6574 6528 7572 6c29 0a0a 2020  .delete(url)..  
-0001dc90: 2020 6173 796e 6320 6465 6620 6465 6c65    async def dele
-0001dca0: 7465 5f73 6974 6528 7365 6c66 2c20 7369  te_site(self, si
-0001dcb0: 7465 5f69 643a 2055 6e69 6f6e 5b69 6e74  te_id: Union[int
-0001dcc0: 2c20 4c69 7374 5b69 6e74 5d5d 2920 2d3e  , List[int]]) ->
-0001dcd0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0001dce0: 2020 2022 2222 4465 6c65 7465 2053 6974     """Delete Sit
-0001dcf0: 652e 0a0a 2020 2020 2020 2020 4172 6773  e...        Args
-0001dd00: 3a0a 2020 2020 2020 2020 2020 2020 7369  :.            si
-0001dd10: 7465 5f69 6420 2869 6e74 7c4c 6973 745b  te_id (int|List[
-0001dd20: 696e 745d 293a 2045 6974 6865 7220 7468  int]): Either th
-0001dd30: 6520 7369 7465 5f69 6420 6f72 2061 206c  e site_id or a l
-0001dd40: 6973 7420 6f66 2073 6974 655f 6964 7320  ist of site_ids 
-0001dd50: 746f 2062 6520 6465 6c65 7465 642e 0a0a  to be deleted...
-0001dd60: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-0001dd70: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-0001dd80: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-0001dd90: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-0001dda0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-0001ddb0: 2020 2020 2020 625f 7572 6c20 3d20 222f        b_url = "/
-0001ddc0: 6365 6e74 7261 6c2f 7632 2f73 6974 6573  central/v2/sites
-0001ddd0: 220a 2020 2020 2020 2020 6966 2069 7369  ".        if isi
-0001dde0: 6e73 7461 6e63 6528 7369 7465 5f69 642c  nstance(site_id,
-0001ddf0: 206c 6973 7429 3a0a 2020 2020 2020 2020   list):.        
-0001de00: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0001de10: 2073 656c 662e 5f62 6174 6368 5f72 6571   self._batch_req
-0001de20: 7565 7374 280a 2020 2020 2020 2020 2020  uest(.          
-0001de30: 2020 2020 2020 5b0a 2020 2020 2020 2020        [.        
-0001de40: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001de50: 2e42 6174 6368 5265 7175 6573 7428 7365  .BatchRequest(se
-0001de60: 6c66 2e64 656c 6574 652c 2028 6622 7b62  lf.delete, (f"{b
-0001de70: 5f75 726c 7d2f 7b5f 6964 7d22 2c29 290a  _url}/{_id}",)).
-0001de80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001de90: 2020 2020 666f 7220 5f69 6420 696e 2073      for _id in s
-0001dea0: 6974 655f 6964 0a20 2020 2020 2020 2020  ite_id.         
-0001deb0: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-0001dec0: 2020 2020 2029 0a20 2020 2020 2020 2065       ).        e
-0001ded0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0001dee0: 2075 726c 203d 2066 227b 625f 7572 6c7d   url = f"{b_url}
-0001def0: 2f7b 7369 7465 5f69 647d 220a 2020 2020  /{site_id}".    
-0001df00: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0001df10: 7761 6974 2073 656c 662e 6465 6c65 7465  wait self.delete
-0001df20: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
-0001df30: 2064 6566 2064 656c 6574 655f 776c 616e   def delete_wlan
-0001df40: 2873 656c 662c 2067 726f 7570 3a20 7374  (self, group: st
-0001df50: 722c 2077 6c61 6e5f 6e61 6d65 3a20 7374  r, wlan_name: st
-0001df60: 7229 202d 3e20 5265 7370 6f6e 7365 3a0a  r) -> Response:.
-0001df70: 2020 2020 2020 2020 2222 2244 656c 6574          """Delet
-0001df80: 6520 616e 2065 7869 7374 696e 6720 574c  e an existing WL
-0001df90: 414e 2e0a 0a20 2020 2020 2020 2041 7267  AN...        Arg
-0001dfa0: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
-0001dfb0: 726f 7570 2028 7374 7229 3a20 4772 6f75  roup (str): Grou
-0001dfc0: 7020 6e61 6d65 206f 6620 7468 6520 6772  p name of the gr
-0001dfd0: 6f75 7020 6f72 2067 7569 6420 6f66 2074  oup or guid of t
-0001dfe0: 6865 2073 7761 726d 2e0a 2020 2020 2020  he swarm..      
-0001dff0: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
-0001e000: 653a 4772 6f75 705f 3120 6f72 2036 6135  e:Group_1 or 6a5
-0001e010: 6431 3233 6230 3166 3934 3431 3830 3632  d123b01f94418062
-0001e020: 3434 6561 3665 3032 3366 6162 3538 3431  44ea6e023fab5841
-0001e030: 6237 3763 3832 3861 3038 3566 3034 662e  b77c828a085f04f.
-0001e040: 0a20 2020 2020 2020 2020 2020 2077 6c61  .            wla
-0001e050: 6e5f 6e61 6d65 2028 7374 7229 3a20 4e61  n_name (str): Na
-0001e060: 6d65 206f 6620 574c 414e 2074 6f20 6265  me of WLAN to be
-0001e070: 2064 656c 6574 6564 2e0a 2020 2020 2020   deleted..      
-0001e080: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
-0001e090: 653a 776c 616e 5f31 2e0a 0a20 2020 2020  e:wlan_1...     
-0001e0a0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-0001e0b0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-0001e0c0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-0001e0d0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-0001e0e0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0001e0f0: 2075 726c 203d 2066 222f 636f 6e66 6967   url = f"/config
-0001e100: 7572 6174 696f 6e2f 7631 2f77 6c61 6e2f  uration/v1/wlan/
-0001e110: 7b67 726f 7570 7d2f 7b77 6c61 6e5f 6e61  {group}/{wlan_na
-0001e120: 6d65 7d22 0a0a 2020 2020 2020 2020 7265  me}"..        re
-0001e130: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0001e140: 6465 6c65 7465 2875 726c 290a 0a20 2020  delete(url)..   
-0001e150: 2061 7379 6e63 2064 6566 2067 6574 5f77   async def get_w
-0001e160: 6c61 6e28 7365 6c66 2c20 6772 6f75 703a  lan(self, group:
-0001e170: 2073 7472 2c20 776c 616e 5f6e 616d 653a   str, wlan_name:
-0001e180: 2073 7472 2920 2d3e 2052 6573 706f 6e73   str) -> Respons
-0001e190: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
-0001e1a0: 7420 7468 6520 696e 666f 726d 6174 696f  t the informatio
-0001e1b0: 6e20 6f66 2061 6e20 6578 6973 7469 6e67  n of an existing
-0001e1c0: 2057 4c41 4e2e 0a0a 2020 2020 2020 2020   WLAN...        
-0001e1d0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-0001e1e0: 2020 6772 6f75 7020 2873 7472 293a 2047    group (str): G
-0001e1f0: 726f 7570 206e 616d 6520 6f66 2074 6865  roup name of the
-0001e200: 2067 726f 7570 206f 7220 6775 6964 206f   group or guid o
-0001e210: 6620 7468 6520 7377 6172 6d2e 0a20 2020  f the swarm..   
-0001e220: 2020 2020 2020 2020 2020 2020 2045 7861               Exa
-0001e230: 6d70 6c65 3a47 726f 7570 5f31 206f 7220  mple:Group_1 or 
-0001e240: 3661 3564 3132 3362 3031 6639 3434 3138  6a5d123b01f94418
-0001e250: 3036 3234 3465 6136 6530 3233 6661 6235  06244ea6e023fab5
-0001e260: 3834 3162 3737 6338 3238 6130 3835 6630  841b77c828a085f0
-0001e270: 3466 2e0a 2020 2020 2020 2020 2020 2020  4f..            
-0001e280: 776c 616e 5f6e 616d 6520 2873 7472 293a  wlan_name (str):
-0001e290: 204e 616d 6520 6f66 2057 4c41 4e20 7365   Name of WLAN se
-0001e2a0: 6c65 6374 6564 2e0a 2020 2020 2020 2020  lected..        
-0001e2b0: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
-0001e2c0: 776c 616e 5f31 2e0a 0a20 2020 2020 2020  wlan_1...       
-0001e2d0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0001e2e0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0001e2f0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0001e300: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0001e310: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-0001e320: 726c 203d 2066 222f 636f 6e66 6967 7572  rl = f"/configur
-0001e330: 6174 696f 6e2f 7632 2f77 6c61 6e2f 7b67  ation/v2/wlan/{g
-0001e340: 726f 7570 7d2f 7b77 6c61 6e5f 6e61 6d65  roup}/{wlan_name
-0001e350: 7d22 0a0a 2020 2020 2020 2020 7265 7475  }"..        retu
-0001e360: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-0001e370: 7428 7572 6c29 0a0a 2020 2020 6173 796e  t(url)..    asyn
-0001e380: 6320 6465 6620 6372 6561 7465 5f77 6c61  c def create_wla
-0001e390: 6e28 0a20 2020 2020 2020 2073 656c 662c  n(.        self,
-0001e3a0: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
-0001e3b0: 7374 722c 0a20 2020 2020 2020 2077 6c61  str,.        wla
-0001e3c0: 6e5f 6e61 6d65 3a20 7374 722c 0a20 2020  n_name: str,.   
-0001e3d0: 2020 2020 2077 7061 5f70 6173 7370 6872       wpa_passphr
-0001e3e0: 6173 653a 2073 7472 2c0a 2020 2020 2020  ase: str,.      
-0001e3f0: 2020 2320 7770 615f 7061 7373 7068 7261    # wpa_passphra
-0001e400: 7365 5f63 6861 6e67 6564 3a20 626f 6f6c  se_changed: bool
-0001e410: 203d 2054 7275 652c 0a20 2020 2020 2020   = True,.       
-0001e420: 2076 6c61 6e3a 2073 7472 203d 2022 222c   vlan: str = "",
-0001e430: 0a20 2020 2020 2020 2074 7970 653a 2057  .        type: W
-0001e440: 6c61 6e54 7970 6520 3d20 2265 6d70 6c6f  lanType = "emplo
-0001e450: 7965 6522 2c0a 2020 2020 2020 2020 6573  yee",.        es
-0001e460: 7369 643a 2073 7472 203d 204e 6f6e 652c  sid: str = None,
-0001e470: 0a20 2020 2020 2020 207a 6f6e 653a 2073  .        zone: s
-0001e480: 7472 203d 2022 222c 0a20 2020 2020 2020  tr = "",.       
-0001e490: 2063 6170 7469 7665 5f70 726f 6669 6c65   captive_profile
-0001e4a0: 5f6e 616d 653a 2073 7472 203d 2022 222c  _name: str = "",
-0001e4b0: 0a20 2020 2020 2020 2062 616e 6477 6964  .        bandwid
-0001e4c0: 7468 5f6c 696d 6974 5f75 703a 2073 7472  th_limit_up: str
-0001e4d0: 203d 2022 222c 0a20 2020 2020 2020 2062   = "",.        b
-0001e4e0: 616e 6477 6964 7468 5f6c 696d 6974 5f64  andwidth_limit_d
-0001e4f0: 6f77 6e3a 2073 7472 203d 2022 222c 0a20  own: str = "",. 
-0001e500: 2020 2020 2020 2062 616e 6477 6964 7468         bandwidth
-0001e510: 5f6c 696d 6974 5f70 6572 7573 6572 5f75  _limit_peruser_u
-0001e520: 703a 2073 7472 203d 2022 222c 0a20 2020  p: str = "",.   
-0001e530: 2020 2020 2062 616e 6477 6964 7468 5f6c       bandwidth_l
-0001e540: 696d 6974 5f70 6572 7573 6572 5f64 6f77  imit_peruser_dow
-0001e550: 6e3a 2073 7472 203d 2022 222c 0a20 2020  n: str = "",.   
-0001e560: 2020 2020 2061 6363 6573 735f 7275 6c65       access_rule
-0001e570: 733a 206c 6973 7420 3d20 4445 4641 554c  s: list = DEFAUL
-0001e580: 545f 4143 4345 5353 5f52 554c 4553 5b22  T_ACCESS_RULES["
-0001e590: 414c 4c4f 575f 414c 4c22 5d2c 0a20 2020  ALLOW_ALL"],.   
-0001e5a0: 2020 2020 2069 735f 6c6f 636b 6564 3a20       is_locked: 
-0001e5b0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-0001e5c0: 2020 2020 2020 6869 6465 5f73 7369 643a        hide_ssid:
-0001e5d0: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-0001e5e0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-0001e5f0: 3a0a 2020 2020 2020 2020 2222 2243 7265  :.        """Cre
-0001e600: 6174 6520 6120 6e65 7720 574c 414e 2028  ate a new WLAN (
-0001e610: 5353 4944 292e 0a0a 2020 2020 2020 2020  SSID)...        
-0001e620: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-0001e630: 2020 6772 6f75 7020 2873 7472 293a 2041    group (str): A
-0001e640: 7275 6261 2043 656e 7472 616c 2047 726f  ruba Central Gro
-0001e650: 7570 206e 616d 6520 6f72 2073 7761 726d  up name or swarm
-0001e660: 2067 7569 640a 2020 2020 2020 2020 2020   guid.          
-0001e670: 2020 776c 616e 5f6e 616d 6520 2873 7472    wlan_name (str
-0001e680: 293a 204e 616d 6520 6f66 2074 6865 2057  ): Name of the W
-0001e690: 4c41 4e2f 4e65 7477 6f72 6b0a 2020 2020  LAN/Network.    
-0001e6a0: 2020 2020 2020 2020 7770 615f 7061 7373          wpa_pass
-0001e6b0: 7068 7261 7365 2028 7374 7229 3a20 5750  phrase (str): WP
-0001e6c0: 4120 7061 7373 7068 7261 7365 0a20 2020  A passphrase.   
-0001e6d0: 2020 2020 2020 2020 2076 6c61 6e20 2873           vlan (s
-0001e6e0: 7472 293a 2043 6c69 656e 7420 564c 414e  tr): Client VLAN
-0001e6f0: 206e 616d 6520 6f72 2069 642e 2044 6566   name or id. Def
-0001e700: 6175 6c74 7320 746f 2022 2220 284e 6174  aults to "" (Nat
-0001e710: 6976 6520 4150 2056 4c41 4e29 2e0a 2020  ive AP VLAN)..  
-0001e720: 2020 2020 2020 2020 2020 7479 7065 2028            type (
-0001e730: 576c 616e 5479 7065 2c20 6f70 7469 6f6e  WlanType, option
-0001e740: 616c 293a 2056 616c 6964 3a20 5b27 656d  al): Valid: ['em
-0001e750: 706c 6f79 6565 272c 2027 6775 6573 7427  ployee', 'guest'
-0001e760: 5d2e 2044 6566 6175 6c74 7320 746f 2022  ]. Defaults to "
-0001e770: 656d 706c 6f79 6565 222e 0a20 2020 2020  employee"..     
-0001e780: 2020 2020 2020 2065 7373 6964 2028 7374         essid (st
-0001e790: 722c 206f 7074 696f 6e61 6c29 3a20 5353  r, optional): SS
-0001e7a0: 4944 2e20 4465 6661 756c 7473 2074 6f20  ID. Defaults to 
-0001e7b0: 4e6f 6e65 2028 6573 7369 6420 3d20 776c  None (essid = wl
-0001e7c0: 616e 5f6e 616d 6529 2e0a 2020 2020 2020  an_name)..      
-0001e7d0: 2020 2020 2020 7a6f 6e65 2028 7374 722c        zone (str,
-0001e7e0: 206f 7074 696f 6e61 6c29 3a20 4150 205a   optional): AP Z
-0001e7f0: 6f6e 6520 5353 4944 2077 696c 6c20 6272  one SSID will br
-0001e800: 6f61 6463 6173 7420 6f6e 2e20 4465 6661  oadcast on. Defa
-0001e810: 756c 7473 2074 6f20 2222 2028 4272 6f61  ults to "" (Broa
-0001e820: 6463 6173 7420 6f6e 2061 6c6c 2041 5073  dcast on all APs
-0001e830: 292e 0a20 2020 2020 2020 2020 2020 2063  )..            c
-0001e840: 6170 7469 7665 5f70 726f 6669 6c65 5f6e  aptive_profile_n
-0001e850: 616d 6520 2873 7472 2c20 6f70 7469 6f6e  ame (str, option
-0001e860: 616c 293a 2043 6170 7469 7665 2050 6f72  al): Captive Por
-0001e870: 7461 6c20 5072 6f66 696c 652e 2044 6566  tal Profile. Def
-0001e880: 6175 6c74 7320 746f 2022 2220 284e 6f20  aults to "" (No 
-0001e890: 4350 2050 726f 6669 6c65 292e 0a20 2020  CP Profile)..   
-0001e8a0: 2020 2020 2020 2020 2062 616e 6477 6964           bandwid
-0001e8b0: 7468 5f6c 696d 6974 5f75 7020 2873 7472  th_limit_up (str
-0001e8c0: 2c20 6f70 7469 6f6e 616c 293a 205b 6465  , optional): [de
-0001e8d0: 7363 7269 7074 696f 6e5d 2e20 4465 6661  scription]. Defa
-0001e8e0: 756c 7473 2074 6f20 2222 2028 4e6f 2042  ults to "" (No B
-0001e8f0: 5720 4c69 6d69 7420 5570 292e 0a20 2020  W Limit Up)..   
-0001e900: 2020 2020 2020 2020 2062 616e 6477 6964           bandwid
-0001e910: 7468 5f6c 696d 6974 5f64 6f77 6e20 2873  th_limit_down (s
-0001e920: 7472 2c20 6f70 7469 6f6e 616c 293a 205b  tr, optional): [
-0001e930: 6465 7363 7269 7074 696f 6e5d 2e20 4465  description]. De
-0001e940: 6661 756c 7473 2074 6f20 2222 2028 4e6f  faults to "" (No
-0001e950: 2042 5720 4c69 6d69 7420 446f 776e 292e   BW Limit Down).
-0001e960: 0a20 2020 2020 2020 2020 2020 2062 616e  .            ban
-0001e970: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
-0001e980: 7573 6572 5f75 7020 2873 7472 2c20 6f70  user_up (str, op
-0001e990: 7469 6f6e 616c 293a 205b 6465 7363 7269  tional): [descri
-0001e9a0: 7074 696f 6e5d 2e20 4465 6661 756c 7473  ption]. Defaults
-0001e9b0: 2074 6f20 2222 2028 4e6f 2070 6572 2075   to "" (No per u
-0001e9c0: 7365 7220 4257 204c 696d 6974 2055 7029  ser BW Limit Up)
-0001e9d0: 2e0a 2020 2020 2020 2020 2020 2020 6261  ..            ba
-0001e9e0: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
-0001e9f0: 7275 7365 725f 646f 776e 2028 7374 722c  ruser_down (str,
-0001ea00: 206f 7074 696f 6e61 6c29 3a20 5b64 6573   optional): [des
-0001ea10: 6372 6970 7469 6f6e 5d2e 2044 6566 6175  cription]. Defau
-0001ea20: 6c74 7320 746f 2022 2220 284e 6f20 7065  lts to "" (No pe
-0001ea30: 7220 7573 6572 2042 5720 4c69 6d69 7420  r user BW Limit 
-0001ea40: 446f 776e 292e 0a20 2020 2020 2020 2020  Down)..         
-0001ea50: 2020 2061 6363 6573 735f 7275 6c65 7320     access_rules 
-0001ea60: 286c 6973 742c 206f 7074 696f 6e61 6c29  (list, optional)
-0001ea70: 3a20 5b64 6573 6372 6970 7469 6f6e 5d2e  : [description].
-0001ea80: 2044 6566 6175 6c74 3a20 756e 7265 7374   Default: unrest
-0001ea90: 7269 6374 6564 2e0a 2020 2020 2020 2020  ricted..        
-0001eaa0: 2020 2020 6973 5f6c 6f63 6b65 6420 2862      is_locked (b
-0001eab0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
-0001eac0: 5b64 6573 6372 6970 7469 6f6e 5d2e 2044  [description]. D
-0001ead0: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
-0001eae0: 2e0a 2020 2020 2020 2020 2020 2020 6869  ..            hi
-0001eaf0: 6465 5f73 7369 6420 2862 6f6f 6c2c 206f  de_ssid (bool, o
-0001eb00: 7074 696f 6e61 6c29 3a20 5b64 6573 6372  ptional): [descr
-0001eb10: 6970 7469 6f6e 5d2e 2044 6566 6175 6c74  iption]. Default
-0001eb20: 7320 746f 2046 616c 7365 2e0a 2020 2020  s to False..    
-0001eb30: 2020 2020 2020 2020 7770 615f 7061 7373          wpa_pass
-0001eb40: 7068 7261 7365 5f63 6861 6e67 6564 2028  phrase_changed (
-0001eb50: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-0001eb60: 2069 6e64 6963 6174 6573 2070 6173 7370   indicates passp
-0001eb70: 6872 6173 6520 6861 7320 6368 616e 6765  hrase has change
-0001eb80: 642e 2044 6566 6175 6c74 7320 746f 2054  d. Defaults to T
-0001eb90: 7275 652e 0a0a 2020 2020 2020 2020 5265  rue...        Re
-0001eba0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0001ebb0: 2020 2052 6573 706f 6e73 653a 205b 6465     Response: [de
-0001ebc0: 7363 7269 7074 696f 6e5d 0a20 2020 2020  scription].     
-0001ebd0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-0001ebe0: 726c 203d 2066 222f 636f 6e66 6967 7572  rl = f"/configur
-0001ebf0: 6174 696f 6e2f 7632 2f77 6c61 6e2f 7b67  ation/v2/wlan/{g
-0001ec00: 726f 7570 7d2f 7b77 6c61 6e5f 6e61 6d65  roup}/{wlan_name
-0001ec10: 7d22 0a0a 2020 2020 2020 2020 6a73 6f6e  }"..        json
-0001ec20: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
-0001ec30: 2020 2020 2020 2277 6c61 6e22 3a20 7b0a        "wlan": {.
-0001ec40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ec50: 2765 7373 6964 273a 2065 7373 6964 206f  'essid': essid o
-0001ec60: 7220 776c 616e 5f6e 616d 652c 0a20 2020  r wlan_name,.   
-0001ec70: 2020 2020 2020 2020 2020 2020 2027 7479               'ty
-0001ec80: 7065 273a 2074 7970 652c 0a20 2020 2020  pe': type,.     
-0001ec90: 2020 2020 2020 2020 2020 2027 6869 6465             'hide
-0001eca0: 5f73 7369 6427 3a20 6869 6465 5f73 7369  _ssid': hide_ssi
-0001ecb0: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
-0001ecc0: 2020 2027 766c 616e 273a 2076 6c61 6e2c     'vlan': vlan,
-0001ecd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001ece0: 2027 7a6f 6e65 273a 207a 6f6e 652c 0a20   'zone': zone,. 
-0001ecf0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-0001ed00: 7770 615f 7061 7373 7068 7261 7365 273a  wpa_passphrase':
-0001ed10: 2077 7061 5f70 6173 7370 6872 6173 652c   wpa_passphrase,
-0001ed20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001ed30: 2023 2027 7770 615f 7061 7373 7068 7261   # 'wpa_passphra
-0001ed40: 7365 5f63 6861 6e67 6564 273a 2077 7061  se_changed': wpa
-0001ed50: 5f70 6173 7370 6872 6173 655f 6368 616e  _passphrase_chan
-0001ed60: 6765 642c 0a20 2020 2020 2020 2020 2020  ged,.           
-0001ed70: 2020 2020 2027 6973 5f6c 6f63 6b65 6427       'is_locked'
-0001ed80: 3a20 6973 5f6c 6f63 6b65 642c 0a20 2020  : is_locked,.   
-0001ed90: 2020 2020 2020 2020 2020 2020 2027 6361               'ca
-0001eda0: 7074 6976 655f 7072 6f66 696c 655f 6e61  ptive_profile_na
-0001edb0: 6d65 273a 2063 6170 7469 7665 5f70 726f  me': captive_pro
-0001edc0: 6669 6c65 5f6e 616d 652c 0a20 2020 2020  file_name,.     
-0001edd0: 2020 2020 2020 2020 2020 2027 6261 6e64             'band
-0001ede0: 7769 6474 685f 6c69 6d69 745f 7570 273a  width_limit_up':
-0001edf0: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
-0001ee00: 5f75 702c 0a20 2020 2020 2020 2020 2020  _up,.           
-0001ee10: 2020 2020 2027 6261 6e64 7769 6474 685f       'bandwidth_
-0001ee20: 6c69 6d69 745f 646f 776e 273a 2062 616e  limit_down': ban
-0001ee30: 6477 6964 7468 5f6c 696d 6974 5f64 6f77  dwidth_limit_dow
-0001ee40: 6e2c 0a20 2020 2020 2020 2020 2020 2020  n,.             
-0001ee50: 2020 2027 6261 6e64 7769 6474 685f 6c69     'bandwidth_li
-0001ee60: 6d69 745f 7065 7275 7365 725f 7570 273a  mit_peruser_up':
-0001ee70: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
-0001ee80: 5f70 6572 7573 6572 5f75 702c 0a20 2020  _peruser_up,.   
-0001ee90: 2020 2020 2020 2020 2020 2020 2027 6261               'ba
-0001eea0: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
-0001eeb0: 7275 7365 725f 646f 776e 273a 2062 616e  ruser_down': ban
-0001eec0: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
-0001eed0: 7573 6572 5f64 6f77 6e2c 0a20 2020 2020  user_down,.     
-0001eee0: 2020 2020 2020 2020 2020 2027 6163 6365             'acce
-0001eef0: 7373 5f72 756c 6573 273a 2061 6363 6573  ss_rules': acces
-0001ef00: 735f 7275 6c65 730a 2020 2020 2020 2020  s_rules.        
-0001ef10: 2020 2020 7d0a 2020 2020 2020 2020 7d0a      }.        }.
-0001ef20: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0001ef30: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
-0001ef40: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-0001ef50: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
-0001ef60: 7379 6e63 2064 6566 2063 6f6e 6669 6775  sync def configu
-0001ef70: 7261 7469 6f6e 5f63 6c65 616e 5f75 705f  ration_clean_up_
-0001ef80: 616e 645f 7570 6461 7465 5f77 6c61 6e5f  and_update_wlan_
-0001ef90: 7632 2873 656c 662c 2067 726f 7570 5f6e  v2(self, group_n
-0001efa0: 616d 655f 6f72 5f67 7569 643a 2073 7472  ame_or_guid: str
-0001efb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0001efc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001efd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001efe0: 2020 2020 2020 2020 2020 776c 616e 5f6e            wlan_n
-0001eff0: 616d 653a 2073 7472 2c20 6573 7369 643a  ame: str, essid:
-0001f000: 2073 7472 2c20 7479 7065 3a20 7374 722c   str, type: str,
-0001f010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001f020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f040: 2020 2020 2020 2020 2068 6964 655f 7373           hide_ss
-0001f050: 6964 3a20 626f 6f6c 2c20 766c 616e 3a20  id: bool, vlan: 
-0001f060: 7374 722c 207a 6f6e 653a 2073 7472 2c0a  str, zone: str,.
-0001f070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f0a0: 2020 2020 2020 2020 7770 615f 7061 7373          wpa_pass
-0001f0b0: 7068 7261 7365 3a20 7374 722c 0a20 2020  phrase: str,.   
+00012400: 7374 6174 7573 3a20 7374 7220 3d20 4e6f  status: str = No
+00012410: 6e65 2c0a 2020 2020 2020 2020 736f 7274  ne,.        sort
+00012420: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00012430: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
+00012440: 746f 7461 6c3a 2062 6f6f 6c20 3d20 4e6f  total: bool = No
+00012450: 6e65 2c0a 2020 2020 2020 2020 6f66 6673  ne,.        offs
+00012460: 6574 3a20 696e 7420 3d20 302c 0a20 2020  et: int = 0,.   
+00012470: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
+00012480: 3d20 3530 302c 0a20 2020 2029 202d 3e20  = 500,.    ) -> 
+00012490: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+000124a0: 2020 2222 2247 6574 2076 6c61 6e20 696e    """Get vlan in
+000124b0: 666f 2066 6f72 2073 7769 7463 6820 2843  fo for switch (C
+000124c0: 5820 616e 6420 5357 292e 0a0a 2020 2020  X and SW)...    
+000124d0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+000124e0: 2020 2020 2020 6964 656e 2028 7374 7229        iden (str)
+000124f0: 3a20 5365 7269 616c 204e 756d 6265 7220  : Serial Number 
+00012500: 6f66 2053 7461 636b 2049 442c 2049 6465  of Stack ID, Ide
+00012510: 6e74 6966 6965 7320 7468 6520 6465 7620  ntifies the dev 
+00012520: 746f 2072 6574 7572 6e20 564c 414e 7320  to return VLANs 
+00012530: 6672 6f6d 2e0a 2020 2020 2020 2020 2020  from..          
+00012540: 2020 7374 6163 6b20 2862 6f6f 6c2c 206f    stack (bool, o
+00012550: 7074 696f 6e61 6c29 3a20 5365 7420 746f  ptional): Set to
+00012560: 2054 7275 6520 666f 7220 7374 6163 6b2e   True for stack.
+00012570: 2044 6566 6175 6c74 3a20 4661 6c73 650a   Default: False.
+00012580: 2020 2020 2020 2020 2020 2020 6378 3a20              cx: 
+00012590: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
+000125a0: 3a20 5365 7420 746f 2054 7275 6520 666f  : Set to True fo
+000125b0: 7220 4172 7562 614f 532d 4358 2e20 4465  r ArubaOS-CX. De
+000125c0: 6661 756c 743a 2046 616c 7365 0a20 2020  fault: False.   
+000125d0: 2020 2020 2020 2020 206e 616d 6520 2873           name (s
+000125e0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+000125f0: 696c 7465 7220 6279 2076 6c61 6e20 6e61  ilter by vlan na
+00012600: 6d65 0a20 2020 2020 2020 2020 2020 2069  me.            i
+00012610: 6420 2869 6e74 2c20 6f70 7469 6f6e 616c  d (int, optional
+00012620: 293a 2046 696c 7465 7220 6279 2076 6c61  ): Filter by vla
+00012630: 6e20 6964 0a20 2020 2020 2020 2020 2020  n id.           
+00012640: 2074 6167 6765 645f 706f 7274 2028 7374   tagged_port (st
+00012650: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+00012660: 6c74 6572 2062 7920 7461 6767 6564 2070  lter by tagged p
+00012670: 6f72 7420 6e61 6d65 0a20 2020 2020 2020  ort name.       
+00012680: 2020 2020 2075 6e74 6167 6765 645f 706f       untagged_po
+00012690: 7274 2028 7374 722c 206f 7074 696f 6e61  rt (str, optiona
+000126a0: 6c29 3a20 4669 6c74 6572 2062 7920 756e  l): Filter by un
+000126b0: 7461 6767 6564 2070 6f72 7420 6e61 6d65  tagged port name
+000126c0: 0a20 2020 2020 2020 2020 2020 2069 735f  .            is_
+000126d0: 6a75 6d62 6f5f 656e 6162 6c65 6420 2862  jumbo_enabled (b
+000126e0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+000126f0: 4669 6c74 6572 2062 7920 6a75 6d62 6f20  Filter by jumbo 
+00012700: 656e 6162 6c65 640a 2020 2020 2020 2020  enabled.        
+00012710: 2020 2020 6973 5f76 6f69 6365 5f65 6e61      is_voice_ena
+00012720: 626c 6564 2028 626f 6f6c 2c20 6f70 7469  bled (bool, opti
+00012730: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+00012740: 2076 6f69 6365 2065 6e61 626c 6564 0a20   voice enabled. 
+00012750: 2020 2020 2020 2020 2020 2069 735f 6967             is_ig
+00012760: 6d70 5f65 6e61 626c 6564 2028 626f 6f6c  mp_enabled (bool
+00012770: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+00012780: 7465 7220 6279 2069 676d 7020 656e 6162  ter by igmp enab
+00012790: 6c65 640a 2020 2020 2020 2020 2020 2020  led.            
+000127a0: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
+000127b0: 6e61 6c29 3a20 5479 7065 206f 6620 7468  nal): Type of th
+000127c0: 6520 766c 616e 2074 6f20 6265 2071 7565  e vlan to be que
+000127d0: 7269 6564 0a20 2020 2020 2020 2020 2020  ried.           
+000127e0: 2070 7269 6d61 7279 5f76 6c61 6e5f 6964   primary_vlan_id
+000127f0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+00012800: 3a20 5072 696d 6172 7920 566c 616e 2049  : Primary Vlan I
+00012810: 6420 6f66 2074 6865 2076 6c61 6e20 746f  d of the vlan to
+00012820: 2062 6520 7175 6572 6965 6422 0a20 2020   be queried".   
+00012830: 2020 2020 2020 2020 2073 7461 7475 7320           status 
+00012840: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00012850: 2046 696c 7465 7220 6279 2073 7461 7475   Filter by statu
+00012860: 7320 6f66 2056 4c41 4e2e 2053 7461 7475  s of VLAN. Statu
+00012870: 7320 6361 6e20 6265 2055 702f 446f 776e  s can be Up/Down
+00012880: 0a20 2020 2020 2020 2020 2020 2073 6f72  .            sor
+00012890: 7420 2873 7472 2c20 6f70 7469 6f6e 616c  t (str, optional
+000128a0: 293a 2053 6f72 7420 7061 7261 6d65 7465  ): Sort paramete
+000128b0: 7220 6d61 7920 6265 206f 6e65 206f 6620  r may be one of 
+000128c0: 2b6e 616d 652c 202d 6e61 6d65 0a20 2020  +name, -name.   
+000128d0: 2020 2020 2020 2020 2063 616c 6375 6c61           calcula
+000128e0: 7465 5f74 6f74 616c 2028 626f 6f6c 2c20  te_total (bool, 
+000128f0: 6f70 7469 6f6e 616c 293a 2057 6865 7468  optional): Wheth
+00012900: 6572 2074 6f20 6361 6c63 756c 6174 6520  er to calculate 
+00012910: 746f 7461 6c20 766c 616e 730a 2020 2020  total vlans.    
+00012920: 2020 2020 2020 2020 6f66 6673 6574 2028          offset (
+00012930: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+00012940: 5061 6769 6e61 7469 6f6e 206f 6666 7365  Pagination offse
+00012950: 7420 4465 6661 756c 7473 2074 6f20 302e  t Defaults to 0.
+00012960: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
+00012970: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
+00012980: 6c29 3a20 5061 6769 6e61 7469 6f6e 206c  l): Pagination l
+00012990: 696d 6974 2e20 4465 6661 756c 7420 6973  imit. Default is
+000129a0: 2031 3030 2061 6e64 206d 6178 2069 7320   100 and max is 
+000129b0: 3130 3030 2044 6566 6175 6c74 7320 746f  1000 Defaults to
+000129c0: 2035 3030 2e0a 0a20 2020 2020 2020 2052   500...        R
+000129d0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+000129e0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+000129f0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+00012a00: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00012a10: 2022 2222 0a20 2020 2020 2020 2023 2054   """.        # T
+00012a20: 4f44 4f20 6c6f 6f6b 7320 6c69 6b65 2077  ODO looks like w
+00012a30: 6520 6361 6e20 7265 6d6f 7665 2072 6566  e can remove ref
+00012a40: 6572 656e 6365 7320 746f 2063 7820 7370  erences to cx sp
+00012a50: 6563 6966 6963 206d 6574 686f 6473 2c20  ecific methods, 
+00012a60: 7468 6579 2064 6f6e 2774 2077 6f72 6b0a  they don't work.
+00012a70: 2020 2020 2020 2020 2320 7363 6865 6d61          # schema
+00012a80: 206e 6f74 2072 6566 6c65 6374 696e 6720   not reflecting 
+00012a90: 7468 6174 2077 6173 7465 6420 6d79 2074  that wasted my t
+00012aa0: 696d 652e 0a20 2020 2020 2020 2069 6620  ime..        if 
+00012ab0: 6e6f 7420 7374 6163 6b3a 0a20 2020 2020  not stack:.     
+00012ac0: 2020 2020 2020 2023 2073 775f 7572 6c20         # sw_url 
+00012ad0: 3d20 2263 785f 7377 6974 6368 6573 2220  = "cx_switches" 
+00012ae0: 6966 2063 7820 656c 7365 2022 7377 6974  if cx else "swit
+00012af0: 6368 6573 220a 2020 2020 2020 2020 2020  ches".          
+00012b00: 2020 7377 5f75 726c 203d 2022 7377 6974    sw_url = "swit
+00012b10: 6368 6573 220a 2020 2020 2020 2020 656c  ches".        el
+00012b20: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00012b30: 7377 5f75 726c 203d 2022 6378 5f73 7769  sw_url = "cx_swi
+00012b40: 7463 685f 7374 6163 6b73 2220 6966 2063  tch_stacks" if c
+00012b50: 7820 656c 7365 2022 7377 6974 6368 5f73  x else "switch_s
+00012b60: 7461 636b 7322 0a0a 2020 2020 2020 2020  tacks"..        
+00012b70: 7572 6c20 3d20 6622 2f6d 6f6e 6974 6f72  url = f"/monitor
+00012b80: 696e 672f 7631 2f7b 7377 5f75 726c 7d2f  ing/v1/{sw_url}/
+00012b90: 7b69 6465 6e7d 2f76 6c61 6e22 0a0a 2020  {iden}/vlan"..  
+00012ba0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+00012bb0: 0a20 2020 2020 2020 2020 2020 2022 6e61  .            "na
+00012bc0: 6d65 223a 206e 616d 652c 0a20 2020 2020  me": name,.     
+00012bd0: 2020 2020 2020 2022 6964 223a 2070 7669         "id": pvi
+00012be0: 642c 0a20 2020 2020 2020 2020 2020 2022  d,.            "
+00012bf0: 7461 6767 6564 5f70 6f72 7422 3a20 7461  tagged_port": ta
+00012c00: 6767 6564 5f70 6f72 742c 0a20 2020 2020  gged_port,.     
+00012c10: 2020 2020 2020 2022 756e 7461 6767 6564         "untagged
+00012c20: 5f70 6f72 7422 3a20 756e 7461 6767 6564  _port": untagged
+00012c30: 5f70 6f72 742c 0a20 2020 2020 2020 2020  _port,.         
+00012c40: 2020 2022 6973 5f6a 756d 626f 5f65 6e61     "is_jumbo_ena
+00012c50: 626c 6564 223a 2069 735f 6a75 6d62 6f5f  bled": is_jumbo_
+00012c60: 656e 6162 6c65 642c 0a20 2020 2020 2020  enabled,.       
+00012c70: 2020 2020 2022 6973 5f76 6f69 6365 5f65       "is_voice_e
+00012c80: 6e61 626c 6564 223a 2069 735f 766f 6963  nabled": is_voic
+00012c90: 655f 656e 6162 6c65 642c 0a20 2020 2020  e_enabled,.     
+00012ca0: 2020 2020 2020 2022 6973 5f69 676d 705f         "is_igmp_
+00012cb0: 656e 6162 6c65 6422 3a20 6973 5f69 676d  enabled": is_igm
+00012cc0: 705f 656e 6162 6c65 642c 0a20 2020 2020  p_enabled,.     
+00012cd0: 2020 2020 2020 2022 7479 7065 223a 2074         "type": t
+00012ce0: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
+00012cf0: 2022 7072 696d 6172 795f 766c 616e 5f69   "primary_vlan_i
+00012d00: 6422 3a20 7072 696d 6172 795f 766c 616e  d": primary_vlan
+00012d10: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
+00012d20: 2022 7374 6174 7573 223a 2073 7461 7475   "status": statu
+00012d30: 732c 0a20 2020 2020 2020 2020 2020 2022  s,.            "
+00012d40: 736f 7274 223a 2073 6f72 742c 0a20 2020  sort": sort,.   
+00012d50: 2020 2020 2020 2020 2022 6361 6c63 756c           "calcul
+00012d60: 6174 655f 746f 7461 6c22 3a20 6361 6c63  ate_total": calc
+00012d70: 756c 6174 655f 746f 7461 6c2c 0a20 2020  ulate_total,.   
+00012d80: 2020 2020 2020 2020 2022 6f66 6673 6574           "offset
+00012d90: 223a 206f 6666 7365 742c 0a20 2020 2020  ": offset,.     
+00012da0: 2020 2020 2020 2022 6c69 6d69 7422 3a20         "limit": 
+00012db0: 6c69 6d69 742c 0a20 2020 2020 2020 207d  limit,.        }
+00012dc0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00012dd0: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
+00012de0: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
+00012df0: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
+00012e00: 6566 2067 6574 5f67 6174 6577 6179 5f76  ef get_gateway_v
+00012e10: 6c61 6e73 2873 656c 662c 2073 6572 6961  lans(self, seria
+00012e20: 6c3a 2073 7472 2920 2d3e 2052 6573 706f  l: str) -> Respo
+00012e30: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+00012e40: 4765 7420 6761 7465 7761 7920 564c 414e  Get gateway VLAN
+00012e50: 2064 6574 6169 6c73 2e0a 0a20 2020 2020   details...     
+00012e60: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00012e70: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
+00012e80: 293a 2053 6572 6961 6c20 6e75 6d62 6572  ): Serial number
+00012e90: 206f 6620 6761 7465 7761 7920 746f 2062   of gateway to b
+00012ea0: 6520 7175 6572 6965 640a 0a20 2020 2020  e queried..     
+00012eb0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00012ec0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00012ed0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00012ee0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00012ef0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00012f00: 2075 726c 203d 2066 222f 6d6f 6e69 746f   url = f"/monito
+00012f10: 7269 6e67 2f76 312f 6761 7465 7761 7973  ring/v1/gateways
+00012f20: 2f7b 7365 7269 616c 7d2f 766c 616e 220a  /{serial}/vlan".
+00012f30: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00012f40: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+00012f50: 726c 290a 0a20 2020 2061 7379 6e63 2064  rl)..    async d
+00012f60: 6566 2067 6574 5f63 6f6e 7472 6f6c 6c65  ef get_controlle
+00012f70: 725f 766c 616e 7328 7365 6c66 2c20 7365  r_vlans(self, se
+00012f80: 7269 616c 3a20 7374 7229 202d 3e20 5265  rial: str) -> Re
+00012f90: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00012fa0: 2222 2247 6574 204d 6f62 696c 6974 7920  """Get Mobility 
+00012fb0: 436f 6e74 726f 6c6c 6572 7320 564c 414e  Controllers VLAN
+00012fc0: 2064 6574 6169 6c73 2e0a 0a20 2020 2020   details...     
+00012fd0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00012fe0: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
+00012ff0: 293a 2053 6572 6961 6c20 6e75 6d62 6572  ): Serial number
+00013000: 206f 6620 6d6f 6269 6c69 7479 2063 6f6e   of mobility con
+00013010: 7472 6f6c 6c65 7220 746f 2062 6520 7175  troller to be qu
+00013020: 6572 6965 640a 0a20 2020 2020 2020 2052  eried..        R
+00013030: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00013040: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00013050: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+00013060: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00013070: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+00013080: 203d 2066 222f 6d6f 6e69 746f 7269 6e67   = f"/monitoring
+00013090: 2f76 312f 6d6f 6269 6c69 7479 5f63 6f6e  /v1/mobility_con
+000130a0: 7472 6f6c 6c65 7273 2f7b 7365 7269 616c  trollers/{serial
+000130b0: 7d2f 766c 616e 220a 0a20 2020 2020 2020  }/vlan"..       
+000130c0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+000130d0: 6c66 2e67 6574 2875 726c 290a 0a20 2020  lf.get(url)..   
+000130e0: 2061 7379 6e63 2064 6566 2067 6574 5f74   async def get_t
+000130f0: 735f 636f 6d6d 616e 6473 2873 656c 662c  s_commands(self,
+00013100: 2064 6576 5f74 7970 653a 204c 6974 6572   dev_type: Liter
+00013110: 616c 5b27 6961 7027 2c20 276d 6173 272c  al['iap', 'mas',
+00013120: 2027 7377 6974 6368 272c 2027 636f 6e74   'switch', 'cont
+00013130: 726f 6c6c 6572 275d 2920 2d3e 2052 6573  roller']) -> Res
+00013140: 706f 6e73 653a 0a20 2020 2020 2020 2075  ponse:.        u
+00013150: 726c 203d 2022 2f74 726f 7562 6c65 7368  rl = "/troublesh
+00013160: 6f6f 7469 6e67 2f76 312f 636f 6d6d 616e  ooting/v1/comman
+00013170: 6473 220a 2020 2020 2020 2020 7061 7261  ds".        para
+00013180: 6d73 203d 207b 2264 6576 6963 655f 7479  ms = {"device_ty
+00013190: 7065 223a 2064 6576 5f74 7970 657d 0a20  pe": dev_type}. 
+000131a0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+000131b0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+000131c0: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
+000131d0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+000131e0: 7374 6172 745f 7473 5f73 6573 7369 6f6e  start_ts_session
+000131f0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+00013200: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
+00013210: 7374 722c 0a20 2020 2020 2020 2064 6576  str,.        dev
+00013220: 5f74 7970 653a 2073 7472 2c0a 2020 2020  _type: str,.    
+00013230: 2020 2020 636f 6d6d 616e 6473 3a20 556e      commands: Un
+00013240: 696f 6e5b 696e 742c 206c 6973 742c 2064  ion[int, list, d
+00013250: 6963 745d 2c0a 2020 2020 2920 2d3e 2052  ict],.    ) -> R
+00013260: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+00013270: 2022 2222 5374 6172 7420 5472 6f75 626c   """Start Troubl
+00013280: 6573 686f 6f74 696e 6720 5365 7373 696f  eshooting Sessio
+00013290: 6e2e 0a0a 2020 2020 2020 2020 4172 6773  n...        Args
+000132a0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+000132b0: 7269 616c 2028 7374 7229 3a20 5365 7269  rial (str): Seri
+000132c0: 616c 206f 6620 6465 7669 6365 0a20 2020  al of device.   
+000132d0: 2020 2020 2020 2020 2064 6576 5f74 7970           dev_typ
+000132e0: 6520 2873 7472 293a 2053 7065 6369 6679  e (str): Specify
+000132f0: 206f 6e65 206f 6620 2249 4150 2f53 5749   one of "IAP/SWI
+00013300: 5443 482f 4358 2f4d 4153 2f43 4f4e 5452  TCH/CX/MAS/CONTR
+00013310: 4f4c 4c45 5222 2066 6f72 2020 4941 5073  OLLER" for  IAPs
+00013320: 2c20 4172 7562 610a 2020 2020 2020 2020  , Aruba.        
+00013330: 2020 2020 2020 2020 7377 6974 6368 6573          switches
+00013340: 2c20 4358 2053 7769 7463 6865 732c 204d  , CX Switches, M
+00013350: 4153 2073 7769 7463 6865 7320 616e 6420  AS switches and 
+00013360: 636f 6e74 726f 6c6c 6572 7320 7265 7370  controllers resp
+00013370: 6563 7469 7665 6c79 2e0a 2020 2020 2020  ectively..      
+00013380: 2020 2020 2020 636f 6d6d 616e 6473 2028        commands (
+00013390: 696e 742c 204c 6973 745b 696e 7420 7c20  int, List[int | 
+000133a0: 6469 6374 5d2c 2064 6963 7429 3a20 6120  dict], dict): a 
+000133b0: 7369 6e67 6c65 2063 6f6d 6d61 6e64 5f69  single command_i
+000133c0: 642c 206f 7220 6120 4c69 7374 206f 6620  d, or a List of 
+000133d0: 636f 6d6d 616e 645f 6964 7320 2846 6f72  command_ids (For
+000133e0: 2063 6f6d 6d61 6e64 7320 7769 7468 206e   commands with n
+000133f0: 6f20 6172 6775 6d65 6e74 7329 0a20 2020  o arguments).   
+00013400: 2020 2020 2020 2020 2020 2020 204f 5220               OR 
+00013410: 6120 6469 6374 207b 636f 6d6d 616e 645f  a dict {command_
+00013420: 6964 3a20 7b61 7267 756d 656e 7431 5f6e  id: {argument1_n
+00013430: 616d 653a 2061 7267 756d 656e 7431 5f76  ame: argument1_v
+00013440: 616c 7565 2c20 6172 6775 6d65 6e74 325f  alue, argument2_
+00013450: 6e61 6d65 3a20 6172 6775 6d65 6e74 325f  name: argument2_
+00013460: 7661 6c75 657d 7d0a 0a20 2020 2020 2020  value}}..       
+00013470: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+00013480: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+00013490: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+000134a0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+000134b0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+000134c0: 726c 203d 2066 222f 7472 6f75 626c 6573  rl = f"/troubles
+000134d0: 686f 6f74 696e 672f 7631 2f64 6576 6963  hooting/v1/devic
+000134e0: 6573 2f7b 7365 7269 616c 7d22 0a20 2020  es/{serial}".   
+000134f0: 2020 2020 2063 6f6d 6d61 6e64 7320 3d20       commands = 
+00013500: 7574 696c 732e 6c69 7374 6966 7928 636f  utils.listify(co
+00013510: 6d6d 616e 6473 290a 2020 2020 2020 2020  mmands).        
+00013520: 636d 6473 203d 205b 5d0a 2020 2020 2020  cmds = [].      
+00013530: 2020 666f 7220 636d 6420 696e 2063 6f6d    for cmd in com
+00013540: 6d61 6e64 733a 0a20 2020 2020 2020 2020  mands:.         
+00013550: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+00013560: 2863 6d64 2c20 696e 7429 3a0a 2020 2020  (cmd, int):.    
+00013570: 2020 2020 2020 2020 2020 2020 636d 6473              cmds
+00013580: 202b 3d20 5b7b 2263 6f6d 6d61 6e64 5f69   += [{"command_i
+00013590: 6422 3a20 636d 647d 5d0a 2020 2020 2020  d": cmd}].      
+000135a0: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
+000135b0: 7461 6e63 6528 636d 642c 2064 6963 7429  tance(cmd, dict)
+000135c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000135d0: 2020 636d 6473 202b 3d20 5b0a 2020 2020    cmds += [.    
+000135e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000135f0: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+00013600: 2020 2020 2020 2020 2020 2263 6f6d 6d61            "comma
+00013610: 6e64 5f69 6422 3a20 6369 642c 0a20 2020  nd_id": cid,.   
+00013620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013630: 2020 2020 2022 6172 6775 6d65 6e74 7322       "arguments"
+00013640: 3a20 5b7b 226e 616d 6522 3a20 6b2c 2022  : [{"name": k, "
+00013650: 7661 6c75 6522 3a20 767d 2066 6f72 206b  value": v} for k
+00013660: 2c20 7620 696e 2063 6d64 5b63 6964 5d2e  , v in cmd[cid].
+00013670: 6974 656d 7328 295d 0a20 2020 2020 2020  items()].       
+00013680: 2020 2020 2020 2020 2020 2020 207d 0a20               }. 
+00013690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000136a0: 2020 2066 6f72 2063 6964 2069 6e20 636d     for cid in cm
+000136b0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+000136c0: 2020 5d0a 0a20 2020 2020 2020 206a 736f    ]..        jso
+000136d0: 6e5f 6461 7461 203d 207b 0a20 2020 2020  n_data = {.     
+000136e0: 2020 2020 2020 2027 6465 7669 6365 5f74         'device_t
+000136f0: 7970 6527 3a20 6465 765f 7479 7065 2c0a  ype': dev_type,.
+00013700: 2020 2020 2020 2020 2020 2020 2763 6f6d              'com
+00013710: 6d61 6e64 7327 3a20 636d 6473 0a20 2020  mands': cmds.   
+00013720: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+00013730: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+00013740: 662e 706f 7374 2875 726c 2c20 6a73 6f6e  f.post(url, json
+00013750: 5f64 6174 613d 6a73 6f6e 5f64 6174 6129  _data=json_data)
+00013760: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+00013770: 6765 745f 7473 5f6f 7574 7075 7428 0a20  get_ts_output(. 
+00013780: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00013790: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
+000137a0: 2c0a 2020 2020 2020 2020 7365 7373 696f  ,.        sessio
+000137b0: 6e5f 6964 3a20 696e 742c 0a20 2020 2029  n_id: int,.    )
+000137c0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+000137d0: 2020 2020 2020 2222 2247 6574 2054 726f        """Get Tro
+000137e0: 7562 6c65 7368 6f6f 7469 6e67 204f 7574  ubleshooting Out
+000137f0: 7075 742e 0a0a 2020 2020 2020 2020 4172  put...        Ar
+00013800: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00013810: 7365 7269 616c 2028 7374 7229 3a20 5365  serial (str): Se
+00013820: 7269 616c 206f 6620 6465 7669 6365 0a20  rial of device. 
+00013830: 2020 2020 2020 2020 2020 2073 6573 7369             sessi
+00013840: 6f6e 5f69 6420 2869 6e74 293a 2055 6e69  on_id (int): Uni
+00013850: 7175 6520 4944 2066 6f72 2074 726f 7562  que ID for troub
+00013860: 6c65 7368 6f6f 7469 6e67 2073 6573 7369  leshooting sessi
+00013870: 6f6e 0a0a 2020 2020 2020 2020 5265 7475  on..        Retu
+00013880: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00013890: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+000138a0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+000138b0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+000138c0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+000138d0: 6622 2f74 726f 7562 6c65 7368 6f6f 7469  f"/troubleshooti
+000138e0: 6e67 2f76 312f 6465 7669 6365 732f 7b73  ng/v1/devices/{s
+000138f0: 6572 6961 6c7d 220a 0a20 2020 2020 2020  erial}"..       
+00013900: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
+00013910: 2020 2020 2020 2020 2773 6573 7369 6f6e          'session
+00013920: 5f69 6427 3a20 7365 7373 696f 6e5f 6964  _id': session_id
+00013930: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+00013940: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00013950: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+00013960: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+00013970: 2020 2061 7379 6e63 2064 6566 2063 6c65     async def cle
+00013980: 6172 5f74 735f 7365 7373 696f 6e28 0a20  ar_ts_session(. 
+00013990: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+000139a0: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
+000139b0: 2c0a 2020 2020 2020 2020 7365 7373 696f  ,.        sessio
+000139c0: 6e5f 6964 3a20 696e 742c 0a20 2020 2029  n_id: int,.    )
+000139d0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+000139e0: 2020 2020 2020 2222 2243 6c65 6172 2054        """Clear T
+000139f0: 726f 7562 6c65 7368 6f6f 7469 6e67 2053  roubleshooting S
+00013a00: 6573 7369 6f6e 2061 6e64 206f 7574 7075  ession and outpu
+00013a10: 7420 666f 7220 6465 7669 6365 2e0a 0a20  t for device... 
+00013a20: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00013a30: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
+00013a40: 2873 7472 293a 2053 6572 6961 6c20 6f66  (str): Serial of
+00013a50: 2064 6576 6963 650a 2020 2020 2020 2020   device.        
+00013a60: 2020 2020 7365 7373 696f 6e5f 6964 2028      session_id (
+00013a70: 696e 7429 3a20 556e 6971 7565 2049 4420  int): Unique ID 
+00013a80: 666f 7220 6561 6368 2074 726f 7562 6c65  for each trouble
+00013a90: 7368 6f6f 7469 6e67 2073 6573 7369 6f6e  shooting session
+00013aa0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00013ab0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+00013ac0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+00013ad0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+00013ae0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00013af0: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+00013b00: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
+00013b10: 2f76 312f 6465 7669 6365 732f 7b73 6572  /v1/devices/{ser
+00013b20: 6961 6c7d 220a 0a20 2020 2020 2020 2070  ial}"..        p
+00013b30: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+00013b40: 2020 2020 2020 2773 6573 7369 6f6e 5f69        'session_i
+00013b50: 6427 3a20 7365 7373 696f 6e5f 6964 0a20  d': session_id. 
+00013b60: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+00013b70: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00013b80: 656c 662e 6465 6c65 7465 2875 726c 2c20  elf.delete(url, 
+00013b90: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
+00013ba0: 2020 2020 2320 4150 492d 464c 4157 2072      # API-FLAW r
+00013bb0: 6574 7572 6e73 2034 3034 2069 6620 7468  eturns 404 if th
+00013bc0: 6572 6520 6172 6520 6e6f 2073 6573 7369  ere are no sessi
+00013bd0: 6f6e 7320 7275 6e6e 696e 670a 2020 2020  ons running.    
+00013be0: 6173 796e 6320 6465 6620 6765 745f 7473  async def get_ts
+00013bf0: 5f73 6573 7369 6f6e 5f69 6428 0a20 2020  _session_id(.   
+00013c00: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00013c10: 2020 2073 6572 6961 6c3a 2073 7472 2c0a     serial: str,.
+00013c20: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+00013c30: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+00013c40: 7420 5472 6f75 626c 6573 686f 6f74 696e  t Troubleshootin
+00013c50: 6720 5365 7373 696f 6e20 4944 2066 6f72  g Session ID for
+00013c60: 2061 2064 6576 6963 652e 0a0a 2020 2020   a device...    
+00013c70: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00013c80: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
+00013c90: 7229 3a20 5365 7269 616c 206f 6620 6465  r): Serial of de
+00013ca0: 7669 6365 0a0a 2020 2020 2020 2020 5265  vice..        Re
+00013cb0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00013cc0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00013cd0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00013ce0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00013cf0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00013d00: 3d20 6622 2f74 726f 7562 6c65 7368 6f6f  = f"/troubleshoo
+00013d10: 7469 6e67 2f76 312f 6465 7669 6365 732f  ting/v1/devices/
+00013d20: 7b73 6572 6961 6c7d 2f73 6573 7369 6f6e  {serial}/session
+00013d30: 220a 0a20 2020 2020 2020 2072 6574 7572  "..        retur
+00013d40: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+00013d50: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
+00013d60: 2064 6566 2067 6574 5f73 6477 616e 5f64   def get_sdwan_d
+00013d70: 7073 5f70 6f6c 6963 795f 636f 6d70 6c69  ps_policy_compli
+00013d80: 616e 6365 2873 656c 662c 2074 696d 655f  ance(self, time_
+00013d90: 6672 616d 653a 2073 7472 203d 2022 6c61  frame: str = "la
+00013da0: 7374 5f77 6565 6b22 2c20 6f72 6465 723a  st_week", order:
+00013db0: 2073 7472 203d 2022 6265 7374 2229 202d   str = "best") -
+00013dc0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00013dd0: 2020 2020 7572 6c20 3d20 222f 7364 7761      url = "/sdwa
+00013de0: 6e2d 6d6f 6e2d 6170 692f 6578 7465 726e  n-mon-api/extern
+00013df0: 616c 2f6e 6f63 2f72 6570 6f72 7473 2f77  al/noc/reports/w
+00013e00: 616e 2f70 6f6c 6963 792d 636f 6d70 6c69  an/policy-compli
+00013e10: 616e 6365 220a 2020 2020 2020 2020 7061  ance".        pa
+00013e20: 7261 6d73 203d 207b 2270 6572 696f 6422  rams = {"period"
+00013e30: 3a20 7469 6d65 5f66 7261 6d65 2c20 2272  : time_frame, "r
+00013e40: 6573 756c 745f 6f72 6465 7222 3a20 6f72  esult_order": or
+00013e50: 6465 722c 2022 636f 756e 7422 3a20 3235  der, "count": 25
+00013e60: 307d 0a20 2020 2020 2020 2072 6574 7572  0}.        retur
+00013e70: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+00013e80: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
+00013e90: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
+00013ea0: 6465 6620 6765 745f 6170 5f6c 6c64 705f  def get_ap_lldp_
+00013eb0: 6e65 6967 6862 6f72 2873 656c 662c 2064  neighbor(self, d
+00013ec0: 6576 6963 655f 7365 7269 616c 3a20 7374  evice_serial: st
+00013ed0: 7229 202d 3e20 5265 7370 6f6e 7365 3a0a  r) -> Response:.
+00013ee0: 2020 2020 2020 2020 2222 2247 6574 206e          """Get n
+00013ef0: 6569 6768 626f 7220 6465 7461 696c 7320  eighbor details 
+00013f00: 7265 706f 7274 6564 2062 7920 4150 2076  reported by AP v
+00013f10: 6961 204c 4c44 502e 0a0a 2020 2020 2020  ia LLDP...      
+00013f20: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00013f30: 2020 2020 6465 7669 6365 5f73 6572 6961      device_seria
+00013f40: 6c20 2873 7472 293a 2044 6576 6963 6520  l (str): Device 
+00013f50: 7365 7269 616c 206e 756d 6265 722e 0a0a  serial number...
+00013f60: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00013f70: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00013f80: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00013f90: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00013fa0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00013fb0: 2020 2020 2020 7572 6c20 3d20 6622 2f74        url = f"/t
+00013fc0: 6f70 6f6c 6f67 795f 6578 7465 726e 616c  opology_external
+00013fd0: 5f61 7069 2f61 704e 6569 6768 626f 7273  _api/apNeighbors
+00013fe0: 2f7b 6465 7669 6365 5f73 6572 6961 6c7d  /{device_serial}
+00013ff0: 220a 0a20 2020 2020 2020 2072 6574 7572  "..        retur
+00014000: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+00014010: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
+00014020: 2064 6566 2064 6f5f 6d75 6c74 695f 6772   def do_multi_gr
+00014030: 6f75 705f 736e 6170 7368 6f74 280a 2020  oup_snapshot(.  
+00014040: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00014050: 2020 2020 6261 636b 7570 5f6e 616d 653a      backup_name:
+00014060: 2073 7472 2c0a 2020 2020 2020 2020 696e   str,.        in
+00014070: 636c 7564 655f 6772 6f75 7073 3a20 556e  clude_groups: Un
+00014080: 696f 6e5b 6c69 7374 2c20 4c69 7374 5b73  ion[list, List[s
+00014090: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
+000140a0: 2020 2020 2065 7863 6c75 6465 5f67 726f       exclude_gro
+000140b0: 7570 733a 2055 6e69 6f6e 5b6c 6973 742c  ups: Union[list,
+000140c0: 204c 6973 745b 7374 725d 5d20 3d20 4e6f   List[str]] = No
+000140d0: 6e65 2c0a 2020 2020 2020 2020 646f 5f6e  ne,.        do_n
+000140e0: 6f74 5f64 656c 6574 653a 2062 6f6f 6c20  ot_delete: bool 
+000140f0: 3d20 4661 6c73 652c 0a20 2020 2029 202d  = False,.    ) -
+00014100: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00014110: 2020 2020 2222 2220 2243 7265 6174 6520      """ "Create 
+00014120: 6e65 7720 636f 6e66 6967 7572 6174 696f  new configuratio
+00014130: 6e20 6261 636b 7570 2066 6f72 206d 756c  n backup for mul
+00014140: 7469 706c 6520 6772 6f75 7073 2e22 0a0a  tiple groups."..
+00014150: 2020 2020 2020 2020 4569 7468 6572 2069          Either i
+00014160: 6e63 6c75 6465 5f67 726f 7570 7320 6f72  nclude_groups or
+00014170: 2065 7863 6c75 6465 5f67 726f 7570 7320   exclude_groups 
+00014180: 7368 6f75 6c64 2062 6520 7072 6f76 6964  should be provid
+00014190: 6564 2c20 6275 7420 6e6f 7420 626f 7468  ed, but not both
+000141a0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+000141b0: 0a20 2020 2020 2020 2020 2020 2062 6163  .            bac
+000141c0: 6b75 705f 6e61 6d65 2028 7374 7229 3a20  kup_name (str): 
+000141d0: 4e61 6d65 206f 6620 4261 636b 7570 0a20  Name of Backup. 
+000141e0: 2020 2020 2020 2020 2020 2069 6e63 6c75             inclu
+000141f0: 6465 5f67 726f 7570 7320 2855 6e69 6f6e  de_groups (Union
+00014200: 5b6c 6973 742c 204c 6973 745b 7374 725d  [list, List[str]
+00014210: 5d2c 206f 7074 696f 6e61 6c29 3a20 4772  ], optional): Gr
+00014220: 6f75 7073 2074 6f20 696e 636c 7564 6520  oups to include 
+00014230: 696e 2042 6163 6b75 702e 2044 6566 6175  in Backup. Defau
+00014240: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
+00014250: 2020 2020 2020 2020 2065 7863 6c75 6465           exclude
+00014260: 5f67 726f 7570 7320 2855 6e69 6f6e 5b6c  _groups (Union[l
+00014270: 6973 742c 204c 6973 745b 7374 725d 5d2c  ist, List[str]],
+00014280: 206f 7074 696f 6e61 6c29 3a20 4772 6f75   optional): Grou
+00014290: 7073 2074 6f20 4578 636c 7564 6520 696e  ps to Exclude in
+000142a0: 2042 6163 6b75 702e 2044 6566 6175 6c74   Backup. Default
+000142b0: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
+000142c0: 2020 2020 2020 2064 6f5f 6e6f 745f 6465         do_not_de
+000142d0: 6c65 7465 2028 626f 6f6c 2c20 6f70 7469  lete (bool, opti
+000142e0: 6f6e 616c 293a 2046 6c61 6720 746f 2072  onal): Flag to r
+000142f0: 6570 7265 7365 6e74 2069 6620 7468 6520  epresent if the 
+00014300: 736e 6170 7368 6f74 2063 616e 2062 6520  snapshot can be 
+00014310: 6465 6c65 7465 6420 6175 746f 6d61 7469  deleted automati
+00014320: 6361 6c6c 790a 2020 2020 2020 2020 2020  cally.          
+00014330: 2020 2020 2020 6279 2073 7973 7465 6d20        by system 
+00014340: 7768 656e 2063 7265 6174 696e 6720 6e65  when creating ne
+00014350: 7720 736e 6170 7368 6f74 206f 7220 6e6f  w snapshot or no
+00014360: 742e 2044 6566 6175 6c74 7320 746f 2046  t. Defaults to F
+00014370: 616c 7365 2e0a 0a0a 2020 2020 2020 2020  alse....        
+00014380: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00014390: 2020 2020 2052 6573 706f 6e73 653a 2052       Response: R
+000143a0: 6573 706f 6e73 6520 4f62 6a65 6374 0a20  esponse Object. 
+000143b0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000143c0: 2020 2075 726c 203d 2022 2f63 6f6e 6669     url = "/confi
+000143d0: 6775 7261 7469 6f6e 2f76 312f 6772 6f75  guration/v1/grou
+000143e0: 7073 2f73 6e61 7073 686f 742f 6261 636b  ps/snapshot/back
+000143f0: 7570 7322 0a20 2020 2020 2020 2069 6e63  ups".        inc
+00014400: 6c75 6465 5f67 726f 7570 7320 3d20 7574  lude_groups = ut
+00014410: 696c 732e 6c69 7374 6966 7928 696e 636c  ils.listify(incl
+00014420: 7564 655f 6772 6f75 7073 290a 2020 2020  ude_groups).    
+00014430: 2020 2020 6578 636c 7564 655f 6772 6f75      exclude_grou
+00014440: 7073 203d 2075 7469 6c73 2e6c 6973 7469  ps = utils.listi
+00014450: 6679 2865 7863 6c75 6465 5f67 726f 7570  fy(exclude_group
+00014460: 7329 0a20 2020 2020 2020 2070 6179 6c6f  s).        paylo
+00014470: 6164 203d 207b 0a20 2020 2020 2020 2020  ad = {.         
+00014480: 2020 2022 6261 636b 7570 5f6e 616d 6522     "backup_name"
+00014490: 3a20 6261 636b 7570 5f6e 616d 652c 0a20  : backup_name,. 
+000144a0: 2020 2020 2020 2020 2020 2022 646f 5f6e             "do_n
+000144b0: 6f74 5f64 656c 6574 6522 3a20 646f 5f6e  ot_delete": do_n
+000144c0: 6f74 5f64 656c 6574 652c 0a20 2020 2020  ot_delete,.     
+000144d0: 2020 2020 2020 2022 696e 636c 7564 655f         "include_
+000144e0: 6772 6f75 7073 223a 2069 6e63 6c75 6465  groups": include
+000144f0: 5f67 726f 7570 732c 0a20 2020 2020 2020  _groups,.       
+00014500: 2020 2020 2022 6578 636c 7564 655f 6772       "exclude_gr
+00014510: 6f75 7073 223a 2065 7863 6c75 6465 5f67  oups": exclude_g
+00014520: 726f 7570 732c 0a20 2020 2020 2020 207d  roups,.        }
+00014530: 0a20 2020 2020 2020 2070 6179 6c6f 6164  .        payload
+00014540: 203d 2073 656c 662e 7374 7269 705f 6e6f   = self.strip_no
+00014550: 6e65 2870 6179 6c6f 6164 290a 2020 2020  ne(payload).    
+00014560: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00014570: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
+00014580: 6a73 6f6e 5f64 6174 613d 7061 796c 6f61  json_data=payloa
+00014590: 6429 0a0a 2020 2020 6173 796e 6320 6465  d)..    async de
+000145a0: 6620 6765 745f 736e 6170 7368 6f74 735f  f get_snapshots_
+000145b0: 6279 5f67 726f 7570 2873 656c 662c 2067  by_group(self, g
+000145c0: 726f 7570 3a20 7374 7229 3a0a 2020 2020  roup: str):.    
+000145d0: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
+000145e0: 6669 6775 7261 7469 6f6e 2f76 312f 6772  figuration/v1/gr
+000145f0: 6f75 7073 2f7b 6772 6f75 707d 2f73 6e61  oups/{group}/sna
+00014600: 7073 686f 7473 220a 2020 2020 2020 2020  pshots".        
+00014610: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+00014620: 662e 6765 7428 7572 6c29 0a0a 2020 2020  f.get(url)..    
+00014630: 6173 796e 6320 6465 6620 6765 745f 6777  async def get_gw
+00014640: 5f74 756e 6e65 6c73 280a 2020 2020 2020  _tunnels(.      
+00014650: 2020 7365 6c66 2c20 7365 7269 616c 3a20    self, serial: 
+00014660: 7374 722c 0a20 2020 2020 2020 2074 696d  str,.        tim
+00014670: 6572 616e 6765 3a20 7374 7220 3d20 2231  erange: str = "1
+00014680: 4d22 2c0a 2020 2020 2020 2020 6c69 6d69  M",.        limi
+00014690: 743a 2069 6e74 203d 2032 3530 2c0a 2020  t: int = 250,.  
+000146a0: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
+000146b0: 7420 3d20 300a 2020 2020 2920 2d3e 2052  t = 0.    ) -> R
+000146c0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+000146d0: 2022 2222 4765 7420 6761 7465 7761 7920   """Get gateway 
+000146e0: 5570 6c69 6e6b 2074 756e 6e65 6c20 6465  Uplink tunnel de
+000146f0: 7461 696c 732e 0a0a 2020 2020 2020 2020  tails...        
+00014700: 5573 6564 2062 7920 7768 5f70 726f 7879  Used by wh_proxy
+00014710: 2c20 6375 7272 656e 746c 7920 6e6f 7420  , currently not 
+00014720: 7573 6564 2062 7920 6120 636f 6d6d 616e  used by a comman
+00014730: 6420 7769 6c6c 2062 6520 696e 2073 686f  d will be in sho
+00014740: 7720 6761 7465 7761 7920 7475 6e6e 656c  w gateway tunnel
+00014750: 730a 0a20 2020 2020 2020 2041 7267 733a  s..        Args:
+00014760: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
+00014770: 6961 6c20 2873 7472 293a 2053 6572 6961  ial (str): Seria
+00014780: 6c20 6e75 6d62 6572 206f 6620 6d6f 6269  l number of mobi
+00014790: 6c69 7479 2063 6f6e 7472 6f6c 6c65 7220  lity controller 
+000147a0: 746f 2062 6520 7175 6572 6965 640a 2020  to be queried.  
+000147b0: 2020 2020 2020 2020 2020 7469 6d65 7261            timera
+000147c0: 6e67 6520 2873 7472 293a 2054 696d 6520  nge (str): Time 
+000147d0: 7261 6e67 6520 666f 7220 7475 6e6e 656c  range for tunnel
+000147e0: 2073 7461 7473 2069 6e66 6f72 6d61 7469   stats informati
+000147f0: 6f6e 2e0a 2020 2020 2020 2020 2020 2020  on..            
+00014800: 2020 2020 3348 203d 2033 2048 6f75 7273      3H = 3 Hours
+00014810: 2c20 3144 203d 2031 2044 6179 2c20 3157  , 1D = 1 Day, 1W
+00014820: 203d 2031 2057 6565 6b2c 2031 4d20 3d20   = 1 Week, 1M = 
+00014830: 314d 6f6e 7468 2c20 334d 203d 2033 4d6f  1Month, 3M = 3Mo
+00014840: 6e74 6873 2e0a 2020 2020 2020 2020 2020  nths..          
+00014850: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
+00014860: 7469 6f6e 616c 293a 2050 6167 696e 6174  tional): Paginat
+00014870: 696f 6e20 6c69 6d69 742e 204d 6178 3a20  ion limit. Max: 
+00014880: 3130 3030 2044 6566 6175 6c74 7320 746f  1000 Defaults to
+00014890: 2032 3530 2e0a 2020 2020 2020 2020 2020   250..          
+000148a0: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
+000148b0: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
+000148c0: 7469 6f6e 206f 6666 7365 7420 4465 6661  tion offset Defa
+000148d0: 756c 7473 2074 6f20 302e 0a0a 2020 2020  ults to 0...    
+000148e0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+000148f0: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+00014900: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+00014910: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+00014920: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00014930: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
+00014940: 6f72 696e 672f 7631 2f67 6174 6577 6179  oring/v1/gateway
+00014950: 732f 7b73 6572 6961 6c7d 2f74 756e 6e65  s/{serial}/tunne
+00014960: 6c73 220a 0a20 2020 2020 2020 2070 6172  ls"..        par
+00014970: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
+00014980: 2020 2020 2274 696d 6572 616e 6765 223a      "timerange":
+00014990: 2074 696d 6572 616e 6765 2c0a 2020 2020   timerange,.    
+000149a0: 2020 2020 2020 2020 226f 6666 7365 7422          "offset"
+000149b0: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
+000149c0: 2020 2020 2020 226c 696d 6974 223a 206c        "limit": l
+000149d0: 696d 6974 0a20 2020 2020 2020 207d 0a0a  imit.        }..
+000149e0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+000149f0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+00014a00: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
+00014a10: 290a 0a20 2020 2023 2041 5049 2d46 4c41  )..    # API-FLA
+00014a20: 5720 6d61 7820 6c69 6d69 7420 3130 3020  W max limit 100 
+00014a30: 656e 666f 7263 6564 2069 6620 796f 7520  enforced if you 
+00014a40: 7072 6f76 6964 6520 7468 6520 6c69 6d69  provide the limi
+00014a50: 7420 7061 7261 6d65 7465 722c 206f 7468  t parameter, oth
+00014a60: 6572 7769 7365 206e 6f20 6c69 6d69 743f  erwise no limit?
+00014a70: 2072 6574 7572 6e65 6420 3831 3120 772f   returned 811 w/
+00014a80: 206e 6f20 7061 7261 6d20 7072 6f76 6964   no param provid
+00014a90: 6564 0a20 2020 2023 2041 5049 2d46 4c41  ed.    # API-FLA
+00014aa0: 5720 646f 6573 206e 6f74 2072 6574 7572  W does not retur
+00014ab0: 6e20 616c 6c20 6c6f 6773 2061 7661 696c  n all logs avail
+00014ac0: 6162 6c65 2069 6e20 5549 2077 7466 3f3f  able in UI wtf??
+00014ad0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+00014ae0: 6574 5f61 7564 6974 5f6c 6f67 7328 0a20  et_audit_logs(. 
+00014af0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00014b00: 2020 2020 206c 6f67 5f69 643a 2073 7472       log_id: str
+00014b10: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00014b20: 2075 7365 726e 616d 653a 2073 7472 203d   username: str =
+00014b30: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+00014b40: 7461 7274 5f74 696d 653a 2069 6e74 203d  tart_time: int =
+00014b50: 204e 6f6e 652c 0a20 2020 2020 2020 2065   None,.        e
+00014b60: 6e64 5f74 696d 653a 2069 6e74 203d 204e  nd_time: int = N
+00014b70: 6f6e 652c 0a20 2020 2020 2020 2064 6573  one,.        des
+00014b80: 6372 6970 7469 6f6e 3a20 7374 7220 3d20  cription: str = 
+00014b90: 4e6f 6e65 2c0a 2020 2020 2020 2020 7461  None,.        ta
+00014ba0: 7267 6574 3a20 7374 7220 3d20 4e6f 6e65  rget: str = None
+00014bb0: 2c0a 2020 2020 2020 2020 636c 6173 7369  ,.        classi
+00014bc0: 6669 6361 7469 6f6e 3a20 7374 7220 3d20  fication: str = 
+00014bd0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6375  None,.        cu
+00014be0: 7374 6f6d 6572 5f6e 616d 653a 2073 7472  stomer_name: str
+00014bf0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00014c00: 2069 705f 6164 6472 6573 733a 2073 7472   ip_address: str
+00014c10: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00014c20: 2061 7070 5f69 643a 2073 7472 203d 204e   app_id: str = N
+00014c30: 6f6e 652c 0a20 2020 2020 2020 206f 6666  one,.        off
+00014c40: 7365 743a 2069 6e74 203d 2030 2c0a 2020  set: int = 0,.  
+00014c50: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
+00014c60: 203d 2031 3030 2c0a 2020 2020 2020 2020   = 100,.        
+00014c70: 636f 756e 743a 2069 6e74 203d 204e 6f6e  count: int = Non
+00014c80: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
+00014c90: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00014ca0: 2247 6574 2061 6c6c 2061 7564 6974 206c  "Get all audit l
+00014cb0: 6f67 732e 0a0a 2020 2020 2020 2020 4172  ogs...        Ar
+00014cc0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00014cd0: 6c6f 675f 6964 2028 7374 722c 206f 7074  log_id (str, opt
+00014ce0: 696f 6e61 6c29 3a20 5468 6520 6964 206f  ional): The id o
+00014cf0: 6620 7468 6520 6c6f 6720 746f 2072 6574  f the log to ret
+00014d00: 7572 6e20 6465 7461 696c 7320 666f 722e  urn details for.
+00014d10: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+00014d20: 652e 0a20 2020 2020 2020 2020 2020 2075  e..            u
+00014d30: 7365 726e 616d 6520 2873 7472 2c20 6f70  sername (str, op
+00014d40: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+00014d50: 6175 6469 7420 6c6f 6773 2062 7920 5573  audit logs by Us
+00014d60: 6572 204e 616d 650a 2020 2020 2020 2020  er Name.        
+00014d70: 2020 2020 7374 6172 745f 7469 6d65 2028      start_time (
+00014d80: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+00014d90: 4669 6c74 6572 2061 7564 6974 206c 6f67  Filter audit log
+00014da0: 7320 6279 2054 696d 6520 5261 6e67 652e  s by Time Range.
+00014db0: 2053 7461 7274 2074 696d 6520 6f66 2074   Start time of t
+00014dc0: 6865 2061 7564 6974 0a20 2020 2020 2020  he audit.       
+00014dd0: 2020 2020 2020 2020 206c 6f67 7320 7368           logs sh
+00014de0: 6f75 6c64 2062 6520 7072 6f76 6964 6564  ould be provided
+00014df0: 2069 6e20 6570 6f63 6820 7365 636f 6e64   in epoch second
+00014e00: 730a 2020 2020 2020 2020 2020 2020 656e  s.            en
+00014e10: 645f 7469 6d65 2028 696e 742c 206f 7074  d_time (int, opt
+00014e20: 696f 6e61 6c29 3a20 4669 6c74 6572 2061  ional): Filter a
+00014e30: 7564 6974 206c 6f67 7320 6279 2054 696d  udit logs by Tim
+00014e40: 6520 5261 6e67 652e 2045 6e64 2074 696d  e Range. End tim
+00014e50: 6520 6f66 2074 6865 2061 7564 6974 206c  e of the audit l
+00014e60: 6f67 730a 2020 2020 2020 2020 2020 2020  ogs.            
+00014e70: 2020 2020 7368 6f75 6c64 2062 6520 7072      should be pr
+00014e80: 6f76 6964 6564 2069 6e20 6570 6f63 6820  ovided in epoch 
+00014e90: 7365 636f 6e64 730a 2020 2020 2020 2020  seconds.        
+00014ea0: 2020 2020 6465 7363 7269 7074 696f 6e20      description 
+00014eb0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00014ec0: 2046 696c 7465 7220 6175 6469 7420 6c6f   Filter audit lo
+00014ed0: 6773 2062 7920 4465 7363 7269 7074 696f  gs by Descriptio
+00014ee0: 6e0a 2020 2020 2020 2020 2020 2020 7461  n.            ta
+00014ef0: 7267 6574 2028 7374 722c 206f 7074 696f  rget (str, optio
+00014f00: 6e61 6c29 3a20 4669 6c74 6572 2061 7564  nal): Filter aud
+00014f10: 6974 206c 6f67 7320 6279 2074 6172 6765  it logs by targe
+00014f20: 7420 2873 6572 6961 6c20 6e75 6d62 6572  t (serial number
+00014f30: 292e 0a20 2020 2020 2020 2020 2020 2063  )..            c
+00014f40: 6c61 7373 6966 6963 6174 696f 6e20 2873  lassification (s
+00014f50: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+00014f60: 696c 7465 7220 6175 6469 7420 6c6f 6773  ilter audit logs
+00014f70: 2062 7920 436c 6173 7369 6669 6361 7469   by Classificati
+00014f80: 6f6e 0a20 2020 2020 2020 2020 2020 2063  on.            c
+00014f90: 7573 746f 6d65 725f 6e61 6d65 2028 7374  ustomer_name (st
+00014fa0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+00014fb0: 6c74 6572 2061 7564 6974 206c 6f67 7320  lter audit logs 
+00014fc0: 6279 2043 7573 746f 6d65 7220 4e61 6d65  by Customer Name
+00014fd0: 0a20 2020 2020 2020 2020 2020 2069 705f  .            ip_
+00014fe0: 6164 6472 6573 7320 2873 7472 2c20 6f70  address (str, op
+00014ff0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+00015000: 6175 6469 7420 6c6f 6773 2062 7920 4950  audit logs by IP
+00015010: 2041 6464 7265 7373 0a20 2020 2020 2020   Address.       
+00015020: 2020 2020 2061 7070 5f69 6420 2873 7472       app_id (str
+00015030: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+00015040: 7465 7220 6175 6469 7420 6c6f 6773 2062  ter audit logs b
+00015050: 7920 6170 705f 6964 0a20 2020 2020 2020  y app_id.       
+00015060: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
+00015070: 2c20 6f70 7469 6f6e 616c 293a 204e 756d  , optional): Num
+00015080: 6265 7220 6f66 2069 7465 6d73 2074 6f20  ber of items to 
+00015090: 6265 2073 6b69 7070 6564 2062 6566 6f72  be skipped befor
+000150a0: 6520 7265 7475 726e 696e 6720 7468 6520  e returning the 
+000150b0: 6461 7461 2e0a 2020 2020 2020 2020 2020  data..          
+000150c0: 2020 2020 2020 4465 6661 756c 7420 746f        Default to
+000150d0: 2030 2e0a 2020 2020 2020 2020 2020 2020   0..            
+000150e0: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
+000150f0: 6f6e 616c 293a 204d 6178 696d 756d 206e  onal): Maximum n
+00015100: 756d 6265 7220 6f66 2061 7564 6974 2065  umber of audit e
+00015110: 7665 6e74 7320 746f 2062 6520 7265 7475  vents to be retu
+00015120: 726e 6564 206d 6178 3a20 3130 300a 2020  rned max: 100.  
+00015130: 2020 2020 2020 2020 2020 2020 2020 4465                De
+00015140: 6661 756c 7473 2074 6f20 3130 302e 0a20  faults to 100.. 
+00015150: 2020 2020 2020 2020 2020 2063 6f75 6e74             count
+00015160: 3a20 4f6e 6c79 2072 6574 7572 6e20 3c63  : Only return <c
+00015170: 6f75 6e74 3e20 7265 7375 6c74 732e 0a0a  ount> results...
+00015180: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00015190: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+000151a0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+000151b0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+000151c0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+000151d0: 2020 2020 2020 7572 6c20 3d20 222f 706c        url = "/pl
+000151e0: 6174 666f 726d 2f61 7564 6974 6c6f 6773  atform/auditlogs
+000151f0: 2f76 312f 6c6f 6773 220a 0a20 2020 2020  /v1/logs"..     
+00015200: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
+00015210: 2020 2020 2020 2020 2020 2275 7365 726e            "usern
+00015220: 616d 6522 3a20 7573 6572 6e61 6d65 2c0a  ame": username,.
+00015230: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
+00015240: 7274 5f74 696d 6522 3a20 7374 6172 745f  rt_time": start_
+00015250: 7469 6d65 2c0a 2020 2020 2020 2020 2020  time,.          
+00015260: 2020 2265 6e64 5f74 696d 6522 3a20 656e    "end_time": en
+00015270: 645f 7469 6d65 2c0a 2020 2020 2020 2020  d_time,.        
+00015280: 2020 2020 2264 6573 6372 6970 7469 6f6e      "description
+00015290: 223a 2064 6573 6372 6970 7469 6f6e 2c0a  ": description,.
+000152a0: 2020 2020 2020 2020 2020 2020 2274 6172              "tar
+000152b0: 6765 7422 3a20 7461 7267 6574 2c0a 2020  get": target,.  
+000152c0: 2020 2020 2020 2020 2020 2263 6c61 7373            "class
+000152d0: 6966 6963 6174 696f 6e22 3a20 636c 6173  ification": clas
+000152e0: 7369 6669 6361 7469 6f6e 2c0a 2020 2020  sification,.    
+000152f0: 2020 2020 2020 2020 2263 7573 746f 6d65          "custome
+00015300: 725f 6e61 6d65 223a 2063 7573 746f 6d65  r_name": custome
+00015310: 725f 6e61 6d65 2c0a 2020 2020 2020 2020  r_name,.        
+00015320: 2020 2020 2269 705f 6164 6472 6573 7322      "ip_address"
+00015330: 3a20 6970 5f61 6464 7265 7373 2c0a 2020  : ip_address,.  
+00015340: 2020 2020 2020 2020 2020 2261 7070 5f69            "app_i
+00015350: 6422 3a20 6170 705f 6964 2069 6620 6e6f  d": app_id if no
+00015360: 7420 6861 7361 7474 7228 6170 705f 6964  t hasattr(app_id
+00015370: 2c20 2276 616c 7565 2229 2065 6c73 6520  , "value") else 
+00015380: 6170 705f 6964 2e76 616c 7565 2c0a 2020  app_id.value,.  
+00015390: 2020 2020 2020 2020 2020 226f 6666 7365            "offse
+000153a0: 7422 3a20 6f66 6673 6574 2c0a 2020 2020  t": offset,.    
+000153b0: 2020 2020 2020 2020 226c 696d 6974 223a          "limit":
+000153c0: 206c 696d 6974 2069 6620 6e6f 7420 636f   limit if not co
+000153d0: 756e 7420 6f72 206c 696d 6974 203c 2063  unt or limit < c
+000153e0: 6f75 6e74 2065 6c73 6520 636f 756e 742c  ount else count,
+000153f0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+00015400: 2020 2020 6966 206c 6f67 5f69 643a 0a20      if log_id:. 
+00015410: 2020 2020 2020 2020 2020 2075 726c 203d             url =
+00015420: 2066 227b 7572 6c7d 2f7b 6c6f 675f 6964   f"{url}/{log_id
+00015430: 7d22 0a20 2020 2020 2020 2020 2020 2070  }".            p
+00015440: 6172 616d 7320 3d20 7b7d 0a0a 2020 2020  arams = {}..    
+00015450: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00015460: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+00015470: 6172 616d 733d 7061 7261 6d73 2c20 636f  arams=params, co
+00015480: 756e 743d 636f 756e 7429 0a0a 2020 2020  unt=count)..    
+00015490: 6173 796e 6320 6465 6620 6765 745f 6175  async def get_au
+000154a0: 6469 745f 6c6f 6773 5f65 7665 6e74 7328  dit_logs_events(
+000154b0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+000154c0: 2020 2020 2020 2067 726f 7570 5f6e 616d         group_nam
+000154d0: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
+000154e0: 2020 2020 2020 2064 6576 6963 655f 6964         device_id
+000154f0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00015500: 2020 2020 2020 636c 6173 7369 6669 6361        classifica
+00015510: 7469 6f6e 3a20 7374 7220 3d20 4e6f 6e65  tion: str = None
+00015520: 2c0a 2020 2020 2020 2020 7374 6172 745f  ,.        start_
+00015530: 7469 6d65 3a20 696e 7420 3d20 4e6f 6e65  time: int = None
+00015540: 2c0a 2020 2020 2020 2020 656e 645f 7469  ,.        end_ti
+00015550: 6d65 3a20 696e 7420 3d20 4e6f 6e65 2c0a  me: int = None,.
+00015560: 2020 2020 2020 2020 6f66 6673 6574 3a20          offset: 
+00015570: 696e 7420 3d20 302c 0a20 2020 2020 2020  int = 0,.       
+00015580: 206c 696d 6974 3a20 696e 7420 3d20 3130   limit: int = 10
+00015590: 302c 0a20 2020 2029 202d 3e20 5265 7370  0,.    ) -> Resp
+000155a0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+000155b0: 2247 6574 2061 6c6c 2061 7564 6974 2065  "Get all audit e
+000155c0: 7665 6e74 7320 666f 7220 616c 6c20 6772  vents for all gr
+000155d0: 6f75 7073 2e0a 0a20 2020 2020 2020 2043  oups...        C
+000155e0: 7572 7265 6e74 6c79 206e 6f74 2075 7365  urrently not use
+000155f0: 6420 666f 7220 616e 7920 636f 6d6d 616e  d for any comman
+00015600: 6473 2061 6464 6564 2074 6f20 636f 6d70  ds added to comp
+00015610: 6172 6520 6f75 7470 7574 2074 6f20 2e2e  are output to ..
+00015620: 2e2f 706c 6174 666f 726d 2f2e 2e2e 2070  ./platform/... p
+00015630: 6174 6820 2867 6574 5f61 7564 6974 5f6c  ath (get_audit_l
+00015640: 6f67 7329 0a0a 2020 2020 2020 2020 4172  ogs)..        Ar
+00015650: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00015660: 6772 6f75 705f 6e61 6d65 2028 7374 722c  group_name (str,
+00015670: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+00015680: 6572 2061 7564 6974 2065 7665 6e74 7320  er audit events 
+00015690: 6279 2047 726f 7570 204e 616d 650a 2020  by Group Name.  
+000156a0: 2020 2020 2020 2020 2020 6465 7669 6365            device
+000156b0: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
+000156c0: 616c 293a 2046 696c 7465 7220 6175 6469  al): Filter audi
+000156d0: 7420 6576 656e 7473 2062 7920 5461 7267  t events by Targ
+000156e0: 6574 202f 2044 6576 6963 6520 4944 2e20  et / Device ID. 
+000156f0: 4465 7669 6365 2049 4420 666f 7220 4150  Device ID for AP
+00015700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015710: 2069 7320 5643 204e 616d 6520 616e 6420   is VC Name and 
+00015720: 5365 7269 616c 204e 756d 6265 7220 666f  Serial Number fo
+00015730: 7220 5377 6974 6368 6573 0a20 2020 2020  r Switches.     
+00015740: 2020 2020 2020 2063 6c61 7373 6966 6963         classific
+00015750: 6174 696f 6e20 2873 7472 2c20 6f70 7469  ation (str, opti
+00015760: 6f6e 616c 293a 2046 696c 7465 7220 6175  onal): Filter au
+00015770: 6469 7420 6576 656e 7473 2062 7920 636c  dit events by cl
+00015780: 6173 7369 6669 6361 7469 6f6e 0a20 2020  assification.   
+00015790: 2020 2020 2020 2020 2073 7461 7274 5f74           start_t
+000157a0: 696d 6520 2869 6e74 2c20 6f70 7469 6f6e  ime (int, option
+000157b0: 616c 293a 2046 696c 7465 7220 6175 6469  al): Filter audi
+000157c0: 7420 6c6f 6773 2062 7920 5469 6d65 2052  t logs by Time R
+000157d0: 616e 6765 2e20 5374 6172 7420 7469 6d65  ange. Start time
+000157e0: 206f 6620 7468 6520 6175 6469 740a 2020   of the audit.  
+000157f0: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
+00015800: 6773 2073 686f 756c 6420 6265 2070 726f  gs should be pro
+00015810: 7669 6465 6420 696e 2065 706f 6368 2073  vided in epoch s
+00015820: 6563 6f6e 6473 0a20 2020 2020 2020 2020  econds.         
+00015830: 2020 2065 6e64 5f74 696d 6520 2869 6e74     end_time (int
+00015840: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+00015850: 7465 7220 6175 6469 7420 6c6f 6773 2062  ter audit logs b
+00015860: 7920 5469 6d65 2052 616e 6765 2e20 456e  y Time Range. En
+00015870: 6420 7469 6d65 206f 6620 7468 6520 6175  d time of the au
+00015880: 6469 7420 6c6f 6773 0a20 2020 2020 2020  dit logs.       
+00015890: 2020 2020 2020 2020 2073 686f 756c 6420           should 
+000158a0: 6265 2070 726f 7669 6465 6420 696e 2065  be provided in e
+000158b0: 706f 6368 2073 6563 6f6e 6473 0a20 2020  poch seconds.   
+000158c0: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
+000158d0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+000158e0: 204e 756d 6265 7220 6f66 2069 7465 6d73   Number of items
+000158f0: 2074 6f20 6265 2073 6b69 7070 6564 2062   to be skipped b
+00015900: 6566 6f72 6520 7265 7475 726e 696e 6720  efore returning 
+00015910: 7468 6520 6461 7461 2c20 7573 6566 756c  the data, useful
+00015920: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015930: 2066 6f72 2070 6167 696e 6174 696f 6e20   for pagination 
+00015940: 4465 6661 756c 7473 2074 6f20 302e 0a20  Defaults to 0.. 
+00015950: 2020 2020 2020 2020 2020 206c 696d 6974             limit
+00015960: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+00015970: 3a20 4d61 7869 6d75 6d20 6e75 6d62 6572  : Maximum number
+00015980: 206f 6620 6175 6469 7420 6576 656e 7473   of audit events
+00015990: 2074 6f20 6265 2072 6574 7572 6e65 6420   to be returned 
+000159a0: 4465 6661 756c 7473 2074 6f20 3130 302e  Defaults to 100.
+000159b0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+000159c0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+000159d0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+000159e0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+000159f0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00015a00: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+00015a10: 6175 6469 746c 6f67 732f 7631 2f65 7665  auditlogs/v1/eve
+00015a20: 6e74 7322 0a0a 2020 2020 2020 2020 7061  nts"..        pa
+00015a30: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+00015a40: 2020 2020 2027 6772 6f75 705f 6e61 6d65       'group_name
+00015a50: 273a 2067 726f 7570 5f6e 616d 652c 0a20  ': group_name,. 
+00015a60: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
+00015a70: 6365 5f69 6427 3a20 6465 7669 6365 5f69  ce_id': device_i
+00015a80: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
+00015a90: 636c 6173 7369 6669 6361 7469 6f6e 273a  classification':
+00015aa0: 2063 6c61 7373 6966 6963 6174 696f 6e2c   classification,
+00015ab0: 0a20 2020 2020 2020 2020 2020 2027 7374  .            'st
+00015ac0: 6172 745f 7469 6d65 273a 2073 7461 7274  art_time': start
+00015ad0: 5f74 696d 652c 0a20 2020 2020 2020 2020  _time,.         
+00015ae0: 2020 2027 656e 645f 7469 6d65 273a 2065     'end_time': e
+00015af0: 6e64 5f74 696d 652c 0a20 2020 2020 2020  nd_time,.       
+00015b00: 2020 2020 2027 6f66 6673 6574 273a 206f       'offset': o
+00015b10: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
+00015b20: 2020 2027 6c69 6d69 7427 3a20 6c69 6d69     'limit': limi
+00015b30: 740a 2020 2020 2020 2020 7d0a 0a20 2020  t.        }..   
+00015b40: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+00015b50: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
+00015b60: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
+00015b70: 2020 2020 6173 796e 6320 6465 6620 6372      async def cr
+00015b80: 6561 7465 5f73 6974 6528 0a20 2020 2020  eate_site(.     
+00015b90: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00015ba0: 2073 6974 655f 6e61 6d65 3a20 7374 7220   site_name: str 
+00015bb0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00015bc0: 6164 6472 6573 733a 2073 7472 203d 204e  address: str = N
+00015bd0: 6f6e 652c 0a20 2020 2020 2020 2063 6974  one,.        cit
+00015be0: 793a 2073 7472 203d 204e 6f6e 652c 0a20  y: str = None,. 
+00015bf0: 2020 2020 2020 2073 7461 7465 3a20 7374         state: st
+00015c00: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00015c10: 2020 636f 756e 7472 793a 2073 7472 203d    country: str =
+00015c20: 204e 6f6e 652c 0a20 2020 2020 2020 207a   None,.        z
+00015c30: 6970 636f 6465 3a20 7374 7220 3d20 4e6f  ipcode: str = No
+00015c40: 6e65 2c0a 2020 2020 2020 2020 6c61 7469  ne,.        lati
+00015c50: 7475 6465 3a20 696e 7420 3d20 4e6f 6e65  tude: int = None
+00015c60: 2c0a 2020 2020 2020 2020 6c6f 6e67 6974  ,.        longit
+00015c70: 7564 653a 2069 6e74 203d 204e 6f6e 652c  ude: int = None,
+00015c80: 0a20 2020 2020 2020 2073 6974 655f 6c69  .        site_li
+00015c90: 7374 3a20 4c69 7374 5b44 6963 745b 7374  st: List[Dict[st
+00015ca0: 722c 2055 6e69 6f6e 5b73 7472 2c20 6469  r, Union[str, di
+00015cb0: 6374 5d5d 5d20 3d20 4e6f 6e65 2c0a 2020  ct]]] = None,.  
+00015cc0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+00015cd0: 0a20 2020 2020 2020 2022 2222 4372 6561  .        """Crea
+00015ce0: 7465 2053 6974 650a 0a20 2020 2020 2020  te Site..       
+00015cf0: 2045 6974 6865 7220 6164 6472 6573 7320   Either address 
+00015d00: 696e 666f 726d 6174 696f 6e20 6f72 2047  information or G
+00015d10: 656f 4c6f 6361 7469 6f6e 2069 6e66 6f72  eoLocation infor
+00015d20: 6d61 7469 6f6e 2069 7320 7265 7175 6972  mation is requir
+00015d30: 6564 2e20 2046 6f72 2047 656f 6c6f 6361  ed.  For Geoloca
+00015d40: 7469 6f6e 2061 7474 7269 6275 7465 730a  tion attributes.
+00015d50: 2020 2020 2020 2020 616c 6c20 6174 7472          all attr
+00015d60: 6962 7574 6573 2061 7265 2072 6571 7569  ibutes are requi
+00015d70: 7265 642e 2020 4f72 2061 204c 6973 745b  red.  Or a List[
+00015d80: 6469 6374 5d20 7769 7468 206d 756c 7469  dict] with multi
+00015d90: 706c 6520 7369 7465 7320 746f 2062 6520  ple sites to be 
+00015da0: 6164 6465 6420 636f 6e74 6169 6e69 6e67  added containing
+00015db0: 2065 6974 6865 720a 2020 2020 2020 2020   either.        
+00015dc0: 2773 6974 655f 6164 6472 6573 7327 206f  'site_address' o
+00015dd0: 7220 2767 656f 6c6f 6361 7469 6f6e 2720  r 'geolocation' 
+00015de0: 6174 7472 6962 7574 6573 2066 6f72 2065  attributes for e
+00015df0: 6163 6820 7369 7465 2e0a 0a20 2020 2020  ach site...     
+00015e00: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00015e10: 2020 2020 2073 6974 655f 6e61 6d65 2028       site_name (
+00015e20: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00015e30: 5369 7465 204e 616d 652e 2044 6566 6175  Site Name. Defau
+00015e40: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
+00015e50: 2020 2020 2020 2020 2061 6464 7265 7373           address
+00015e60: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00015e70: 3a20 4164 6472 6573 732e 2044 6566 6175  : Address. Defau
+00015e80: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
+00015e90: 2020 2020 2020 2020 2063 6974 7920 2873           city (s
+00015ea0: 7472 2c20 6f70 7469 6f6e 616c 293a 2043  tr, optional): C
+00015eb0: 6974 792e 2044 6566 6175 6c74 7320 746f  ity. Defaults to
+00015ec0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+00015ed0: 2020 2073 7461 7465 2028 7374 722c 206f     state (str, o
+00015ee0: 7074 696f 6e61 6c29 3a20 5374 6174 652e  ptional): State.
+00015ef0: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+00015f00: 652e 0a20 2020 2020 2020 2020 2020 2063  e..            c
+00015f10: 6f75 6e74 7279 2028 7374 722c 206f 7074  ountry (str, opt
+00015f20: 696f 6e61 6c29 3a20 436f 756e 7472 7920  ional): Country 
+00015f30: 4e61 6d65 2e20 4465 6661 756c 7473 2074  Name. Defaults t
+00015f40: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+00015f50: 2020 2020 7a69 7063 6f64 6520 2873 7472      zipcode (str
+00015f60: 2c20 6f70 7469 6f6e 616c 293a 205a 6970  , optional): Zip
+00015f70: 636f 6465 2e20 4465 6661 756c 7473 2074  code. Defaults t
+00015f80: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+00015f90: 2020 2020 6c61 7469 7475 6465 2028 696e      latitude (in
+00015fa0: 742c 206f 7074 696f 6e61 6c29 3a20 4c61  t, optional): La
+00015fb0: 7469 7475 6465 2028 696e 2074 6865 2072  titude (in the r
+00015fc0: 616e 6765 206f 6620 2d39 3020 616e 6420  ange of -90 and 
+00015fd0: 3930 292e 2044 6566 6175 6c74 7320 746f  90). Defaults to
+00015fe0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+00015ff0: 2020 206c 6f6e 6769 7475 6465 2028 696e     longitude (in
+00016000: 742c 206f 7074 696f 6e61 6c29 3a20 4c6f  t, optional): Lo
+00016010: 6e67 6974 7564 6520 2869 6e20 7468 6520  ngitude (in the 
+00016020: 7261 6e67 6520 6f66 202d 3130 3020 616e  range of -100 an
+00016030: 6420 3138 3029 2e20 4465 6661 756c 7473  d 180). Defaults
+00016040: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
+00016050: 2020 2020 2020 7369 7465 5f6c 6973 7420        site_list 
+00016060: 284c 6973 745b 4469 6374 5b73 7472 2c20  (List[Dict[str, 
+00016070: 556e 696f 6e5b 7374 722c 2064 6963 745d  Union[str, dict]
+00016080: 5d5d 2c20 6f70 7469 6f6e 616c 293a 2041  ]], optional): A
+00016090: 206c 6973 7420 6f66 2073 6974 6573 2074   list of sites t
+000160a0: 6f20 6265 2063 7265 6174 6564 2e20 4465  o be created. De
+000160b0: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
+000160c0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+000160d0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+000160e0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+000160f0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+00016100: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00016110: 2020 2020 2020 2075 726c 203d 2022 2f63         url = "/c
+00016120: 656e 7472 616c 2f76 322f 7369 7465 7322  entral/v2/sites"
+00016130: 0a0a 2020 2020 2020 2020 6164 6472 6573  ..        addres
+00016140: 735f 6469 6374 203d 2075 7469 6c73 2e73  s_dict = utils.s
+00016150: 7472 6970 5f6e 6f6e 6528 7b22 6164 6472  trip_none({"addr
+00016160: 6573 7322 3a20 6164 6472 6573 732c 2022  ess": address, "
+00016170: 6369 7479 223a 2063 6974 792c 2022 7374  city": city, "st
+00016180: 6174 6522 3a20 7374 6174 652c 2022 636f  ate": state, "co
+00016190: 756e 7472 7922 3a20 636f 756e 7472 792c  untry": country,
+000161a0: 2022 7a69 7063 6f64 6522 3a20 7a69 7063   "zipcode": zipc
+000161b0: 6f64 657d 290a 2020 2020 2020 2020 6765  ode}).        ge
+000161c0: 6f5f 6469 6374 203d 2075 7469 6c73 2e73  o_dict = utils.s
+000161d0: 7472 6970 5f6e 6f6e 6528 7b22 6c61 7469  trip_none({"lati
+000161e0: 7475 6465 223a 206c 6174 6974 7564 652c  tude": latitude,
+000161f0: 2022 6c6f 6e67 6974 7564 6522 3a20 6c6f   "longitude": lo
+00016200: 6e67 6974 7564 657d 290a 2020 2020 2020  ngitude}).      
+00016210: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b22    json_data = {"
+00016220: 7369 7465 5f6e 616d 6522 3a20 7369 7465  site_name": site
+00016230: 5f6e 616d 657d 0a20 2020 2020 2020 2069  _name}.        i
+00016240: 6620 6164 6472 6573 735f 6469 6374 3a0a  f address_dict:.
+00016250: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
+00016260: 5f64 6174 615b 2273 6974 655f 6164 6472  _data["site_addr
+00016270: 6573 7322 5d20 3d20 6164 6472 6573 735f  ess"] = address_
+00016280: 6469 6374 0a20 2020 2020 2020 2069 6620  dict.        if 
+00016290: 6765 6f5f 6469 6374 3a0a 2020 2020 2020  geo_dict:.      
+000162a0: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
+000162b0: 2267 656f 6c6f 6361 7469 6f6e 225d 203d  "geolocation"] =
+000162c0: 2067 656f 5f64 6963 740a 0a20 2020 2020   geo_dict..     
+000162d0: 2020 2023 2054 4f44 4f20 7265 7665 7274     # TODO revert
+000162e0: 2074 6869 7320 746f 2073 696e 676c 6520   this to single 
+000162f0: 7369 7465 2061 6464 2061 6e64 2075 7365  site add and use
+00016300: 2062 6174 6368 5f61 6464 5f73 6974 6520   batch_add_site 
+00016310: 6d65 7468 6f64 2066 6f72 206d 756c 7469  method for multi
+00016320: 2d61 6464 0a20 2020 2020 2020 2069 6620  -add.        if 
+00016330: 7369 7465 5f6c 6973 743a 0a20 2020 2020  site_list:.     
+00016340: 2020 2020 2020 2072 6573 7020 3d20 6177         resp = aw
+00016350: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
+00016360: 6c2c 206a 736f 6e5f 6461 7461 3d73 6974  l, json_data=sit
+00016370: 655f 6c69 7374 5b30 5d29 0a20 2020 2020  e_list[0]).     
+00016380: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
+00016390: 7370 3a0a 2020 2020 2020 2020 2020 2020  sp:.            
+000163a0: 2020 2020 7265 7475 726e 2072 6573 700a      return resp.
+000163b0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+000163c0: 656e 2873 6974 655f 6c69 7374 2920 3e20  en(site_list) > 
+000163d0: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
+000163e0: 2020 2072 6574 203d 2061 7761 6974 2073     ret = await s
+000163f0: 656c 662e 5f62 6174 6368 5f72 6571 7565  elf._batch_reque
+00016400: 7374 280a 2020 2020 2020 2020 2020 2020  st(.            
+00016410: 2020 2020 2020 2020 5b0a 2020 2020 2020          [.      
+00016420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016430: 2020 7365 6c66 2e42 6174 6368 5265 7175    self.BatchRequ
+00016440: 6573 7428 7365 6c66 2e70 6f73 742c 2028  est(self.post, (
+00016450: 7572 6c2c 292c 206a 736f 6e5f 6461 7461  url,), json_data
+00016460: 3d5f 6a73 6f6e 2c20 6361 6c6c 6261 636b  =_json, callback
+00016470: 3d63 6c65 616e 6572 2e5f 756e 6c69 7374  =cleaner._unlist
+00016480: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00016490: 2020 2020 2020 2020 2020 666f 7220 5f6a            for _j
+000164a0: 736f 6e20 696e 2073 6974 655f 6c69 7374  son in site_list
+000164b0: 5b31 3a5d 0a20 2020 2020 2020 2020 2020  [1:].           
+000164c0: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
+000164d0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+000164e0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+000164f0: 7572 6e20 5b72 6573 702c 202a 7265 745d  urn [resp, *ret]
+00016500: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016510: 2023 2072 6573 705f 6c69 7374 203d 2063   # resp_list = c
+00016520: 6c65 616e 6572 2e5f 756e 6c69 7374 280a  leaner._unlist(.
+00016530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016540: 2320 2020 2020 5b61 7761 6974 2061 7379  #     [await asy
+00016550: 6e63 696f 2e67 6174 6865 7228 7365 6c66  ncio.gather(self
+00016560: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
+00016570: 6461 7461 3d5f 6a73 6f6e 2c20 6361 6c6c  data=_json, call
+00016580: 6261 636b 3d63 6c65 616e 6572 2e5f 756e  back=cleaner._un
+00016590: 6c69 7374 2929 2066 6f72 205f 6a73 6f6e  list)) for _json
+000165a0: 2069 6e20 7369 7465 5f6c 6973 745b 313a   in site_list[1:
+000165b0: 5d5d 0a20 2020 2020 2020 2020 2020 2020  ]].             
+000165c0: 2020 2023 2029 0a20 2020 2020 2020 2020     # ).         
+000165d0: 2020 2020 2020 2023 2023 2054 4f44 4f20         # # TODO 
+000165e0: 6d61 6b65 206d 756c 7469 2072 6573 706f  make multi respo
+000165f0: 6e73 6520 7061 636b 696e 6720 6675 6e63  nse packing func
+00016600: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
+00016610: 2020 2020 2023 2072 6573 702e 6f75 7470       # resp.outp
+00016620: 7574 203d 2075 7469 6c73 2e6c 6973 7469  ut = utils.listi
+00016630: 6679 2872 6573 702e 6f75 7470 7574 290a  fy(resp.output).
+00016640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016650: 2320 7265 7370 2e6f 7574 7075 7420 2b3d  # resp.output +=
+00016660: 205b 722e 6f75 7470 7574 2066 6f72 2072   [r.output for r
+00016670: 2069 6e20 7265 7370 5f6c 6973 745d 0a20   in resp_list]. 
+00016680: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00016690: 2072 6574 7572 6e20 7265 7370 0a20 2020   return resp.   
+000166a0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+000166b0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+000166c0: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
+000166d0: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
+000166e0: 6e5f 6461 7461 2c20 6361 6c6c 6261 636b  n_data, callback
+000166f0: 3d63 6c65 616e 6572 2e5f 756e 6c69 7374  =cleaner._unlist
+00016700: 290a 0a20 2020 2023 2054 4f44 4f20 6164  )..    # TODO ad
+00016710: 6420 636c 690a 2020 2020 6173 796e 6320  d cli.    async 
+00016720: 6465 6620 7570 6461 7465 5f73 6974 6528  def update_site(
+00016730: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+00016740: 2020 2020 2020 2073 6974 655f 6964 3a20         site_id: 
+00016750: 696e 742c 0a20 2020 2020 2020 2073 6974  int,.        sit
+00016760: 655f 6e61 6d65 3a20 7374 722c 0a20 2020  e_name: str,.   
+00016770: 2020 2020 2061 6464 7265 7373 3a20 7374       address: st
+00016780: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00016790: 2020 6369 7479 3a20 7374 7220 3d20 4e6f    city: str = No
+000167a0: 6e65 2c0a 2020 2020 2020 2020 7374 6174  ne,.        stat
+000167b0: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
+000167c0: 2020 2020 2020 207a 6970 636f 6465 3a20         zipcode: 
+000167d0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+000167e0: 2020 2020 636f 756e 7472 793a 2073 7472      country: str
+000167f0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00016800: 206c 6174 6974 7564 653a 2073 7472 203d   latitude: str =
+00016810: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
+00016820: 6f6e 6769 7475 6465 3a20 7374 7220 3d20  ongitude: str = 
+00016830: 4e6f 6e65 2c0a 2020 2020 2920 2d3e 2052  None,.    ) -> R
+00016840: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+00016850: 2022 2222 5570 6461 7465 2053 6974 652e   """Update Site.
+00016860: 0a0a 2020 2020 2020 2020 5072 6f76 6964  ..        Provid
+00016870: 6520 6765 6f2d 6c6f 6320 6f72 2061 6464  e geo-loc or add
+00016880: 7265 7373 2064 6574 6169 6c73 2c20 6e6f  ress details, no
+00016890: 7420 626f 7468 2e0a 2020 2020 2020 2020  t both..        
+000168a0: 4361 6e20 7072 6f76 6964 6520 626f 7468  Can provide both
+000168b0: 2069 6e20 7375 6273 6571 7565 6e74 2063   in subsequent c
+000168c0: 616c 6c73 2c20 6275 7420 6170 6967 7720  alls, but apigw 
+000168d0: 646f 6573 206e 6f74 0a20 2020 2020 2020  does not.       
+000168e0: 2061 6c6c 6f77 2062 6f74 6820 696e 2073   allow both in s
+000168f0: 616d 6520 6361 6c6c 2e0a 0a20 2020 2020  ame call...     
+00016900: 2020 202f 2f20 5573 6564 2062 7920 6365     // Used by ce
+00016910: 6e63 6c69 2075 7064 6174 6520 7369 7465  ncli update site
+00016920: 205b 6e61 6d65 7c69 647c 6164 6472 6573   [name|id|addres
+00016930: 735d 204f 5220 2d2d 6c61 7420 3c6c 6174  s] OR --lat <lat
+00016940: 3e20 2d2d 6c6f 6e20 3c6c 6f6e 3e20 2f2f  > --lon <lon> //
+00016950: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+00016960: 2020 2020 2020 2020 2020 2020 7369 7465              site
+00016970: 5f69 6420 2869 6e74 293a 2053 6974 6520  _id (int): Site 
+00016980: 4944 0a20 2020 2020 2020 2020 2020 2073  ID.            s
+00016990: 6974 655f 6e61 6d65 2028 7374 7229 3a20  ite_name (str): 
+000169a0: 5369 7465 204e 616d 650a 2020 2020 2020  Site Name.      
+000169b0: 2020 2020 2020 6164 6472 6573 7320 2873        address (s
+000169c0: 7472 293a 2041 6464 7265 7373 0a20 2020  tr): Address.   
+000169d0: 2020 2020 2020 2020 2063 6974 7920 2873           city (s
+000169e0: 7472 293a 2043 6974 7920 4e61 6d65 0a20  tr): City Name. 
+000169f0: 2020 2020 2020 2020 2020 2073 7461 7465             state
+00016a00: 2028 7374 7229 3a20 5374 6174 6520 4e61   (str): State Na
+00016a10: 6d65 0a20 2020 2020 2020 2020 2020 207a  me.            z
+00016a20: 6970 636f 6465 2028 7374 7229 3a20 5a69  ipcode (str): Zi
+00016a30: 7063 6f64 650a 2020 2020 2020 2020 2020  pcode.          
+00016a40: 2020 636f 756e 7472 7920 2873 7472 293a    country (str):
+00016a50: 2043 6f75 6e74 7279 204e 616d 650a 2020   Country Name.  
+00016a60: 2020 2020 2020 2020 2020 6c61 7469 7475            latitu
+00016a70: 6465 2028 7374 7229 3a20 4c61 7469 7475  de (str): Latitu
+00016a80: 6465 2028 696e 2074 6865 2072 616e 6765  de (in the range
+00016a90: 206f 6620 2d39 3020 616e 6420 3930 290a   of -90 and 90).
+00016aa0: 2020 2020 2020 2020 2020 2020 6c6f 6e67              long
+00016ab0: 6974 7564 6520 2873 7472 293a 204c 6f6e  itude (str): Lon
+00016ac0: 6769 7475 6465 2028 696e 2074 6865 2072  gitude (in the r
+00016ad0: 616e 6765 206f 6620 2d31 3830 2061 6e64  ange of -180 and
+00016ae0: 2031 3830 290a 0a20 2020 2020 2020 2052   180)..        R
+00016af0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00016b00: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00016b10: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+00016b20: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00016b30: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+00016b40: 203d 2066 222f 6365 6e74 7261 6c2f 7632   = f"/central/v2
+00016b50: 2f73 6974 6573 2f7b 7369 7465 5f69 647d  /sites/{site_id}
+00016b60: 220a 2020 2020 2020 2020 6966 207a 6970  ".        if zip
+00016b70: 636f 6465 3a0a 2020 2020 2020 2020 2020  code:.          
+00016b80: 2020 7a69 7063 6f64 6520 3d20 7374 7228    zipcode = str(
+00016b90: 7a69 7063 6f64 6529 0a0a 0a20 2020 2020  zipcode)...     
+00016ba0: 2020 2073 6974 655f 6164 6472 6573 7320     site_address 
+00016bb0: 3d20 7b22 6164 6472 6573 7322 3a20 6164  = {"address": ad
+00016bc0: 6472 6573 732c 2022 6369 7479 223a 2063  dress, "city": c
+00016bd0: 6974 792c 2022 7374 6174 6522 3a20 7374  ity, "state": st
+00016be0: 6174 652c 2022 636f 756e 7472 7922 3a20  ate, "country": 
+00016bf0: 636f 756e 7472 792c 2022 7a69 7063 6f64  country, "zipcod
+00016c00: 6522 3a20 7a69 7063 6f64 657d 0a20 2020  e": zipcode}.   
+00016c10: 2020 2020 2067 656f 6c6f 6361 7469 6f6e       geolocation
+00016c20: 203d 207b 226c 6174 6974 7564 6522 3a20   = {"latitude": 
+00016c30: 6c61 7469 7475 6465 2c20 226c 6f6e 6769  latitude, "longi
+00016c40: 7475 6465 223a 206c 6f6e 6769 7475 6465  tude": longitude
+00016c50: 7d0a 0a20 2020 2020 2020 2073 6974 655f  }..        site_
+00016c60: 6164 6472 6573 7320 3d20 7574 696c 732e  address = utils.
+00016c70: 7374 7269 705f 6e6f 6e65 2873 6974 655f  strip_none(site_
+00016c80: 6164 6472 6573 7329 0a20 2020 2020 2020  address).       
+00016c90: 2067 656f 6c6f 6361 7469 6f6e 203d 2075   geolocation = u
+00016ca0: 7469 6c73 2e73 7472 6970 5f6e 6f6e 6528  tils.strip_none(
+00016cb0: 6765 6f6c 6f63 6174 696f 6e29 0a0a 2020  geolocation)..  
+00016cc0: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
+00016cd0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+00016ce0: 2273 6974 655f 6e61 6d65 223a 2073 6974  "site_name": sit
+00016cf0: 655f 6e61 6d65 2c0a 2020 2020 2020 2020  e_name,.        
+00016d00: 2020 2020 2273 6974 655f 6164 6472 6573      "site_addres
+00016d10: 7322 3a20 7369 7465 5f61 6464 7265 7373  s": site_address
+00016d20: 2c0a 2020 2020 2020 2020 2020 2020 2267  ,.            "g
+00016d30: 656f 6c6f 6361 7469 6f6e 223a 2067 656f  eolocation": geo
+00016d40: 6c6f 6361 7469 6f6e 0a20 2020 2020 2020  location.       
+00016d50: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
+00016d60: 726e 2061 7761 6974 2073 656c 662e 7061  rn await self.pa
+00016d70: 7463 6828 7572 6c2c 206a 736f 6e5f 6461  tch(url, json_da
+00016d80: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
+00016d90: 2020 2023 2054 4f44 4f20 616c 6c20 7061     # TODO all pa
+00016da0: 7261 6d73 2072 6571 7569 7265 6420 6279  rams required by
+00016db0: 2041 5049 2047 572c 206e 6565 6420 6361   API GW, need ca
+00016dc0: 6c6c 2074 6f20 6765 7420 6375 7272 656e  ll to get curren
+00016dd0: 7420 7072 6f70 6572 7469 6573 0a20 2020  t properties.   
+00016de0: 2023 2069 6620 6e6f 7420 616c 6c20 6172   # if not all ar
+00016df0: 6520 7072 6f76 6964 6564 0a20 2020 2061  e provided.    a
+00016e00: 7379 6e63 2064 6566 2075 7064 6174 655f  sync def update_
+00016e10: 6170 5f73 7973 7465 6d5f 636f 6e66 6967  ap_system_config
+00016e20: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+00016e30: 2020 2020 2020 2020 6772 6f75 705f 7377          group_sw
+00016e40: 6172 6d69 643a 2073 7472 2c0a 2020 2020  armid: str,.    
+00016e50: 2020 2020 646e 735f 7365 7276 6572 3a20      dns_server: 
+00016e60: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00016e70: 2020 2020 6e74 705f 7365 7276 6572 3a20      ntp_server: 
+00016e80: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
+00016e90: 2c0a 2020 2020 2020 2020 7573 6572 6e61  ,.        userna
+00016ea0: 6d65 3a20 7374 7220 3d20 4e6f 6e65 2c0a  me: str = None,.
+00016eb0: 2020 2020 2020 2020 7061 7373 776f 7264          password
+00016ec0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00016ed0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+00016ee0: 0a20 2020 2020 2020 2022 2222 5570 6461  .        """Upda
+00016ef0: 7465 2073 7973 7465 6d20 636f 6e66 6967  te system config
+00016f00: 2e0a 0a20 2020 2020 2020 2041 6c6c 2070  ...        All p
+00016f10: 6172 616d 7320 6172 6520 7265 7175 6972  arams are requir
+00016f20: 6564 2062 7920 4172 7562 6120 4365 6e74  ed by Aruba Cent
+00016f30: 7261 6c0a 0a20 2020 2020 2020 2041 7267  ral..        Arg
+00016f40: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
+00016f50: 726f 7570 5f73 7761 726d 6964 2028 7374  roup_swarmid (st
+00016f60: 7229 3a20 4772 6f75 7020 6e61 6d65 206f  r): Group name o
+00016f70: 6620 7468 6520 6772 6f75 7020 6f72 2067  f the group or g
+00016f80: 7569 6420 6f66 2074 6865 2073 7761 726d  uid of the swarm
+00016f90: 2e20 4578 616d 706c 653a 4772 6f75 705f  . Example:Group_
+00016fa0: 310a 2020 2020 2020 2020 2020 2020 2020  1.              
+00016fb0: 2020 6f72 2036 6135 6431 3233 6230 3166    or 6a5d123b01f
+00016fc0: 3934 3431 3830 3632 3434 6561 3665 3032  9441806244ea6e02
+00016fd0: 3366 6162 3538 3431 6237 3763 3832 3861  3fab5841b77c828a
+00016fe0: 3038 3566 3034 662e 0a20 2020 2020 2020  085f04f..       
+00016ff0: 2020 2020 2064 6e73 5f73 6572 7665 7220       dns_server 
+00017000: 2873 7472 293a 2044 4e53 2073 6572 7665  (str): DNS serve
+00017010: 7220 4950 7320 6f72 2064 6f6d 6169 6e20  r IPs or domain 
+00017020: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
+00017030: 206e 7470 5f73 6572 7665 7220 284c 6973   ntp_server (Lis
+00017040: 745b 7374 725d 293a 204c 6973 7420 6f66  t[str]): List of
+00017050: 206e 7470 2073 6572 7665 722c 0a20 2020   ntp server,.   
+00017060: 2020 2020 2020 2020 2020 2020 2045 7861               Exa
+00017070: 6d70 6c65 3a20 5b22 3139 322e 3136 382e  mple: ["192.168.
+00017080: 312e 3122 2c20 2231 3237 2e30 2e30 2e30  1.1", "127.0.0.0
+00017090: 222c 2022 7878 782e 636f 6d22 5d2e 0a20  ", "xxx.com"].. 
+000170a0: 2020 2020 2020 2020 2020 2020 2020 2049                 I
+000170b0: 5073 206f 7220 646f 6d61 696e 206e 616d  Ps or domain nam
+000170c0: 652e 0a20 2020 2020 2020 2020 2020 2075  e..            u
+000170d0: 7365 726e 616d 6520 2873 7472 293a 2075  sername (str): u
+000170e0: 7365 726e 616d 650a 2020 2020 2020 2020  sername.        
+000170f0: 2020 2020 7061 7373 776f 7264 2028 7374      password (st
+00017100: 7229 3a20 7061 7373 776f 7264 0a0a 2020  r): password..  
+00017110: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00017120: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+00017130: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+00017140: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+00017150: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00017160: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
+00017170: 6669 6775 7261 7469 6f6e 2f76 312f 7379  figuration/v1/sy
+00017180: 7374 656d 5f63 6f6e 6669 672f 7b67 726f  stem_config/{gro
+00017190: 7570 5f73 7761 726d 6964 7d22 0a0a 2020  up_swarmid}"..  
+000171a0: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
+000171b0: 3d20 7574 696c 732e 7374 7269 705f 6e6f  = utils.strip_no
+000171c0: 6e65 280a 2020 2020 2020 2020 2020 2020  ne(.            
+000171d0: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+000171e0: 2020 2764 6e73 5f73 6572 7665 7227 3a20    'dns_server': 
+000171f0: 646e 735f 7365 7276 6572 2c0a 2020 2020  dns_server,.    
+00017200: 2020 2020 2020 2020 2020 2020 276e 7470              'ntp
+00017210: 5f73 6572 7665 7227 3a20 6e74 705f 7365  _server': ntp_se
+00017220: 7276 6572 2c0a 2020 2020 2020 2020 2020  rver,.          
+00017230: 2020 2020 2020 2775 7365 726e 616d 6527        'username'
+00017240: 3a20 7573 6572 6e61 6d65 2c0a 2020 2020  : username,.    
+00017250: 2020 2020 2020 2020 2020 2020 2770 6173              'pas
+00017260: 7377 6f72 6427 3a20 7061 7373 776f 7264  sword': password
+00017270: 0a20 2020 2020 2020 2020 2020 207d 0a20  .            }. 
+00017280: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+00017290: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+000172a0: 656c 662e 706f 7374 2875 726c 2c20 6a73  elf.post(url, js
+000172b0: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
+000172c0: 6129 0a0a 2020 2020 6173 796e 6320 6465  a)..    async de
+000172d0: 6620 6372 6561 7465 5f67 726f 7570 280a  f create_group(.
+000172e0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+000172f0: 2020 2020 2020 6772 6f75 703a 2073 7472        group: str
+00017300: 2c0a 2020 2020 2020 2020 616c 6c6f 7765  ,.        allowe
+00017310: 645f 7479 7065 733a 2055 6e69 6f6e 5b63  d_types: Union[c
+00017320: 6f6e 7374 616e 7473 2e41 6c6c 4465 7654  onstants.AllDevT
+00017330: 7970 6573 2c20 4c69 7374 5b63 6f6e 7374  ypes, List[const
+00017340: 616e 7473 2e41 6c6c 4465 7654 7970 6573  ants.AllDevTypes
+00017350: 5d5d 203d 205b 2261 7022 2c20 2267 7722  ]] = ["ap", "gw"
+00017360: 2c20 2263 7822 2c20 2273 7722 5d2c 0a20  , "cx", "sw"],. 
+00017370: 2020 2020 2020 2077 6972 6564 5f74 673a         wired_tg:
+00017380: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
+00017390: 2020 2020 2020 2077 6c61 6e5f 7467 3a20         wlan_tg: 
+000173a0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+000173b0: 2020 2020 2020 616f 7331 303a 2062 6f6f        aos10: boo
+000173c0: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
+000173d0: 2020 206d 6963 726f 6272 616e 6368 3a20     microbranch: 
+000173e0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+000173f0: 2020 2020 2020 6777 5f72 6f6c 653a 2063        gw_role: c
+00017400: 6f6e 7374 616e 7473 2e47 6174 6577 6179  onstants.Gateway
+00017410: 526f 6c65 203d 2022 6272 616e 6368 222c  Role = "branch",
+00017420: 0a20 2020 2020 2020 206d 6f6e 6974 6f72  .        monitor
+00017430: 5f6f 6e6c 795f 7377 3a20 626f 6f6c 203d  _only_sw: bool =
+00017440: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
+00017450: 6d6f 6e69 746f 725f 6f6e 6c79 5f63 783a  monitor_only_cx:
+00017460: 2062 6f6f 6c20 3d20 4661 6c73 652c 2020   bool = False,  
+00017470: 2320 4e6f 7420 7375 7070 6f72 7465 6420  # Not supported 
+00017480: 6279 2063 656e 7472 616c 2079 6574 0a20  by central yet. 
+00017490: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+000174a0: 3a0a 2020 2020 2020 2020 2222 2243 7265  :.        """Cre
+000174b0: 6174 6520 6e65 7720 6772 6f75 7020 7769  ate new group wi
+000174c0: 7468 2073 7065 6369 6669 6564 2070 726f  th specified pro
+000174d0: 7065 7274 6965 732e 2076 330a 0a20 2020  perties. v3..   
+000174e0: 2020 2020 202f 2f20 5573 6564 2062 7920       // Used by 
+000174f0: 6164 6420 6772 6f75 7020 6261 7463 6820  add group batch 
+00017500: 6164 6420 6772 6f75 7020 2f2f 0a0a 2020  add group //..  
+00017510: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00017520: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
+00017530: 7472 293a 2047 726f 7570 204e 616d 650a  tr): Group Name.
+00017540: 2020 2020 2020 2020 2020 2020 616c 6c6f              allo
+00017550: 7765 645f 7479 7065 7320 2873 7472 2c20  wed_types (str, 
+00017560: 4c69 7374 5b73 7472 5d29 3a20 416c 6c6f  List[str]): Allo
+00017570: 7765 6420 4465 7669 6365 2054 7970 6573  wed Device Types
+00017580: 2069 6e20 7468 6520 6772 6f75 702e 2054   in the group. T
+00017590: 6162 7320 666f 7220 6465 7669 6365 7320  abs for devices 
+000175a0: 6e6f 7420 616c 6c6f 7765 640a 2020 2020  not allowed.    
+000175b0: 2020 2020 2020 2020 2020 2020 776f 6e27              won'
+000175c0: 7420 6469 7370 6c61 7920 696e 2055 492e  t display in UI.
+000175d0: 2020 7661 6c69 6420 7661 6c75 6573 2022    valid values "
+000175e0: 6170 222c 2022 6777 222c 2022 6378 222c  ap", "gw", "cx",
+000175f0: 2022 7377 222c 2022 7377 6974 6368 220a   "sw", "switch".
+00017600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017610: 2822 7377 6974 6368 2220 6973 2067 656e  ("switch" is gen
+00017620: 6572 6963 2c20 7769 6c6c 2065 6e61 626c  eric, will enabl
+00017630: 6520 626f 7468 2063 7820 616e 6420 7377  e both cx and sw
+00017640: 290a 2020 2020 2020 2020 2020 2020 7769  ).            wi
+00017650: 7265 645f 7467 2028 626f 6f6c 2c20 6f70  red_tg (bool, op
+00017660: 7469 6f6e 616c 293a 2053 6574 2074 6f20  tional): Set to 
+00017670: 7472 7565 2069 6620 7769 7265 6428 5377  true if wired(Sw
+00017680: 6974 6368 2920 636f 6e66 6967 7572 6174  itch) configurat
+00017690: 696f 6e20 696e 2061 2067 726f 7570 2069  ion in a group i
+000176a0: 7320 6d61 6e61 6765 640a 2020 2020 2020  s managed.      
+000176b0: 2020 2020 2020 2020 2020 7573 696e 6720            using 
+000176c0: 7465 6d70 6c61 7465 732e 0a20 2020 2020  templates..     
+000176d0: 2020 2020 2020 2077 6c61 6e5f 7467 2028         wlan_tg (
+000176e0: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
+000176f0: 2053 6574 2074 6f20 7472 7565 2069 6620   Set to true if 
+00017700: 7769 7265 6c65 7373 2849 4150 2c20 4761  wireless(IAP, Ga
+00017710: 7465 7761 7973 2920 636f 6e66 6967 7572  teways) configur
+00017720: 6174 696f 6e20 696e 2061 0a20 2020 2020  ation in a.     
+00017730: 2020 2020 2020 2020 2020 2067 726f 7570             group
+00017740: 2069 7320 6d61 6e61 6765 6420 7573 696e   is managed usin
+00017750: 6720 7465 6d70 6c61 7465 732e 0a20 2020  g templates..   
+00017760: 2020 2020 2020 2020 2061 6f73 3130 3a20           aos10: 
+00017770: 2862 6f6f 6c29 3a20 6966 2054 7275 6520  (bool): if True 
+00017780: 7573 6520 414f 5331 3020 6172 6368 6974  use AOS10 archit
+00017790: 6563 7475 7265 2066 6f72 2074 6865 2061  ecture for the a
+000177a0: 6363 6573 7320 706f 696e 7473 2061 6e64  ccess points and
+000177b0: 2067 6174 6577 6179 7320 696e 2074 6865   gateways in the
+000177c0: 2067 726f 7570 2e0a 2020 2020 2020 2020   group..        
+000177d0: 2020 2020 2020 2020 6465 6661 756c 7420          default 
+000177e0: 4661 6c73 6520 2849 6e73 7461 6e74 290a  False (Instant).
+000177f0: 2020 2020 2020 2020 2020 2020 6d69 6372              micr
+00017800: 6f62 7261 6e63 6820 2862 6f6f 6c29 3a20  obranch (bool): 
+00017810: 5472 7565 2074 6f20 656e 6162 6c65 204d  True to enable M
+00017820: 6963 726f 6272 616e 6368 206e 6574 776f  icrobranch netwo
+00017830: 726b 2072 6f6c 6520 666f 7220 4150 7320  rk role for APs 
+00017840: 6973 2061 7070 6c69 6361 626c 6520 6f6e  is applicable on
+00017850: 6c79 2066 6f72 2041 4f53 3130 2061 7263  ly for AOS10 arc
+00017860: 6869 7465 6374 7572 652e 0a20 2020 2020  hitecture..     
+00017870: 2020 2020 2020 2067 775f 726f 6c65 2028         gw_role (
+00017880: 4761 7465 7761 7952 6f6c 6529 3a20 4761  GatewayRole): Ga
+00017890: 7465 7761 7920 726f 6c65 2076 616c 6964  teway role valid
+000178a0: 2076 616c 7565 7320 2262 7261 6e63 6822   values "branch"
+000178b0: 2c20 2276 706e 6322 2c20 2277 6c61 6e22  , "vpnc", "wlan"
+000178c0: 2028 2277 6c61 6e22 206f 6e6c 7920 7661   ("wlan" only va
+000178d0: 6c69 6420 6f6e 2041 4f53 3130 2067 726f  lid on AOS10 gro
+000178e0: 7570 290a 2020 2020 2020 2020 2020 2020  up).            
+000178f0: 2020 2020 4465 6661 756c 743a 2022 6272      Default: "br
+00017900: 616e 6368 220a 2020 2020 2020 2020 2020  anch".          
+00017910: 2020 6d6f 6e69 746f 725f 6f6e 6c79 5f73    monitor_only_s
+00017920: 773a 204d 6f6e 6974 6f72 206f 6e6c 7920  w: Monitor only 
+00017930: 4172 7562 614f 532d 5357 2073 7769 7463  ArubaOS-SW switc
+00017940: 6865 732c 2061 7070 6c69 6573 2074 6f20  hes, applies to 
+00017950: 5549 2067 726f 7570 206f 6e6c 790a 2020  UI group only.  
+00017960: 2020 2020 2020 2020 2020 6d6f 6e69 746f            monito
+00017970: 725f 6f6e 6c79 5f63 783a 204d 6f6e 6974  r_only_cx: Monit
+00017980: 6f72 206f 6e6c 7920 4172 7562 614f 532d  or only ArubaOS-
+00017990: 4358 2073 7769 7463 6865 732c 2061 7070  CX switches, app
+000179a0: 6c69 6573 2074 6f20 5549 2067 726f 7570  lies to UI group
+000179b0: 206f 6e6c 7920 2846 7574 7572 6520 6361   only (Future ca
+000179c0: 7061 6269 6c69 7479 290a 0a20 2020 2020  pability)..     
+000179d0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+000179e0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+000179f0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00017a00: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00017a10: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00017a20: 2075 726c 203d 2022 2f63 6f6e 6669 6775   url = "/configu
+00017a30: 7261 7469 6f6e 2f76 332f 6772 6f75 7073  ration/v3/groups
+00017a40: 220a 0a20 2020 2020 2020 2067 775f 726f  "..        gw_ro
+00017a50: 6c65 5f64 6963 7420 3d20 7b0a 2020 2020  le_dict = {.    
+00017a60: 2020 2020 2020 2020 2262 7261 6e63 6822          "branch"
+00017a70: 3a20 2242 7261 6e63 6847 6174 6577 6179  : "BranchGateway
+00017a80: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+00017a90: 7670 6e63 223a 2022 5650 4e43 6f6e 6365  vpnc": "VPNConce
+00017aa0: 6e74 7261 746f 7222 2c0a 2020 2020 2020  ntrator",.      
+00017ab0: 2020 2020 2020 2277 6c61 6e22 3a20 2257        "wlan": "W
+00017ac0: 4c41 4e47 6174 6577 6179 222c 0a20 2020  LANGateway",.   
+00017ad0: 2020 2020 207d 0a20 2020 2020 2020 2064       }.        d
+00017ae0: 6576 5f74 7970 655f 6469 6374 203d 207b  ev_type_dict = {
+00017af0: 0a20 2020 2020 2020 2020 2020 2022 6170  .            "ap
+00017b00: 223a 2022 4163 6365 7373 506f 696e 7473  ": "AccessPoints
+00017b10: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+00017b20: 6777 223a 2022 4761 7465 7761 7973 222c  gw": "Gateways",
+00017b30: 0a20 2020 2020 2020 2020 2020 2022 7377  .            "sw
+00017b40: 6974 6368 223a 2022 5377 6974 6368 6573  itch": "Switches
+00017b50: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+00017b60: 6378 223a 2022 5377 6974 6368 6573 222c  cx": "Switches",
+00017b70: 0a20 2020 2020 2020 2020 2020 2022 7377  .            "sw
+00017b80: 223a 2022 5377 6974 6368 6573 222c 0a20  ": "Switches",. 
+00017b90: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+00017ba0: 2020 6777 5f72 6f6c 6520 3d20 6777 5f72    gw_role = gw_r
+00017bb0: 6f6c 655f 6469 6374 2e67 6574 2867 775f  ole_dict.get(gw_
+00017bc0: 726f 6c65 2c20 2242 7261 6e63 6847 6174  role, "BranchGat
+00017bd0: 6577 6179 2229 0a0a 2020 2020 2020 2020  eway")..        
+00017be0: 616c 6c6f 7765 645f 7479 7065 7320 3d20  allowed_types = 
+00017bf0: 7574 696c 732e 6c69 7374 6966 7928 616c  utils.listify(al
+00017c00: 6c6f 7765 645f 7479 7065 7329 0a20 2020  lowed_types).   
+00017c10: 2020 2020 2061 6c6c 6f77 6564 5f73 7769       allowed_swi
+00017c20: 7463 685f 7479 7065 7320 3d20 5b5d 0a20  tch_types = []. 
+00017c30: 2020 2020 2020 2069 6620 2273 7769 7463         if "switc
+00017c40: 6822 2069 6e20 616c 6c6f 7765 645f 7479  h" in allowed_ty
+00017c50: 7065 7320 6f72 2028 2263 7822 2069 6e20  pes or ("cx" in 
+00017c60: 616c 6c6f 7765 645f 7479 7065 7320 616e  allowed_types an
+00017c70: 6420 2273 7722 2069 6e20 616c 6c6f 7765  d "sw" in allowe
+00017c80: 645f 7479 7065 7329 3a0a 2020 2020 2020  d_types):.      
+00017c90: 2020 2020 2020 616c 6c6f 7765 645f 7377        allowed_sw
+00017ca0: 6974 6368 5f74 7970 6573 202b 3d20 5b22  itch_types += ["
+00017cb0: 414f 535f 4358 222c 2022 414f 535f 5322  AOS_CX", "AOS_S"
+00017cc0: 5d0a 2020 2020 2020 2020 656c 6966 2022  ].        elif "
+00017cd0: 7377 2220 696e 2061 6c6c 6f77 6564 5f74  sw" in allowed_t
+00017ce0: 7970 6573 3a0a 2020 2020 2020 2020 2020  ypes:.          
+00017cf0: 2020 616c 6c6f 7765 645f 7377 6974 6368    allowed_switch
+00017d00: 5f74 7970 6573 202b 3d20 5b22 414f 535f  _types += ["AOS_
+00017d10: 5322 5d0a 2020 2020 2020 2020 656c 6966  S"].        elif
+00017d20: 2022 6378 2220 696e 2061 6c6c 6f77 6564   "cx" in allowed
+00017d30: 5f74 7970 6573 3a0a 2020 2020 2020 2020  _types:.        
+00017d40: 2020 2020 616c 6c6f 7765 645f 7377 6974      allowed_swit
+00017d50: 6368 5f74 7970 6573 202b 3d20 5b22 414f  ch_types += ["AO
+00017d60: 535f 4358 222c 2022 414f 535f 5322 5d0a  S_CX", "AOS_S"].
+00017d70: 0a20 2020 2020 2020 206d 6f6e 5f6f 6e6c  .        mon_onl
+00017d80: 795f 7377 6974 6368 6573 203d 205b 5d0a  y_switches = [].
+00017d90: 2020 2020 2020 2020 6966 206d 6f6e 6974          if monit
+00017da0: 6f72 5f6f 6e6c 795f 7377 3a0a 2020 2020  or_only_sw:.    
+00017db0: 2020 2020 2020 2020 6d6f 6e5f 6f6e 6c79          mon_only
+00017dc0: 5f73 7769 7463 6865 7320 2b3d 205b 2241  _switches += ["A
+00017dd0: 4f53 5f53 225d 0a20 2020 2020 2020 2069  OS_S"].        i
+00017de0: 6620 6d6f 6e69 746f 725f 6f6e 6c79 5f63  f monitor_only_c
+00017df0: 783a 0a20 2020 2020 2020 2020 2020 206c  x:.            l
+00017e00: 6f67 2e77 6172 6e69 6e67 2822 6d6f 6e69  og.warning("moni
+00017e10: 746f 725f 6f6e 6c79 5f63 7820 6e6f 7420  tor_only_cx not 
+00017e20: 7965 7420 7375 7070 6f72 7465 6420 6279  yet supported by
+00017e30: 2041 7275 6261 2043 656e 7472 616c 222c   Aruba Central",
+00017e40: 2073 686f 773d 5472 7565 290a 2020 2020   show=True).    
+00017e50: 2020 2020 2020 2020 2320 6d6f 6e5f 6f6e          # mon_on
+00017e60: 6c79 5f73 7769 7463 6865 7320 2b3d 205b  ly_switches += [
+00017e70: 2241 4f53 5f43 5822 5d0a 0a20 2020 2020  "AOS_CX"]..     
+00017e80: 2020 2061 6c6c 6f77 6564 5f74 7970 6573     allowed_types
+00017e90: 203d 206c 6973 7428 7365 7428 5b64 6576   = list(set([dev
+00017ea0: 5f74 7970 655f 6469 6374 2e67 6574 2874  _type_dict.get(t
+00017eb0: 2920 666f 7220 7420 696e 2061 6c6c 6f77  ) for t in allow
+00017ec0: 6564 5f74 7970 6573 5d29 290a 0a20 2020  ed_types]))..   
+00017ed0: 2020 2020 2069 6620 6d6f 6e5f 6f6e 6c79       if mon_only
+00017ee0: 5f73 7769 7463 6865 7320 616e 6420 2253  _switches and "S
+00017ef0: 7769 7463 6865 7322 206e 6f74 2069 6e20  witches" not in 
+00017f00: 616c 6c6f 7765 645f 7479 7065 733a 0a20  allowed_types:. 
+00017f10: 2020 2020 2020 2020 2020 206c 6f67 2e77             log.w
+00017f20: 6172 6e69 6e67 2822 6967 6e6f 7269 6e67  arning("ignoring
+00017f30: 206d 6f6e 6974 6f72 206f 6e6c 7920 7377   monitor only sw
+00017f40: 6974 6368 2073 6574 7469 6e67 2061 7320  itch setting as 
+00017f50: 6e6f 2073 7769 7463 6865 7320 7765 7265  no switches were
+00017f60: 2073 7065 6369 6669 6564 2061 7320 6265   specified as be
+00017f70: 696e 6720 616c 6c6f 7765 6420 696e 2067  ing allowed in g
+00017f80: 726f 7570 222c 2073 686f 773d 5472 7565  roup", show=True
+00017f90: 290a 0a20 2020 2020 2020 2069 6620 4e6f  )..        if No
+00017fa0: 6e65 2069 6e20 616c 6c6f 7765 645f 7479  ne in allowed_ty
+00017fb0: 7065 733a 0a20 2020 2020 2020 2020 2020  pes:.           
+00017fc0: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+00017fd0: 7228 2749 6e76 616c 6964 2064 6576 6963  r('Invalid devic
+00017fe0: 6520 7479 7065 2066 6f72 2061 6c6c 6f77  e type for allow
+00017ff0: 6564 5f74 7970 6573 2076 616c 6964 2076  ed_types valid v
+00018000: 616c 7565 733a 2022 6170 222c 2022 6777  alues: "ap", "gw
+00018010: 222c 2022 7377 222c 2022 6378 222c 2022  ", "sw", "cx", "
+00018020: 7377 6974 6368 2227 290a 2020 2020 2020  switch"').      
+00018030: 2020 6966 206d 6963 726f 6272 616e 6368    if microbranch
+00018040: 2061 6e64 206e 6f74 2061 6f73 3130 3a0a   and not aos10:.
+00018050: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00018060: 6520 5661 6c75 6545 7272 6f72 2822 496e  e ValueError("In
+00018070: 7661 6c69 6420 636f 6d62 696e 6174 696f  valid combinatio
+00018080: 6e2c 2047 726f 7570 206d 7573 7420 6265  n, Group must be
+00018090: 2063 6f6e 6669 6775 7265 6420 6173 2041   configured as A
+000180a0: 4f53 3130 2067 726f 7570 2074 6f20 7375  OS10 group to su
+000180b0: 7070 6f72 7420 4d69 6372 6f62 7261 6e63  pport Microbranc
+000180c0: 6822 290a 2020 2020 2020 2020 2320 6966  h").        # if
+000180d0: 2077 6972 6564 5f74 6720 616e 6420 6d6f   wired_tg and mo
+000180e0: 6e69 746f 725f 6f6e 6c79 5f73 7720 6f72  nitor_only_sw or
+000180f0: 206d 6f6e 6974 6f72 5f6f 6e6c 795f 6378   monitor_only_cx
+00018100: 3a0a 2020 2020 2020 2020 6966 2077 6972  :.        if wir
+00018110: 6564 5f74 6720 616e 6420 6d6f 6e69 746f  ed_tg and monito
+00018120: 725f 6f6e 6c79 5f73 773a 0a20 2020 2020  r_only_sw:.     
+00018130: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
+00018140: 7565 4572 726f 7228 2249 6e76 616c 6964  ueError("Invalid
+00018150: 2063 6f6d 6269 6e61 7469 6f6e 2c20 4d6f   combination, Mo
+00018160: 6e69 746f 7220 4f6e 6c79 2069 7320 6e6f  nitor Only is no
+00018170: 7420 7661 6c69 6420 666f 7220 5465 6d70  t valid for Temp
+00018180: 6c61 7465 2047 726f 7570 2229 0a0a 2020  late Group")..  
+00018190: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
+000181a0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+000181b0: 2267 726f 7570 223a 2067 726f 7570 2c0a  "group": group,.
+000181c0: 2020 2020 2020 2020 2020 2020 2267 726f              "gro
+000181d0: 7570 5f61 7474 7269 6275 7465 7322 3a20  up_attributes": 
+000181e0: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+000181f0: 2020 2274 656d 706c 6174 655f 696e 666f    "template_info
+00018200: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
+00018210: 2020 2020 2020 2020 2022 5769 7265 6422           "Wired"
+00018220: 3a20 7769 7265 645f 7467 2c0a 2020 2020  : wired_tg,.    
+00018230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018240: 2257 6972 656c 6573 7322 3a20 776c 616e  "Wireless": wlan
+00018250: 5f74 670a 2020 2020 2020 2020 2020 2020  _tg.            
+00018260: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
+00018270: 2020 2020 2020 2022 6772 6f75 705f 7072         "group_pr
+00018280: 6f70 6572 7469 6573 223a 207b 0a20 2020  operties": {.   
+00018290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000182a0: 2022 416c 6c6f 7765 6444 6576 5479 7065   "AllowedDevType
+000182b0: 7322 3a20 616c 6c6f 7765 645f 7479 7065  s": allowed_type
+000182c0: 732c 0a20 2020 2020 2020 2020 2020 2020  s,.             
+000182d0: 2020 207d 0a20 2020 2020 2020 2020 2020     }.           
+000182e0: 207d 0a20 2020 2020 2020 207d 0a20 2020   }.        }.   
+000182f0: 2020 2020 2069 6620 6777 5f72 6f6c 6520       if gw_role 
+00018300: 616e 6420 2247 6174 6577 6179 7322 2069  and "Gateways" i
+00018310: 6e20 616c 6c6f 7765 645f 7479 7065 733a  n allowed_types:
+00018320: 0a20 2020 2020 2020 2020 2020 206a 736f  .            jso
+00018330: 6e5f 6461 7461 5b22 6772 6f75 705f 6174  n_data["group_at
+00018340: 7472 6962 7574 6573 225d 5b22 6772 6f75  tributes"]["grou
+00018350: 705f 7072 6f70 6572 7469 6573 225d 5b22  p_properties"]["
+00018360: 4777 4e65 7477 6f72 6b52 6f6c 6522 5d20  GwNetworkRole"] 
+00018370: 3d20 6777 5f72 6f6c 650a 2020 2020 2020  = gw_role.      
+00018380: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
+00018390: 2267 726f 7570 5f61 7474 7269 6275 7465  "group_attribute
+000183a0: 7322 5d5b 2267 726f 7570 5f70 726f 7065  s"]["group_prope
+000183b0: 7274 6965 7322 5d5b 2241 7263 6869 7465  rties"]["Archite
+000183c0: 6374 7572 6522 5d20 3d20 5c0a 2020 2020  cture"] = \.    
+000183d0: 2020 2020 2020 2020 2020 2020 2249 6e73              "Ins
+000183e0: 7461 6e74 2220 6966 206e 6f74 2061 6f73  tant" if not aos
+000183f0: 3130 2065 6c73 6520 2241 4f53 3130 220a  10 else "AOS10".
+00018400: 2020 2020 2020 2020 6966 2022 4163 6365          if "Acce
+00018410: 7373 506f 696e 7473 2220 696e 2061 6c6c  ssPoints" in all
+00018420: 6f77 6564 5f74 7970 6573 3a0a 2020 2020  owed_types:.    
+00018430: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
+00018440: 615b 2267 726f 7570 5f61 7474 7269 6275  a["group_attribu
+00018450: 7465 7322 5d5b 2267 726f 7570 5f70 726f  tes"]["group_pro
+00018460: 7065 7274 6965 7322 5d5b 2241 704e 6574  perties"]["ApNet
+00018470: 776f 726b 526f 6c65 225d 203d 205c 0a20  workRole"] = \. 
+00018480: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00018490: 5374 616e 6461 7264 2220 6966 206e 6f74  Standard" if not
+000184a0: 206d 6963 726f 6272 616e 6368 2065 6c73   microbranch els
+000184b0: 6520 224d 6963 726f 6272 616e 6368 220a  e "Microbranch".
+000184c0: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
+000184d0: 5f64 6174 615b 2267 726f 7570 5f61 7474  _data["group_att
+000184e0: 7269 6275 7465 7322 5d5b 2267 726f 7570  ributes"]["group
+000184f0: 5f70 726f 7065 7274 6965 7322 5d5b 2241  _properties"]["A
+00018500: 7263 6869 7465 6374 7572 6522 5d20 3d20  rchitecture"] = 
+00018510: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+00018520: 2020 2249 6e73 7461 6e74 2220 6966 206e    "Instant" if n
+00018530: 6f74 2061 6f73 3130 2065 6c73 6520 2241  ot aos10 else "A
+00018540: 4f53 3130 220a 2020 2020 2020 2020 6966  OS10".        if
+00018550: 2022 5377 6974 6368 6573 2220 696e 2061   "Switches" in a
+00018560: 6c6c 6f77 6564 5f74 7970 6573 3a0a 2020  llowed_types:.  
+00018570: 2020 2020 2020 2020 2020 6a73 6f6e 5f64            json_d
+00018580: 6174 615b 2267 726f 7570 5f61 7474 7269  ata["group_attri
+00018590: 6275 7465 7322 5d5b 2267 726f 7570 5f70  butes"]["group_p
+000185a0: 726f 7065 7274 6965 7322 5d5b 2241 6c6c  roperties"]["All
+000185b0: 6f77 6564 5377 6974 6368 5479 7065 7322  owedSwitchTypes"
+000185c0: 5d20 3d20 5c0a 2020 2020 2020 2020 2020  ] = \.          
+000185d0: 2020 2020 2020 616c 6c6f 7765 645f 7377        allowed_sw
+000185e0: 6974 6368 5f74 7970 6573 0a20 2020 2020  itch_types.     
+000185f0: 2020 2020 2020 2069 6620 6d6f 6e5f 6f6e         if mon_on
+00018600: 6c79 5f73 7769 7463 6865 733a 0a20 2020  ly_switches:.   
+00018610: 2020 2020 2020 2020 2020 2020 206a 736f               jso
+00018620: 6e5f 6461 7461 5b22 6772 6f75 705f 6174  n_data["group_at
+00018630: 7472 6962 7574 6573 225d 5b22 6772 6f75  tributes"]["grou
+00018640: 705f 7072 6f70 6572 7469 6573 225d 5b22  p_properties"]["
+00018650: 4d6f 6e69 746f 724f 6e6c 7922 5d20 3d20  MonitorOnly"] = 
+00018660: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+00018670: 2020 2020 2020 6d6f 6e5f 6f6e 6c79 5f73        mon_only_s
+00018680: 7769 7463 6865 730a 0a20 2020 2020 2020  witches..       
+00018690: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+000186a0: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
+000186b0: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
+000186c0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+000186d0: 2063 6c6f 6e65 5f67 726f 7570 280a 2020   clone_group(.  
+000186e0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+000186f0: 2020 2020 636c 6f6e 655f 6772 6f75 703a      clone_group:
+00018700: 2073 7472 2c0a 2020 2020 2020 2020 6e65   str,.        ne
+00018710: 775f 6772 6f75 703a 2073 7472 2c0a 2020  w_group: str,.  
+00018720: 2020 2020 2020 7570 6772 6164 655f 616f        upgrade_ao
+00018730: 7331 303a 2062 6f6f 6c20 3d20 4661 6c73  s10: bool = Fals
+00018740: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
+00018750: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00018760: 2243 6c6f 6e65 2061 6e64 2063 7265 6174  "Clone and creat
+00018770: 6520 6e65 7720 6772 6f75 702e 0a0a 2020  e new group...  
+00018780: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00018790: 2020 2020 2020 2020 636c 6f6e 655f 6772          clone_gr
+000187a0: 6f75 7020 2873 7472 293a 2047 726f 7570  oup (str): Group
+000187b0: 2074 6f20 6265 2063 6c6f 6e65 642e 0a20   to be cloned.. 
+000187c0: 2020 2020 2020 2020 2020 206e 6577 5f67             new_g
+000187d0: 726f 7570 2028 7374 7229 3a20 4e61 6d65  roup (str): Name
+000187e0: 206f 6620 6772 6f75 7020 746f 2062 6520   of group to be 
+000187f0: 6372 6561 7465 6420 6261 7365 6420 6f6e  created based on
+00018800: 2063 6c6f 6e65 2e0a 2020 2020 2020 2020   clone..        
+00018810: 2020 2020 7570 6772 6164 655f 616f 7331      upgrade_aos1
+00018820: 3020 2862 6f6f 6c29 3a20 5365 7420 5472  0 (bool): Set Tr
+00018830: 7565 2074 6f20 5570 6461 7465 2074 6865  ue to Update the
+00018840: 206e 6577 2063 6c6f 6e65 6420 6772 6f75   new cloned grou
+00018850: 7020 746f 2041 4f53 3130 2e0a 0a20 2020  p to AOS10...   
+00018860: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00018870: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00018880: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00018890: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+000188a0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000188b0: 2020 2075 726c 203d 2022 2f63 6f6e 6669     url = "/confi
+000188c0: 6775 7261 7469 6f6e 2f76 322f 6772 6f75  guration/v2/grou
+000188d0: 7073 2f63 6c6f 6e65 220a 0a20 2020 2020  ps/clone"..     
+000188e0: 2020 2069 6620 7570 6772 6164 655f 616f     if upgrade_ao
+000188f0: 7331 303a 0a20 2020 2020 2020 2020 2020  s10:.           
+00018900: 206c 6f67 2e77 6172 6e69 6e67 280a 2020   log.warning(.  
+00018910: 2020 2020 2020 2020 2020 2020 2020 2247                "G
+00018920: 726f 7570 206d 6179 206e 6f74 2062 6520  roup may not be 
+00018930: 7570 6772 6164 6564 2074 6f20 414f 5331  upgraded to AOS1
+00018940: 302c 2041 5049 206d 6574 686f 6420 6170  0, API method ap
+00018950: 7065 6172 7320 746f 2068 6176 6520 736f  pears to have so
+00018960: 6d65 2063 6176 6561 7473 2e2e 2e20 446f  me caveats... Do
+00018970: 6573 6e27 7420 616c 7761 7973 2077 6f72  esn't always wor
+00018980: 6b2e 220a 2020 2020 2020 2020 2020 2020  k.".            
+00018990: 290a 0a20 2020 2020 2020 206a 736f 6e5f  )..        json_
+000189a0: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
+000189b0: 2020 2020 2027 6772 6f75 7027 3a20 6e65       'group': ne
+000189c0: 775f 6772 6f75 702c 0a20 2020 2020 2020  w_group,.       
+000189d0: 2020 2020 2027 636c 6f6e 655f 6772 6f75       'clone_grou
+000189e0: 7027 3a20 636c 6f6e 655f 6772 6f75 702c  p': clone_group,
+000189f0: 0a20 2020 2020 2020 2020 2020 2027 7570  .            'up
+00018a00: 6772 6164 655f 6172 6368 6974 6563 7475  grade_architectu
+00018a10: 7265 273a 2075 7067 7261 6465 5f61 6f73  re': upgrade_aos
+00018a20: 3130 2c0a 2020 2020 2020 2020 7d0a 0a20  10,.        }.. 
+00018a30: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+00018a40: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
+00018a50: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
+00018a60: 6e5f 6461 7461 290a 0a20 2020 2023 2041  n_data)..    # A
+00018a70: 5049 2d46 4c41 5720 6164 6420 6170 2061  PI-FLAW add ap a
+00018a80: 6e64 2067 7720 746f 2067 726f 7570 2077  nd gw to group w
+00018a90: 6974 6820 6777 2d72 6f6c 6520 6173 2077  ith gw-role as w
+00018aa0: 6c61 6e20 616e 6420 7570 6772 6164 6520  lan and upgrade 
+00018ab0: 746f 2061 6f73 3130 2e20 2052 6574 7572  to aos10.  Retur
+00018ac0: 6e73 2032 3030 2c20 6275 7420 6e6f 2063  ns 200, but no c
+00018ad0: 6861 6e67 6573 206d 6164 650a 2020 2020  hanges made.    
+00018ae0: 6173 796e 6320 6465 6620 7570 6461 7465  async def update
+00018af0: 5f67 726f 7570 5f70 726f 7065 7274 6965  _group_propertie
+00018b00: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+00018b10: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
+00018b20: 7374 722c 0a20 2020 2020 2020 2061 6c6c  str,.        all
+00018b30: 6f77 6564 5f74 7970 6573 3a20 556e 696f  owed_types: Unio
+00018b40: 6e5b 636f 6e73 7461 6e74 732e 416c 6c44  n[constants.AllD
+00018b50: 6576 5479 7065 732c 204c 6973 745b 636f  evTypes, List[co
+00018b60: 6e73 7461 6e74 732e 416c 6c44 6576 5479  nstants.AllDevTy
+00018b70: 7065 735d 5d20 3d20 4e6f 6e65 2c0a 2020  pes]] = None,.  
+00018b80: 2020 2020 2020 7769 7265 645f 7467 3a20        wired_tg: 
+00018b90: 626f 6f6c 203d 204e 6f6e 652c 0a20 2020  bool = None,.   
+00018ba0: 2020 2020 2077 6c61 6e5f 7467 3a20 626f       wlan_tg: bo
+00018bb0: 6f6c 203d 204e 6f6e 652c 0a20 2020 2020  ol = None,.     
+00018bc0: 2020 2061 6f73 3130 3a20 626f 6f6c 203d     aos10: bool =
+00018bd0: 204e 6f6e 652c 0a20 2020 2020 2020 206d   None,.        m
+00018be0: 6963 726f 6272 616e 6368 3a20 626f 6f6c  icrobranch: bool
+00018bf0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00018c00: 2067 775f 726f 6c65 3a20 636f 6e73 7461   gw_role: consta
+00018c10: 6e74 732e 4761 7465 7761 7952 6f6c 6520  nts.GatewayRole 
+00018c20: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00018c30: 6d6f 6e69 746f 725f 6f6e 6c79 5f73 773a  monitor_only_sw:
+00018c40: 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020   bool = None,.  
+00018c50: 2020 2020 2020 6d6f 6e69 746f 725f 6f6e        monitor_on
+00018c60: 6c79 5f63 783a 2062 6f6f 6c20 3d20 4e6f  ly_cx: bool = No
+00018c70: 6e65 2c20 2023 204e 6f74 2073 7570 706f  ne,  # Not suppo
+00018c80: 7274 6564 2062 7920 6365 6e74 7261 6c20  rted by central 
+00018c90: 7965 740a 2020 2020 2920 2d3e 2052 6573  yet.    ) -> Res
+00018ca0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+00018cb0: 2222 5570 6461 7465 2070 726f 7065 7274  ""Update propert
+00018cc0: 6965 7320 666f 7220 7468 6520 6769 7665  ies for the give
+00018cd0: 6e20 6772 6f75 702e 0a0a 2020 2020 2020  n group...      
+00018ce0: 2020 2f2f 2055 7365 6420 6279 2075 7064    // Used by upd
+00018cf0: 6174 6520 6772 6f75 7020 2f2f 0a0a 2020  ate group //..  
+00018d00: 2020 2020 2020 2d20 5468 6520 7570 6461        - The upda
+00018d10: 7465 206f 6620 7065 7273 6f6e 6120 616e  te of persona an
+00018d20: 6420 636f 6e66 6967 7572 6174 696f 6e20  d configuration 
+00018d30: 6d6f 6465 2073 6574 2066 6f72 2065 7869  mode set for exi
+00018d40: 7374 696e 6720 6465 7669 6365 2074 7970  sting device typ
+00018d50: 6573 2069 7320 6e6f 7420 7065 726d 6974  es is not permit
+00018d60: 7465 642e 0a20 2020 2020 2020 202d 2043  ted..        - C
+00018d70: 616e 2075 7064 6174 6520 6672 6f6d 2073  an update from s
+00018d80: 7461 6e64 6172 6420 4150 2074 6f20 4d69  tandard AP to Mi
+00018d90: 6372 6f42 7261 6e63 682c 2062 7574 2063  croBranch, but c
+00018da0: 616e 2774 2067 6f20 6261 636b 0a20 2020  an't go back.   
+00018db0: 2020 2020 202d 2043 616e 2075 7064 6174       - Can updat
+00018dc0: 6520 746f 2041 4f53 3130 2c20 6275 7420  e to AOS10, but 
+00018dd0: 6361 6e27 7420 676f 2062 6163 6b0a 2020  can't go back.  
+00018de0: 2020 2020 2020 2d20 4361 6e20 4164 6420        - Can Add 
+00018df0: 416c 6c6f 7765 6420 4465 7669 6365 2054  Allowed Device T
+00018e00: 7970 6573 2c20 6275 7420 6361 6e27 7420  ypes, but can't 
+00018e10: 7265 6d6f 7665 2e0a 2020 2020 2020 2020  remove..        
+00018e20: 2d20 4361 6e20 4164 6420 416c 6c6f 7765  - Can Add Allowe
+00018e30: 6420 5377 6974 6368 2054 7970 6573 2c20  d Switch Types, 
+00018e40: 6275 7420 6361 6e27 7420 7265 6d6f 7665  but can't remove
+00018e50: 2e0a 2020 2020 2020 2020 2d20 4361 6e20  ..        - Can 
+00018e60: 6f6e 6c79 2063 6861 6e67 6520 6d6f 6e5f  only change mon_
+00018e70: 6f6e 6c79 5f73 7720 616e 6420 7769 7265  only_sw and wire
+00018e80: 645f 7467 2077 6865 6e20 6164 6469 6e67  d_tg when adding
+00018e90: 2073 7769 7463 6865 7320 2863 782c 2073   switches (cx, s
+00018ea0: 7729 2074 6f20 616c 6c6f 7765 645f 6465  w) to allowed_de
+00018eb0: 7669 6365 5f74 7970 6573 0a0a 0a20 2020  vice_types...   
+00018ec0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00018ed0: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
+00018ee0: 7229 3a20 4772 6f75 7020 4e61 6d65 0a20  r): Group Name. 
+00018ef0: 2020 2020 2020 2020 2020 2061 6c6c 6f77             allow
+00018f00: 6564 5f74 7970 6573 2028 7374 722c 204c  ed_types (str, L
+00018f10: 6973 745b 7374 725d 293a 2041 6c6c 6f77  ist[str]): Allow
+00018f20: 6564 2044 6576 6963 6520 5479 7065 7320  ed Device Types 
+00018f30: 696e 2074 6865 2067 726f 7570 2e20 5461  in the group. Ta
+00018f40: 6273 2066 6f72 2064 6576 6963 6573 206e  bs for devices n
+00018f50: 6f74 2061 6c6c 6f77 6564 0a20 2020 2020  ot allowed.     
+00018f60: 2020 2020 2020 2020 2020 2077 6f6e 2774             won't
+00018f70: 2064 6973 706c 6179 2069 6e20 5549 2e20   display in UI. 
+00018f80: 2076 616c 6964 2076 616c 7565 7320 2261   valid values "a
+00018f90: 7022 2c20 2267 7722 2c20 2263 7822 2c20  p", "gw", "cx", 
+00018fa0: 2273 7722 2c20 2273 7769 7463 6822 0a20  "sw", "switch". 
+00018fb0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
+00018fc0: 2273 7769 7463 6822 2069 7320 6765 6e65  "switch" is gene
+00018fd0: 7269 632c 2077 696c 6c20 656e 6162 6c65  ric, will enable
+00018fe0: 2062 6f74 6820 6378 2061 6e64 2073 7729   both cx and sw)
+00018ff0: 0a20 2020 2020 2020 2020 2020 2077 6972  .            wir
+00019000: 6564 5f74 6720 2862 6f6f 6c2c 206f 7074  ed_tg (bool, opt
+00019010: 696f 6e61 6c29 3a20 5365 7420 746f 2074  ional): Set to t
+00019020: 7275 6520 6966 2077 6972 6564 2853 7769  rue if wired(Swi
+00019030: 7463 6829 2063 6f6e 6669 6775 7261 7469  tch) configurati
+00019040: 6f6e 2069 6e20 6120 6772 6f75 7020 6973  on in a group is
+00019050: 206d 616e 6167 6564 0a20 2020 2020 2020   managed.       
+00019060: 2020 2020 2020 2020 2075 7369 6e67 2074           using t
+00019070: 656d 706c 6174 6573 2e0a 2020 2020 2020  emplates..      
+00019080: 2020 2020 2020 776c 616e 5f74 6720 2862        wlan_tg (b
+00019090: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+000190a0: 5365 7420 746f 2074 7275 6520 6966 2077  Set to true if w
+000190b0: 6972 656c 6573 7328 4941 502c 2047 6174  ireless(IAP, Gat
+000190c0: 6577 6179 7329 2063 6f6e 6669 6775 7261  eways) configura
+000190d0: 7469 6f6e 2069 6e20 610a 2020 2020 2020  tion in a.      
+000190e0: 2020 2020 2020 2020 2020 6772 6f75 7020            group 
+000190f0: 6973 206d 616e 6167 6564 2075 7369 6e67  is managed using
+00019100: 2074 656d 706c 6174 6573 2e0a 2020 2020   templates..    
+00019110: 2020 2020 2020 2020 616f 7331 303a 2028          aos10: (
+00019120: 626f 6f6c 293a 2069 6620 5472 7565 2075  bool): if True u
+00019130: 7365 2041 4f53 3130 2061 7263 6869 7465  se AOS10 archite
+00019140: 6374 7572 6520 666f 7220 7468 6520 6163  cture for the ac
+00019150: 6365 7373 2070 6f69 6e74 7320 616e 6420  cess points and 
+00019160: 6761 7465 7761 7973 2069 6e20 7468 6520  gateways in the 
+00019170: 6772 6f75 702e 0a20 2020 2020 2020 2020  group..         
+00019180: 2020 2020 2020 2064 6566 6175 6c74 2046         default F
+00019190: 616c 7365 2028 496e 7374 616e 7429 0a20  alse (Instant). 
+000191a0: 2020 2020 2020 2020 2020 206d 6963 726f             micro
+000191b0: 6272 616e 6368 2028 626f 6f6c 293a 2054  branch (bool): T
+000191c0: 7275 6520 746f 2065 6e61 626c 6520 4d69  rue to enable Mi
+000191d0: 6372 6f62 7261 6e63 6820 6e65 7477 6f72  crobranch networ
+000191e0: 6b20 726f 6c65 2066 6f72 2041 5073 2069  k role for APs i
+000191f0: 7320 6170 706c 6963 6162 6c65 206f 6e6c  s applicable onl
+00019200: 7920 666f 7220 414f 5331 3020 6172 6368  y for AOS10 arch
+00019210: 6974 6563 7475 7265 2e0a 2020 2020 2020  itecture..      
+00019220: 2020 2020 2020 6777 5f72 6f6c 6520 2847        gw_role (G
+00019230: 6174 6577 6179 526f 6c65 293a 2047 6174  atewayRole): Gat
+00019240: 6577 6179 2072 6f6c 6520 7661 6c69 6420  eway role valid 
+00019250: 7661 6c75 6573 2022 6272 616e 6368 222c  values "branch",
+00019260: 2022 7670 6e63 222c 2022 776c 616e 2220   "vpnc", "wlan" 
+00019270: 2822 776c 616e 2220 6f6e 6c79 2076 616c  ("wlan" only val
+00019280: 6964 206f 6e20 414f 5331 3020 6772 6f75  id on AOS10 grou
+00019290: 7029 0a20 2020 2020 2020 2020 2020 206d  p).            m
+000192a0: 6f6e 6974 6f72 5f6f 6e6c 795f 7377 3a20  onitor_only_sw: 
+000192b0: 4d6f 6e69 746f 7220 6f6e 6c79 2041 7275  Monitor only Aru
+000192c0: 6261 4f53 2d53 5720 7377 6974 6368 6573  baOS-SW switches
+000192d0: 2c20 6170 706c 6965 7320 746f 2055 4920  , applies to UI 
+000192e0: 6772 6f75 7020 6f6e 6c79 0a20 2020 2020  group only.     
+000192f0: 2020 2020 2020 206d 6f6e 6974 6f72 5f6f         monitor_o
+00019300: 6e6c 795f 6378 3a20 4d6f 6e69 746f 7220  nly_cx: Monitor 
+00019310: 6f6e 6c79 2041 7275 6261 4f53 2d43 5820  only ArubaOS-CX 
+00019320: 7377 6974 6368 6573 2c20 6170 706c 6965  switches, applie
+00019330: 7320 746f 2055 4920 6772 6f75 7020 6f6e  s to UI group on
+00019340: 6c79 2028 4675 7475 7265 2063 6170 6162  ly (Future capab
+00019350: 696c 6974 7929 0a0a 2020 2020 2020 2020  ility)..        
+00019360: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00019370: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00019380: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00019390: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+000193a0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+000193b0: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+000193c0: 7469 6f6e 2f76 322f 6772 6f75 7073 2f7b  tion/v2/groups/{
+000193d0: 6772 6f75 707d 2f70 726f 7065 7274 6965  group}/propertie
+000193e0: 7322 0a0a 2020 2020 2020 2020 7265 7370  s"..        resp
+000193f0: 203d 2061 7761 6974 2073 656c 662e 6765   = await self.ge
+00019400: 745f 6772 6f75 7073 5f70 726f 7065 7274  t_groups_propert
+00019410: 6965 7328 6772 6f75 7029 0a20 2020 2020  ies(group).     
+00019420: 2020 2069 6620 7265 7370 3a0a 2020 2020     if resp:.    
+00019430: 2020 2020 2020 2020 6966 206e 6f74 2069          if not i
+00019440: 7369 6e73 7461 6e63 6528 7265 7370 2e6f  sinstance(resp.o
+00019450: 7574 7075 742c 206c 6973 7429 3a0a 2020  utput, list):.  
+00019460: 2020 2020 2020 2020 2020 2020 2020 7261                ra
+00019470: 6973 6520 5661 6c75 6545 7272 6f72 2866  ise ValueError(f
+00019480: 2245 7870 6563 7465 6420 6c69 7374 206f  "Expected list o
+00019490: 6620 6469 6374 7320 6672 6f6d 2067 6574  f dicts from get
+000194a0: 5f67 726f 7570 735f 7072 6f70 6572 7469  _groups_properti
+000194b0: 6573 2067 6f74 207b 7479 7065 2872 6573  es got {type(res
+000194c0: 702e 6f75 7470 7574 297d 2229 0a20 2020  p.output)}").   
+000194d0: 2020 2020 2020 2020 2063 7572 5f67 726f           cur_gro
+000194e0: 7570 5f70 726f 7073 203d 2072 6573 702e  up_props = resp.
+000194f0: 6f75 7470 7574 5b2d 315d 5b22 7072 6f70  output[-1]["prop
+00019500: 6572 7469 6573 225d 0a20 2020 2020 2020  erties"].       
+00019510: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00019520: 2020 206c 6f67 2e65 7272 6f72 2866 2255     log.error(f"U
+00019530: 6e61 626c 6520 746f 2070 6572 666f 726d  nable to perform
+00019540: 2063 616c 6c20 746f 2075 7064 6174 6520   call to update 
+00019550: 6772 6f75 7020 7b67 726f 7570 7d20 7072  group {group} pr
+00019560: 6f70 6572 7469 6573 2e20 2043 616c 6c20  operties.  Call 
+00019570: 746f 2067 6574 2063 7572 7265 6e74 2070  to get current p
+00019580: 726f 7065 7274 6965 7320 6661 696c 6564  roperties failed
+00019590: 2e22 290a 2020 2020 2020 2020 2020 2020  .").            
+000195a0: 7265 7475 726e 2072 6573 700a 0a20 2020  return resp..   
+000195b0: 2020 2020 2069 6620 6375 725f 6772 6f75       if cur_grou
+000195c0: 705f 7072 6f70 735b 2241 4f53 5665 7273  p_props["AOSVers
+000195d0: 696f 6e22 5d20 3d3d 2022 414f 535f 3130  ion"] == "AOS_10
+000195e0: 5822 2061 6e64 2061 6f73 3130 2069 7320  X" and aos10 is 
+000195f0: 4661 6c73 653a 0a20 2020 2020 2020 2020  False:.         
+00019600: 2020 2072 6574 7572 6e20 5265 7370 6f6e     return Respon
+00019610: 7365 280a 2020 2020 2020 2020 2020 2020  se(.            
+00019620: 2020 2020 6572 726f 723d 6622 7b67 726f      error=f"{gro
+00019630: 7570 7d20 6973 2063 7572 7265 6e74 6c79  up} is currently
+00019640: 2061 6e20 414f 5331 3020 6772 6f75 702e   an AOS10 group.
+00019650: 2020 5570 6772 6164 696e 6720 746f 2041    Upgrading to A
+00019660: 4f53 3130 2069 7320 7375 7070 6f72 7465  OS10 is supporte
+00019670: 642c 2072 6576 6572 7469 6e67 2062 6163  d, reverting bac
+00019680: 6b20 6973 206e 6f74 2e22 2c0a 2020 2020  k is not.",.    
+00019690: 2020 2020 2020 2020 2020 2020 726c 5f73              rl_s
+000196a0: 7472 3d72 6573 702e 726c 2c0a 2020 2020  tr=resp.rl,.    
+000196b0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+000196c0: 2020 6966 2061 6f73 3130 2069 7320 5472    if aos10 is Tr
+000196d0: 7565 3a0a 2020 2020 2020 2020 2020 2020  ue:.            
+000196e0: 6966 2022 4163 6365 7373 506f 696e 7473  if "AccessPoints
+000196f0: 2220 696e 2063 7572 5f67 726f 7570 5f70  " in cur_group_p
+00019700: 726f 7073 5b22 416c 6c6f 7765 6444 6576  rops["AllowedDev
+00019710: 5479 7065 7322 5d20 6f72 205c 0a20 2020  Types"] or \.   
+00019720: 2020 2020 2020 2020 2020 2020 2022 4761               "Ga
+00019730: 7465 7761 7973 2220 696e 2063 7572 5f67  teways" in cur_g
+00019740: 726f 7570 5f70 726f 7073 5b22 416c 6c6f  roup_props["Allo
+00019750: 7765 6444 6576 5479 7065 7322 5d3a 0a20  wedDevTypes"]:. 
+00019760: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00019770: 6574 7572 6e20 5265 7370 6f6e 7365 280a  eturn Response(.
+00019780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019790: 2020 2020 6572 726f 723d 6622 7b63 6f6c      error=f"{col
+000197a0: 6f72 2827 414f 5331 3027 297d 2063 616e  or('AOS10')} can
+000197b0: 206f 6e6c 7920 6265 2073 6574 2077 6865   only be set whe
+000197c0: 6e20 4150 7320 6f72 2047 5773 2061 7265  n APs or GWs are
+000197d0: 2069 6e69 7469 616c 6c79 2061 6464 6564   initially added
+000197e0: 2074 6f20 616c 6c6f 7765 645f 7479 7065   to allowed_type
+000197f0: 7320 6f66 2067 726f 7570 220a 2020 2020  s of group".    
+00019800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019810: 2020 2020 2020 6622 5c6e 7b63 6f6c 6f72        f"\n{color
+00019820: 2867 726f 7570 297d 2063 616e 2062 6520  (group)} can be 
+00019830: 636c 6f6e 6564 2077 6974 6820 6f70 7469  cloned with opti
+00019840: 6f6e 2074 6f20 7570 6772 6164 6520 6475  on to upgrade du
+00019850: 7269 6e67 2063 6c6f 6e65 2e22 2c0a 2020  ring clone.",.  
+00019860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019870: 2020 726c 5f73 7472 3d72 6573 702e 726c    rl_str=resp.rl
+00019880: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00019890: 2020 290a 0a20 2020 2020 2020 2069 6620    )..        if 
+000198a0: 2241 6363 6573 7350 6f69 6e74 7322 2069  "AccessPoints" i
+000198b0: 6e20 6375 725f 6772 6f75 705f 7072 6f70  n cur_group_prop
+000198c0: 735b 2241 6c6c 6f77 6564 4465 7654 7970  s["AllowedDevTyp
+000198d0: 6573 225d 3a0a 2020 2020 2020 2020 2020  es"]:.          
+000198e0: 2020 6966 206d 6963 726f 6272 616e 6368    if microbranch
+000198f0: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+00019900: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00019910: 7475 726e 2052 6573 706f 6e73 6528 0a20  turn Response(. 
+00019920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019930: 2020 2065 7272 6f72 3d66 227b 6772 6f75     error=f"{grou
+00019940: 707d 2061 6c72 6561 6479 2061 6c6c 6f77  p} already allow
+00019950: 7320 4150 732e 2020 4d69 6372 6f62 7261  s APs.  Microbra
+00019960: 6e63 682f 5374 616e 6461 7264 2041 5020  nch/Standard AP 
+00019970: 6361 6e20 6f6e 6c79 2062 6520 7365 7420  can only be set 
+00019980: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00019990: 2020 2020 2020 2020 2020 2020 2277 6865              "whe
+000199a0: 6e20 696e 6974 6961 6c6c 7920 6164 6469  n initially addi
+000199b0: 6e67 2041 5073 2074 6f20 616c 6c6f 7765  ng APs to allowe
+000199c0: 645f 7479 7065 7320 6f66 2067 726f 7570  d_types of group
+000199d0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+000199e0: 2020 2020 2020 2072 6c5f 7374 723d 7265         rl_str=re
+000199f0: 7370 2e72 6c2c 0a20 2020 2020 2020 2020  sp.rl,.         
+00019a00: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00019a10: 2069 6620 6d6f 6e69 746f 725f 6f6e 6c79   if monitor_only
+00019a20: 5f73 7720 6973 2046 616c 7365 2061 6e64  _sw is False and
+00019a30: 2022 414f 535f 5322 2069 6e20 6375 725f   "AOS_S" in cur_
+00019a40: 6772 6f75 705f 7072 6f70 735b 2241 6c6c  group_props["All
+00019a50: 6f77 6564 5377 6974 6368 5479 7065 7322  owedSwitchTypes"
+00019a60: 5d3a 0a20 2020 2020 2020 2020 2020 2072  ]:.            r
+00019a70: 6574 7572 6e20 5265 7370 6f6e 7365 280a  eturn Response(.
+00019a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019a90: 6572 726f 723d 6622 7b67 726f 7570 7d20  error=f"{group} 
+00019aa0: 616c 7265 6164 7920 616c 6c6f 7773 2041  already allows A
+00019ab0: 4f53 2d53 572e 2020 4d6f 6e69 746f 7220  OS-SW.  Monitor 
+00019ac0: 4f6e 6c79 2063 616e 206f 6e6c 7920 6265  Only can only be
+00019ad0: 2073 6574 2022 0a20 2020 2020 2020 2020   set ".         
+00019ae0: 2020 2020 2020 2020 2020 2020 2022 7768               "wh
+00019af0: 656e 2069 6e69 7469 616c 6c79 2061 6464  en initially add
+00019b00: 696e 6720 414f 532d 5357 2074 6f20 616c  ing AOS-SW to al
+00019b10: 6c6f 7765 645f 7479 7065 7320 6f66 2067  lowed_types of g
+00019b20: 726f 7570 222c 0a20 2020 2020 2020 2020  roup",.         
+00019b30: 2020 2020 2020 2072 6c5f 7374 723d 7265         rl_str=re
+00019b40: 7370 2e72 6c2c 0a20 2020 2020 2020 2020  sp.rl,.         
+00019b50: 2020 2029 0a20 2020 2020 2020 2069 6620     ).        if 
+00019b60: 6d6f 6e69 746f 725f 6f6e 6c79 5f63 7820  monitor_only_cx 
+00019b70: 6973 2046 616c 7365 2061 6e64 2022 414f  is False and "AO
+00019b80: 535f 4358 2220 696e 2063 7572 5f67 726f  S_CX" in cur_gro
+00019b90: 7570 5f70 726f 7073 5b22 416c 6c6f 7765  up_props["Allowe
+00019ba0: 6453 7769 7463 6854 7970 6573 225d 3a0a  dSwitchTypes"]:.
+00019bb0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00019bc0: 726e 2052 6573 706f 6e73 6528 0a20 2020  rn Response(.   
+00019bd0: 2020 2020 2020 2020 2020 2020 2065 7272               err
+00019be0: 6f72 3d66 227b 6772 6f75 707d 2061 6c72  or=f"{group} alr
+00019bf0: 6561 6479 2061 6c6c 6f77 7320 414f 532d  eady allows AOS-
+00019c00: 4358 2e20 204d 6f6e 6974 6f72 204f 6e6c  CX.  Monitor Onl
+00019c10: 7920 6361 6e20 6f6e 6c79 2062 6520 7365  y can only be se
+00019c20: 7420 220a 2020 2020 2020 2020 2020 2020  t ".            
+00019c30: 2020 2020 2020 2020 2020 2277 6865 6e20            "when 
+00019c40: 696e 6974 6961 6c6c 7920 6164 6469 6e67  initially adding
+00019c50: 2041 4f53 2d43 5820 746f 2061 6c6c 6f77   AOS-CX to allow
+00019c60: 6564 5f74 7970 6573 206f 6620 6772 6f75  ed_types of grou
+00019c70: 7022 2c0a 2020 2020 2020 2020 2020 2020  p",.            
+00019c80: 2020 2020 726c 5f73 7472 3d72 6573 702e      rl_str=resp.
+00019c90: 726c 2c0a 2020 2020 2020 2020 2020 2020  rl,.            
+00019ca0: 290a 0a20 2020 2020 2020 2061 6c6c 6f77  )..        allow
+00019cb0: 6564 5f74 7970 6573 203d 2061 6c6c 6f77  ed_types = allow
+00019cc0: 6564 5f74 7970 6573 206f 7220 5b5d 0a20  ed_types or []. 
+00019cd0: 2020 2020 2020 2061 6c6c 6f77 6564 5f73         allowed_s
+00019ce0: 7769 7463 685f 7479 7065 7320 3d20 5b5d  witch_types = []
+00019cf0: 0a20 2020 2020 2020 2069 6620 616c 6c6f  .        if allo
+00019d00: 7765 645f 7479 7065 733a 0a20 2020 2020  wed_types:.     
+00019d10: 2020 2020 2020 2061 6c6c 6f77 6564 5f74         allowed_t
+00019d20: 7970 6573 203d 2075 7469 6c73 2e6c 6973  ypes = utils.lis
+00019d30: 7469 6679 2861 6c6c 6f77 6564 5f74 7970  tify(allowed_typ
+00019d40: 6573 290a 2020 2020 2020 2020 2020 2020  es).            
+00019d50: 6966 2022 7377 6974 6368 2220 696e 2061  if "switch" in a
+00019d60: 6c6c 6f77 6564 5f74 7970 6573 206f 7220  llowed_types or 
+00019d70: 2822 6378 2220 696e 2061 6c6c 6f77 6564  ("cx" in allowed
+00019d80: 5f74 7970 6573 2061 6e64 2022 7377 2220  _types and "sw" 
+00019d90: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
+00019da0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00019db0: 2020 2061 6c6c 6f77 6564 5f73 7769 7463     allowed_switc
+00019dc0: 685f 7479 7065 7320 2b3d 205b 2241 4f53  h_types += ["AOS
+00019dd0: 5f43 5822 2c20 2241 4f53 5f53 225d 0a20  _CX", "AOS_S"]. 
+00019de0: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+00019df0: 2273 7722 2069 6e20 616c 6c6f 7765 645f  "sw" in allowed_
+00019e00: 7479 7065 733a 0a20 2020 2020 2020 2020  types:.         
+00019e10: 2020 2020 2020 2061 6c6c 6f77 6564 5f73         allowed_s
+00019e20: 7769 7463 685f 7479 7065 7320 2b3d 205b  witch_types += [
+00019e30: 2241 4f53 5f53 225d 0a20 2020 2020 2020  "AOS_S"].       
+00019e40: 2020 2020 2065 6c69 6620 2263 7822 2069       elif "cx" i
+00019e50: 6e20 616c 6c6f 7765 645f 7479 7065 733a  n allowed_types:
+00019e60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019e70: 2061 6c6c 6f77 6564 5f73 7769 7463 685f   allowed_switch_
+00019e80: 7479 7065 7320 2b3d 205b 2241 4f53 5f43  types += ["AOS_C
+00019e90: 5822 5d0a 0a20 2020 2020 2020 2023 2070  X"]..        # p
+00019ea0: 7269 6e74 2822 5b44 4542 5547 5d20 2d2d  rint("[DEBUG] --
+00019eb0: 2d2d 2043 7572 7265 6e74 2050 726f 7065  -- Current Prope
+00019ec0: 7274 6965 7320 6f66 2067 726f 7570 2229  rties of group")
+00019ed0: 0a20 2020 2020 2020 2023 2075 7469 6c73  .        # utils
+00019ee0: 2e6a 736f 6e5f 7072 696e 7428 6375 725f  .json_print(cur_
+00019ef0: 6772 6f75 705f 7072 6f70 7329 0a20 2020  group_props).   
+00019f00: 2020 2020 2023 2070 7269 6e74 2822 5b44       # print("[D
+00019f10: 4542 5547 5d20 2d2d 2d2d 2229 0a20 2020  EBUG] ----").   
+00019f20: 2020 2020 2023 2054 4f44 4f20 636f 7079       # TODO copy
+00019f30: 2070 6173 7465 2066 726f 6d20 6372 6561   paste from crea
+00019f40: 7465 2067 726f 7570 202e 2e2e 2063 6f6d  te group ... com
+00019f50: 6d6f 6e20 6675 6e63 2074 6f20 6275 696c  mon func to buil
+00019f60: 6420 7061 796c 6f61 640a 2020 2020 2020  d payload.      
+00019f70: 2020 6777 5f72 6f6c 655f 6469 6374 203d    gw_role_dict =
+00019f80: 207b 0a20 2020 2020 2020 2020 2020 2022   {.            "
+00019f90: 6272 616e 6368 223a 2022 4272 616e 6368  branch": "Branch
+00019fa0: 4761 7465 7761 7922 2c0a 2020 2020 2020  Gateway",.      
+00019fb0: 2020 2020 2020 2276 706e 6322 3a20 2256        "vpnc": "V
+00019fc0: 504e 436f 6e63 656e 7472 6174 6f72 222c  PNConcentrator",
+00019fd0: 0a20 2020 2020 2020 2020 2020 2022 776c  .            "wl
+00019fe0: 616e 223a 2022 574c 414e 4761 7465 7761  an": "WLANGatewa
+00019ff0: 7922 2c0a 2020 2020 2020 2020 7d0a 2020  y",.        }.  
+0001a000: 2020 2020 2020 6465 765f 7479 7065 5f64        dev_type_d
+0001a010: 6963 7420 3d20 7b0a 2020 2020 2020 2020  ict = {.        
+0001a020: 2020 2020 2261 7022 3a20 2241 6363 6573      "ap": "Acces
+0001a030: 7350 6f69 6e74 7322 2c0a 2020 2020 2020  sPoints",.      
+0001a040: 2020 2020 2020 2267 7722 3a20 2247 6174        "gw": "Gat
+0001a050: 6577 6179 7322 2c0a 2020 2020 2020 2020  eways",.        
+0001a060: 2020 2020 2273 7769 7463 6822 3a20 2253      "switch": "S
+0001a070: 7769 7463 6865 7322 2c0a 2020 2020 2020  witches",.      
+0001a080: 2020 2020 2020 2263 7822 3a20 2253 7769        "cx": "Swi
+0001a090: 7463 6865 7322 2c0a 2020 2020 2020 2020  tches",.        
+0001a0a0: 2020 2020 2273 7722 3a20 2253 7769 7463      "sw": "Switc
+0001a0b0: 6865 7322 2c0a 2020 2020 2020 2020 7d0a  hes",.        }.
+0001a0c0: 2020 2020 2020 2020 6777 5f72 6f6c 6520          gw_role 
+0001a0d0: 3d20 6777 5f72 6f6c 655f 6469 6374 2e67  = gw_role_dict.g
+0001a0e0: 6574 2867 775f 726f 6c65 290a 0a20 2020  et(gw_role)..   
+0001a0f0: 2020 2020 206d 6f6e 5f6f 6e6c 795f 7377       mon_only_sw
+0001a100: 6974 6368 6573 203d 205b 5d0a 2020 2020  itches = [].    
+0001a110: 2020 2020 6966 206d 6f6e 6974 6f72 5f6f      if monitor_o
+0001a120: 6e6c 795f 7377 3a0a 2020 2020 2020 2020  nly_sw:.        
+0001a130: 2020 2020 6d6f 6e5f 6f6e 6c79 5f73 7769      mon_only_swi
+0001a140: 7463 6865 7320 2b3d 205b 2241 4f53 5f53  tches += ["AOS_S
+0001a150: 225d 0a20 2020 2020 2020 2069 6620 6d6f  "].        if mo
+0001a160: 6e69 746f 725f 6f6e 6c79 5f63 783a 0a20  nitor_only_cx:. 
+0001a170: 2020 2020 2020 2020 2020 206d 6f6e 5f6f             mon_o
+0001a180: 6e6c 795f 7377 6974 6368 6573 202b 3d20  nly_switches += 
+0001a190: 5b22 414f 535f 4358 225d 0a20 2020 2020  ["AOS_CX"].     
+0001a1a0: 2020 2020 2020 2072 6169 7365 204e 6f74         raise Not
+0001a1b0: 496d 706c 656d 656e 7465 6445 7272 6f72  ImplementedError
+0001a1c0: 2822 414f 535f 4358 204d 6f6e 6974 6f72  ("AOS_CX Monitor
+0001a1d0: 204f 6e6c 7920 6e6f 7420 7375 7070 6f72   Only not suppor
+0001a1e0: 7465 6420 696e 2043 656e 7472 616c 2079  ted in Central y
+0001a1f0: 6574 2e22 290a 0a20 2020 2020 2020 2061  et.")..        a
+0001a200: 7263 6820 3d20 4e6f 6e65 0a20 2020 2020  rch = None.     
+0001a210: 2020 2069 6620 6d69 6372 6f62 7261 6e63     if microbranc
+0001a220: 6820 6973 206e 6f74 204e 6f6e 653a 0a20  h is not None:. 
+0001a230: 2020 2020 2020 2020 2020 2069 6620 616f             if ao
+0001a240: 7331 3020 6973 206e 6f74 204e 6f6e 653a  s10 is not None:
+0001a250: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a260: 2061 7263 6820 3d20 2249 6e73 7461 6e74   arch = "Instant
+0001a270: 2220 6966 206e 6f74 2061 6f73 3130 2065  " if not aos10 e
+0001a280: 6c73 6520 2241 4f53 3130 220a 0a20 2020  lse "AOS10"..   
+0001a290: 2020 2020 2061 6c6c 6f77 6564 5f74 7970       allowed_typ
+0001a2a0: 6573 203d 206c 6973 7428 7365 7428 5b64  es = list(set([d
+0001a2b0: 6576 5f74 7970 655f 6469 6374 2e67 6574  ev_type_dict.get
+0001a2c0: 2874 2920 666f 7220 7420 696e 2061 6c6c  (t) for t in all
+0001a2d0: 6f77 6564 5f74 7970 6573 5d29 290a 2020  owed_types])).  
+0001a2e0: 2020 2020 2020 636f 6d62 696e 6564 5f61        combined_a
+0001a2f0: 6c6c 6f77 6564 203d 205b 2a61 6c6c 6f77  llowed = [*allow
+0001a300: 6564 5f74 7970 6573 2c20 2a63 7572 5f67  ed_types, *cur_g
+0001a310: 726f 7570 5f70 726f 7073 5b22 416c 6c6f  roup_props["Allo
+0001a320: 7765 6444 6576 5479 7065 7322 5d5d 0a0a  wedDevTypes"]]..
+0001a330: 2020 2020 2020 2020 6966 204e 6f6e 6520          if None 
+0001a340: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
+0001a350: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+0001a360: 7475 726e 2052 6573 706f 6e73 6528 0a20  turn Response(. 
+0001a370: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0001a380: 7272 6f72 3d27 496e 7661 6c69 6420 6465  rror='Invalid de
+0001a390: 7669 6365 2074 7970 6520 666f 7220 616c  vice type for al
+0001a3a0: 6c6f 7765 645f 7479 7065 7320 7661 6c69  lowed_types vali
+0001a3b0: 6420 7661 6c75 6573 3a20 2261 7022 2c20  d values: "ap", 
+0001a3c0: 2267 7722 2c20 2273 7722 2c20 2263 7822  "gw", "sw", "cx"
+0001a3d0: 2c20 2273 7769 7463 6822 272c 0a20 2020  , "switch"',.   
+0001a3e0: 2020 2020 2020 2020 2020 2020 2072 6c5f               rl_
+0001a3f0: 7374 723d 7265 7370 2e72 6c2c 0a20 2020  str=resp.rl,.   
+0001a400: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+0001a410: 2020 2069 6620 6d69 6372 6f62 7261 6e63     if microbranc
+0001a420: 6820 616e 6420 6e6f 7420 616f 7331 303a  h and not aos10:
+0001a430: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+0001a440: 7572 6e20 5265 7370 6f6e 7365 280a 2020  urn Response(.  
+0001a450: 2020 2020 2020 2020 2020 2020 2020 6572                er
+0001a460: 726f 723d 2249 6e76 616c 6964 2063 6f6d  ror="Invalid com
+0001a470: 6269 6e61 7469 6f6e 2c20 4772 6f75 7020  bination, Group 
+0001a480: 6d75 7374 2062 6520 636f 6e66 6967 7572  must be configur
+0001a490: 6564 2061 7320 414f 5331 3020 6772 6f75  ed as AOS10 grou
+0001a4a0: 7020 746f 2073 7570 706f 7274 204d 6963  p to support Mic
+0001a4b0: 726f 6272 616e 6368 222c 0a20 2020 2020  robranch",.     
+0001a4c0: 2020 2020 2020 2020 2020 2072 6c5f 7374             rl_st
+0001a4d0: 723d 7265 7370 2e72 6c2c 0a20 2020 2020  r=resp.rl,.     
+0001a4e0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+0001a4f0: 2069 6620 6d69 6372 6f62 7261 6e63 6820   if microbranch 
+0001a500: 616e 6420 2241 6363 6573 7350 6f69 6e74  and "AccessPoint
+0001a510: 7322 206e 6f74 2069 6e20 636f 6d62 696e  s" not in combin
+0001a520: 6564 5f61 6c6c 6f77 6564 3a0a 2020 2020  ed_allowed:.    
+0001a530: 2020 2020 2020 2020 7265 7475 726e 2052          return R
+0001a540: 6573 706f 6e73 6528 0a20 2020 2020 2020  esponse(.       
+0001a550: 2020 2020 2020 2020 2065 7272 6f72 3d66           error=f
+0001a560: 2249 6e76 616c 6964 2063 6f6d 6269 6e61  "Invalid combina
+0001a570: 7469 6f6e 2c20 7b63 6f6c 6f72 2827 4d69  tion, {color('Mi
+0001a580: 6372 6f62 7261 6e63 6827 297d 2022 0a20  crobranch')} ". 
+0001a590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a5a0: 2020 2020 2066 2263 616e 206e 6f74 2062       f"can not b
+0001a5b0: 6520 656e 6162 6c65 6420 696e 2067 726f  e enabled in gro
+0001a5c0: 7570 207b 636f 6c6f 7228 6772 6f75 7029  up {color(group)
+0001a5d0: 7d2e 2020 220a 2020 2020 2020 2020 2020  }.  ".          
+0001a5e0: 2020 2020 2020 2020 2020 2020 2241 5073              "APs
+0001a5f0: 206d 7573 7420 6265 2061 6464 6564 2074   must be added t
+0001a600: 6f20 616c 6c6f 7765 6420 6465 7669 6365  o allowed device
+0001a610: 732e 5c6e 220a 2020 2020 2020 2020 2020  s.\n".          
+0001a620: 2020 2020 2020 2020 2020 2020 6622 5b72              f"[r
+0001a630: 6573 6574 5d43 7572 7265 6e74 2041 6c6c  eset]Current All
+0001a640: 6f77 6564 2044 6576 6963 6573 3a20 7b63  owed Devices: {c
+0001a650: 6f6c 6f72 2863 6f6d 6269 6e65 645f 616c  olor(combined_al
+0001a660: 6c6f 7765 6429 7d22 2c0a 2020 2020 2020  lowed)}",.      
+0001a670: 2020 2020 2020 2020 2020 726c 5f73 7472            rl_str
+0001a680: 3d72 6573 702e 726c 2c0a 2020 2020 2020  =resp.rl,.      
+0001a690: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+0001a6a0: 2320 6966 2022 4761 7465 7761 7973 2220  # if "Gateways" 
+0001a6b0: 696e 2063 6f6d 6269 6e65 645f 616c 6c6f  in combined_allo
+0001a6c0: 7765 6420 6f72 2022 4163 6365 7373 506f  wed or "AccessPo
+0001a6d0: 696e 7473 2220 696e 2063 6f6d 6269 6e65  ints" in combine
+0001a6e0: 645f 616c 6c6f 7765 643a 0a20 2020 2020  d_allowed:.     
+0001a6f0: 2020 2023 2020 2020 2069 6620 616f 7331     #     if aos1
+0001a700: 3020 6973 206e 6f74 204e 6f6e 653a 0a20  0 is not None:. 
+0001a710: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0001a720: 2072 6574 7572 6e20 5265 7370 6f6e 7365   return Response
+0001a730: 280a 2020 2020 2020 2020 2320 2020 2020  (.        #     
+0001a740: 2020 2020 2020 2020 6572 726f 723d 6622          error=f"
+0001a750: 7b63 6f6c 6f72 2827 414f 5331 3027 297d  {color('AOS10')}
+0001a760: 2063 616e 206f 6e6c 7920 6265 2073 6574   can only be set
+0001a770: 2077 6865 6e20 4150 7320 6f72 2047 5773   when APs or GWs
+0001a780: 2061 7265 2069 6e69 7469 616c 6c79 2061   are initially a
+0001a790: 6464 6564 2074 6f20 616c 6c6f 7765 645f  dded to allowed_
+0001a7a0: 7479 7065 7320 6f66 2067 726f 7570 220a  types of group".
+0001a7b0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+0001a7c0: 2020 2020 2020 2020 2020 2020 6622 5c6e              f"\n
+0001a7d0: 7b63 6f6c 6f72 2867 726f 7570 297d 2063  {color(group)} c
+0001a7e0: 616e 2062 6520 636c 6f6e 6564 2077 6974  an be cloned wit
+0001a7f0: 6820 6f70 7469 6f6e 2074 6f20 7570 6772  h option to upgr
+0001a800: 6164 6520 6475 7269 6e67 2063 6c6f 6e65  ade during clone
+0001a810: 2e22 2c0a 2020 2020 2020 2020 2320 2020  .",.        #   
+0001a820: 2020 2020 2020 2020 2020 726c 5f73 7472            rl_str
+0001a830: 3d72 6573 702e 726c 2c0a 2020 2020 2020  =resp.rl,.      
+0001a840: 2020 2320 2020 2020 2020 2020 290a 2020    #         ).  
+0001a850: 2020 2020 2020 2320 6966 2077 6972 6564        # if wired
+0001a860: 5f74 6720 616e 6420 6d6f 6e69 746f 725f  _tg and monitor_
+0001a870: 6f6e 6c79 5f73 7720 6f72 206d 6f6e 6974  only_sw or monit
+0001a880: 6f72 5f6f 6e6c 795f 6378 3a0a 2020 2020  or_only_cx:.    
+0001a890: 2020 2020 6966 2077 6972 6564 5f74 6720      if wired_tg 
+0001a8a0: 616e 6420 6d6f 6e69 746f 725f 6f6e 6c79  and monitor_only
+0001a8b0: 5f73 773a 0a20 2020 2020 2020 2020 2020  _sw:.           
+0001a8c0: 2072 6574 7572 6e20 5265 7370 6f6e 7365   return Response
+0001a8d0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+0001a8e0: 2020 6572 726f 723d 2249 6e76 616c 6964    error="Invalid
+0001a8f0: 2063 6f6d 6269 6e61 7469 6f6e 2c20 4d6f   combination, Mo
+0001a900: 6e69 746f 7220 4f6e 6c79 2069 7320 6e6f  nitor Only is no
+0001a910: 7420 7661 6c69 6420 666f 7220 5465 6d70  t valid for Temp
+0001a920: 6c61 7465 2047 726f 7570 222c 0a20 2020  late Group",.   
+0001a930: 2020 2020 2020 2020 2020 2020 2072 6c5f               rl_
+0001a940: 7374 723d 7265 7370 2e72 6c2c 0a20 2020  str=resp.rl,.   
+0001a950: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+0001a960: 2020 2020 6772 705f 7072 6f70 7320 3d20      grp_props = 
+0001a970: 7b0a 2020 2020 2020 2020 2020 2020 2241  {.            "A
+0001a980: 6c6c 6f77 6564 4465 7654 7970 6573 223a  llowedDevTypes":
+0001a990: 2063 6f6d 6269 6e65 645f 616c 6c6f 7765   combined_allowe
+0001a9a0: 642c 0a20 2020 2020 2020 2020 2020 2022  d,.            "
+0001a9b0: 4172 6368 6974 6563 7475 7265 223a 2061  Architecture": a
+0001a9c0: 7263 6820 6f72 2063 7572 5f67 726f 7570  rch or cur_group
+0001a9d0: 5f70 726f 7073 2e67 6574 2822 4172 6368  _props.get("Arch
+0001a9e0: 6974 6563 7475 7265 2229 2c0a 2020 2020  itecture"),.    
+0001a9f0: 2020 2020 2020 2020 2241 6c6c 6f77 6564          "Allowed
+0001aa00: 5377 6974 6368 5479 7065 7322 3a20 616c  SwitchTypes": al
+0001aa10: 6c6f 7765 645f 7377 6974 6368 5f74 7970  lowed_switch_typ
+0001aa20: 6573 206f 7220 6375 725f 6772 6f75 705f  es or cur_group_
+0001aa30: 7072 6f70 732e 6765 7428 2241 6c6c 6f77  props.get("Allow
+0001aa40: 6564 5377 6974 6368 5479 7065 7322 2c20  edSwitchTypes", 
+0001aa50: 5b5d 292c 0a20 2020 2020 2020 2020 2020  []),.           
+0001aa60: 2022 4d6f 6e69 746f 724f 6e6c 7922 3a20   "MonitorOnly": 
+0001aa70: 6d6f 6e5f 6f6e 6c79 5f73 7769 7463 6865  mon_only_switche
+0001aa80: 7320 6f72 2063 7572 5f67 726f 7570 5f70  s or cur_group_p
+0001aa90: 726f 7073 2e67 6574 2822 4d6f 6e69 746f  rops.get("Monito
+0001aaa0: 724f 6e6c 7953 7769 7463 6822 290a 2020  rOnlySwitch").  
+0001aab0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0001aac0: 6772 705f 7072 6f70 7320 3d20 7b6b 3a20  grp_props = {k: 
+0001aad0: 7620 666f 7220 6b2c 2076 2069 6e20 6772  v for k, v in gr
+0001aae0: 705f 7072 6f70 732e 6974 656d 7328 2920  p_props.items() 
+0001aaf0: 6966 2076 7d0a 0a20 2020 2020 2020 2069  if v}..        i
+0001ab00: 6620 6777 5f72 6f6c 6520 616e 6420 2247  f gw_role and "G
+0001ab10: 6174 6577 6179 7322 2069 6e20 616c 6c6f  ateways" in allo
+0001ab20: 7765 645f 7479 7065 733a 0a20 2020 2020  wed_types:.     
+0001ab30: 2020 2020 2020 2067 7270 5f70 726f 7073         grp_props
+0001ab40: 5b22 4777 4e65 7477 6f72 6b52 6f6c 6522  ["GwNetworkRole"
+0001ab50: 5d20 3d20 6777 5f72 6f6c 650a 2020 2020  ] = gw_role.    
+0001ab60: 2020 2020 6966 2022 4163 6365 7373 506f      if "AccessPo
+0001ab70: 696e 7473 2220 696e 2061 6c6c 6f77 6564  ints" in allowed
+0001ab80: 5f74 7970 6573 206f 7220 2241 6363 6573  _types or "Acces
+0001ab90: 7350 6f69 6e74 7322 2069 6e20 6375 725f  sPoints" in cur_
+0001aba0: 6772 6f75 705f 7072 6f70 735b 2241 6c6c  group_props["All
+0001abb0: 6f77 6564 4465 7654 7970 6573 225d 3a0a  owedDevTypes"]:.
+0001abc0: 2020 2020 2020 2020 2020 2020 6966 206d              if m
+0001abd0: 6963 726f 6272 616e 6368 2069 7320 6e6f  icrobranch is no
+0001abe0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+0001abf0: 2020 2020 2020 2020 6772 705f 7072 6f70          grp_prop
+0001ac00: 735b 2241 704e 6574 776f 726b 526f 6c65  s["ApNetworkRole
+0001ac10: 225d 203d 205c 0a20 2020 2020 2020 2020  "] = \.         
+0001ac20: 2020 2020 2020 2020 2020 2022 5374 616e             "Stan
+0001ac30: 6461 7264 2220 6966 206e 6f74 206d 6963  dard" if not mic
+0001ac40: 726f 6272 616e 6368 2065 6c73 6520 224d  robranch else "M
+0001ac50: 6963 726f 6272 616e 6368 220a 0a20 2020  icrobranch"..   
+0001ac60: 2020 2020 2074 6d70 6c74 5f69 6e66 6f20       tmplt_info 
+0001ac70: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0001ac80: 2257 6972 6564 223a 2077 6972 6564 5f74  "Wired": wired_t
+0001ac90: 672c 0a20 2020 2020 2020 2020 2020 2022  g,.            "
+0001aca0: 5769 7265 6c65 7373 223a 2077 6c61 6e5f  Wireless": wlan_
+0001acb0: 7467 0a20 2020 2020 2020 207d 0a20 2020  tg.        }.   
+0001acc0: 2020 2020 2074 6d70 6c74 5f69 6e66 6f20       tmplt_info 
+0001acd0: 3d20 7574 696c 732e 7374 7269 705f 6e6f  = utils.strip_no
+0001ace0: 6e65 2874 6d70 6c74 5f69 6e66 6f29 0a0a  ne(tmplt_info)..
+0001acf0: 2020 2020 2020 2020 6772 705f 6174 7472          grp_attr
+0001ad00: 7320 3d20 7b7d 0a20 2020 2020 2020 2069  s = {}.        i
+0001ad10: 6620 746d 706c 745f 696e 666f 3a0a 2020  f tmplt_info:.  
+0001ad20: 2020 2020 2020 2020 2020 6772 705f 6174            grp_at
+0001ad30: 7472 735b 2274 656d 706c 6174 655f 696e  trs["template_in
+0001ad40: 666f 225d 203d 2074 6d70 6c74 5f69 6e66  fo"] = tmplt_inf
+0001ad50: 6f0a 2020 2020 2020 2020 6966 2067 7270  o.        if grp
+0001ad60: 5f70 726f 7073 3a0a 2020 2020 2020 2020  _props:.        
+0001ad70: 2020 2020 6772 705f 6174 7472 735b 2267      grp_attrs["g
+0001ad80: 726f 7570 5f70 726f 7065 7274 6965 7322  roup_properties"
+0001ad90: 5d20 3d20 7b0a 2020 2020 2020 2020 2020  ] = {.          
+0001ada0: 2020 2020 2020 2a2a 7b6b 3a20 7620 666f        **{k: v fo
+0001adb0: 7220 6b2c 2076 2069 6e20 6375 725f 6772  r k, v in cur_gr
+0001adc0: 6f75 705f 7072 6f70 732e 6974 656d 7328  oup_props.items(
+0001add0: 2920 6966 206b 206e 6f74 2069 6e20 5b22  ) if k not in ["
+0001ade0: 414f 5356 6572 7369 6f6e 222c 2022 4d6f  AOSVersion", "Mo
+0001adf0: 6e69 746f 724f 6e6c 7922 5d7d 2c0a 2020  nitorOnly"]},.  
+0001ae00: 2020 2020 2020 2020 2020 2020 2020 2a2a                **
+0001ae10: 6772 705f 7072 6f70 730a 2020 2020 2020  grp_props.      
+0001ae20: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0001ae30: 6a73 6f6e 5f64 6174 6120 3d20 6772 705f  json_data = grp_
+0001ae40: 6174 7472 730a 0a20 2020 2020 2020 2023  attrs..        #
+0001ae50: 206a 736f 6e5f 6461 7461 203d 207b 2267   json_data = {"g
+0001ae60: 726f 7570 223a 2067 726f 7570 7d0a 2020  roup": group}.  
+0001ae70: 2020 2020 2020 2320 6966 2067 7270 5f61        # if grp_a
+0001ae80: 7474 7273 3a0a 2020 2020 2020 2020 2320  ttrs:.        # 
+0001ae90: 2020 2020 6a73 6f6e 5f64 6174 615b 2267      json_data["g
+0001aea0: 726f 7570 5f61 7474 7269 6275 7465 7322  roup_attributes"
+0001aeb0: 5d20 3d20 6772 705f 6174 7472 730a 0a0a  ] = grp_attrs...
+0001aec0: 0a20 2020 2020 2020 2023 2069 6620 6c65  .        # if le
+0001aed0: 6e28 6a73 6f6e 5f64 6174 6129 203d 3d20  n(json_data) == 
+0001aee0: 313a 0a20 2020 2020 2020 2023 2020 2020  1:.        #    
+0001aef0: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+0001af00: 7228 224e 6f20 4368 616e 6765 7320 4465  r("No Changes De
+0001af10: 7465 6374 6564 2229 0a20 2020 2020 2020  tected").       
+0001af20: 2023 2065 6c73 653a 0a20 2020 2020 2020   # else:.       
+0001af30: 2069 6620 636f 6e66 6967 2e64 6562 7567   if config.debug
+0001af40: 763a 0a20 2020 2020 2020 2020 2020 2070  v:.            p
+0001af50: 7269 6e74 2866 225b 4445 4255 475d 202d  rint(f"[DEBUG] -
+0001af60: 2d2d 2d20 5365 6e64 696e 6720 7468 6520  --- Sending the 
+0001af70: 666f 6c6c 6f77 696e 6720 746f 207b 7572  following to {ur
+0001af80: 6c7d 2229 0a20 2020 2020 2020 2020 2020  l}").           
+0001af90: 2075 7469 6c73 2e6a 736f 6e5f 7072 696e   utils.json_prin
+0001afa0: 7428 6a73 6f6e 5f64 6174 6129 0a20 2020  t(json_data).   
+0001afb0: 2020 2020 2020 2020 2070 7269 6e74 2822           print("
+0001afc0: 5b44 4542 5547 5d20 2d2d 2d2d 2229 0a0a  [DEBUG] ----")..
+0001afd0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0001afe0: 7761 6974 2073 656c 662e 7061 7463 6828  wait self.patch(
+0001aff0: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+0001b000: 736f 6e5f 6461 7461 290a 2020 2020 2020  son_data).      
+0001b010: 2020 2320 2320 4649 584d 4520 7265 6d6f    # # FIXME remo
+0001b020: 7665 2064 6562 7567 2070 7269 6e74 730a  ve debug prints.
+0001b030: 2020 2020 2020 2020 2320 7072 696e 7428          # print(
+0001b040: 7572 6c29 0a20 2020 2020 2020 2023 2066  url).        # f
+0001b050: 726f 6d20 7269 6368 2069 6d70 6f72 7420  rom rich import 
+0001b060: 7072 696e 745f 6a73 6f6e 0a20 2020 2020  print_json.     
+0001b070: 2020 2023 2070 7269 6e74 5f6a 736f 6e28     # print_json(
+0001b080: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
+0001b090: 0a20 2020 2061 7379 6e63 2064 6566 2075  .    async def u
+0001b0a0: 7064 6174 655f 6772 6f75 705f 6e61 6d65  pdate_group_name
+0001b0b0: 2873 656c 662c 2067 726f 7570 3a20 7374  (self, group: st
+0001b0c0: 722c 206e 6577 5f67 726f 7570 3a20 7374  r, new_group: st
+0001b0d0: 7229 202d 3e20 5265 7370 6f6e 7365 3a0a  r) -> Response:.
+0001b0e0: 2020 2020 2020 2020 2222 2255 7064 6174          """Updat
+0001b0f0: 6520 6772 6f75 7020 6e61 6d65 2066 6f72  e group name for
+0001b100: 2074 6865 2067 6976 656e 2067 726f 7570   the given group
+0001b110: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+0001b120: 0a20 2020 2020 2020 2020 2020 2067 726f  .            gro
+0001b130: 7570 2028 7374 7229 3a20 4772 6f75 7020  up (str): Group 
+0001b140: 666f 7220 7768 6963 6820 6e61 6d65 206e  for which name n
+0001b150: 6565 6420 746f 2062 6520 7570 6461 7465  eed to be update
+0001b160: 642e 0a20 2020 2020 2020 2020 2020 206e  d..            n
+0001b170: 6577 5f67 726f 7570 2028 7374 7229 3a20  ew_group (str): 
+0001b180: 5468 6520 6e65 7720 6e61 6d65 206f 6620  The new name of 
+0001b190: 7468 6520 6772 6f75 702e 0a0a 2020 2020  the group...    
+0001b1a0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+0001b1b0: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+0001b1c0: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+0001b1d0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+0001b1e0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0001b1f0: 2020 2320 544f 444f 2072 6570 6f72 7420    # TODO report 
+0001b200: 666c 6177 6564 2041 5049 206d 6574 686f  flawed API metho
+0001b210: 640a 2020 2020 2020 2020 2320 5468 6973  d.        # This
+0001b220: 2077 6f72 6b73 2066 6f72 2072 656e 616d   works for renam
+0001b230: 696e 6720 3878 2067 726f 7570 730a 2020  ing 8x groups.  
+0001b240: 2020 2020 2020 2320 6966 2079 6f75 2074        # if you t
+0001b250: 7279 2074 6f20 7265 6e61 6d65 2061 2031  ry to rename a 1
+0001b260: 3078 2067 726f 7570 2069 6e61 7070 726f  0x group inappro
+0001b270: 7072 6961 7465 2065 7272 6f72 3a0a 2020  priate error:.  
+0001b280: 2020 2020 2020 2320 5b0a 2020 2020 2020        # [.      
+0001b290: 2020 2320 2020 2020 7b0a 2020 2020 2020    #     {.      
+0001b2a0: 2020 2320 2020 2020 2020 2020 2264 6573    #         "des
+0001b2b0: 6372 6970 7469 6f6e 223a 2022 6772 6f75  cription": "grou
+0001b2c0: 7020 616c 7265 6164 7920 6861 7320 414f  p already has AO
+0001b2d0: 535f 3130 5820 7665 7273 696f 6e20 7365  S_10X version se
+0001b2e0: 7422 2c0a 2020 2020 2020 2020 2320 2020  t",.        #   
+0001b2f0: 2020 2020 2020 2265 7272 6f72 5f63 6f64        "error_cod
+0001b300: 6522 3a20 2230 3030 3122 2c0a 2020 2020  e": "0001",.    
+0001b310: 2020 2020 2320 2020 2020 2020 2020 2273      #         "s
+0001b320: 6572 7669 6365 5f6e 616d 6522 3a20 2243  ervice_name": "C
+0001b330: 6f6e 6669 6775 7261 7469 6f6e 220a 2020  onfiguration".  
+0001b340: 2020 2020 2020 2320 2020 2020 7d0a 2020        #     }.  
+0001b350: 2020 2020 2020 2320 5d0a 2020 2020 2020        # ].      
+0001b360: 2020 2320 4920 6469 6420 7472 7920 772f    # I did try w/
+0001b370: 2066 756c 6c20 7061 796c 6f61 6420 7369   full payload si
+0001b380: 6d69 6c61 7220 746f 2067 6574 5f67 726f  milar to get_gro
+0001b390: 7570 2070 726f 7073 2072 6573 700a 2020  up props resp.  
+0001b3a0: 2020 2020 2020 2320 692e 652e 0a20 2020        # i.e..   
+0001b3b0: 2020 2020 2023 207b 0a20 2020 2020 2020       # {.       
+0001b3c0: 2023 2020 2020 2022 6772 6f75 7022 3a20   #     "group": 
+0001b3d0: 226e 6577 5f6e 616d 6522 2c0a 2020 2020  "new_name",.    
+0001b3e0: 2020 2020 2320 2020 2020 2270 726f 7065      #     "prope
+0001b3f0: 7274 6965 7322 3a20 7b0a 2020 2020 2020  rties": {.      
+0001b400: 2020 2320 2020 2020 2020 2020 2241 4f53    #         "AOS
+0001b410: 5665 7273 696f 6e22 3a20 2241 4f53 5f31  Version": "AOS_1
+0001b420: 3058 222c 2020 3c2d 2074 7269 6564 2073  0X",  <- tried s
+0001b430: 7065 6369 6679 696e 6720 6772 6f75 7020  pecifying group 
+0001b440: 6973 2061 6c72 6561 6479 2031 3078 0a20  is already 10x. 
+0001b450: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+0001b460: 2022 4d6f 6e69 746f 724f 6e6c 7953 7769   "MonitorOnlySwi
+0001b470: 7463 6822 3a20 4661 6c73 650a 2020 2020  tch": False.    
+0001b480: 2020 2020 2320 2020 2020 7d0a 2020 2020      #     }.    
+0001b490: 2020 2020 2320 7d0a 2020 2020 2020 2020      # }.        
+0001b4a0: 7572 6c20 3d20 6622 2f63 6f6e 6669 6775  url = f"/configu
+0001b4b0: 7261 7469 6f6e 2f76 312f 6772 6f75 7073  ration/v1/groups
+0001b4c0: 2f7b 6772 6f75 707d 2f6e 616d 6522 0a0a  /{group}/name"..
+0001b4d0: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
+0001b4e0: 6120 3d20 7b0a 2020 2020 2020 2020 2020  a = {.          
+0001b4f0: 2020 2767 726f 7570 273a 206e 6577 5f67    'group': new_g
+0001b500: 726f 7570 0a20 2020 2020 2020 207d 0a0a  roup.        }..
+0001b510: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0001b520: 7761 6974 2073 656c 662e 7061 7463 6828  wait self.patch(
+0001b530: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+0001b540: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
+0001b550: 7379 6e63 2064 6566 2067 6574 5f61 705f  sync def get_ap_
+0001b560: 7365 7474 696e 6773 2873 656c 662c 2073  settings(self, s
+0001b570: 6572 6961 6c5f 6e75 6d62 6572 3a20 7374  erial_number: st
+0001b580: 7229 202d 3e20 5265 7370 6f6e 7365 3a0a  r) -> Response:.
+0001b590: 2020 2020 2020 2020 2222 2247 6574 2061          """Get a
+0001b5a0: 6e20 6578 6973 7469 6e67 2061 7020 7365  n existing ap se
+0001b5b0: 7474 696e 6773 2e0a 0a20 2020 2020 2020  ttings...       
+0001b5c0: 202f 2f20 5573 6564 2069 6e64 6972 6563   // Used indirec
+0001b5d0: 746c 7920 2875 7064 6174 655f 6170 5f73  tly (update_ap_s
+0001b5e0: 6574 7469 6e67 7329 2062 7920 6261 7463  ettings) by batc
+0001b5f0: 6820 7265 6e61 6d65 2041 5020 2f2f 0a0a  h rename AP //..
+0001b600: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+0001b610: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+0001b620: 5f6e 756d 6265 7220 2873 7472 293a 2041  _number (str): A
+0001b630: 5020 7365 7269 616c 206e 756d 6265 722e  P serial number.
+0001b640: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+0001b650: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+0001b660: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+0001b670: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+0001b680: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+0001b690: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+0001b6a0: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
+0001b6b0: 322f 6170 5f73 6574 7469 6e67 732f 7b73  2/ap_settings/{s
+0001b6c0: 6572 6961 6c5f 6e75 6d62 6572 7d22 0a0a  erial_number}"..
+0001b6d0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0001b6e0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+0001b6f0: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
+0001b700: 6620 7570 6461 7465 5f61 705f 7365 7474  f update_ap_sett
+0001b710: 696e 6773 280a 2020 2020 2020 2020 7365  ings(.        se
+0001b720: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
+0001b730: 616c 5f6e 756d 6265 723a 2073 7472 2c0a  al_number: str,.
+0001b740: 2020 2020 2020 2020 686f 7374 6e61 6d65          hostname
+0001b750: 3a20 7374 722c 0a20 2020 2020 2020 2069  : str,.        i
+0001b760: 705f 6164 6472 6573 733a 2073 7472 203d  p_address: str =
+0001b770: 204e 6f6e 652c 0a20 2020 2020 2020 207a   None,.        z
+0001b780: 6f6e 656e 616d 653a 2073 7472 203d 204e  onename: str = N
+0001b790: 6f6e 652c 0a20 2020 2020 2020 2061 6368  one,.        ach
+0001b7a0: 616e 6e65 6c3a 2073 7472 203d 204e 6f6e  annel: str = Non
+0001b7b0: 652c 0a20 2020 2020 2020 2061 7478 706f  e,.        atxpo
+0001b7c0: 7765 723a 2073 7472 203d 204e 6f6e 652c  wer: str = None,
+0001b7d0: 0a20 2020 2020 2020 2067 6368 616e 6e65  .        gchanne
+0001b7e0: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
+0001b7f0: 2020 2020 2020 2067 7478 706f 7765 723a         gtxpower:
+0001b800: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0001b810: 2020 2020 2064 6f74 3131 615f 7261 6469       dot11a_radi
+0001b820: 6f5f 6469 7361 626c 653a 2062 6f6f 6c20  o_disable: bool 
+0001b830: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0001b840: 646f 7431 3167 5f72 6164 696f 5f64 6973  dot11g_radio_dis
+0001b850: 6162 6c65 3a20 626f 6f6c 203d 204e 6f6e  able: bool = Non
+0001b860: 652c 0a20 2020 2020 2020 2075 7362 5f70  e,.        usb_p
+0001b870: 6f72 745f 6469 7361 626c 653a 2062 6f6f  ort_disable: boo
+0001b880: 6c20 3d20 4e6f 6e65 2c0a 2020 2020 2920  l = None,.    ) 
+0001b890: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+0001b8a0: 2020 2020 2022 2222 5570 6461 7465 2061       """Update a
+0001b8b0: 6e20 6578 6973 7469 6e67 2061 7020 7365  n existing ap se
+0001b8c0: 7474 696e 6773 2e0a 0a20 2020 2020 2020  ttings...       
+0001b8d0: 202f 2f20 5573 6564 2062 7920 6261 7463   // Used by batc
+0001b8e0: 6820 7265 6e61 6d65 2061 7073 2061 6e64  h rename aps and
+0001b8f0: 2072 656e 616d 6520 6170 202f 2f0a 0a20   rename ap //.. 
+0001b900: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+0001b910: 2020 2020 2020 2020 2073 6572 6961 6c5f           serial_
+0001b920: 6e75 6d62 6572 2028 7374 722c 206f 7074  number (str, opt
+0001b930: 696f 6e61 6c29 3a20 4150 2053 6572 6961  ional): AP Seria
+0001b940: 6c20 4e75 6d62 6572 0a20 2020 2020 2020  l Number.       
+0001b950: 2020 2020 2068 6f73 746e 616d 6520 2873       hostname (s
+0001b960: 7472 293a 2068 6f73 746e 616d 650a 2020  tr): hostname.  
+0001b970: 2020 2020 2020 2020 2020 6970 5f61 6464            ip_add
+0001b980: 7265 7373 2028 7374 722c 206f 7074 696f  ress (str, optio
+0001b990: 6e61 6c29 3a20 6970 5f61 6464 7265 7373  nal): ip_address
+0001b9a0: 2044 6566 6175 6c74 2028 4448 4350 290a   Default (DHCP).
+0001b9b0: 2020 2020 2020 2020 2020 2020 7a6f 6e65              zone
+0001b9c0: 6e61 6d65 2028 7374 722c 206f 7074 696f  name (str, optio
+0001b9d0: 6e61 6c29 3a20 7a6f 6e65 6e61 6d65 2e20  nal): zonename. 
+0001b9e0: 4465 6661 756c 7420 2222 2028 4e6f 205a  Default "" (No Z
+0001b9f0: 6f6e 6529 0a20 2020 2020 2020 2020 2020  one).           
+0001ba00: 2061 6368 616e 6e65 6c20 2873 7472 2c20   achannel (str, 
+0001ba10: 6f70 7469 6f6e 616c 293a 2061 6368 616e  optional): achan
+0001ba20: 6e65 6c0a 2020 2020 2020 2020 2020 2020  nel.            
+0001ba30: 6174 7870 6f77 6572 2028 7374 722c 206f  atxpower (str, o
+0001ba40: 7074 696f 6e61 6c29 3a20 6174 7870 6f77  ptional): atxpow
+0001ba50: 6572 0a20 2020 2020 2020 2020 2020 2067  er.            g
+0001ba60: 6368 616e 6e65 6c20 2873 7472 2c20 6f70  channel (str, op
+0001ba70: 7469 6f6e 616c 293a 2067 6368 616e 6e65  tional): gchanne
+0001ba80: 6c0a 2020 2020 2020 2020 2020 2020 6774  l.            gt
+0001ba90: 7870 6f77 6572 2028 7374 722c 206f 7074  xpower (str, opt
+0001baa0: 696f 6e61 6c29 3a20 6774 7870 6f77 6572  ional): gtxpower
+0001bab0: 0a20 2020 2020 2020 2020 2020 2064 6f74  .            dot
+0001bac0: 3131 615f 7261 6469 6f5f 6469 7361 626c  11a_radio_disabl
+0001bad0: 6520 2862 6f6f 6c2c 206f 7074 696f 6e61  e (bool, optiona
+0001bae0: 6c29 3a20 646f 7431 3161 5f72 6164 696f  l): dot11a_radio
+0001baf0: 5f64 6973 6162 6c65 0a20 2020 2020 2020  _disable.       
+0001bb00: 2020 2020 2064 6f74 3131 675f 7261 6469       dot11g_radi
+0001bb10: 6f5f 6469 7361 626c 6520 2862 6f6f 6c2c  o_disable (bool,
+0001bb20: 206f 7074 696f 6e61 6c29 3a20 646f 7431   optional): dot1
+0001bb30: 3167 5f72 6164 696f 5f64 6973 6162 6c65  1g_radio_disable
+0001bb40: 0a20 2020 2020 2020 2020 2020 2075 7362  .            usb
+0001bb50: 5f70 6f72 745f 6469 7361 626c 6520 2862  _port_disable (b
+0001bb60: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+0001bb70: 7573 625f 706f 7274 5f64 6973 6162 6c65  usb_port_disable
+0001bb80: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+0001bb90: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+0001bba0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+0001bbb0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+0001bbc0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+0001bbd0: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+0001bbe0: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
+0001bbf0: 322f 6170 5f73 6574 7469 6e67 732f 7b73  2/ap_settings/{s
+0001bc00: 6572 6961 6c5f 6e75 6d62 6572 7d22 0a0a  erial_number}"..
+0001bc10: 2020 2020 2020 2020 5f6a 736f 6e5f 6461          _json_da
+0001bc20: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
+0001bc30: 2020 2027 686f 7374 6e61 6d65 273a 2068     'hostname': h
+0001bc40: 6f73 746e 616d 652c 0a20 2020 2020 2020  ostname,.       
+0001bc50: 2020 2020 2027 6970 5f61 6464 7265 7373       'ip_address
+0001bc60: 273a 2069 705f 6164 6472 6573 732c 0a20  ': ip_address,. 
+0001bc70: 2020 2020 2020 2020 2020 2027 7a6f 6e65             'zone
+0001bc80: 6e61 6d65 273a 207a 6f6e 656e 616d 652c  name': zonename,
+0001bc90: 0a20 2020 2020 2020 2020 2020 2027 6163  .            'ac
+0001bca0: 6861 6e6e 656c 273a 2061 6368 616e 6e65  hannel': achanne
+0001bcb0: 6c2c 0a20 2020 2020 2020 2020 2020 2027  l,.            '
+0001bcc0: 6174 7870 6f77 6572 273a 2061 7478 706f  atxpower': atxpo
+0001bcd0: 7765 722c 0a20 2020 2020 2020 2020 2020  wer,.           
+0001bce0: 2027 6763 6861 6e6e 656c 273a 2067 6368   'gchannel': gch
+0001bcf0: 616e 6e65 6c2c 0a20 2020 2020 2020 2020  annel,.         
+0001bd00: 2020 2027 6774 7870 6f77 6572 273a 2067     'gtxpower': g
+0001bd10: 7478 706f 7765 722c 0a20 2020 2020 2020  txpower,.       
+0001bd20: 2020 2020 2027 646f 7431 3161 5f72 6164       'dot11a_rad
+0001bd30: 696f 5f64 6973 6162 6c65 273a 2064 6f74  io_disable': dot
+0001bd40: 3131 615f 7261 6469 6f5f 6469 7361 626c  11a_radio_disabl
+0001bd50: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+0001bd60: 646f 7431 3167 5f72 6164 696f 5f64 6973  dot11g_radio_dis
+0001bd70: 6162 6c65 273a 2064 6f74 3131 675f 7261  able': dot11g_ra
+0001bd80: 6469 6f5f 6469 7361 626c 652c 0a20 2020  dio_disable,.   
+0001bd90: 2020 2020 2020 2020 2027 7573 625f 706f           'usb_po
+0001bda0: 7274 5f64 6973 6162 6c65 273a 2075 7362  rt_disable': usb
+0001bdb0: 5f70 6f72 745f 6469 7361 626c 650a 2020  _port_disable.  
+0001bdc0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0001bdd0: 6966 204e 6f6e 6520 696e 205f 6a73 6f6e  if None in _json
+0001bde0: 5f64 6174 612e 7661 6c75 6573 2829 3a0a  _data.values():.
+0001bdf0: 2020 2020 2020 2020 2020 2020 7265 7370              resp
+0001be00: 203d 2061 7761 6974 2073 656c 662e 5f72   = await self._r
+0001be10: 6571 7565 7374 2873 656c 662e 6765 745f  equest(self.get_
+0001be20: 6170 5f73 6574 7469 6e67 732c 2073 6572  ap_settings, ser
+0001be30: 6961 6c5f 6e75 6d62 6572 290a 2020 2020  ial_number).    
+0001be40: 2020 2020 2020 2020 6966 206e 6f74 2072          if not r
+0001be50: 6573 703a 0a20 2020 2020 2020 2020 2020  esp:.           
+0001be60: 2020 2020 2072 6574 7572 6e20 7265 7370       return resp
+0001be70: 0a0a 2020 2020 2020 2020 2020 2020 6a73  ..            js
+0001be80: 6f6e 5f64 6174 6120 3d20 7365 6c66 2e73  on_data = self.s
+0001be90: 7472 6970 5f6e 6f6e 6528 5f6a 736f 6e5f  trip_none(_json_
+0001bea0: 6461 7461 290a 2020 2020 2020 2020 2020  data).          
+0001beb0: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b2a    json_data = {*
+0001bec0: 2a72 6573 702e 6f75 7470 7574 2c20 2a2a  *resp.output, **
+0001bed0: 6a73 6f6e 5f64 6174 617d 0a20 2020 2020  json_data}.     
+0001bee0: 2020 2020 2020 2069 6620 6e6f 7420 736f         if not so
+0001bef0: 7274 6564 285f 6a73 6f6e 5f64 6174 612e  rted(_json_data.
+0001bf00: 6b65 7973 2829 2920 3d3d 2073 6f72 7465  keys()) == sorte
+0001bf10: 6428 6a73 6f6e 5f64 6174 612e 6b65 7973  d(json_data.keys
+0001bf20: 2829 293a 0a20 2020 2020 2020 2020 2020  ()):.           
+0001bf30: 2020 2020 206d 6973 7369 6e67 203d 2022       missing = "
+0001bf40: 2c20 222e 6a6f 696e 285b 6622 277b 6b7d  , ".join([f"'{k}
+0001bf50: 2722 2066 6f72 206b 2069 6e20 6a73 6f6e  '" for k in json
+0001bf60: 5f64 6174 612e 6b65 7973 2829 2069 6620  _data.keys() if 
+0001bf70: 6b20 6e6f 7420 696e 205f 6a73 6f6e 5f64  k not in _json_d
+0001bf80: 6174 612e 6b65 7973 2829 5d29 0a20 2020  ata.keys()]).   
+0001bf90: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+0001bfa0: 7572 6e20 5265 7370 6f6e 7365 280a 2020  urn Response(.  
+0001bfb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bfc0: 2020 6f6b 3d46 616c 7365 2c0a 2020 2020    ok=False,.    
+0001bfd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001bfe0: 6572 726f 723d 6622 5570 6461 7465 2070  error=f"Update p
+0001bff0: 6179 6c6f 6164 2069 7320 6d69 7373 696e  ayload is missin
+0001c000: 6720 7265 7175 6972 6564 2061 7474 7269  g required attri
+0001c010: 6275 7465 733a 207b 6d69 7373 696e 677d  butes: {missing}
+0001c020: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+0001c030: 2020 2020 2020 2072 6561 736f 6e3d 2249         reason="I
+0001c040: 4e56 414c 4944 220a 2020 2020 2020 2020  NVALID".        
+0001c050: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+0001c060: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0001c070: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
+0001c080: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
+0001c090: 7461 290a 0a20 2020 2023 2054 4f44 4f20  ta)..    # TODO 
+0001c0a0: 4e6f 7455 7365 6420 5965 742e 2020 5368  NotUsed Yet.  Sh
+0001c0b0: 6f77 7320 616e 7920 7570 6461 7465 7320  ows any updates 
+0001c0c0: 6e6f 7420 7965 7420 7075 7368 6564 2074  not yet pushed t
+0001c0d0: 6f20 7468 6520 6465 7669 6365 2028 6465  o the device (de
+0001c0e0: 7669 6365 206f 6666 6c69 6e65 2c20 6574  vice offline, et
+0001c0f0: 6329 0a20 2020 2023 204d 6179 206f 6e6c  c).    # May onl
+0001c100: 7920 6265 2076 616c 6964 2066 6f72 2041  y be valid for A
+0001c110: 5073 206e 6f74 2073 7572 652e 0a20 2020  Ps not sure..   
+0001c120: 2061 7379 6e63 2064 6566 2067 6574 5f64   async def get_d
+0001c130: 6972 7479 5f64 6966 6628 0a20 2020 2020  irty_diff(.     
+0001c140: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0001c150: 2067 726f 7570 3a20 7374 722c 0a20 2020   group: str,.   
+0001c160: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
+0001c170: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
+0001c180: 6d69 743a 2069 6e74 203d 2032 300a 2020  mit: int = 20.  
+0001c190: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+0001c1a0: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
+0001c1b0: 6469 7274 7920 6469 6666 2e0a 0a20 2020  dirty diff...   
+0001c1c0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+0001c1d0: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
+0001c1e0: 7229 3a20 4772 6f75 7020 6e61 6d65 206f  r): Group name o
+0001c1f0: 6620 7468 6520 6772 6f75 7020 6f72 2067  f the group or g
+0001c200: 7569 6420 6f66 2074 6865 2073 7761 726d  uid of the swarm
+0001c210: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001c220: 2020 4578 616d 706c 653a 4772 6f75 705f    Example:Group_
+0001c230: 3120 6f72 2036 6135 6431 3233 6230 3166  1 or 6a5d123b01f
+0001c240: 3934 3431 3830 3632 3434 6561 3665 3032  9441806244ea6e02
+0001c250: 3366 6162 3538 3431 6237 3763 3832 3861  3fab5841b77c828a
+0001c260: 3038 3566 3034 662e 0a20 2020 2020 2020  085f04f..       
+0001c270: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
+0001c280: 2c20 6f70 7469 6f6e 616c 293a 204e 756d  , optional): Num
+0001c290: 6265 7220 6f66 2069 7465 6d73 2074 6f20  ber of items to 
+0001c2a0: 6265 2073 6b69 7070 6564 2062 6566 6f72  be skipped befor
+0001c2b0: 6520 7265 7475 726e 696e 6720 7468 6520  e returning the 
+0001c2c0: 6461 7461 2c20 7573 6566 756c 0a20 2020  data, useful.   
+0001c2d0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+0001c2e0: 2070 6167 696e 6174 696f 6e2e 2044 6566   pagination. Def
+0001c2f0: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
+0001c300: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
+0001c310: 6e74 2c20 6f70 7469 6f6e 616c 293a 204d  nt, optional): M
+0001c320: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
+0001c330: 2067 726f 7570 2063 6f6e 6669 675f 6d6f   group config_mo
+0001c340: 6465 2072 6563 6f72 6473 2074 6f20 6265  de records to be
+0001c350: 2072 6574 7572 6e65 642e 0a20 2020 2020   returned..     
+0001c360: 2020 2020 2020 2020 2020 204d 6178 3a20             Max: 
+0001c370: 3230 2c20 4465 6661 756c 7473 2074 6f20  20, Defaults to 
+0001c380: 3230 2e0a 0a20 2020 2020 2020 2052 6574  20...        Ret
+0001c390: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0001c3a0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0001c3b0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0001c3c0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0001c3d0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+0001c3e0: 2066 222f 636f 6e66 6967 7572 6174 696f   f"/configuratio
+0001c3f0: 6e2f 7631 2f64 6972 7479 5f64 6966 662f  n/v1/dirty_diff/
+0001c400: 7b67 726f 7570 7d22 0a0a 2020 2020 2020  {group}"..      
+0001c410: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
+0001c420: 2020 2020 2020 2020 2027 6f66 6673 6574           'offset
+0001c430: 273a 206f 6666 7365 742c 0a20 2020 2020  ': offset,.     
+0001c440: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
+0001c450: 6c69 6d69 7420 6966 206c 696d 6974 203c  limit if limit <
+0001c460: 3d20 3230 2065 6c73 6520 3230 0a20 2020  = 20 else 20.   
+0001c470: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+0001c480: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+0001c490: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
+0001c4a0: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
+0001c4b0: 7379 6e63 2064 6566 2067 6574 5f67 726f  sync def get_gro
+0001c4c0: 7570 735f 7072 6f70 6572 7469 6573 2873  ups_properties(s
+0001c4d0: 656c 662c 2067 726f 7570 733a 2055 6e69  elf, groups: Uni
+0001c4e0: 6f6e 5b73 7472 2c20 4c69 7374 5b73 7472  on[str, List[str
+0001c4f0: 5d5d 203d 204e 6f6e 6529 202d 3e20 5265  ]] = None) -> Re
+0001c500: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+0001c510: 2222 2247 6574 2070 726f 7065 7274 6965  """Get propertie
+0001c520: 7320 7365 7420 666f 7220 6772 6f75 7073  s set for groups
+0001c530: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
+0001c540: 6564 2062 7920 7368 6f77 2067 726f 7570  ed by show group
+0001c550: 7320 7768 656e 202d 7620 666c 6167 2069  s when -v flag i
+0001c560: 7320 7072 6f76 6964 6564 202f 2f0a 0a20  s provided //.. 
+0001c570: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+0001c580: 2020 2020 2020 2020 2067 726f 7570 7320           groups 
+0001c590: 284c 6973 745b 7374 725d 2c20 6f70 7469  (List[str], opti
+0001c5a0: 6f6e 616c 293a 2047 726f 7570 206c 6973  onal): Group lis
+0001c5b0: 7420 746f 2066 6574 6368 2070 726f 7065  t to fetch prope
+0001c5c0: 7274 6965 732e 0a20 2020 2020 2020 2020  rties..         
+0001c5d0: 2020 2020 2020 2057 696c 6c20 6665 7463         Will fetc
+0001c5e0: 6820 616c 6c20 6966 206e 6f20 6772 6f75  h all if no grou
+0001c5f0: 7073 2070 726f 7669 6465 642e 0a20 2020  ps provided..   
+0001c600: 2020 2020 2020 2020 2020 2020 204d 6178               Max
+0001c610: 696d 756d 2032 3020 636f 6d6d 6120 7365  imum 20 comma se
+0001c620: 7061 7261 7465 6420 6772 6f75 7020 6e61  parated group na
+0001c630: 6d65 7320 616c 6c6f 7765 642e 0a0a 2020  mes allowed...  
+0001c640: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0001c650: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0001c660: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0001c670: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0001c680: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0001c690: 2020 2020 7572 6c20 3d20 222f 636f 6e66      url = "/conf
+0001c6a0: 6967 7572 6174 696f 6e2f 7631 2f67 726f  iguration/v1/gro
+0001c6b0: 7570 732f 7072 6f70 6572 7469 6573 220a  ups/properties".
+0001c6c0: 0a20 2020 2020 2020 2023 2043 656e 7472  .        # Centr
+0001c6d0: 616c 2041 5049 206d 6574 686f 6420 646f  al API method do
+0001c6e0: 6573 6e27 7420 6163 7475 616c 6c79 2074  esn't actually t
+0001c6f0: 616b 6520 6120 6c69 7374 2069 7420 7461  ake a list it ta
+0001c700: 6b65 7320 6120 7374 7269 6e67 2077 6974  kes a string wit
+0001c710: 680a 2020 2020 2020 2020 2320 6772 6f75  h.        # grou
+0001c720: 7020 6e61 6d65 7320 7365 7061 7261 7465  p names separate
+0001c730: 6420 6279 2063 6f6d 6d61 2028 4e4f 2053  d by comma (NO S
+0001c740: 5041 4345 5329 0a20 2020 2020 2020 2069  PACES).        i
+0001c750: 6620 6772 6f75 7073 2069 7320 4e6f 6e65  f groups is None
+0001c760: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+0001c770: 7370 203d 2061 7761 6974 2073 656c 662e  sp = await self.
+0001c780: 5f67 6574 5f67 726f 7570 5f6e 616d 6573  _get_group_names
+0001c790: 2829 0a20 2020 2020 2020 2020 2020 2069  ().            i
+0001c7a0: 6620 6e6f 7420 7265 7370 2e6f 6b3a 0a20  f not resp.ok:. 
+0001c7b0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0001c7c0: 6574 7572 6e20 7265 7370 0a20 2020 2020  eturn resp.     
+0001c7d0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001c7e0: 2020 2020 2020 2020 2020 2020 2067 726f               gro
+0001c7f0: 7570 7320 3d20 7265 7370 2e6f 7574 7075  ups = resp.outpu
+0001c800: 740a 2020 2020 2020 2020 6261 7463 685f  t.        batch_
+0001c810: 7265 7173 203d 205b 5d0a 2020 2020 2020  reqs = [].      
+0001c820: 2020 666f 7220 5f67 726f 7570 7320 696e    for _groups in
+0001c830: 2075 7469 6c73 2e63 6875 6e6b 6572 2875   utils.chunker(u
+0001c840: 7469 6c73 2e6c 6973 7469 6679 2867 726f  tils.listify(gro
+0001c850: 7570 7329 2c20 3230 293a 2020 2320 5468  ups), 20):  # Th
+0001c860: 6973 2063 616c 6c20 616c 6c6f 7773 2061  is call allows a
+0001c870: 206d 6178 206f 6620 3230 0a20 2020 2020   max of 20.     
+0001c880: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+0001c890: 7b22 6772 6f75 7073 223a 2022 2c22 2e6a  {"groups": ",".j
+0001c8a0: 6f69 6e28 5f67 726f 7570 7329 7d0a 2020  oin(_groups)}.  
+0001c8b0: 2020 2020 2020 2020 2020 6261 7463 685f            batch_
+0001c8c0: 7265 7173 202b 3d20 5b73 656c 662e 4261  reqs += [self.Ba
+0001c8d0: 7463 6852 6571 7565 7374 2873 656c 662e  tchRequest(self.
+0001c8e0: 6765 742c 2075 726c 2c20 7061 7261 6d73  get, url, params
+0001c8f0: 3d70 6172 616d 7329 5d0a 2020 2020 2020  =params)].      
+0001c900: 2020 6261 7463 685f 7265 7370 203d 2061    batch_resp = a
+0001c910: 7761 6974 2073 656c 662e 5f62 6174 6368  wait self._batch
+0001c920: 5f72 6571 7565 7374 2862 6174 6368 5f72  _request(batch_r
+0001c930: 6571 7329 0a20 2020 2020 2020 2023 2054  eqs).        # T
+0001c940: 4f44 4f20 6d65 7468 6f64 2074 6f20 636f  ODO method to co
+0001c950: 6d62 696e 6520 7261 7720 616e 6420 6f75  mbine raw and ou
+0001c960: 7470 7574 2061 7474 7273 206f 6620 616c  tput attrs of al
+0001c970: 6c20 7265 7370 6f6e 7365 7320 696e 746f  l responses into
+0001c980: 206c 6173 7420 7265 7370 0a20 2020 2020   last resp.     
+0001c990: 2020 206f 7574 7075 7420 3d20 5b72 2066     output = [r f
+0001c9a0: 6f72 2072 6573 2069 6e20 6261 7463 685f  or res in batch_
+0001c9b0: 7265 7370 2066 6f72 2072 2069 6e20 7265  resp for r in re
+0001c9c0: 732e 6f75 7470 7574 5d0a 2020 2020 2020  s.output].      
+0001c9d0: 2020 7265 7370 203d 2062 6174 6368 5f72    resp = batch_r
+0001c9e0: 6573 705b 2d31 5d0a 2020 2020 2020 2020  esp[-1].        
+0001c9f0: 7265 7370 2e6f 7574 7075 7420 3d20 6f75  resp.output = ou
+0001ca00: 7470 7574 0a20 2020 2020 2020 2069 6620  tput.        if 
+0001ca10: 2264 6174 6122 2069 6e20 7265 7370 2e72  "data" in resp.r
+0001ca20: 6177 3a0a 2020 2020 2020 2020 2020 2020  aw:.            
+0001ca30: 7265 7370 2e72 6177 5b22 6461 7461 225d  resp.raw["data"]
+0001ca40: 203d 206f 7574 7075 740a 2020 2020 2020   = output.      
+0001ca50: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001ca60: 2020 2020 6c6f 672e 7761 726e 696e 6728      log.warning(
+0001ca70: 2272 6177 2061 7474 7220 696e 2072 6573  "raw attr in res
+0001ca80: 7020 6672 6f6d 2067 6574 5f67 726f 7570  p from get_group
+0001ca90: 735f 7072 6f70 6572 7469 6573 206c 6163  s_properties lac
+0001caa0: 6b73 2065 7870 6563 7465 6420 6f75 7465  ks expected oute
+0001cab0: 7220 6b65 7920 2764 6174 6127 2229 0a20  r key 'data'"). 
+0001cac0: 2020 2020 2020 2067 726f 7570 7320 3d20         groups = 
+0001cad0: 222c 222e 6a6f 696e 2875 7469 6c73 2e6c  ",".join(utils.l
+0001cae0: 6973 7469 6679 2867 726f 7570 7329 290a  istify(groups)).
+0001caf0: 0a20 2020 2020 2020 2023 2070 6172 616d  .        # param
+0001cb00: 7320 3d20 7b0a 2020 2020 2020 2020 2320  s = {.        # 
+0001cb10: 2020 2020 2767 726f 7570 7327 3a20 6772      'groups': gr
+0001cb20: 6f75 7073 0a20 2020 2020 2020 2023 207d  oups.        # }
+0001cb30: 0a0a 2020 2020 2020 2020 2320 7265 7475  ..        # retu
+0001cb40: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+0001cb50: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
+0001cb60: 7261 6d73 290a 2020 2020 2020 2020 7265  rams).        re
+0001cb70: 7475 726e 2072 6573 700a 0a20 2020 2061  turn resp..    a
+0001cb80: 7379 6e63 2064 6566 2067 6574 5f76 635f  sync def get_vc_
+0001cb90: 6669 726d 7761 7265 280a 2020 2020 2020  firmware(.      
+0001cba0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+0001cbb0: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
+0001cbc0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6772  None,.        gr
+0001cbd0: 6f75 703a 2073 7472 203d 204e 6f6e 652c  oup: str = None,
+0001cbe0: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
+0001cbf0: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
+0001cc00: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
+0001cc10: 3030 2c0a 2020 2020 2920 2d3e 2052 6573  00,.    ) -> Res
+0001cc20: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0001cc30: 2222 4c69 7374 2046 6972 6d77 6172 6520  ""List Firmware 
+0001cc40: 4465 7461 696c 7320 6f66 2053 7761 726d  Details of Swarm
+0001cc50: 732e 0a0a 2020 2020 2020 2020 4172 6773  s...        Args
+0001cc60: 3a0a 2020 2020 2020 2020 2020 2020 7377  :.            sw
+0001cc70: 6172 6d5f 6964 3a20 2873 7472 2c20 6f70  arm_id: (str, op
+0001cc80: 7469 6f6e 616c 293a 2050 726f 7669 6469  tional): Providi
+0001cc90: 6e67 2073 7761 726d 5f69 6420 7265 7375  ng swarm_id resu
+0001cca0: 6c74 7320 696e 2064 6574 6169 6c73 2066  lts in details f
+0001ccb0: 6f72 2074 6861 7420 7377 6172 6d2e 0a20  or that swarm.. 
+0001ccc0: 2020 2020 2020 2020 2020 2067 726f 7570             group
+0001ccd0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0001cce0: 3a20 4772 6f75 7020 6e61 6d65 0a20 2020  : Group name.   
+0001ccf0: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
+0001cd00: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+0001cd10: 2050 6167 696e 6174 696f 6e20 6f66 6673   Pagination offs
+0001cd20: 6574 2044 6566 6175 6c74 7320 746f 2030  et Defaults to 0
+0001cd30: 2e0a 2020 2020 2020 2020 2020 2020 6c69  ..            li
+0001cd40: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
+0001cd50: 616c 293a 2050 6167 696e 6174 696f 6e20  al): Pagination 
+0001cd60: 6c69 6d69 742e 204d 6178 2069 7320 3130  limit. Max is 10
+0001cd70: 3030 2044 6566 6175 6c74 7320 746f 2031  00 Defaults to 1
+0001cd80: 3030 2e0a 0a20 2020 2020 2020 2020 2020  00...           
+0001cd90: 2050 726f 7669 6469 6e67 2073 7761 726d   Providing swarm
+0001cda0: 5f69 6420 6973 2065 6666 6563 7469 7665  _id is effective
+0001cdb0: 6c79 2061 2066 696c 7465 722c 2069 7420  ly a filter, it 
+0001cdc0: 7072 6f76 6964 6573 206e 6f20 6164 6469  provides no addi
+0001cdd0: 7469 6f6e 616c 2064 6574 6169 6c2e 0a0a  tional detail...
+0001cde0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+0001cdf0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+0001ce00: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+0001ce10: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+0001ce20: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+0001ce30: 2020 2020 2020 7572 6c20 3d20 222f 6669        url = "/fi
+0001ce40: 726d 7761 7265 2f76 312f 7377 6172 6d73  rmware/v1/swarms
+0001ce50: 220a 2020 2020 2020 2020 6966 2073 7761  ".        if swa
+0001ce60: 726d 5f69 643a 0a20 2020 2020 2020 2020  rm_id:.         
+0001ce70: 2020 2075 726c 203d 2066 227b 7572 6c7d     url = f"{url}
+0001ce80: 2f7b 7377 6172 6d5f 6964 7d22 0a20 2020  /{swarm_id}".   
+0001ce90: 2020 2020 2020 2020 2070 6172 616d 7320           params 
+0001cea0: 3d20 7b7d 0a20 2020 2020 2020 2065 6c73  = {}.        els
+0001ceb0: 653a 0a20 2020 2020 2020 2020 2020 2070  e:.            p
+0001cec0: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+0001ced0: 2020 2020 2020 2020 2020 2767 726f 7570            'group
+0001cee0: 273a 2067 726f 7570 2c0a 2020 2020 2020  ': group,.      
+0001cef0: 2020 2020 2020 2020 2020 276f 6666 7365            'offse
+0001cf00: 7427 3a20 6f66 6673 6574 2c0a 2020 2020  t': offset,.    
+0001cf10: 2020 2020 2020 2020 2020 2020 276c 696d              'lim
+0001cf20: 6974 273a 206c 696d 6974 0a20 2020 2020  it': limit.     
+0001cf30: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+0001cf40: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+0001cf50: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+0001cf60: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+0001cf70: 2061 7379 6e63 2064 6566 2067 6574 5f66   async def get_f
+0001cf80: 775f 7665 7273 696f 6e5f 6c69 7374 280a  w_version_list(.
+0001cf90: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+0001cfa0: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
+0001cfb0: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
+0001cfc0: 2020 2020 2020 2073 7761 726d 5f69 643a         swarm_id:
+0001cfd0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0001cfe0: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
+0001cff0: 203d 204e 6f6e 652c 0a20 2020 2029 202d   = None,.    ) -
+0001d000: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+0001d010: 2020 2020 2222 224c 6973 7420 4669 726d      """List Firm
+0001d020: 7761 7265 2056 6572 7369 6f6e 2e0a 0a20  ware Version... 
+0001d030: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+0001d040: 2020 2020 2020 2020 2064 6576 6963 655f           device_
+0001d050: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
+0001d060: 6e61 6c29 3a20 5370 6563 6966 7920 6f6e  nal): Specify on
+0001d070: 6520 6f66 2022 4941 502f 4d41 532f 4850  e of "IAP/MAS/HP
+0001d080: 2f43 4f4e 5452 4f4c 4c45 522f 4358 220a  /CONTROLLER/CX".
+0001d090: 2020 2020 2020 2020 2020 2020 7377 6172              swar
+0001d0a0: 6d5f 6964 2028 7374 722c 206f 7074 696f  m_id (str, optio
+0001d0b0: 6e61 6c29 3a20 5377 6172 6d20 4944 0a20  nal): Swarm ID. 
+0001d0c0: 2020 2020 2020 2020 2020 2073 6572 6961             seria
+0001d0d0: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
+0001d0e0: 293a 2053 6572 6961 6c20 6f66 2064 6576  ): Serial of dev
+0001d0f0: 6963 650a 0a20 2020 2020 2020 2052 6574  ice..        Ret
+0001d100: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0001d110: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0001d120: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0001d130: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0001d140: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+0001d150: 2022 2f66 6972 6d77 6172 652f 7631 2f76   "/firmware/v1/v
+0001d160: 6572 7369 6f6e 7322 0a0a 2020 2020 2020  ersions"..      
+0001d170: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
+0001d180: 2020 2020 2020 2020 2027 6465 7669 6365           'device
+0001d190: 5f74 7970 6527 3a20 6465 7669 6365 5f74  _type': device_t
+0001d1a0: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
+0001d1b0: 2027 7377 6172 6d5f 6964 273a 2073 7761   'swarm_id': swa
+0001d1c0: 726d 5f69 642c 0a20 2020 2020 2020 2020  rm_id,.         
+0001d1d0: 2020 2027 7365 7269 616c 273a 2073 6572     'serial': ser
+0001d1e0: 6961 6c0a 2020 2020 2020 2020 7d0a 0a20  ial.        }.. 
+0001d1f0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+0001d200: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+0001d210: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
+0001d220: 0a0a 2020 2020 2320 4e6f 7420 7573 6564  ..    # Not used
+0001d230: 2069 6e20 6120 636f 6d6d 616e 6420 7965   in a command ye
+0001d240: 740a 2020 2020 6173 796e 6320 6465 6620  t.    async def 
+0001d250: 6368 6563 6b5f 696d 6167 655f 6176 6169  check_image_avai
+0001d260: 6c61 626c 6528 0a20 2020 2020 2020 2073  lable(.        s
+0001d270: 656c 662c 0a20 2020 2020 2020 2064 6576  elf,.        dev
+0001d280: 6963 655f 7479 7065 3a20 7374 722c 0a20  ice_type: str,. 
+0001d290: 2020 2020 2020 2066 6972 6d77 6172 655f         firmware_
+0001d2a0: 7665 7273 696f 6e3a 2073 7472 2c0a 2020  version: str,.  
+0001d2b0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+0001d2c0: 0a20 2020 2020 2020 2022 2222 4669 726d  .        """Firm
+0001d2d0: 7761 7265 2056 6572 7369 6f6e 2e0a 0a20  ware Version... 
+0001d2e0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+0001d2f0: 2020 2020 2020 2020 2064 6576 6963 655f           device_
+0001d300: 7479 7065 2028 7374 7229 3a20 5370 6563  type (str): Spec
+0001d310: 6966 7920 6f6e 6520 6f66 2022 4941 502f  ify one of "IAP/
+0001d320: 4d41 532f 4850 2f43 4f4e 5452 4f4c 4c45  MAS/HP/CONTROLLE
+0001d330: 5222 0a20 2020 2020 2020 2020 2020 2066  R".            f
+0001d340: 6972 6d77 6172 655f 7665 7273 696f 6e20  irmware_version 
+0001d350: 2873 7472 293a 2066 6972 6d77 6172 6520  (str): firmware 
+0001d360: 7665 7273 696f 6e0a 0a20 2020 2020 2020  version..       
+0001d370: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+0001d380: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+0001d390: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+0001d3a0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+0001d3b0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+0001d3c0: 726c 203d 2066 222f 6669 726d 7761 7265  rl = f"/firmware
+0001d3d0: 2f76 312f 7665 7273 696f 6e73 2f7b 6669  /v1/versions/{fi
+0001d3e0: 726d 7761 7265 5f76 6572 7369 6f6e 7d22  rmware_version}"
+0001d3f0: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
+0001d400: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+0001d410: 2027 6465 7669 6365 5f74 7970 6527 3a20   'device_type': 
+0001d420: 6465 7669 6365 5f74 7970 650a 2020 2020  device_type.    
+0001d430: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+0001d440: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+0001d450: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+0001d460: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
+0001d470: 796e 6320 6465 6620 7365 6e64 5f63 6f6d  ync def send_com
+0001d480: 6d61 6e64 5f74 6f5f 7377 6172 6d28 0a20  mand_to_swarm(. 
+0001d490: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0001d4a0: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
+0001d4b0: 7472 2c0a 2020 2020 2020 2020 636f 6d6d  tr,.        comm
+0001d4c0: 616e 643a 204c 6974 6572 616c 5b0a 2020  and: Literal[.  
+0001d4d0: 2020 2020 2020 2020 2020 2272 6562 6f6f            "reboo
+0001d4e0: 745f 7377 6172 6d22 2c0a 2020 2020 2020  t_swarm",.      
+0001d4f0: 2020 2020 2020 2265 7261 7365 5f63 6f6e        "erase_con
+0001d500: 6669 6775 7261 7469 6f6e 222c 0a20 2020  figuration",.   
+0001d510: 2020 2020 205d 0a20 2020 2029 202d 3e20       ].    ) -> 
+0001d520: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+0001d530: 2020 2222 2247 656e 6572 6963 2063 6f6d    """Generic com
+0001d540: 6d61 6e64 7320 666f 7220 7377 6172 6d2e  mands for swarm.
+0001d550: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0001d560: 2020 2020 2020 2020 2020 2020 7377 6172              swar
+0001d570: 6d5f 6964 2028 7374 7229 3a20 5377 6172  m_id (str): Swar
+0001d580: 6d20 4944 206f 6620 6465 7669 6365 0a20  m ID of device. 
+0001d590: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
+0001d5a0: 6e64 2028 7374 7229 3a20 436f 6d6d 616e  nd (str): Comman
+0001d5b0: 6420 6d65 6e74 696f 6e65 6420 696e 2074  d mentioned in t
+0001d5c0: 6865 2064 6573 6372 6970 7469 6f6e 2074  he description t
+0001d5d0: 6861 7420 6973 2074 6f20 6265 2065 7865  hat is to be exe
+0001d5e0: 6375 7465 640a 2020 2020 2020 2020 2020  cuted.          
+0001d5f0: 2020 2020 2020 7661 6c69 643a 2027 7265        valid: 're
+0001d600: 626f 6f74 5f73 7761 726d 272c 2027 6572  boot_swarm', 'er
+0001d610: 6173 655f 636f 6e66 6967 7572 6174 696f  ase_configuratio
+0001d620: 6e27 0a0a 2020 2020 2020 2020 5265 7475  n'..        Retu
+0001d630: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+0001d640: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+0001d650: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+0001d660: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+0001d670: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+0001d680: 6622 2f64 6576 6963 655f 6d61 6e61 6765  f"/device_manage
+0001d690: 6d65 6e74 2f76 312f 7377 6172 6d2f 7b73  ment/v1/swarm/{s
+0001d6a0: 7761 726d 5f69 647d 2f61 6374 696f 6e2f  warm_id}/action/
+0001d6b0: 7b63 6f6d 6d61 6e64 7d22 0a0a 2020 2020  {command}"..    
+0001d6c0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+0001d6d0: 2073 656c 662e 706f 7374 2875 726c 290a   self.post(url).
+0001d6e0: 0a20 2020 2061 7379 6e63 2064 6566 2073  .    async def s
+0001d6f0: 656e 645f 7370 6565 645f 7465 7374 280a  end_speed_test(.
+0001d700: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+0001d710: 2020 2020 2020 7365 7269 616c 3a20 7374        serial: st
+0001d720: 722c 0a20 2020 2020 2020 2068 6f73 743a  r,.        host:
+0001d730: 2073 7472 203d 2022 6e64 742d 6975 7075   str = "ndt-iupu
+0001d740: 692d 6d6c 6162 312d 6465 6e30 342e 6d6c  i-mlab1-den04.ml
+0001d750: 6162 2d6f 7469 2e6d 6561 7375 7265 6d65  ab-oti.measureme
+0001d760: 6e74 2d6c 6162 2e6f 7267 222c 0a20 2020  nt-lab.org",.   
+0001d770: 2020 2020 206f 7074 696f 6e73 3a20 7374       options: st
+0001d780: 7220 3d20 4e6f 6e65 0a20 2020 2029 202d  r = None.    ) -
+0001d790: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+0001d7a0: 2020 2020 2222 2253 7065 6564 2054 6573      """Speed Tes
+0001d7b0: 742e 0a0a 2020 2020 2020 2020 4172 6773  t...        Args
+0001d7c0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0001d7d0: 7269 616c 2028 7374 7229 3a20 5365 7269  rial (str): Seri
+0001d7e0: 616c 206f 6620 6465 7669 6365 0a20 2020  al of device.   
+0001d7f0: 2020 2020 2020 2020 2068 6f73 7420 2873           host (s
+0001d800: 7472 2c20 4f70 7469 6f6e 616c 293a 2053  tr, Optional): S
+0001d810: 7065 6564 2d54 6573 7420 7365 7276 6572  peed-Test server
+0001d820: 2049 5020 6164 6472 6573 732c 2044 6566   IP address, Def
+0001d830: 6175 6c74 7320 746f 2073 6572 7665 7220  aults to server 
+0001d840: 696e 2043 656e 7472 616c 2049 6e64 6961  in Central India
+0001d850: 6e61 2e0a 2020 2020 2020 2020 2020 2020  na..            
+0001d860: 6f70 7469 6f6e 7320 2873 7472 293a 2046  options (str): F
+0001d870: 6f72 6d61 7474 6564 2073 7472 696e 6720  ormatted string 
+0001d880: 6f66 206f 7074 696f 6e61 6c20 6172 6775  of optional argu
+0001d890: 6d65 6e74 730a 0a20 2020 2020 2020 2052  ments..        R
+0001d8a0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+0001d8b0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+0001d8c0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+0001d8d0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+0001d8e0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+0001d8f0: 203d 2066 222f 6465 7669 6365 5f6d 616e   = f"/device_man
+0001d900: 6167 656d 656e 742f 7631 2f64 6576 6963  agement/v1/devic
+0001d910: 652f 7b73 6572 6961 6c7d 2f61 6374 696f  e/{serial}/actio
+0001d920: 6e2f 7370 6565 6474 6573 7422 0a0a 2020  n/speedtest"..  
+0001d930: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
+0001d940: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0001d950: 2768 6f73 7427 3a20 686f 7374 2c0a 2020  'host': host,.  
+0001d960: 2020 2020 2020 2020 2020 276f 7074 696f            'optio
+0001d970: 6e73 273a 206f 7074 696f 6e73 206f 7220  ns': options or 
+0001d980: 2222 0a20 2020 2020 2020 207d 0a0a 2020  "".        }..  
+0001d990: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0001d9a0: 6974 2073 656c 662e 706f 7374 2875 726c  it self.post(url
+0001d9b0: 2c20 6a73 6f6e 5f64 6174 613d 6a73 6f6e  , json_data=json
+0001d9c0: 5f64 6174 6129 0a0a 2020 2020 6173 796e  _data)..    asyn
+0001d9d0: 6320 6465 6620 6465 6c65 7465 5f63 6572  c def delete_cer
+0001d9e0: 7469 6669 6361 7465 2873 656c 662c 2063  tificate(self, c
+0001d9f0: 6572 7469 6669 6361 7465 3a20 7374 7229  ertificate: str)
+0001da00: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+0001da10: 2020 2020 2020 2222 2244 656c 6574 6520        """Delete 
+0001da20: 6578 6973 7469 6e67 2063 6572 7469 6669  existing certifi
+0001da30: 6361 7465 2e0a 0a20 2020 2020 2020 2041  cate...        A
+0001da40: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+0001da50: 2063 6572 7469 6669 6361 7465 2028 7374   certificate (st
+0001da60: 7229 3a20 4e61 6d65 206f 6620 7468 6520  r): Name of the 
+0001da70: 6365 7274 6966 6963 6174 6520 746f 2064  certificate to d
+0001da80: 656c 6574 652e 0a0a 2020 2020 2020 2020  elete...        
+0001da90: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+0001daa0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+0001dab0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+0001dac0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+0001dad0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+0001dae0: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+0001daf0: 7469 6f6e 2f76 312f 6365 7274 6966 6963  tion/v1/certific
+0001db00: 6174 6573 2f7b 6365 7274 6966 6963 6174  ates/{certificat
+0001db10: 657d 220a 0a20 2020 2020 2020 2072 6574  e}"..        ret
+0001db20: 7572 6e20 6177 6169 7420 7365 6c66 2e64  urn await self.d
+0001db30: 656c 6574 6528 7572 6c29 0a0a 2020 2020  elete(url)..    
+0001db40: 2320 544f 444f 2061 6363 6570 7420 4c69  # TODO accept Li
+0001db50: 7374 206f 6620 7374 7220 616e 6420 6261  st of str and ba
+0001db60: 7463 6820 6465 6c65 7465 0a20 2020 2061  tch delete.    a
+0001db70: 7379 6e63 2064 6566 2064 656c 6574 655f  sync def delete_
+0001db80: 6772 6f75 7028 7365 6c66 2c20 6772 6f75  group(self, grou
+0001db90: 703a 2073 7472 2920 2d3e 2052 6573 706f  p: str) -> Respo
+0001dba0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+0001dbb0: 4465 6c65 7465 2065 7869 7374 696e 6720  Delete existing 
+0001dbc0: 6772 6f75 702e 0a0a 2020 2020 2020 2020  group...        
+0001dbd0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+0001dbe0: 2020 6772 6f75 7020 2873 7472 293a 204e    group (str): N
+0001dbf0: 616d 6520 6f66 2074 6865 2067 726f 7570  ame of the group
+0001dc00: 2074 6861 7420 6e65 6564 7320 746f 2062   that needs to b
+0001dc10: 6520 6465 6c65 7465 642e 0a0a 2020 2020  e deleted...    
+0001dc20: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+0001dc30: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+0001dc40: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+0001dc50: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+0001dc60: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0001dc70: 2020 7572 6c20 3d20 6622 2f63 6f6e 6669    url = f"/confi
+0001dc80: 6775 7261 7469 6f6e 2f76 312f 6772 6f75  guration/v1/grou
+0001dc90: 7073 2f7b 6772 6f75 707d 220a 0a20 2020  ps/{group}"..   
+0001dca0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+0001dcb0: 7420 7365 6c66 2e64 656c 6574 6528 7572  t self.delete(ur
+0001dcc0: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
+0001dcd0: 6620 6465 6c65 7465 5f73 6974 6528 7365  f delete_site(se
+0001dce0: 6c66 2c20 7369 7465 5f69 643a 2055 6e69  lf, site_id: Uni
+0001dcf0: 6f6e 5b69 6e74 2c20 4c69 7374 5b69 6e74  on[int, List[int
+0001dd00: 5d5d 2920 2d3e 2052 6573 706f 6e73 653a  ]]) -> Response:
+0001dd10: 0a20 2020 2020 2020 2022 2222 4465 6c65  .        """Dele
+0001dd20: 7465 2053 6974 652e 0a0a 2020 2020 2020  te Site...      
+0001dd30: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+0001dd40: 2020 2020 7369 7465 5f69 6420 2869 6e74      site_id (int
+0001dd50: 7c4c 6973 745b 696e 745d 293a 2045 6974  |List[int]): Eit
+0001dd60: 6865 7220 7468 6520 7369 7465 5f69 6420  her the site_id 
+0001dd70: 6f72 2061 206c 6973 7420 6f66 2073 6974  or a list of sit
+0001dd80: 655f 6964 7320 746f 2062 6520 6465 6c65  e_ids to be dele
+0001dd90: 7465 642e 0a0a 2020 2020 2020 2020 5265  ted...        Re
+0001dda0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+0001ddb0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+0001ddc0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+0001ddd0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+0001dde0: 2222 220a 2020 2020 2020 2020 625f 7572  """.        b_ur
+0001ddf0: 6c20 3d20 222f 6365 6e74 7261 6c2f 7632  l = "/central/v2
+0001de00: 2f73 6974 6573 220a 2020 2020 2020 2020  /sites".        
+0001de10: 6966 2069 7369 6e73 7461 6e63 6528 7369  if isinstance(si
+0001de20: 7465 5f69 642c 206c 6973 7429 3a0a 2020  te_id, list):.  
+0001de30: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0001de40: 2061 7761 6974 2073 656c 662e 5f62 6174   await self._bat
+0001de50: 6368 5f72 6571 7565 7374 280a 2020 2020  ch_request(.    
+0001de60: 2020 2020 2020 2020 2020 2020 5b0a 2020              [.  
+0001de70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001de80: 2020 7365 6c66 2e42 6174 6368 5265 7175    self.BatchRequ
+0001de90: 6573 7428 7365 6c66 2e64 656c 6574 652c  est(self.delete,
+0001dea0: 2028 6622 7b62 5f75 726c 7d2f 7b5f 6964   (f"{b_url}/{_id
+0001deb0: 7d22 2c29 290a 2020 2020 2020 2020 2020  }",)).          
+0001dec0: 2020 2020 2020 2020 2020 666f 7220 5f69            for _i
+0001ded0: 6420 696e 2073 6974 655f 6964 0a20 2020  d in site_id.   
+0001dee0: 2020 2020 2020 2020 2020 2020 205d 0a20               ]. 
+0001def0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+0001df00: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0001df10: 2020 2020 2020 2075 726c 203d 2066 227b         url = f"{
+0001df20: 625f 7572 6c7d 2f7b 7369 7465 5f69 647d  b_url}/{site_id}
+0001df30: 220a 2020 2020 2020 2020 2020 2020 7265  ".            re
+0001df40: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0001df50: 6465 6c65 7465 2875 726c 290a 0a20 2020  delete(url)..   
+0001df60: 2061 7379 6e63 2064 6566 2064 656c 6574   async def delet
+0001df70: 655f 776c 616e 2873 656c 662c 2067 726f  e_wlan(self, gro
+0001df80: 7570 3a20 7374 722c 2077 6c61 6e5f 6e61  up: str, wlan_na
+0001df90: 6d65 3a20 7374 7229 202d 3e20 5265 7370  me: str) -> Resp
+0001dfa0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+0001dfb0: 2244 656c 6574 6520 616e 2065 7869 7374  "Delete an exist
+0001dfc0: 696e 6720 574c 414e 2e0a 0a20 2020 2020  ing WLAN...     
+0001dfd0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+0001dfe0: 2020 2020 2067 726f 7570 2028 7374 7229       group (str)
+0001dff0: 3a20 4772 6f75 7020 6e61 6d65 206f 6620  : Group name of 
+0001e000: 7468 6520 6772 6f75 7020 6f72 2067 7569  the group or gui
+0001e010: 6420 6f66 2074 6865 2073 7761 726d 2e0a  d of the swarm..
+0001e020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e030: 4578 616d 706c 653a 4772 6f75 705f 3120  Example:Group_1 
+0001e040: 6f72 2036 6135 6431 3233 6230 3166 3934  or 6a5d123b01f94
+0001e050: 3431 3830 3632 3434 6561 3665 3032 3366  41806244ea6e023f
+0001e060: 6162 3538 3431 6237 3763 3832 3861 3038  ab5841b77c828a08
+0001e070: 3566 3034 662e 0a20 2020 2020 2020 2020  5f04f..         
+0001e080: 2020 2077 6c61 6e5f 6e61 6d65 2028 7374     wlan_name (st
+0001e090: 7229 3a20 4e61 6d65 206f 6620 574c 414e  r): Name of WLAN
+0001e0a0: 2074 6f20 6265 2064 656c 6574 6564 2e0a   to be deleted..
+0001e0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e0c0: 4578 616d 706c 653a 776c 616e 5f31 2e0a  Example:wlan_1..
+0001e0d0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+0001e0e0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+0001e0f0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+0001e100: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+0001e110: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+0001e120: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+0001e130: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
+0001e140: 2f77 6c61 6e2f 7b67 726f 7570 7d2f 7b77  /wlan/{group}/{w
+0001e150: 6c61 6e5f 6e61 6d65 7d22 0a0a 2020 2020  lan_name}"..    
+0001e160: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+0001e170: 2073 656c 662e 6465 6c65 7465 2875 726c   self.delete(url
+0001e180: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+0001e190: 2067 6574 5f77 6c61 6e28 7365 6c66 2c20   get_wlan(self, 
+0001e1a0: 6772 6f75 703a 2073 7472 2c20 776c 616e  group: str, wlan
+0001e1b0: 5f6e 616d 653a 2073 7472 2920 2d3e 2052  _name: str) -> R
+0001e1c0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0001e1d0: 2022 2222 4765 7420 7468 6520 696e 666f   """Get the info
+0001e1e0: 726d 6174 696f 6e20 6f66 2061 6e20 6578  rmation of an ex
+0001e1f0: 6973 7469 6e67 2057 4c41 4e2e 0a0a 2020  isting WLAN...  
+0001e200: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+0001e210: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
+0001e220: 7472 293a 2047 726f 7570 206e 616d 6520  tr): Group name 
+0001e230: 6f66 2074 6865 2067 726f 7570 206f 7220  of the group or 
+0001e240: 6775 6964 206f 6620 7468 6520 7377 6172  guid of the swar
+0001e250: 6d2e 0a20 2020 2020 2020 2020 2020 2020  m..             
+0001e260: 2020 2045 7861 6d70 6c65 3a47 726f 7570     Example:Group
+0001e270: 5f31 206f 7220 3661 3564 3132 3362 3031  _1 or 6a5d123b01
+0001e280: 6639 3434 3138 3036 3234 3465 6136 6530  f9441806244ea6e0
+0001e290: 3233 6661 6235 3834 3162 3737 6338 3238  23fab5841b77c828
+0001e2a0: 6130 3835 6630 3466 2e0a 2020 2020 2020  a085f04f..      
+0001e2b0: 2020 2020 2020 776c 616e 5f6e 616d 6520        wlan_name 
+0001e2c0: 2873 7472 293a 204e 616d 6520 6f66 2057  (str): Name of W
+0001e2d0: 4c41 4e20 7365 6c65 6374 6564 2e0a 2020  LAN selected..  
+0001e2e0: 2020 2020 2020 2020 2020 2020 2020 4578                Ex
+0001e2f0: 616d 706c 653a 776c 616e 5f31 2e0a 0a20  ample:wlan_1... 
+0001e300: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+0001e310: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+0001e320: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+0001e330: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+0001e340: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0001e350: 2020 2020 2075 726c 203d 2066 222f 636f       url = f"/co
+0001e360: 6e66 6967 7572 6174 696f 6e2f 7632 2f77  nfiguration/v2/w
+0001e370: 6c61 6e2f 7b67 726f 7570 7d2f 7b77 6c61  lan/{group}/{wla
+0001e380: 6e5f 6e61 6d65 7d22 0a0a 2020 2020 2020  n_name}"..      
+0001e390: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+0001e3a0: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
+0001e3b0: 2020 6173 796e 6320 6465 6620 6372 6561    async def crea
+0001e3c0: 7465 5f77 6c61 6e28 0a20 2020 2020 2020  te_wlan(.       
+0001e3d0: 2073 656c 662c 0a20 2020 2020 2020 2067   self,.        g
+0001e3e0: 726f 7570 3a20 7374 722c 0a20 2020 2020  roup: str,.     
+0001e3f0: 2020 2077 6c61 6e5f 6e61 6d65 3a20 7374     wlan_name: st
+0001e400: 722c 0a20 2020 2020 2020 2077 7061 5f70  r,.        wpa_p
+0001e410: 6173 7370 6872 6173 653a 2073 7472 2c0a  assphrase: str,.
+0001e420: 2020 2020 2020 2020 2320 7770 615f 7061          # wpa_pa
+0001e430: 7373 7068 7261 7365 5f63 6861 6e67 6564  ssphrase_changed
+0001e440: 3a20 626f 6f6c 203d 2054 7275 652c 0a20  : bool = True,. 
+0001e450: 2020 2020 2020 2076 6c61 6e3a 2073 7472         vlan: str
+0001e460: 203d 2022 222c 0a20 2020 2020 2020 2074   = "",.        t
+0001e470: 7970 653a 2057 6c61 6e54 7970 6520 3d20  ype: WlanType = 
+0001e480: 2265 6d70 6c6f 7965 6522 2c0a 2020 2020  "employee",.    
+0001e490: 2020 2020 6573 7369 643a 2073 7472 203d      essid: str =
+0001e4a0: 204e 6f6e 652c 0a20 2020 2020 2020 207a   None,.        z
+0001e4b0: 6f6e 653a 2073 7472 203d 2022 222c 0a20  one: str = "",. 
+0001e4c0: 2020 2020 2020 2063 6170 7469 7665 5f70         captive_p
+0001e4d0: 726f 6669 6c65 5f6e 616d 653a 2073 7472  rofile_name: str
+0001e4e0: 203d 2022 222c 0a20 2020 2020 2020 2062   = "",.        b
+0001e4f0: 616e 6477 6964 7468 5f6c 696d 6974 5f75  andwidth_limit_u
+0001e500: 703a 2073 7472 203d 2022 222c 0a20 2020  p: str = "",.   
+0001e510: 2020 2020 2062 616e 6477 6964 7468 5f6c       bandwidth_l
+0001e520: 696d 6974 5f64 6f77 6e3a 2073 7472 203d  imit_down: str =
+0001e530: 2022 222c 0a20 2020 2020 2020 2062 616e   "",.        ban
+0001e540: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
+0001e550: 7573 6572 5f75 703a 2073 7472 203d 2022  user_up: str = "
+0001e560: 222c 0a20 2020 2020 2020 2062 616e 6477  ",.        bandw
+0001e570: 6964 7468 5f6c 696d 6974 5f70 6572 7573  idth_limit_perus
+0001e580: 6572 5f64 6f77 6e3a 2073 7472 203d 2022  er_down: str = "
+0001e590: 222c 0a20 2020 2020 2020 2061 6363 6573  ",.        acces
+0001e5a0: 735f 7275 6c65 733a 206c 6973 7420 3d20  s_rules: list = 
+0001e5b0: 4445 4641 554c 545f 4143 4345 5353 5f52  DEFAULT_ACCESS_R
+0001e5c0: 554c 4553 5b22 414c 4c4f 575f 414c 4c22  ULES["ALLOW_ALL"
+0001e5d0: 5d2c 0a20 2020 2020 2020 2069 735f 6c6f  ],.        is_lo
+0001e5e0: 636b 6564 3a20 626f 6f6c 203d 2046 616c  cked: bool = Fal
+0001e5f0: 7365 2c0a 2020 2020 2020 2020 6869 6465  se,.        hide
+0001e600: 5f73 7369 643a 2062 6f6f 6c20 3d20 4661  _ssid: bool = Fa
+0001e610: 6c73 652c 0a20 2020 2029 202d 3e20 5265  lse,.    ) -> Re
+0001e620: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+0001e630: 2222 2243 7265 6174 6520 6120 6e65 7720  """Create a new 
+0001e640: 574c 414e 2028 5353 4944 292e 0a0a 2020  WLAN (SSID)...  
+0001e650: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+0001e660: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
+0001e670: 7472 293a 2041 7275 6261 2043 656e 7472  tr): Aruba Centr
+0001e680: 616c 2047 726f 7570 206e 616d 6520 6f72  al Group name or
+0001e690: 2073 7761 726d 2067 7569 640a 2020 2020   swarm guid.    
+0001e6a0: 2020 2020 2020 2020 776c 616e 5f6e 616d          wlan_nam
+0001e6b0: 6520 2873 7472 293a 204e 616d 6520 6f66  e (str): Name of
+0001e6c0: 2074 6865 2057 4c41 4e2f 4e65 7477 6f72   the WLAN/Networ
+0001e6d0: 6b0a 2020 2020 2020 2020 2020 2020 7770  k.            wp
+0001e6e0: 615f 7061 7373 7068 7261 7365 2028 7374  a_passphrase (st
+0001e6f0: 7229 3a20 5750 4120 7061 7373 7068 7261  r): WPA passphra
+0001e700: 7365 0a20 2020 2020 2020 2020 2020 2076  se.            v
+0001e710: 6c61 6e20 2873 7472 293a 2043 6c69 656e  lan (str): Clien
+0001e720: 7420 564c 414e 206e 616d 6520 6f72 2069  t VLAN name or i
+0001e730: 642e 2044 6566 6175 6c74 7320 746f 2022  d. Defaults to "
+0001e740: 2220 284e 6174 6976 6520 4150 2056 4c41  " (Native AP VLA
+0001e750: 4e29 2e0a 2020 2020 2020 2020 2020 2020  N)..            
+0001e760: 7479 7065 2028 576c 616e 5479 7065 2c20  type (WlanType, 
+0001e770: 6f70 7469 6f6e 616c 293a 2056 616c 6964  optional): Valid
+0001e780: 3a20 5b27 656d 706c 6f79 6565 272c 2027  : ['employee', '
+0001e790: 6775 6573 7427 5d2e 2044 6566 6175 6c74  guest']. Default
+0001e7a0: 7320 746f 2022 656d 706c 6f79 6565 222e  s to "employee".
+0001e7b0: 0a20 2020 2020 2020 2020 2020 2065 7373  .            ess
+0001e7c0: 6964 2028 7374 722c 206f 7074 696f 6e61  id (str, optiona
+0001e7d0: 6c29 3a20 5353 4944 2e20 4465 6661 756c  l): SSID. Defaul
+0001e7e0: 7473 2074 6f20 4e6f 6e65 2028 6573 7369  ts to None (essi
+0001e7f0: 6420 3d20 776c 616e 5f6e 616d 6529 2e0a  d = wlan_name)..
+0001e800: 2020 2020 2020 2020 2020 2020 7a6f 6e65              zone
+0001e810: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0001e820: 3a20 4150 205a 6f6e 6520 5353 4944 2077  : AP Zone SSID w
+0001e830: 696c 6c20 6272 6f61 6463 6173 7420 6f6e  ill broadcast on
+0001e840: 2e20 4465 6661 756c 7473 2074 6f20 2222  . Defaults to ""
+0001e850: 2028 4272 6f61 6463 6173 7420 6f6e 2061   (Broadcast on a
+0001e860: 6c6c 2041 5073 292e 0a20 2020 2020 2020  ll APs)..       
+0001e870: 2020 2020 2063 6170 7469 7665 5f70 726f       captive_pro
+0001e880: 6669 6c65 5f6e 616d 6520 2873 7472 2c20  file_name (str, 
+0001e890: 6f70 7469 6f6e 616c 293a 2043 6170 7469  optional): Capti
+0001e8a0: 7665 2050 6f72 7461 6c20 5072 6f66 696c  ve Portal Profil
+0001e8b0: 652e 2044 6566 6175 6c74 7320 746f 2022  e. Defaults to "
+0001e8c0: 2220 284e 6f20 4350 2050 726f 6669 6c65  " (No CP Profile
+0001e8d0: 292e 0a20 2020 2020 2020 2020 2020 2062  )..            b
+0001e8e0: 616e 6477 6964 7468 5f6c 696d 6974 5f75  andwidth_limit_u
+0001e8f0: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
+0001e900: 293a 205b 6465 7363 7269 7074 696f 6e5d  ): [description]
+0001e910: 2e20 4465 6661 756c 7473 2074 6f20 2222  . Defaults to ""
+0001e920: 2028 4e6f 2042 5720 4c69 6d69 7420 5570   (No BW Limit Up
+0001e930: 292e 0a20 2020 2020 2020 2020 2020 2062  )..            b
+0001e940: 616e 6477 6964 7468 5f6c 696d 6974 5f64  andwidth_limit_d
+0001e950: 6f77 6e20 2873 7472 2c20 6f70 7469 6f6e  own (str, option
+0001e960: 616c 293a 205b 6465 7363 7269 7074 696f  al): [descriptio
+0001e970: 6e5d 2e20 4465 6661 756c 7473 2074 6f20  n]. Defaults to 
+0001e980: 2222 2028 4e6f 2042 5720 4c69 6d69 7420  "" (No BW Limit 
+0001e990: 446f 776e 292e 0a20 2020 2020 2020 2020  Down)..         
+0001e9a0: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
+0001e9b0: 6974 5f70 6572 7573 6572 5f75 7020 2873  it_peruser_up (s
+0001e9c0: 7472 2c20 6f70 7469 6f6e 616c 293a 205b  tr, optional): [
+0001e9d0: 6465 7363 7269 7074 696f 6e5d 2e20 4465  description]. De
+0001e9e0: 6661 756c 7473 2074 6f20 2222 2028 4e6f  faults to "" (No
+0001e9f0: 2070 6572 2075 7365 7220 4257 204c 696d   per user BW Lim
+0001ea00: 6974 2055 7029 2e0a 2020 2020 2020 2020  it Up)..        
+0001ea10: 2020 2020 6261 6e64 7769 6474 685f 6c69      bandwidth_li
+0001ea20: 6d69 745f 7065 7275 7365 725f 646f 776e  mit_peruser_down
+0001ea30: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0001ea40: 3a20 5b64 6573 6372 6970 7469 6f6e 5d2e  : [description].
+0001ea50: 2044 6566 6175 6c74 7320 746f 2022 2220   Defaults to "" 
+0001ea60: 284e 6f20 7065 7220 7573 6572 2042 5720  (No per user BW 
+0001ea70: 4c69 6d69 7420 446f 776e 292e 0a20 2020  Limit Down)..   
+0001ea80: 2020 2020 2020 2020 2061 6363 6573 735f           access_
+0001ea90: 7275 6c65 7320 286c 6973 742c 206f 7074  rules (list, opt
+0001eaa0: 696f 6e61 6c29 3a20 5b64 6573 6372 6970  ional): [descrip
+0001eab0: 7469 6f6e 5d2e 2044 6566 6175 6c74 3a20  tion]. Default: 
+0001eac0: 756e 7265 7374 7269 6374 6564 2e0a 2020  unrestricted..  
+0001ead0: 2020 2020 2020 2020 2020 6973 5f6c 6f63            is_loc
+0001eae0: 6b65 6420 2862 6f6f 6c2c 206f 7074 696f  ked (bool, optio
+0001eaf0: 6e61 6c29 3a20 5b64 6573 6372 6970 7469  nal): [descripti
+0001eb00: 6f6e 5d2e 2044 6566 6175 6c74 7320 746f  on]. Defaults to
+0001eb10: 2046 616c 7365 2e0a 2020 2020 2020 2020   False..        
+0001eb20: 2020 2020 6869 6465 5f73 7369 6420 2862      hide_ssid (b
+0001eb30: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+0001eb40: 5b64 6573 6372 6970 7469 6f6e 5d2e 2044  [description]. D
+0001eb50: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
+0001eb60: 2e0a 2020 2020 2020 2020 2020 2020 7770  ..            wp
+0001eb70: 615f 7061 7373 7068 7261 7365 5f63 6861  a_passphrase_cha
+0001eb80: 6e67 6564 2028 626f 6f6c 2c20 6f70 7469  nged (bool, opti
+0001eb90: 6f6e 616c 293a 2069 6e64 6963 6174 6573  onal): indicates
+0001eba0: 2070 6173 7370 6872 6173 6520 6861 7320   passphrase has 
+0001ebb0: 6368 616e 6765 642e 2044 6566 6175 6c74  changed. Default
+0001ebc0: 7320 746f 2054 7275 652e 0a0a 2020 2020  s to True...    
+0001ebd0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+0001ebe0: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+0001ebf0: 653a 205b 6465 7363 7269 7074 696f 6e5d  e: [description]
+0001ec00: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0001ec10: 2020 2020 2075 726c 203d 2066 222f 636f       url = f"/co
+0001ec20: 6e66 6967 7572 6174 696f 6e2f 7632 2f77  nfiguration/v2/w
+0001ec30: 6c61 6e2f 7b67 726f 7570 7d2f 7b77 6c61  lan/{group}/{wla
+0001ec40: 6e5f 6e61 6d65 7d22 0a0a 2020 2020 2020  n_name}"..      
+0001ec50: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
+0001ec60: 2020 2020 2020 2020 2020 2020 2277 6c61              "wla
+0001ec70: 6e22 3a20 7b0a 2020 2020 2020 2020 2020  n": {.          
+0001ec80: 2020 2020 2020 2765 7373 6964 273a 2065        'essid': e
+0001ec90: 7373 6964 206f 7220 776c 616e 5f6e 616d  ssid or wlan_nam
+0001eca0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0001ecb0: 2020 2027 7479 7065 273a 2074 7970 652c     'type': type,
+0001ecc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ecd0: 2027 6869 6465 5f73 7369 6427 3a20 6869   'hide_ssid': hi
+0001ece0: 6465 5f73 7369 642c 0a20 2020 2020 2020  de_ssid,.       
+0001ecf0: 2020 2020 2020 2020 2027 766c 616e 273a           'vlan':
+0001ed00: 2076 6c61 6e2c 0a20 2020 2020 2020 2020   vlan,.         
+0001ed10: 2020 2020 2020 2027 7a6f 6e65 273a 207a         'zone': z
+0001ed20: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+0001ed30: 2020 2020 2027 7770 615f 7061 7373 7068       'wpa_passph
+0001ed40: 7261 7365 273a 2077 7061 5f70 6173 7370  rase': wpa_passp
+0001ed50: 6872 6173 652c 0a20 2020 2020 2020 2020  hrase,.         
+0001ed60: 2020 2020 2020 2023 2027 7770 615f 7061         # 'wpa_pa
+0001ed70: 7373 7068 7261 7365 5f63 6861 6e67 6564  ssphrase_changed
+0001ed80: 273a 2077 7061 5f70 6173 7370 6872 6173  ': wpa_passphras
+0001ed90: 655f 6368 616e 6765 642c 0a20 2020 2020  e_changed,.     
+0001eda0: 2020 2020 2020 2020 2020 2027 6973 5f6c             'is_l
+0001edb0: 6f63 6b65 6427 3a20 6973 5f6c 6f63 6b65  ocked': is_locke
+0001edc0: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
+0001edd0: 2020 2027 6361 7074 6976 655f 7072 6f66     'captive_prof
+0001ede0: 696c 655f 6e61 6d65 273a 2063 6170 7469  ile_name': capti
+0001edf0: 7665 5f70 726f 6669 6c65 5f6e 616d 652c  ve_profile_name,
+0001ee00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ee10: 2027 6261 6e64 7769 6474 685f 6c69 6d69   'bandwidth_limi
+0001ee20: 745f 7570 273a 2062 616e 6477 6964 7468  t_up': bandwidth
+0001ee30: 5f6c 696d 6974 5f75 702c 0a20 2020 2020  _limit_up,.     
+0001ee40: 2020 2020 2020 2020 2020 2027 6261 6e64             'band
+0001ee50: 7769 6474 685f 6c69 6d69 745f 646f 776e  width_limit_down
+0001ee60: 273a 2062 616e 6477 6964 7468 5f6c 696d  ': bandwidth_lim
+0001ee70: 6974 5f64 6f77 6e2c 0a20 2020 2020 2020  it_down,.       
+0001ee80: 2020 2020 2020 2020 2027 6261 6e64 7769           'bandwi
+0001ee90: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
+0001eea0: 725f 7570 273a 2062 616e 6477 6964 7468  r_up': bandwidth
+0001eeb0: 5f6c 696d 6974 5f70 6572 7573 6572 5f75  _limit_peruser_u
+0001eec0: 702c 0a20 2020 2020 2020 2020 2020 2020  p,.             
+0001eed0: 2020 2027 6261 6e64 7769 6474 685f 6c69     'bandwidth_li
+0001eee0: 6d69 745f 7065 7275 7365 725f 646f 776e  mit_peruser_down
+0001eef0: 273a 2062 616e 6477 6964 7468 5f6c 696d  ': bandwidth_lim
+0001ef00: 6974 5f70 6572 7573 6572 5f64 6f77 6e2c  it_peruser_down,
+0001ef10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ef20: 2027 6163 6365 7373 5f72 756c 6573 273a   'access_rules':
+0001ef30: 2061 6363 6573 735f 7275 6c65 730a 2020   access_rules.  
+0001ef40: 2020 2020 2020 2020 2020 7d0a 2020 2020            }.    
+0001ef50: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+0001ef60: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+0001ef70: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
+0001ef80: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
+0001ef90: 0a20 2020 2061 7379 6e63 2064 6566 2063  .    async def c
+0001efa0: 6f6e 6669 6775 7261 7469 6f6e 5f63 6c65  onfiguration_cle
+0001efb0: 616e 5f75 705f 616e 645f 7570 6461 7465  an_up_and_update
+0001efc0: 5f77 6c61 6e5f 7632 2873 656c 662c 2067  _wlan_v2(self, g
+0001efd0: 726f 7570 5f6e 616d 655f 6f72 5f67 7569  roup_name_or_gui
+0001efe0: 643a 2073 7472 2c0a 2020 2020 2020 2020  d: str,.        
+0001eff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f020: 776c 616e 5f6e 616d 653a 2073 7472 2c20  wlan_name: str, 
+0001f030: 6573 7369 643a 2073 7472 2c20 7479 7065  essid: str, type
+0001f040: 3a20 7374 722c 0a20 2020 2020 2020 2020  : str,.         
+0001f050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f070: 2020 2020 2020 2020 2020 2020 2020 2068                 h
+0001f080: 6964 655f 7373 6964 3a20 626f 6f6c 2c20  ide_ssid: bool, 
+0001f090: 766c 616e 3a20 7374 722c 207a 6f6e 653a  vlan: str, zone:
+0001f0a0: 2073 7472 2c0a 2020 2020 2020 2020 2020   str,.          
+0001f0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f0f0: 2020 2020 2077 7061 5f70 6173 7370 6872       wpa_passphr
-0001f100: 6173 655f 6368 616e 6765 643a 2062 6f6f  ase_changed: boo
-0001f110: 6c2c 0a20 2020 2020 2020 2020 2020 2020  l,.             
-0001f120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f140: 2020 2020 2020 2020 2020 2069 735f 6c6f             is_lo
-0001f150: 636b 6564 3a20 626f 6f6c 2c0a 2020 2020  cked: bool,.    
+0001f0d0: 2020 2020 2020 2020 2020 2020 2020 7770                wp
+0001f0e0: 615f 7061 7373 7068 7261 7365 3a20 7374  a_passphrase: st
+0001f0f0: 722c 0a20 2020 2020 2020 2020 2020 2020  r,.             
+0001f100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f120: 2020 2020 2020 2020 2020 2077 7061 5f70             wpa_p
+0001f130: 6173 7370 6872 6173 655f 6368 616e 6765  assphrase_change
+0001f140: 643a 2062 6f6f 6c2c 0a20 2020 2020 2020  d: bool,.       
+0001f150: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f160: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f190: 2020 2020 6361 7074 6976 655f 7072 6f66      captive_prof
-0001f1a0: 696c 655f 6e61 6d65 3a20 7374 722c 0a20  ile_name: str,. 
+0001f180: 2069 735f 6c6f 636b 6564 3a20 626f 6f6c   is_locked: bool
+0001f190: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001f1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1e0: 2020 2020 2020 2062 616e 6477 6964 7468         bandwidth
-0001f1f0: 5f6c 696d 6974 5f75 703a 2073 7472 2c0a  _limit_up: str,.
+0001f1c0: 2020 2020 2020 2020 2020 6361 7074 6976            captiv
+0001f1d0: 655f 7072 6f66 696c 655f 6e61 6d65 3a20  e_profile_name: 
+0001f1e0: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
+0001f1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f230: 2020 2020 2020 2020 6261 6e64 7769 6474          bandwidt
-0001f240: 685f 6c69 6d69 745f 646f 776e 3a20 7374  h_limit_down: st
-0001f250: 722c 0a20 2020 2020 2020 2020 2020 2020  r,.             
-0001f260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f280: 2020 2020 2020 2020 2020 2062 616e 6477             bandw
-0001f290: 6964 7468 5f6c 696d 6974 5f70 6572 7573  idth_limit_perus
-0001f2a0: 6572 5f75 703a 2073 7472 2c0a 2020 2020  er_up: str,.    
+0001f210: 2020 2020 2020 2020 2020 2020 2062 616e               ban
+0001f220: 6477 6964 7468 5f6c 696d 6974 5f75 703a  dwidth_limit_up:
+0001f230: 2073 7472 2c0a 2020 2020 2020 2020 2020   str,.          
+0001f240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f260: 2020 2020 2020 2020 2020 2020 2020 6261                ba
+0001f270: 6e64 7769 6474 685f 6c69 6d69 745f 646f  ndwidth_limit_do
+0001f280: 776e 3a20 7374 722c 0a20 2020 2020 2020  wn: str,.       
+0001f290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f2e0: 2020 2020 6261 6e64 7769 6474 685f 6c69      bandwidth_li
-0001f2f0: 6d69 745f 7065 7275 7365 725f 646f 776e  mit_peruser_down
-0001f300: 3a20 7374 722c 0a20 2020 2020 2020 2020  : str,.         
-0001f310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f330: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-0001f340: 6363 6573 735f 7275 6c65 733a 206c 6973  ccess_rules: lis
-0001f350: 7429 202d 3e20 5265 7370 6f6e 7365 3a0a  t) -> Response:.
-0001f360: 2020 2020 2020 2020 2222 2255 7064 6174          """Updat
-0001f370: 6520 616e 2065 7869 7374 696e 6720 574c  e an existing WL
-0001f380: 414e 2061 6e64 2063 6c65 616e 2075 7020  AN and clean up 
-0001f390: 756e 7375 7070 6f72 7465 6420 6669 656c  unsupported fiel
-0001f3a0: 6473 2e0a 0a20 2020 2020 2020 2041 7267  ds...        Arg
-0001f3b0: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
-0001f3c0: 726f 7570 5f6e 616d 655f 6f72 5f67 7569  roup_name_or_gui
-0001f3d0: 6420 2873 7472 293a 2047 726f 7570 206e  d (str): Group n
-0001f3e0: 616d 6520 6f66 2074 6865 2067 726f 7570  ame of the group
-0001f3f0: 206f 7220 6775 6964 206f 6620 7468 6520   or guid of the 
-0001f400: 7377 6172 6d2e 0a20 2020 2020 2020 2020  swarm..         
-0001f410: 2020 2020 2020 2045 7861 6d70 6c65 3a47         Example:G
-0001f420: 726f 7570 5f31 206f 7220 3661 3564 3132  roup_1 or 6a5d12
-0001f430: 3362 3031 6639 3434 3138 3036 3234 3465  3b01f9441806244e
-0001f440: 6136 6530 3233 6661 6235 3834 3162 3737  a6e023fab5841b77
-0001f450: 6338 3238 6130 3835 6630 3466 2e0a 2020  c828a085f04f..  
-0001f460: 2020 2020 2020 2020 2020 776c 616e 5f6e            wlan_n
-0001f470: 616d 6520 2873 7472 293a 204e 616d 6520  ame (str): Name 
-0001f480: 6f66 2057 4c41 4e20 7365 6c65 6374 6564  of WLAN selected
-0001f490: 2e20 2020 2020 2020 2020 2020 2020 2020  .               
-0001f4a0: 2020 2020 2020 2020 2020 2020 2020 2045                 E
-0001f4b0: 7861 6d70 6c65 3a77 6c61 6e5f 312e 0a20  xample:wlan_1.. 
-0001f4c0: 2020 2020 2020 2020 2020 2065 7373 6964             essid
-0001f4d0: 2028 7374 7229 3a20 6573 7369 640a 2020   (str): essid.  
-0001f4e0: 2020 2020 2020 2020 2020 7479 7065 2028            type (
-0001f4f0: 7374 7229 3a20 7479 7065 2020 5661 6c69  str): type  Vali
-0001f500: 6420 5661 6c75 6573 3a20 656d 706c 6f79  d Values: employ
-0001f510: 6565 2c20 6775 6573 740a 2020 2020 2020  ee, guest.      
-0001f520: 2020 2020 2020 6869 6465 5f73 7369 6420        hide_ssid 
-0001f530: 2862 6f6f 6c29 3a20 6869 6465 5f73 7369  (bool): hide_ssi
-0001f540: 640a 2020 2020 2020 2020 2020 2020 766c  d.            vl
-0001f550: 616e 2028 7374 7229 3a20 766c 616e 0a20  an (str): vlan. 
-0001f560: 2020 2020 2020 2020 2020 207a 6f6e 6520             zone 
-0001f570: 2873 7472 293a 207a 6f6e 650a 2020 2020  (str): zone.    
-0001f580: 2020 2020 2020 2020 7770 615f 7061 7373          wpa_pass
-0001f590: 7068 7261 7365 2028 7374 7229 3a20 7770  phrase (str): wp
-0001f5a0: 615f 7061 7373 7068 7261 7365 0a20 2020  a_passphrase.   
-0001f5b0: 2020 2020 2020 2020 2077 7061 5f70 6173           wpa_pas
-0001f5c0: 7370 6872 6173 655f 6368 616e 6765 6420  sphrase_changed 
-0001f5d0: 2862 6f6f 6c29 3a20 7770 615f 7061 7373  (bool): wpa_pass
-0001f5e0: 7068 7261 7365 5f63 6861 6e67 6564 0a20  phrase_changed. 
-0001f5f0: 2020 2020 2020 2020 2020 2069 735f 6c6f             is_lo
-0001f600: 636b 6564 2028 626f 6f6c 293a 2069 735f  cked (bool): is_
-0001f610: 6c6f 636b 6564 0a20 2020 2020 2020 2020  locked.         
-0001f620: 2020 2063 6170 7469 7665 5f70 726f 6669     captive_profi
-0001f630: 6c65 5f6e 616d 6520 2873 7472 293a 2063  le_name (str): c
-0001f640: 6170 7469 7665 5f70 726f 6669 6c65 5f6e  aptive_profile_n
-0001f650: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-0001f660: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
-0001f670: 7570 2028 7374 7229 3a20 6261 6e64 7769  up (str): bandwi
-0001f680: 6474 685f 6c69 6d69 745f 7570 0a20 2020  dth_limit_up.   
-0001f690: 2020 2020 2020 2020 2062 616e 6477 6964           bandwid
-0001f6a0: 7468 5f6c 696d 6974 5f64 6f77 6e20 2873  th_limit_down (s
-0001f6b0: 7472 293a 2062 616e 6477 6964 7468 5f6c  tr): bandwidth_l
-0001f6c0: 696d 6974 5f64 6f77 6e0a 2020 2020 2020  imit_down.      
-0001f6d0: 2020 2020 2020 6261 6e64 7769 6474 685f        bandwidth_
-0001f6e0: 6c69 6d69 745f 7065 7275 7365 725f 7570  limit_peruser_up
-0001f6f0: 2028 7374 7229 3a20 6261 6e64 7769 6474   (str): bandwidt
-0001f700: 685f 6c69 6d69 745f 7065 7275 7365 725f  h_limit_peruser_
-0001f710: 7570 0a20 2020 2020 2020 2020 2020 2062  up.            b
-0001f720: 616e 6477 6964 7468 5f6c 696d 6974 5f70  andwidth_limit_p
-0001f730: 6572 7573 6572 5f64 6f77 6e20 2873 7472  eruser_down (str
-0001f740: 293a 2062 616e 6477 6964 7468 5f6c 696d  ): bandwidth_lim
-0001f750: 6974 5f70 6572 7573 6572 5f64 6f77 6e0a  it_peruser_down.
-0001f760: 2020 2020 2020 2020 2020 2020 6163 6365              acce
-0001f770: 7373 5f72 756c 6573 2028 6c69 7374 293a  ss_rules (list):
-0001f780: 2061 6363 6573 735f 7275 6c65 730a 0a20   access_rules.. 
-0001f790: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-0001f7a0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-0001f7b0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-0001f7c0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-0001f7d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0001f7e0: 2020 2020 2075 726c 203d 2066 222f 636f       url = f"/co
-0001f7f0: 6e66 6967 7572 6174 696f 6e2f 7632 2f77  nfiguration/v2/w
-0001f800: 6c61 6e2f 7b67 726f 7570 5f6e 616d 655f  lan/{group_name_
-0001f810: 6f72 5f67 7569 647d 2f7b 776c 616e 5f6e  or_guid}/{wlan_n
-0001f820: 616d 657d 220a 0a20 2020 2020 2020 206a  ame}"..        j
-0001f830: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
-0001f840: 2020 2020 2020 2020 2027 6573 7369 6427           'essid'
-0001f850: 3a20 6573 7369 642c 0a20 2020 2020 2020  : essid,.       
-0001f860: 2020 2020 2027 7479 7065 273a 2074 7970       'type': typ
-0001f870: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-0001f880: 6869 6465 5f73 7369 6427 3a20 6869 6465  hide_ssid': hide
-0001f890: 5f73 7369 642c 0a20 2020 2020 2020 2020  _ssid,.         
-0001f8a0: 2020 2027 766c 616e 273a 2076 6c61 6e2c     'vlan': vlan,
-0001f8b0: 0a20 2020 2020 2020 2020 2020 2027 7a6f  .            'zo
-0001f8c0: 6e65 273a 207a 6f6e 652c 0a20 2020 2020  ne': zone,.     
-0001f8d0: 2020 2020 2020 2027 7770 615f 7061 7373         'wpa_pass
-0001f8e0: 7068 7261 7365 273a 2077 7061 5f70 6173  phrase': wpa_pas
-0001f8f0: 7370 6872 6173 652c 0a20 2020 2020 2020  sphrase,.       
-0001f900: 2020 2020 2027 7770 615f 7061 7373 7068       'wpa_passph
-0001f910: 7261 7365 5f63 6861 6e67 6564 273a 2077  rase_changed': w
-0001f920: 7061 5f70 6173 7370 6872 6173 655f 6368  pa_passphrase_ch
-0001f930: 616e 6765 642c 0a20 2020 2020 2020 2020  anged,.         
-0001f940: 2020 2027 6973 5f6c 6f63 6b65 6427 3a20     'is_locked': 
-0001f950: 6973 5f6c 6f63 6b65 642c 0a20 2020 2020  is_locked,.     
-0001f960: 2020 2020 2020 2027 6361 7074 6976 655f         'captive_
-0001f970: 7072 6f66 696c 655f 6e61 6d65 273a 2063  profile_name': c
-0001f980: 6170 7469 7665 5f70 726f 6669 6c65 5f6e  aptive_profile_n
-0001f990: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
-0001f9a0: 2027 6261 6e64 7769 6474 685f 6c69 6d69   'bandwidth_limi
-0001f9b0: 745f 7570 273a 2062 616e 6477 6964 7468  t_up': bandwidth
-0001f9c0: 5f6c 696d 6974 5f75 702c 0a20 2020 2020  _limit_up,.     
+0001f2c0: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
+0001f2d0: 5f70 6572 7573 6572 5f75 703a 2073 7472  _peruser_up: str
+0001f2e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001f2f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f310: 2020 2020 2020 2020 2020 6261 6e64 7769            bandwi
+0001f320: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
+0001f330: 725f 646f 776e 3a20 7374 722c 0a20 2020  r_down: str,.   
+0001f340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f370: 2020 2020 2061 6363 6573 735f 7275 6c65       access_rule
+0001f380: 733a 206c 6973 7429 202d 3e20 5265 7370  s: list) -> Resp
+0001f390: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+0001f3a0: 2255 7064 6174 6520 616e 2065 7869 7374  "Update an exist
+0001f3b0: 696e 6720 574c 414e 2061 6e64 2063 6c65  ing WLAN and cle
+0001f3c0: 616e 2075 7020 756e 7375 7070 6f72 7465  an up unsupporte
+0001f3d0: 6420 6669 656c 6473 2e0a 0a20 2020 2020  d fields...     
+0001f3e0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+0001f3f0: 2020 2020 2067 726f 7570 5f6e 616d 655f       group_name_
+0001f400: 6f72 5f67 7569 6420 2873 7472 293a 2047  or_guid (str): G
+0001f410: 726f 7570 206e 616d 6520 6f66 2074 6865  roup name of the
+0001f420: 2067 726f 7570 206f 7220 6775 6964 206f   group or guid o
+0001f430: 6620 7468 6520 7377 6172 6d2e 0a20 2020  f the swarm..   
+0001f440: 2020 2020 2020 2020 2020 2020 2045 7861               Exa
+0001f450: 6d70 6c65 3a47 726f 7570 5f31 206f 7220  mple:Group_1 or 
+0001f460: 3661 3564 3132 3362 3031 6639 3434 3138  6a5d123b01f94418
+0001f470: 3036 3234 3465 6136 6530 3233 6661 6235  06244ea6e023fab5
+0001f480: 3834 3162 3737 6338 3238 6130 3835 6630  841b77c828a085f0
+0001f490: 3466 2e0a 2020 2020 2020 2020 2020 2020  4f..            
+0001f4a0: 776c 616e 5f6e 616d 6520 2873 7472 293a  wlan_name (str):
+0001f4b0: 204e 616d 6520 6f66 2057 4c41 4e20 7365   Name of WLAN se
+0001f4c0: 6c65 6374 6564 2e20 2020 2020 2020 2020  lected.         
+0001f4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f4e0: 2020 2020 2045 7861 6d70 6c65 3a77 6c61       Example:wla
+0001f4f0: 6e5f 312e 0a20 2020 2020 2020 2020 2020  n_1..           
+0001f500: 2065 7373 6964 2028 7374 7229 3a20 6573   essid (str): es
+0001f510: 7369 640a 2020 2020 2020 2020 2020 2020  sid.            
+0001f520: 7479 7065 2028 7374 7229 3a20 7479 7065  type (str): type
+0001f530: 2020 5661 6c69 6420 5661 6c75 6573 3a20    Valid Values: 
+0001f540: 656d 706c 6f79 6565 2c20 6775 6573 740a  employee, guest.
+0001f550: 2020 2020 2020 2020 2020 2020 6869 6465              hide
+0001f560: 5f73 7369 6420 2862 6f6f 6c29 3a20 6869  _ssid (bool): hi
+0001f570: 6465 5f73 7369 640a 2020 2020 2020 2020  de_ssid.        
+0001f580: 2020 2020 766c 616e 2028 7374 7229 3a20      vlan (str): 
+0001f590: 766c 616e 0a20 2020 2020 2020 2020 2020  vlan.           
+0001f5a0: 207a 6f6e 6520 2873 7472 293a 207a 6f6e   zone (str): zon
+0001f5b0: 650a 2020 2020 2020 2020 2020 2020 7770  e.            wp
+0001f5c0: 615f 7061 7373 7068 7261 7365 2028 7374  a_passphrase (st
+0001f5d0: 7229 3a20 7770 615f 7061 7373 7068 7261  r): wpa_passphra
+0001f5e0: 7365 0a20 2020 2020 2020 2020 2020 2077  se.            w
+0001f5f0: 7061 5f70 6173 7370 6872 6173 655f 6368  pa_passphrase_ch
+0001f600: 616e 6765 6420 2862 6f6f 6c29 3a20 7770  anged (bool): wp
+0001f610: 615f 7061 7373 7068 7261 7365 5f63 6861  a_passphrase_cha
+0001f620: 6e67 6564 0a20 2020 2020 2020 2020 2020  nged.           
+0001f630: 2069 735f 6c6f 636b 6564 2028 626f 6f6c   is_locked (bool
+0001f640: 293a 2069 735f 6c6f 636b 6564 0a20 2020  ): is_locked.   
+0001f650: 2020 2020 2020 2020 2063 6170 7469 7665           captive
+0001f660: 5f70 726f 6669 6c65 5f6e 616d 6520 2873  _profile_name (s
+0001f670: 7472 293a 2063 6170 7469 7665 5f70 726f  tr): captive_pro
+0001f680: 6669 6c65 5f6e 616d 650a 2020 2020 2020  file_name.      
+0001f690: 2020 2020 2020 6261 6e64 7769 6474 685f        bandwidth_
+0001f6a0: 6c69 6d69 745f 7570 2028 7374 7229 3a20  limit_up (str): 
+0001f6b0: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
+0001f6c0: 7570 0a20 2020 2020 2020 2020 2020 2062  up.            b
+0001f6d0: 616e 6477 6964 7468 5f6c 696d 6974 5f64  andwidth_limit_d
+0001f6e0: 6f77 6e20 2873 7472 293a 2062 616e 6477  own (str): bandw
+0001f6f0: 6964 7468 5f6c 696d 6974 5f64 6f77 6e0a  idth_limit_down.
+0001f700: 2020 2020 2020 2020 2020 2020 6261 6e64              band
+0001f710: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
+0001f720: 7365 725f 7570 2028 7374 7229 3a20 6261  ser_up (str): ba
+0001f730: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
+0001f740: 7275 7365 725f 7570 0a20 2020 2020 2020  ruser_up.       
+0001f750: 2020 2020 2062 616e 6477 6964 7468 5f6c       bandwidth_l
+0001f760: 696d 6974 5f70 6572 7573 6572 5f64 6f77  imit_peruser_dow
+0001f770: 6e20 2873 7472 293a 2062 616e 6477 6964  n (str): bandwid
+0001f780: 7468 5f6c 696d 6974 5f70 6572 7573 6572  th_limit_peruser
+0001f790: 5f64 6f77 6e0a 2020 2020 2020 2020 2020  _down.          
+0001f7a0: 2020 6163 6365 7373 5f72 756c 6573 2028    access_rules (
+0001f7b0: 6c69 7374 293a 2061 6363 6573 735f 7275  list): access_ru
+0001f7c0: 6c65 730a 0a20 2020 2020 2020 2052 6574  les..        Ret
+0001f7d0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0001f7e0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0001f7f0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0001f800: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0001f810: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+0001f820: 2066 222f 636f 6e66 6967 7572 6174 696f   f"/configuratio
+0001f830: 6e2f 7632 2f77 6c61 6e2f 7b67 726f 7570  n/v2/wlan/{group
+0001f840: 5f6e 616d 655f 6f72 5f67 7569 647d 2f7b  _name_or_guid}/{
+0001f850: 776c 616e 5f6e 616d 657d 220a 0a20 2020  wlan_name}"..   
+0001f860: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
+0001f870: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+0001f880: 6573 7369 6427 3a20 6573 7369 642c 0a20  essid': essid,. 
+0001f890: 2020 2020 2020 2020 2020 2027 7479 7065             'type
+0001f8a0: 273a 2074 7970 652c 0a20 2020 2020 2020  ': type,.       
+0001f8b0: 2020 2020 2027 6869 6465 5f73 7369 6427       'hide_ssid'
+0001f8c0: 3a20 6869 6465 5f73 7369 642c 0a20 2020  : hide_ssid,.   
+0001f8d0: 2020 2020 2020 2020 2027 766c 616e 273a           'vlan':
+0001f8e0: 2076 6c61 6e2c 0a20 2020 2020 2020 2020   vlan,.         
+0001f8f0: 2020 2027 7a6f 6e65 273a 207a 6f6e 652c     'zone': zone,
+0001f900: 0a20 2020 2020 2020 2020 2020 2027 7770  .            'wp
+0001f910: 615f 7061 7373 7068 7261 7365 273a 2077  a_passphrase': w
+0001f920: 7061 5f70 6173 7370 6872 6173 652c 0a20  pa_passphrase,. 
+0001f930: 2020 2020 2020 2020 2020 2027 7770 615f             'wpa_
+0001f940: 7061 7373 7068 7261 7365 5f63 6861 6e67  passphrase_chang
+0001f950: 6564 273a 2077 7061 5f70 6173 7370 6872  ed': wpa_passphr
+0001f960: 6173 655f 6368 616e 6765 642c 0a20 2020  ase_changed,.   
+0001f970: 2020 2020 2020 2020 2027 6973 5f6c 6f63           'is_loc
+0001f980: 6b65 6427 3a20 6973 5f6c 6f63 6b65 642c  ked': is_locked,
+0001f990: 0a20 2020 2020 2020 2020 2020 2027 6361  .            'ca
+0001f9a0: 7074 6976 655f 7072 6f66 696c 655f 6e61  ptive_profile_na
+0001f9b0: 6d65 273a 2063 6170 7469 7665 5f70 726f  me': captive_pro
+0001f9c0: 6669 6c65 5f6e 616d 652c 0a20 2020 2020  file_name,.     
 0001f9d0: 2020 2020 2020 2027 6261 6e64 7769 6474         'bandwidt
-0001f9e0: 685f 6c69 6d69 745f 646f 776e 273a 2062  h_limit_down': b
-0001f9f0: 616e 6477 6964 7468 5f6c 696d 6974 5f64  andwidth_limit_d
-0001fa00: 6f77 6e2c 0a20 2020 2020 2020 2020 2020  own,.           
-0001fa10: 2027 6261 6e64 7769 6474 685f 6c69 6d69   'bandwidth_limi
-0001fa20: 745f 7065 7275 7365 725f 7570 273a 2062  t_peruser_up': b
-0001fa30: 616e 6477 6964 7468 5f6c 696d 6974 5f70  andwidth_limit_p
-0001fa40: 6572 7573 6572 5f75 702c 0a20 2020 2020  eruser_up,.     
-0001fa50: 2020 2020 2020 2027 6261 6e64 7769 6474         'bandwidt
-0001fa60: 685f 6c69 6d69 745f 7065 7275 7365 725f  h_limit_peruser_
-0001fa70: 646f 776e 273a 2062 616e 6477 6964 7468  down': bandwidth
-0001fa80: 5f6c 696d 6974 5f70 6572 7573 6572 5f64  _limit_peruser_d
-0001fa90: 6f77 6e2c 0a20 2020 2020 2020 2020 2020  own,.           
-0001faa0: 2027 6163 6365 7373 5f72 756c 6573 273a   'access_rules':
-0001fab0: 2061 6363 6573 735f 7275 6c65 730a 2020   access_rules.  
-0001fac0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-0001fad0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0001fae0: 6c66 2e70 6174 6368 2875 726c 2c20 6a73  lf.patch(url, js
-0001faf0: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
-0001fb00: 6129 0a0a 2020 2020 6173 796e 6320 6465  a)..    async de
-0001fb10: 6620 636f 6e66 6967 7572 6174 696f 6e5f  f configuration_
-0001fb20: 7570 6461 7465 5f77 6c61 6e5f 7632 2873  update_wlan_v2(s
-0001fb30: 656c 662c 2067 726f 7570 5f6e 616d 655f  elf, group_name_
-0001fb40: 6f72 5f67 7569 643a 2073 7472 2c20 776c  or_guid: str, wl
-0001fb50: 616e 5f6e 616d 653a 2073 7472 2c0a 2020  an_name: str,.  
-0001fb60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fb80: 2020 2020 2020 2020 2065 7373 6964 3a20           essid: 
-0001fb90: 7374 722c 2074 7970 653a 2073 7472 2c20  str, type: str, 
-0001fba0: 6869 6465 5f73 7369 643a 2062 6f6f 6c2c  hide_ssid: bool,
-0001fbb0: 2076 6c61 6e3a 2073 7472 2c0a 2020 2020   vlan: str,.    
-0001fbc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fbd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fbe0: 2020 2020 2020 207a 6f6e 653a 2073 7472         zone: str
-0001fbf0: 2c20 7770 615f 7061 7373 7068 7261 7365  , wpa_passphrase
-0001fc00: 3a20 7374 722c 0a20 2020 2020 2020 2020  : str,.         
-0001fc10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fc30: 2020 7770 615f 7061 7373 7068 7261 7365    wpa_passphrase
-0001fc40: 5f63 6861 6e67 6564 3a20 626f 6f6c 2c20  _changed: bool, 
-0001fc50: 6973 5f6c 6f63 6b65 643a 2062 6f6f 6c2c  is_locked: bool,
-0001fc60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001fc70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fc80: 2020 2020 2020 2020 2020 2020 6361 7074              capt
-0001fc90: 6976 655f 7072 6f66 696c 655f 6e61 6d65  ive_profile_name
-0001fca0: 3a20 7374 722c 2062 616e 6477 6964 7468  : str, bandwidth
-0001fcb0: 5f6c 696d 6974 5f75 703a 2073 7472 2c0a  _limit_up: str,.
-0001fcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fcd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fce0: 2020 2020 2020 2020 2020 2062 616e 6477             bandw
-0001fcf0: 6964 7468 5f6c 696d 6974 5f64 6f77 6e3a  idth_limit_down:
-0001fd00: 2073 7472 2c0a 2020 2020 2020 2020 2020   str,.          
-0001fd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fd20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fd30: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
-0001fd40: 5f70 6572 7573 6572 5f75 703a 2073 7472  _peruser_up: str
-0001fd50: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0001fd60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fd70: 2020 2020 2020 2020 2020 2020 2062 616e               ban
-0001fd80: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
-0001fd90: 7573 6572 5f64 6f77 6e3a 2073 7472 2c20  user_down: str, 
-0001fda0: 6163 6365 7373 5f72 756c 6573 3a20 6c69  access_rules: li
-0001fdb0: 7374 2920 2d3e 2052 6573 706f 6e73 653a  st) -> Response:
-0001fdc0: 0a20 2020 2020 2020 2022 2222 5570 6461  .        """Upda
-0001fdd0: 7465 2061 6e20 6578 6973 7469 6e67 2057  te an existing W
-0001fde0: 4c41 4e2e 0a0a 2020 2020 2020 2020 4172  LAN...        Ar
-0001fdf0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-0001fe00: 6772 6f75 705f 6e61 6d65 5f6f 725f 6775  group_name_or_gu
-0001fe10: 6964 2028 7374 7229 3a20 4772 6f75 7020  id (str): Group 
-0001fe20: 6e61 6d65 206f 6620 7468 6520 6772 6f75  name of the grou
-0001fe30: 7020 6f72 2067 7569 6420 6f66 2074 6865  p or guid of the
-0001fe40: 2073 7761 726d 2e0a 2020 2020 2020 2020   swarm..        
-0001fe50: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
-0001fe60: 4772 6f75 705f 3120 6f72 2036 6135 6431  Group_1 or 6a5d1
-0001fe70: 3233 6230 3166 3934 3431 3830 3632 3434  23b01f9441806244
-0001fe80: 6561 3665 3032 3366 6162 3538 3431 6237  ea6e023fab5841b7
-0001fe90: 3763 3832 3861 3038 3566 3034 662e 0a20  7c828a085f04f.. 
-0001fea0: 2020 2020 2020 2020 2020 2077 6c61 6e5f             wlan_
-0001feb0: 6e61 6d65 2028 7374 7229 3a20 4e61 6d65  name (str): Name
-0001fec0: 206f 6620 574c 414e 2073 656c 6563 7465   of WLAN selecte
-0001fed0: 642e 2020 2020 2020 2020 2020 2020 2020  d.              
-0001fee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fef0: 4578 616d 706c 653a 776c 616e 5f31 2e0a  Example:wlan_1..
-0001ff00: 2020 2020 2020 2020 2020 2020 6573 7369              essi
-0001ff10: 6420 2873 7472 293a 2065 7373 6964 0a20  d (str): essid. 
-0001ff20: 2020 2020 2020 2020 2020 2074 7970 6520             type 
-0001ff30: 2873 7472 293a 2074 7970 6520 2056 616c  (str): type  Val
-0001ff40: 6964 2056 616c 7565 733a 2065 6d70 6c6f  id Values: emplo
-0001ff50: 7965 652c 2067 7565 7374 0a20 2020 2020  yee, guest.     
-0001ff60: 2020 2020 2020 2068 6964 655f 7373 6964         hide_ssid
-0001ff70: 2028 626f 6f6c 293a 2068 6964 655f 7373   (bool): hide_ss
-0001ff80: 6964 0a20 2020 2020 2020 2020 2020 2076  id.            v
-0001ff90: 6c61 6e20 2873 7472 293a 2076 6c61 6e0a  lan (str): vlan.
-0001ffa0: 2020 2020 2020 2020 2020 2020 7a6f 6e65              zone
-0001ffb0: 2028 7374 7229 3a20 7a6f 6e65 0a20 2020   (str): zone.   
-0001ffc0: 2020 2020 2020 2020 2077 7061 5f70 6173           wpa_pas
-0001ffd0: 7370 6872 6173 6520 2873 7472 293a 2077  sphrase (str): w
-0001ffe0: 7061 5f70 6173 7370 6872 6173 650a 2020  pa_passphrase.  
-0001fff0: 2020 2020 2020 2020 2020 7770 615f 7061            wpa_pa
-00020000: 7373 7068 7261 7365 5f63 6861 6e67 6564  ssphrase_changed
-00020010: 2028 626f 6f6c 293a 2077 7061 5f70 6173   (bool): wpa_pas
-00020020: 7370 6872 6173 655f 6368 616e 6765 640a  sphrase_changed.
-00020030: 2020 2020 2020 2020 2020 2020 6973 5f6c              is_l
-00020040: 6f63 6b65 6420 2862 6f6f 6c29 3a20 6973  ocked (bool): is
-00020050: 5f6c 6f63 6b65 640a 2020 2020 2020 2020  _locked.        
-00020060: 2020 2020 6361 7074 6976 655f 7072 6f66      captive_prof
-00020070: 696c 655f 6e61 6d65 2028 7374 7229 3a20  ile_name (str): 
-00020080: 6361 7074 6976 655f 7072 6f66 696c 655f  captive_profile_
-00020090: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
-000200a0: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
-000200b0: 5f75 7020 2873 7472 293a 2062 616e 6477  _up (str): bandw
-000200c0: 6964 7468 5f6c 696d 6974 5f75 700a 2020  idth_limit_up.  
-000200d0: 2020 2020 2020 2020 2020 6261 6e64 7769            bandwi
-000200e0: 6474 685f 6c69 6d69 745f 646f 776e 2028  dth_limit_down (
-000200f0: 7374 7229 3a20 6261 6e64 7769 6474 685f  str): bandwidth_
-00020100: 6c69 6d69 745f 646f 776e 0a20 2020 2020  limit_down.     
-00020110: 2020 2020 2020 2062 616e 6477 6964 7468         bandwidth
-00020120: 5f6c 696d 6974 5f70 6572 7573 6572 5f75  _limit_peruser_u
-00020130: 7020 2873 7472 293a 2062 616e 6477 6964  p (str): bandwid
-00020140: 7468 5f6c 696d 6974 5f70 6572 7573 6572  th_limit_peruser
-00020150: 5f75 700a 2020 2020 2020 2020 2020 2020  _up.            
-00020160: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
-00020170: 7065 7275 7365 725f 646f 776e 2028 7374  peruser_down (st
-00020180: 7229 3a20 6261 6e64 7769 6474 685f 6c69  r): bandwidth_li
-00020190: 6d69 745f 7065 7275 7365 725f 646f 776e  mit_peruser_down
-000201a0: 0a20 2020 2020 2020 2020 2020 2061 6363  .            acc
-000201b0: 6573 735f 7275 6c65 7320 286c 6973 7429  ess_rules (list)
-000201c0: 3a20 6163 6365 7373 5f72 756c 6573 0a0a  : access_rules..
-000201d0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-000201e0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-000201f0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00020200: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00020210: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00020220: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
-00020230: 6f6e 6669 6775 7261 7469 6f6e 2f76 322f  onfiguration/v2/
-00020240: 776c 616e 2f7b 6772 6f75 705f 6e61 6d65  wlan/{group_name
-00020250: 5f6f 725f 6775 6964 7d2f 7b77 6c61 6e5f  _or_guid}/{wlan_
-00020260: 6e61 6d65 7d22 0a0a 2020 2020 2020 2020  name}"..        
-00020270: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
-00020280: 2020 2020 2020 2020 2020 2765 7373 6964            'essid
-00020290: 273a 2065 7373 6964 2c0a 2020 2020 2020  ': essid,.      
-000202a0: 2020 2020 2020 2774 7970 6527 3a20 7479        'type': ty
-000202b0: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
-000202c0: 2768 6964 655f 7373 6964 273a 2068 6964  'hide_ssid': hid
-000202d0: 655f 7373 6964 2c0a 2020 2020 2020 2020  e_ssid,.        
-000202e0: 2020 2020 2776 6c61 6e27 3a20 766c 616e      'vlan': vlan
-000202f0: 2c0a 2020 2020 2020 2020 2020 2020 277a  ,.            'z
-00020300: 6f6e 6527 3a20 7a6f 6e65 2c0a 2020 2020  one': zone,.    
-00020310: 2020 2020 2020 2020 2777 7061 5f70 6173          'wpa_pas
-00020320: 7370 6872 6173 6527 3a20 7770 615f 7061  sphrase': wpa_pa
-00020330: 7373 7068 7261 7365 2c0a 2020 2020 2020  ssphrase,.      
-00020340: 2020 2020 2020 2777 7061 5f70 6173 7370        'wpa_passp
-00020350: 6872 6173 655f 6368 616e 6765 6427 3a20  hrase_changed': 
-00020360: 7770 615f 7061 7373 7068 7261 7365 5f63  wpa_passphrase_c
-00020370: 6861 6e67 6564 2c0a 2020 2020 2020 2020  hanged,.        
-00020380: 2020 2020 2769 735f 6c6f 636b 6564 273a      'is_locked':
-00020390: 2069 735f 6c6f 636b 6564 2c0a 2020 2020   is_locked,.    
-000203a0: 2020 2020 2020 2020 2763 6170 7469 7665          'captive
-000203b0: 5f70 726f 6669 6c65 5f6e 616d 6527 3a20  _profile_name': 
-000203c0: 6361 7074 6976 655f 7072 6f66 696c 655f  captive_profile_
-000203d0: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
-000203e0: 2020 2762 616e 6477 6964 7468 5f6c 696d    'bandwidth_lim
-000203f0: 6974 5f75 7027 3a20 6261 6e64 7769 6474  it_up': bandwidt
-00020400: 685f 6c69 6d69 745f 7570 2c0a 2020 2020  h_limit_up,.    
-00020410: 2020 2020 2020 2020 2762 616e 6477 6964          'bandwid
-00020420: 7468 5f6c 696d 6974 5f64 6f77 6e27 3a20  th_limit_down': 
-00020430: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
-00020440: 646f 776e 2c0a 2020 2020 2020 2020 2020  down,.          
-00020450: 2020 2762 616e 6477 6964 7468 5f6c 696d    'bandwidth_lim
-00020460: 6974 5f70 6572 7573 6572 5f75 7027 3a20  it_peruser_up': 
-00020470: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
-00020480: 7065 7275 7365 725f 7570 2c0a 2020 2020  peruser_up,.    
-00020490: 2020 2020 2020 2020 2762 616e 6477 6964          'bandwid
-000204a0: 7468 5f6c 696d 6974 5f70 6572 7573 6572  th_limit_peruser
-000204b0: 5f64 6f77 6e27 3a20 6261 6e64 7769 6474  _down': bandwidt
-000204c0: 685f 6c69 6d69 745f 7065 7275 7365 725f  h_limit_peruser_
-000204d0: 646f 776e 2c0a 2020 2020 2020 2020 2020  down,.          
-000204e0: 2020 2761 6363 6573 735f 7275 6c65 7327    'access_rules'
-000204f0: 3a20 6163 6365 7373 5f72 756c 6573 0a20  : access_rules. 
-00020500: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-00020510: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00020520: 656c 662e 7075 7428 7572 6c2c 206a 736f  elf.put(url, jso
-00020530: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
-00020540: 290a 0a20 2020 2023 2054 4f44 4f20 6368  )..    # TODO ch
-00020550: 616e 6774 6520 746f 2075 7365 2063 6f6e  angte to use con
-00020560: 7369 7374 656e 7420 6465 7620 7470 6520  sistent dev tpe 
-00020570: 6170 2067 7720 6378 2073 770a 2020 2020  ap gw cx sw.    
-00020580: 2320 636f 6e76 6572 7420 746f 2074 6865  # convert to the
-00020590: 2073 7475 6666 2061 7069 6777 2077 616e   stuff apigw wan
-000205a0: 7473 2069 6e73 6964 6520 6d65 7468 6f64  ts inside method
-000205b0: 0a20 2020 2023 2041 5049 2d46 4c41 5720  .    # API-FLAW 
-000205c0: 6e6f 2041 5049 2074 6f20 7570 6772 6164  no API to upgrad
-000205d0: 6520 636c 7573 7465 722c 204e 6f74 2066  e cluster, Not f
-000205e0: 756e 6374 696f 6e61 6c20 6f6e 2043 580a  unctional on CX.
-000205f0: 2020 2020 2320 6465 7669 6365 5f74 7970      # device_typ
-00020600: 6520 4358 2069 7320 6e6f 7420 7661 6c69  e CX is not vali
-00020610: 640a 2020 2020 6173 796e 6320 6465 6620  d.    async def 
-00020620: 7570 6772 6164 655f 6669 726d 7761 7265  upgrade_firmware
-00020630: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00020640: 2020 2020 2020 2020 7363 6865 6475 6c65          schedule
-00020650: 645f 6174 3a20 696e 7420 3d20 4e6f 6e65  d_at: int = None
-00020660: 2c0a 2020 2020 2020 2020 7377 6172 6d5f  ,.        swarm_
-00020670: 6964 3a20 7374 7220 3d20 4e6f 6e65 2c0a  id: str = None,.
-00020680: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
-00020690: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-000206a0: 2020 2020 6772 6f75 703a 2073 7472 203d      group: str =
-000206b0: 204e 6f6e 652c 0a20 2020 2020 2020 2064   None,.        d
-000206c0: 6576 6963 655f 7479 7065 3a20 4c69 7465  evice_type: Lite
-000206d0: 7261 6c5b 2249 4150 222c 2022 4d41 5322  ral["IAP", "MAS"
-000206e0: 2c20 2248 5022 2c20 2243 4f4e 5452 4f4c  , "HP", "CONTROL
-000206f0: 4c45 5222 5d20 3d20 4e6f 6e65 2c0a 2020  LER"] = None,.  
-00020700: 2020 2020 2020 6669 726d 7761 7265 5f76        firmware_v
-00020710: 6572 7369 6f6e 3a20 7374 7220 3d20 4e6f  ersion: str = No
-00020720: 6e65 2c0a 2020 2020 2020 2020 6d6f 6465  ne,.        mode
-00020730: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
-00020740: 2020 2020 2020 2072 6562 6f6f 743a 2062         reboot: b
-00020750: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-00020760: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-00020770: 2020 2020 2020 2020 2222 2249 6e69 7469          """Initi
-00020780: 6174 6520 6669 726d 7761 7265 2075 7067  ate firmware upg
-00020790: 7261 6465 206f 6e20 6465 7669 6365 2873  rade on device(s
-000207a0: 292e 0a0a 2020 2020 2020 2020 596f 7520  )...        You 
-000207b0: 6361 6e20 6f6e 6c79 2073 7065 6369 6679  can only specify
-000207c0: 206f 6e65 206f 6620 6465 7669 6365 5f74   one of device_t
-000207d0: 7970 652c 2073 7761 726d 5f69 6420 6f72  ype, swarm_id or
-000207e0: 2073 6572 6961 6c20 7061 7261 6d65 7465   serial paramete
-000207f0: 7273 0a0a 2020 2020 2020 2020 2f2f 2055  rs..        // U
-00020800: 7365 6420 6279 2075 7067 7261 6465 205b  sed by upgrade [
-00020810: 6465 7669 6365 7c67 726f 7570 7c73 7761  device|group|swa
-00020820: 726d 5d20 2f2f 0a0a 2020 2020 2020 2020  rm] //..        
-00020830: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00020840: 2020 7363 6865 6475 6c65 645f 6174 2028    scheduled_at (
-00020850: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-00020860: 5768 656e 2074 6f20 7363 6865 6475 6c65  When to schedule
-00020870: 2075 7067 7261 6465 2028 6570 6f63 6820   upgrade (epoch 
-00020880: 7365 636f 6e64 7329 2e20 4465 6661 756c  seconds). Defaul
-00020890: 7473 2074 6f20 4e6f 6e65 2028 4e6f 7729  ts to None (Now)
-000208a0: 2e0a 2020 2020 2020 2020 2020 2020 7377  ..            sw
-000208b0: 6172 6d5f 6964 2028 7374 722c 206f 7074  arm_id (str, opt
-000208c0: 696f 6e61 6c29 3a20 5570 6772 6164 6520  ional): Upgrade 
-000208d0: 6120 7370 6563 6966 6963 2073 7761 726d  a specific swarm
-000208e0: 2062 7920 6964 2e20 4465 6661 756c 7473   by id. Defaults
-000208f0: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
-00020900: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
-00020910: 722c 206f 7074 696f 6e61 6c29 3a20 5570  r, optional): Up
-00020920: 6772 6164 6520 6120 7370 6563 6966 6963  grade a specific
-00020930: 2064 6576 6963 6520 6279 2073 6572 6961   device by seria
-00020940: 6c2e 2044 6566 6175 6c74 7320 746f 204e  l. Defaults to N
-00020950: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
-00020960: 2067 726f 7570 2028 7374 722c 206f 7074   group (str, opt
-00020970: 696f 6e61 6c29 3a20 5570 6772 6164 6520  ional): Upgrade 
-00020980: 6465 7669 6365 7320 6265 6c6f 6e67 696e  devices belongin
-00020990: 6720 746f 2067 726f 7570 2e20 4465 6661  g to group. Defa
-000209a0: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
-000209b0: 2020 2020 2020 2020 2020 6465 7669 6365            device
-000209c0: 5f74 7970 6520 2873 7472 5b22 4941 5022  _type (str["IAP"
-000209d0: 7c22 4d41 5322 7c22 4850 227c 2243 4f4e  |"MAS"|"HP"|"CON
-000209e0: 5452 4f4c 4c45 5222 5d29 3a20 5479 7065  TROLLER"]): Type
-000209f0: 206f 6620 6465 7669 6365 2074 6f20 7570   of device to up
-00020a00: 6772 6164 652e 2044 6566 6175 6c74 7320  grade. Defaults 
-00020a10: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
-00020a20: 2020 2020 2066 6972 6d77 6172 655f 7665       firmware_ve
-00020a30: 7273 696f 6e20 2873 7472 2c20 6f70 7469  rsion (str, opti
-00020a40: 6f6e 616c 293a 2056 6572 7369 6f6e 2074  onal): Version t
-00020a50: 6f20 7570 6772 6164 6520 746f 2e20 4465  o upgrade to. De
-00020a60: 6661 756c 7473 2074 6f20 4e6f 6e65 2872  faults to None(r
-00020a70: 6563 6f6d 6d65 6e64 6564 2076 6572 7369  ecommended versi
-00020a80: 6f6e 292e 0a20 2020 2020 2020 2020 2020  on)..           
-00020a90: 206d 6f64 656c 2028 7374 722c 206f 7074   model (str, opt
-00020aa0: 696f 6e61 6c29 3a20 546f 2069 6e69 7469  ional): To initi
-00020ab0: 6174 6520 7570 6772 6164 6520 6174 2067  ate upgrade at g
-00020ac0: 726f 7570 206c 6576 656c 2066 6f72 2073  roup level for s
-00020ad0: 7065 6369 6669 6320 6d6f 6465 6c20 6661  pecific model fa
-00020ae0: 6d69 6c79 2e20 4170 706c 6963 6162 6c65  mily. Applicable
-00020af0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00020b00: 206f 6e6c 7920 666f 7220 4172 7562 6120   only for Aruba 
-00020b10: 7377 6974 6368 6573 2e20 4465 6661 756c  switches. Defaul
-00020b20: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
-00020b30: 2020 2020 2020 2020 7265 626f 6f74 2028          reboot (
-00020b40: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-00020b50: 2041 7574 6f6d 6174 6963 616c 6c79 2072   Automatically r
-00020b60: 6562 6f6f 7420 6465 7669 6365 2061 6674  eboot device aft
-00020b70: 6572 2066 6972 6d77 6172 6520 646f 776e  er firmware down
-00020b80: 6c6f 6164 2e20 4465 6661 756c 7473 2074  load. Defaults t
-00020b90: 6f20 4661 6c73 652e 0a0a 2020 2020 2020  o False...      
-00020ba0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00020bb0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00020bc0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00020bd0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-00020be0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00020bf0: 7572 6c20 3d20 222f 6669 726d 7761 7265  url = "/firmware
-00020c00: 2f76 312f 7570 6772 6164 6522 0a0a 2020  /v1/upgrade"..  
-00020c10: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
-00020c20: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-00020c30: 2766 6972 6d77 6172 655f 7363 6865 6475  'firmware_schedu
-00020c40: 6c65 645f 6174 273a 2073 6368 6564 756c  led_at': schedul
-00020c50: 6564 5f61 742c 0a20 2020 2020 2020 2020  ed_at,.         
-00020c60: 2020 2027 7377 6172 6d5f 6964 273a 2073     'swarm_id': s
-00020c70: 7761 726d 5f69 642c 0a20 2020 2020 2020  warm_id,.       
-00020c80: 2020 2020 2027 7365 7269 616c 273a 2073       'serial': s
-00020c90: 6572 6961 6c2c 0a20 2020 2020 2020 2020  erial,.         
-00020ca0: 2020 2027 6772 6f75 7027 3a20 6772 6f75     'group': grou
-00020cb0: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
-00020cc0: 6465 7669 6365 5f74 7970 6527 3a20 6465  device_type': de
-00020cd0: 7669 6365 5f74 7970 652c 0a20 2020 2020  vice_type,.     
-00020ce0: 2020 2020 2020 2027 6669 726d 7761 7265         'firmware
-00020cf0: 5f76 6572 7369 6f6e 273a 2066 6972 6d77  _version': firmw
-00020d00: 6172 655f 7665 7273 696f 6e2c 0a20 2020  are_version,.   
-00020d10: 2020 2020 2020 2020 2027 7265 626f 6f74           'reboot
-00020d20: 273a 2072 6562 6f6f 742c 0a20 2020 2020  ': reboot,.     
-00020d30: 2020 2020 2020 2027 6d6f 6465 6c27 3a20         'model': 
-00020d40: 6d6f 6465 6c0a 2020 2020 2020 2020 7d0a  model.        }.
-00020d50: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00020d60: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
-00020d70: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-00020d80: 736f 6e5f 6461 7461 290a 0a20 2020 2023  son_data)..    #
-00020d90: 2041 5049 2d46 4c41 5720 6f6e 6c79 2061   API-FLAW only a
-00020da0: 6363 6570 7473 2073 7761 726d 2069 6420  ccepts swarm id 
-00020db0: 666f 7220 4941 502c 2041 4f53 3130 2073  for IAP, AOS10 s
-00020dc0: 686f 7720 6173 2049 4150 2062 7574 206e  how as IAP but n
-00020dd0: 6f20 7377 6172 6d20 6964 2e20 2073 6572  o swarm id.  ser
-00020de0: 6961 6c20 6973 2072 656a 6563 7465 642e  ial is rejected.
-00020df0: 0a20 2020 2023 2043 5820 7769 6c6c 2072  .    # CX will r
-00020e00: 6574 7572 6e20 7265 7370 206c 696b 6520  eturn resp like 
-00020e10: 6974 2077 6f72 6b73 2c20 6275 7420 6e6f  it works, but no
-00020e20: 7468 696e 6720 6576 6572 2068 6170 7065  thing ever happe
-00020e30: 6e73 0a20 2020 2061 7379 6e63 2064 6566  ns.    async def
-00020e40: 2067 6574 5f75 7067 7261 6465 5f73 7461   get_upgrade_sta
-00020e50: 7475 7328 7365 6c66 2c20 7377 6172 6d5f  tus(self, swarm_
-00020e60: 6964 3a20 7374 7220 3d20 4e6f 6e65 2c20  id: str = None, 
-00020e70: 7365 7269 616c 3a20 7374 7220 3d20 4e6f  serial: str = No
-00020e80: 6e65 2920 2d3e 2052 6573 706f 6e73 653a  ne) -> Response:
-00020e90: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
-00020ea0: 6669 726d 7761 7265 2075 7067 7261 6465  firmware upgrade
-00020eb0: 2073 7461 7475 732e 0a0a 2020 2020 2020   status...      
-00020ec0: 2020 2f2f 2055 7365 6420 6279 2073 686f    // Used by sho
-00020ed0: 7720 7570 6772 6164 6520 5b64 6576 6963  w upgrade [devic
-00020ee0: 652d 6964 656e 5d20 2f2f 0a0a 2020 2020  e-iden] //..    
-00020ef0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00020f00: 2020 2020 2020 7377 6172 6d5f 6964 2028        swarm_id (
-00020f10: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00020f20: 5377 6172 6d20 4944 0a20 2020 2020 2020  Swarm ID.       
-00020f30: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
-00020f40: 2c20 6f70 7469 6f6e 616c 293a 2053 6572  , optional): Ser
-00020f50: 6961 6c20 6f66 2064 6576 6963 650a 0a20  ial of device.. 
-00020f60: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-00020f70: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-00020f80: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-00020f90: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-00020fa0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00020fb0: 2020 2020 2075 726c 203d 2022 2f66 6972       url = "/fir
-00020fc0: 6d77 6172 652f 7631 2f73 7461 7475 7322  mware/v1/status"
-00020fd0: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
-00020fe0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00020ff0: 2022 7377 6172 6d5f 6964 223a 2073 7761   "swarm_id": swa
-00021000: 726d 5f69 642c 0a20 2020 2020 2020 2020  rm_id,.         
-00021010: 2020 2022 7365 7269 616c 223a 2073 6572     "serial": ser
-00021020: 6961 6c0a 2020 2020 2020 2020 7d0a 0a20  ial.        }.. 
-00021030: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00021040: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-00021050: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
-00021060: 0a0a 2020 2020 4465 7654 7970 6520 3d20  ..    DevType = 
-00021070: 4c69 7465 7261 6c5b 2249 4150 222c 2022  Literal["IAP", "
-00021080: 4850 222c 2022 434f 4e54 524f 4c4c 4552  HP", "CONTROLLER
-00021090: 225d 0a0a 2020 2020 6173 796e 6320 6465  "]..    async de
-000210a0: 6620 6765 745f 6669 726d 7761 7265 5f63  f get_firmware_c
-000210b0: 6f6d 706c 6961 6e63 6528 7365 6c66 2c20  ompliance(self, 
-000210c0: 6465 7669 6365 5f74 7970 653a 2044 6576  device_type: Dev
-000210d0: 5479 7065 2c20 6772 6f75 703a 2073 7472  Type, group: str
-000210e0: 203d 204e 6f6e 6529 202d 3e20 5265 7370   = None) -> Resp
-000210f0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00021100: 2247 6574 2046 6972 6d77 6172 6520 436f  "Get Firmware Co
-00021110: 6d70 6c69 616e 6365 2056 6572 7369 6f6e  mpliance Version
-00021120: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
-00021130: 6564 2062 7920 7368 6f77 2066 6972 6d77  ed by show firmw
-00021140: 6172 6520 636f 6d70 6c69 616e 6365 205b  are compliance [
-00021150: 6170 7c67 777c 7377 5d20 5b67 726f 7570  ap|gw|sw] [group
-00021160: 2d6e 616d 655d 202f 2f0a 0a20 2020 2020  -name] //..     
-00021170: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00021180: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
-00021190: 2028 7374 7229 3a20 5370 6563 6966 7920   (str): Specify 
-000211a0: 6f6e 6520 6f66 2022 4941 502f 4d41 532f  one of "IAP/MAS/
-000211b0: 4850 2f43 4f4e 5452 4f4c 4c45 5222 0a20  HP/CONTROLLER". 
-000211c0: 2020 2020 2020 2020 2020 2067 726f 7570             group
-000211d0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-000211e0: 3a20 4772 6f75 7020 6e61 6d65 2e20 4465  : Group name. De
-000211f0: 6661 756c 7473 2074 6f20 4e6f 6e65 2028  faults to None (
-00021200: 476c 6f62 616c 2043 6f6d 706c 6961 6e63  Global Complianc
-00021210: 6529 0a0a 2020 2020 2020 2020 5265 7475  e)..        Retu
-00021220: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00021230: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00021240: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00021250: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00021260: 220a 2020 2020 2020 2020 2320 4150 4920  ".        # API 
-00021270: 6d65 7468 6f64 2072 6574 7572 6e73 2034  method returns 4
-00021280: 3034 2069 6620 636f 6d70 6c69 616e 6365  04 if compliance
-00021290: 2069 7320 6e6f 7420 7365 7421 0a20 2020   is not set!.   
-000212a0: 2020 2020 2075 726c 203d 2022 2f66 6972       url = "/fir
-000212b0: 6d77 6172 652f 7631 2f75 7067 7261 6465  mware/v1/upgrade
-000212c0: 2f63 6f6d 706c 6961 6e63 655f 7665 7273  /compliance_vers
-000212d0: 696f 6e22 0a0a 2020 2020 2020 2020 7061  ion"..        pa
-000212e0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
-000212f0: 2020 2020 2027 6465 7669 6365 5f74 7970       'device_typ
-00021300: 6527 3a20 6465 7669 6365 5f74 7970 652c  e': device_type,
-00021310: 0a20 2020 2020 2020 2020 2020 2027 6772  .            'gr
-00021320: 6f75 7027 3a20 6772 6f75 700a 2020 2020  oup': group.    
-00021330: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-00021340: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00021350: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
-00021360: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
-00021370: 796e 6320 6465 6620 6465 6c65 7465 5f66  ync def delete_f
-00021380: 6972 6d77 6172 655f 636f 6d70 6c69 616e  irmware_complian
-00021390: 6365 2873 656c 662c 2064 6576 6963 655f  ce(self, device_
-000213a0: 7479 7065 3a20 7374 722c 2067 726f 7570  type: str, group
-000213b0: 3a20 7374 7220 3d20 4e6f 6e65 2920 2d3e  : str = None) ->
-000213c0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-000213d0: 2020 2022 2222 436c 6561 7220 4669 726d     """Clear Firm
-000213e0: 7761 7265 2043 6f6d 706c 6961 6e63 6520  ware Compliance 
-000213f0: 5665 7273 696f 6e2e 0a0a 2020 2020 2020  Version...      
-00021400: 2020 2f2f 2055 7365 6420 6279 2064 656c    // Used by del
-00021410: 6574 6520 6669 726d 7761 7265 2063 6f6d  ete firmware com
-00021420: 706c 6961 6e63 6520 5b61 707c 6777 7c73  pliance [ap|gw|s
-00021430: 7769 7463 685d 205b 6772 6f75 705d 202f  witch] [group] /
-00021440: 2f0a 0a20 2020 2020 2020 2041 7267 733a  /..        Args:
-00021450: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
-00021460: 6963 655f 7479 7065 2028 7374 7229 3a20  ice_type (str): 
-00021470: 5370 6563 6966 7920 6f6e 6520 6f66 2022  Specify one of "
-00021480: 4941 502f 4d41 532f 4850 2f43 4f4e 5452  IAP/MAS/HP/CONTR
-00021490: 4f4c 4c45 5222 0a20 2020 2020 2020 2020  OLLER".         
-000214a0: 2020 2067 726f 7570 2028 7374 722c 206f     group (str, o
-000214b0: 7074 696f 6e61 6c29 3a20 4772 6f75 7020  ptional): Group 
-000214c0: 6e61 6d65 2e20 4465 6661 756c 7473 2074  name. Defaults t
-000214d0: 6f20 4e6f 6e65 2028 476c 6f62 616c 2043  o None (Global C
-000214e0: 6f6d 706c 6961 6e63 6529 0a0a 2020 2020  ompliance)..    
-000214f0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00021500: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00021510: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00021520: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-00021530: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00021540: 2020 7572 6c20 3d20 222f 6669 726d 7761    url = "/firmwa
-00021550: 7265 2f76 312f 7570 6772 6164 652f 636f  re/v1/upgrade/co
-00021560: 6d70 6c69 616e 6365 5f76 6572 7369 6f6e  mpliance_version
-00021570: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
-00021580: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-00021590: 2020 2764 6576 6963 655f 7479 7065 273a    'device_type':
-000215a0: 2064 6576 6963 655f 7479 7065 2c0a 2020   device_type,.  
-000215b0: 2020 2020 2020 2020 2020 2767 726f 7570            'group
-000215c0: 273a 2067 726f 7570 0a20 2020 2020 2020  ': group.       
-000215d0: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
-000215e0: 726e 2061 7761 6974 2073 656c 662e 6465  rn await self.de
-000215f0: 6c65 7465 2875 726c 2c20 7061 7261 6d73  lete(url, params
-00021600: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
-00021610: 796e 6320 6465 6620 6d6f 7665 5f64 6576  ync def move_dev
-00021620: 6963 6573 5f74 6f5f 6772 6f75 7028 0a20  ices_to_group(. 
-00021630: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-00021640: 2020 2020 2067 726f 7570 3a20 7374 722c       group: str,
-00021650: 0a20 2020 2020 2020 2073 6572 6961 6c5f  .        serial_
-00021660: 6e75 6d73 3a20 556e 696f 6e5b 7374 722c  nums: Union[str,
-00021670: 204c 6973 745b 7374 725d 5d2c 0a20 2020   List[str]],.   
-00021680: 2020 2020 202a 2c0a 2020 2020 2020 2020       *,.        
-00021690: 6378 5f72 6574 6169 6e5f 636f 6e66 6967  cx_retain_config
-000216a0: 3a20 626f 6f6c 203d 2054 7275 652c 2020  : bool = True,  
-000216b0: 2320 544f 444f 2063 616e 2077 6520 7365  # TODO can we se
-000216c0: 6e64 2074 6869 7320 6174 7472 6962 7574  nd this attribut
-000216d0: 6520 6576 656e 2069 6620 6974 2773 206e  e even if it's n
-000216e0: 6f74 2043 582c 2077 696c 6c20 6974 2069  ot CX, will it i
-000216f0: 676e 6f72 6520 6f72 2065 7272 6f72 0a20  gnore or error. 
-00021700: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-00021710: 3a0a 2020 2020 2020 2020 2222 224d 6f76  :.        """Mov
-00021720: 6520 6465 7669 6365 7320 746f 2061 2067  e devices to a g
-00021730: 726f 7570 2e0a 0a20 2020 2020 2020 2041  roup...        A
-00021740: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00021750: 2067 726f 7570 2028 7374 7229 3a20 4772   group (str): Gr
-00021760: 6f75 7020 4e61 6d65 2074 6f20 6d6f 7665  oup Name to move
-00021770: 2064 6576 6963 6520 746f 2e0a 2020 2020   device to..    
-00021780: 2020 2020 2020 2020 7365 7269 616c 7320          serials 
-00021790: 284c 6973 745b 7374 725d 293a 2053 6572  (List[str]): Ser
-000217a0: 6961 6c20 6e75 6d62 6572 7320 6f66 2064  ial numbers of d
-000217b0: 6576 6963 6573 2074 6f20 6265 2061 6464  evices to be add
-000217c0: 6564 2074 6f20 6772 6f75 702e 0a0a 2020  ed to group...  
-000217d0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-000217e0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-000217f0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-00021800: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-00021810: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00021820: 2020 2020 2320 4150 492d 464c 4157 2072      # API-FLAW r
-00021830: 6570 6f72 7420 666c 6177 6564 2041 5049  eport flawed API
-00021840: 206d 6574 686f 640a 2020 2020 2020 2020   method.        
-00021850: 2320 5265 7475 726e 7320 3530 3020 7374  # Returns 500 st
-00021860: 6174 7573 2063 6f64 6520 7768 656e 2072  atus code when r
-00021870: 6573 756c 7420 6973 2065 7373 656e 7469  esult is essenti
-00021880: 616c 6c79 2073 7563 6365 7373 0a20 2020  ally success.   
-00021890: 2020 2020 2023 2050 6c65 6173 6520 436f       # Please Co
-000218a0: 6e66 6972 6d3a 206d 6f76 6520 4172 7562  nfirm: move Arub
-000218b0: 6139 3030 345f 3831 5f45 385f 4641 2026  a9004_81_E8_FA &
-000218c0: 2050 6f6d 6d6f 7265 4757 3120 746f 2067   PommoreGW1 to g
-000218d0: 726f 7570 2057 4c4e 4554 3f20 5b79 2f4e  roup WLNET? [y/N
-000218e0: 5d3a 2079 0a20 2020 2020 2020 2023 20e2  ]: y.        # .
-000218f0: 9c96 2053 656e 6469 6e67 2044 6174 6120  .. Sending Data 
-00021900: 5b63 6f6e 6669 6775 7261 7469 6f6e 2f76  [configuration/v
-00021910: 312f 6465 7669 6365 732f 6d6f 7665 5d0a  1/devices/move].
-00021920: 2020 2020 2020 2020 2320 7374 6174 7573          # status
-00021930: 2063 6f64 653a 2035 3030 203c 2d2d 2035   code: 500 <-- 5
-00021940: 3030 206f 6e20 7375 6363 6573 732e 2020  00 on success.  
-00021950: 4174 206c 6561 7374 2066 6f72 2067 7720  At least for gw 
-00021960: 776f 756c 6420 6e65 6564 2074 6f20 646f  would need to do
-00021970: 7562 6c65 2063 6865 636b 206f 7468 6572  uble check other
-00021980: 732e 0a20 2020 2020 2020 2023 2064 6573  s..        # des
-00021990: 6372 6970 7469 6f6e 3a0a 2020 2020 2020  cription:.      
-000219a0: 2020 2320 436f 6e74 726f 6c6c 6572 2f47    # Controller/G
-000219b0: 6174 6577 6179 2067 726f 7570 206d 6f76  ateway group mov
-000219c0: 6520 6861 7320 6265 656e 2069 6e69 7469  e has been initi
-000219d0: 6174 6564 2c20 706c 6561 7365 2063 6865  ated, please che
-000219e0: 636b 2061 7564 6974 2074 7261 696c 2066  ck audit trail f
-000219f0: 6f72 2064 6574 6169 6c73 0a20 2020 2020  or details.     
-00021a00: 2020 2023 2065 7272 6f72 5f63 6f64 653a     # error_code:
-00021a10: 2030 3030 310a 2020 2020 2020 2020 2320   0001.        # 
-00021a20: 7365 7276 6963 655f 6e61 6d65 3a20 436f  service_name: Co
-00021a30: 6e66 6967 7572 6174 696f 6e0a 2020 2020  nfiguration.    
-00021a40: 2020 2020 7572 6c20 3d20 222f 636f 6e66      url = "/conf
-00021a50: 6967 7572 6174 696f 6e2f 7631 2f64 6576  iguration/v1/dev
-00021a60: 6963 6573 2f6d 6f76 6522 0a20 2020 2020  ices/move".     
-00021a70: 2020 2073 6572 6961 6c5f 6e75 6d73 203d     serial_nums =
-00021a80: 2075 7469 6c73 2e6c 6973 7469 6679 2873   utils.listify(s
-00021a90: 6572 6961 6c5f 6e75 6d73 290a 0a20 2020  erial_nums)..   
-00021aa0: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-00021ab0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-00021ac0: 6772 6f75 7027 3a20 6772 6f75 702c 0a20  group': group,. 
-00021ad0: 2020 2020 2020 2020 2020 2027 7365 7269             'seri
-00021ae0: 616c 7327 3a20 7365 7269 616c 5f6e 756d  als': serial_num
-00021af0: 730a 2020 2020 2020 2020 7d0a 0a20 2020  s.        }..   
-00021b00: 2020 2020 2069 6620 6378 5f72 6574 6169       if cx_retai
-00021b10: 6e5f 636f 6e66 6967 3a0a 2020 2020 2020  n_config:.      
-00021b20: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
-00021b30: 2270 7265 7365 7276 655f 636f 6e66 6967  "preserve_config
-00021b40: 5f6f 7665 7272 6964 6573 225d 203d 205b  _overrides"] = [
-00021b50: 2241 4f53 5f43 5822 5d0a 0a20 2020 2020  "AOS_CX"]..     
-00021b60: 2020 2072 6573 7020 3d20 6177 6169 7420     resp = await 
-00021b70: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
-00021b80: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
-00021b90: 7461 290a 0a20 2020 2020 2020 2023 2054  ta)..        # T
-00021ba0: 6869 7320 6d65 7468 6f64 2072 6574 7572  his method retur
-00021bb0: 6e73 2073 7461 7475 7320 3530 3020 7769  ns status 500 wi
-00021bc0: 7468 206d 7367 2074 6861 7420 6d6f 7665  th msg that move
-00021bd0: 2069 7320 696e 6974 6961 7465 6420 6f6e   is initiated on
-00021be0: 2073 7563 6365 7373 2e0a 2020 2020 2020   success..      
-00021bf0: 2020 6966 206e 6f74 2072 6573 7020 616e    if not resp an
-00021c00: 6420 7265 7370 2e73 7461 7475 7320 3d3d  d resp.status ==
-00021c10: 2035 3030 3a0a 2020 2020 2020 2020 2020   500:.          
-00021c20: 2020 6d61 7463 685f 7374 7220 3d20 2267    match_str = "g
-00021c30: 726f 7570 206d 6f76 6520 6861 7320 6265  roup move has be
-00021c40: 656e 2069 6e69 7469 6174 6564 2c20 706c  en initiated, pl
-00021c50: 6561 7365 2063 6865 636b 2061 7564 6974  ease check audit
-00021c60: 2074 7261 696c 2066 6f72 2064 6574 6169   trail for detai
-00021c70: 6c73 220a 2020 2020 2020 2020 2020 2020  ls".            
-00021c80: 6966 206d 6174 6368 5f73 7472 2069 6e20  if match_str in 
-00021c90: 7265 7370 2e6f 7574 7075 742e 6765 7428  resp.output.get(
-00021ca0: 2264 6573 6372 6970 7469 6f6e 222c 2022  "description", "
-00021cb0: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
-00021cc0: 2020 2020 7265 7370 2e6f 6b20 3d20 5472      resp.ok = Tr
-00021cd0: 7565 0a0a 2020 2020 2020 2020 7265 7475  ue..        retu
-00021ce0: 726e 2072 6573 700a 0a20 2020 2061 7379  rn resp..    asy
-00021cf0: 6e63 2064 6566 2067 6574 5f64 6566 6175  nc def get_defau
-00021d00: 6c74 5f67 726f 7570 2873 656c 662c 2920  lt_group(self,) 
-00021d10: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00021d20: 2020 2020 2022 2222 4765 7420 6465 6661       """Get defa
-00021d30: 756c 7420 6772 6f75 702e 0a0a 2020 2020  ult group...    
-00021d40: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00021d50: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00021d60: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00021d70: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-00021d80: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00021d90: 2020 7572 6c20 3d20 222f 636f 6e66 6967    url = "/config
-00021da0: 7572 6174 696f 6e2f 7631 2f67 726f 7570  uration/v1/group
-00021db0: 732f 6465 6661 756c 745f 6772 6f75 7022  s/default_group"
-00021dc0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00021dd0: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-00021de0: 7572 6c29 0a0a 2020 2020 6173 796e 6320  url)..    async 
-00021df0: 6465 6620 6d6f 7665 5f64 6576 6963 6573  def move_devices
-00021e00: 5f74 6f5f 7369 7465 280a 2020 2020 2020  _to_site(.      
-00021e10: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-00021e20: 7369 7465 5f69 643a 2069 6e74 2c0a 2020  site_id: int,.  
-00021e30: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
-00021e40: 733a 2055 6e69 6f6e 5b73 7472 2c20 4c69  s: Union[str, Li
-00021e50: 7374 5b73 7472 5d5d 2c0a 2020 2020 2020  st[str]],.      
-00021e60: 2020 6465 7669 6365 5f74 7970 653a 204c    device_type: L
-00021e70: 6974 6572 616c 5b22 6170 222c 2022 6378  iteral["ap", "cx
-00021e80: 222c 2022 7377 222c 2022 7377 6974 6368  ", "sw", "switch
-00021e90: 222c 2022 6777 225d 2c0a 2020 2020 2920  ", "gw"],.    ) 
-00021ea0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00021eb0: 2020 2020 2022 2222 4173 736f 6369 6174       """Associat
-00021ec0: 6520 6c69 7374 206f 6620 6465 7669 6365  e list of device
-00021ed0: 7320 746f 2061 2073 6974 652e 0a0a 2020  s to a site...  
-00021ee0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00021ef0: 2020 2020 2020 2020 7369 7465 5f69 6420          site_id 
-00021f00: 2869 6e74 293a 2053 6974 6520 4944 0a20  (int): Site ID. 
-00021f10: 2020 2020 2020 2020 2020 2064 6576 6963             devic
-00021f20: 655f 7479 7065 2028 7374 7229 3a20 4465  e_type (str): De
-00021f30: 7669 6365 2074 7970 652e 2056 616c 6964  vice type. Valid
-00021f40: 2056 616c 7565 733a 2061 702c 2063 782c   Values: ap, cx,
-00021f50: 2073 772c 2073 7769 7463 682c 2067 770a   sw, switch, gw.
-00021f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021f70: 6378 2061 6e64 2073 7720 6172 6520 7468  cx and sw are th
-00021f80: 6520 7361 6d65 2061 7320 7468 6520 6d6f  e same as the mo
-00021f90: 7265 2067 656e 6572 6963 2073 7769 7463  re generic switc
-00021fa0: 682e 0a20 2020 2020 2020 2020 2020 2073  h..            s
-00021fb0: 6572 6961 6c5f 6e75 6d73 2028 4c69 7374  erial_nums (List
-00021fc0: 5b73 7472 5d29 3a20 4c69 7374 206f 6620  [str]): List of 
-00021fd0: 6465 7669 6365 2073 6572 6961 6c20 6e75  device serial nu
-00021fe0: 6d62 6572 7320 6f66 2074 6865 2064 6576  mbers of the dev
-00021ff0: 6963 6573 2074 6f20 7768 6963 6820 7468  ices to which th
-00022000: 6520 7369 7465 0a20 2020 2020 2020 2020  e site.         
-00022010: 2020 2020 2020 2068 6173 2074 6f20 6265         has to be
-00022020: 2075 6e2f 6173 736f 6369 6174 6564 2077   un/associated w
-00022030: 6974 682e 2041 206d 6178 696d 756d 206f  ith. A maximum o
-00022040: 6620 3530 3030 2064 6576 6963 6520 7365  f 5000 device se
-00022050: 7269 616c 7320 6172 6520 616c 6c6f 7765  rials are allowe
-00022060: 6420 6174 206f 6e63 652e 0a0a 2020 2020  d at once...    
-00022070: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00022080: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00022090: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-000220a0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-000220b0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000220c0: 2020 2320 544f 444f 206d 616b 6520 6465    # TODO make de
-000220d0: 7669 6365 5f74 7970 6573 2063 6f6e 7369  vice_types consi
-000220e0: 7374 656e 7420 7468 726f 7567 686f 7574  stent throughout
-000220f0: 0a20 2020 2020 2020 2064 6576 6963 655f  .        device_
-00022100: 7479 7065 203d 2063 6f6e 7374 616e 7473  type = constants
-00022110: 2e6c 6962 5f74 6f5f 6170 6928 2273 6974  .lib_to_api("sit
-00022120: 6522 2c20 6465 7669 6365 5f74 7970 6529  e", device_type)
-00022130: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-00022140: 6465 7669 6365 5f74 7970 653a 0a20 2020  device_type:.   
-00022150: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
-00022160: 616c 7565 4572 726f 7228 0a20 2020 2020  alueError(.     
-00022170: 2020 2020 2020 2020 2020 2066 2249 6e76             f"Inv
-00022180: 616c 6964 2056 616c 7565 2066 6f72 2064  alid Value for d
-00022190: 6576 6963 655f 7479 7065 2e20 2053 7570  evice_type.  Sup
-000221a0: 706f 7274 6564 2056 616c 7565 733a 207b  ported Values: {
-000221b0: 636f 6e73 7461 6e74 732e 6c69 625f 746f  constants.lib_to
-000221c0: 5f61 7069 2e76 616c 6964 5f73 7472 7d22  _api.valid_str}"
-000221d0: 0a20 2020 2020 2020 2020 2020 2029 0a0a  .            )..
-000221e0: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-000221f0: 6365 6e74 7261 6c2f 7632 2f73 6974 6573  central/v2/sites
-00022200: 2f61 7373 6f63 6961 7469 6f6e 7322 0a20  /associations". 
-00022210: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
-00022220: 6d73 203d 2075 7469 6c73 2e6c 6973 7469  ms = utils.listi
-00022230: 6679 2873 6572 6961 6c5f 6e75 6d73 290a  fy(serial_nums).
-00022240: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
-00022250: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
-00022260: 2020 2027 7369 7465 5f69 6427 3a20 7369     'site_id': si
-00022270: 7465 5f69 642c 0a20 2020 2020 2020 2020  te_id,.         
-00022280: 2020 2027 6465 7669 6365 5f69 6473 273a     'device_ids':
-00022290: 2073 6572 6961 6c5f 6e75 6d73 2c0a 2020   serial_nums,.  
-000222a0: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
-000222b0: 655f 7479 7065 273a 2064 6576 6963 655f  e_type': device_
-000222c0: 7479 7065 0a20 2020 2020 2020 207d 0a0a  type.        }..
-000222d0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-000222e0: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
-000222f0: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
-00022300: 6f6e 5f64 6174 6129 0a0a 2020 2020 6173  on_data)..    as
-00022310: 796e 6320 6465 6620 7265 6d6f 7665 5f64  ync def remove_d
-00022320: 6576 6963 6573 5f66 726f 6d5f 7369 7465  evices_from_site
-00022330: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00022340: 2020 2020 2020 2020 7369 7465 5f69 643a          site_id:
-00022350: 2069 6e74 2c0a 2020 2020 2020 2020 7365   int,.        se
-00022360: 7269 616c 5f6e 756d 733a 204c 6973 745b  rial_nums: List[
-00022370: 7374 725d 2c0a 2020 2020 2020 2020 6465  str],.        de
-00022380: 7669 6365 5f74 7970 653a 204c 6974 6572  vice_type: Liter
-00022390: 616c 5b22 6170 222c 2022 6378 222c 2022  al["ap", "cx", "
-000223a0: 7377 222c 2022 7377 6974 6368 222c 2022  sw", "switch", "
-000223b0: 6777 225d 2c0a 2020 2020 2920 2d3e 2052  gw"],.    ) -> R
-000223c0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-000223d0: 2022 2222 5265 6d6f 7665 2061 206c 6973   """Remove a lis
-000223e0: 7420 6f66 2064 6576 6963 6573 2066 726f  t of devices fro
-000223f0: 6d20 6120 7369 7465 2e0a 0a20 2020 2020  m a site...     
-00022400: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00022410: 2020 2020 2073 6974 655f 6964 2028 696e       site_id (in
-00022420: 7429 3a20 5369 7465 2049 440a 2020 2020  t): Site ID.    
-00022430: 2020 2020 2020 2020 6465 7669 6365 5f74          device_t
-00022440: 7970 6520 2873 7472 293a 2044 6576 6963  ype (str): Devic
-00022450: 6520 7479 7065 2e20 5661 6c69 6420 5661  e type. Valid Va
-00022460: 6c75 6573 3a20 6170 2c20 6378 2c20 7377  lues: ap, cx, sw
-00022470: 2c20 7377 6974 6368 2c20 6777 0a20 2020  , switch, gw.   
-00022480: 2020 2020 2020 2020 2020 2020 2063 7820               cx 
-00022490: 616e 6420 7377 2061 7265 2074 6865 2073  and sw are the s
-000224a0: 616d 6520 6173 2074 6865 206d 6f72 6520  ame as the more 
-000224b0: 6765 6e65 7269 6320 7377 6974 6368 2e0a  generic switch..
-000224c0: 2020 2020 2020 2020 2020 2020 7365 7269              seri
-000224d0: 616c 5f6e 756d 7320 284c 6973 745b 7374  al_nums (List[st
-000224e0: 725d 293a 204c 6973 7420 6f66 2064 6576  r]): List of dev
-000224f0: 6963 6520 7365 7269 616c 206e 756d 6265  ice serial numbe
-00022500: 7273 206f 6620 7468 6520 6465 7669 6365  rs of the device
-00022510: 7320 746f 2077 6869 6368 2074 6865 2073  s to which the s
-00022520: 6974 650a 2020 2020 2020 2020 2020 2020  ite.            
-00022530: 2020 2020 6861 7320 746f 2062 6520 756e      has to be un
-00022540: 2f61 7373 6f63 6961 7465 6420 7769 7468  /associated with
-00022550: 2e20 4120 6d61 7869 6d75 6d20 6f66 2035  . A maximum of 5
-00022560: 3030 3020 6465 7669 6365 2073 6572 6961  000 device seria
-00022570: 6c73 2061 7265 2061 6c6c 6f77 6564 2061  ls are allowed a
-00022580: 7420 6f6e 6365 2e0a 0a20 2020 2020 2020  t once...       
-00022590: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-000225a0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-000225b0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-000225c0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-000225d0: 2020 2022 2222 0a20 2020 2020 2020 2064     """.        d
-000225e0: 6576 6963 655f 7479 7065 203d 2063 6f6e  evice_type = con
-000225f0: 7374 616e 7473 2e6c 6962 5f74 6f5f 6170  stants.lib_to_ap
-00022600: 6928 2273 6974 6522 2c20 6465 7669 6365  i("site", device
-00022610: 5f74 7970 6529 0a20 2020 2020 2020 2069  _type).        i
-00022620: 6620 6e6f 7420 6465 7669 6365 5f74 7970  f not device_typ
-00022630: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-00022640: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
-00022650: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00022660: 2066 2249 6e76 616c 6964 2056 616c 7565   f"Invalid Value
-00022670: 2066 6f72 2064 6576 6963 655f 7479 7065   for device_type
-00022680: 2e20 2053 7570 706f 7274 6564 2056 616c  .  Supported Val
-00022690: 7565 733a 207b 636f 6e73 7461 6e74 732e  ues: {constants.
-000226a0: 6c69 625f 746f 5f61 7069 2e76 616c 6964  lib_to_api.valid
-000226b0: 5f73 7472 7d22 0a20 2020 2020 2020 2020  _str}".         
-000226c0: 2020 2029 0a0a 2020 2020 2020 2020 7572     )..        ur
-000226d0: 6c20 3d20 222f 6365 6e74 7261 6c2f 7632  l = "/central/v2
-000226e0: 2f73 6974 6573 2f61 7373 6f63 6961 7469  /sites/associati
-000226f0: 6f6e 7322 0a20 2020 2020 2020 2073 6572  ons".        ser
-00022700: 6961 6c5f 6e75 6d73 203d 2075 7469 6c73  ial_nums = utils
-00022710: 2e6c 6973 7469 6679 2873 6572 6961 6c5f  .listify(serial_
-00022720: 6e75 6d73 290a 0a20 2020 2020 2020 206a  nums)..        j
-00022730: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
-00022740: 2020 2020 2020 2020 2027 7369 7465 5f69           'site_i
-00022750: 6427 3a20 7369 7465 5f69 642c 0a20 2020  d': site_id,.   
-00022760: 2020 2020 2020 2020 2027 6465 7669 6365           'device
-00022770: 5f69 6473 273a 2073 6572 6961 6c5f 6e75  _ids': serial_nu
-00022780: 6d73 2c0a 2020 2020 2020 2020 2020 2020  ms,.            
-00022790: 2764 6576 6963 655f 7479 7065 273a 2064  'device_type': d
-000227a0: 6576 6963 655f 7479 7065 0a20 2020 2020  evice_type.     
-000227b0: 2020 207d 0a0a 2020 2020 2020 2020 2320     }..        # 
-000227c0: 4150 492d 464c 4157 3a20 5468 6973 206d  API-FLAW: This m
-000227d0: 6574 686f 6420 7265 7475 726e 7320 3230  ethod returns 20
-000227e0: 3020 7768 656e 2066 6169 6c75 7265 7320  0 when failures 
-000227f0: 6f63 6375 722e 0a20 2020 2020 2020 2072  occur..        r
-00022800: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00022810: 2e64 656c 6574 6528 7572 6c2c 206a 736f  .delete(url, jso
-00022820: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
-00022830: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-00022840: 2063 7265 6174 655f 6c61 6265 6c28 0a20   create_label(. 
-00022850: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-00022860: 2020 2020 206c 6162 656c 5f6e 616d 653a       label_name:
-00022870: 2073 7472 2c0a 2020 2020 2020 2020 6361   str,.        ca
-00022880: 7465 676f 7279 5f69 643a 2069 6e74 203d  tegory_id: int =
-00022890: 2031 2c0a 2020 2020 2920 2d3e 2052 6573   1,.    ) -> Res
-000228a0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-000228b0: 2222 4372 6561 7465 204c 6162 656c 2e0a  ""Create Label..
-000228c0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-000228d0: 2020 2020 2020 2020 2020 206c 6162 656c             label
-000228e0: 5f6e 616d 6520 2873 7472 293a 204c 6162  _name (str): Lab
-000228f0: 656c 206e 616d 650a 2020 2020 2020 2020  el name.        
-00022900: 2020 2020 6361 7465 676f 7279 5f69 6420      category_id 
-00022910: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-00022920: 204c 6162 656c 2063 6174 6567 6f72 7920   Label category 
-00022930: 4944 2064 6566 6175 6c74 7320 746f 2031  ID defaults to 1
-00022940: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00022950: 2031 203d 2064 6566 6175 6c74 206c 6162   1 = default lab
-00022960: 656c 2063 6174 6567 6f72 792c 2032 203d  el category, 2 =
-00022970: 2073 6974 650a 0a20 2020 2020 2020 2052   site..        R
-00022980: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00022990: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-000229a0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-000229b0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-000229c0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-000229d0: 203d 2022 2f63 656e 7472 616c 2f76 312f   = "/central/v1/
-000229e0: 6c61 6265 6c73 220a 0a20 2020 2020 2020  labels"..       
-000229f0: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
-00022a00: 2020 2020 2020 2020 2020 2027 6361 7465             'cate
-00022a10: 676f 7279 5f69 6427 3a20 6361 7465 676f  gory_id': catego
-00022a20: 7279 5f69 642c 0a20 2020 2020 2020 2020  ry_id,.         
-00022a30: 2020 2027 6c61 6265 6c5f 6e61 6d65 273a     'label_name':
-00022a40: 206c 6162 656c 5f6e 616d 650a 2020 2020   label_name.    
-00022a50: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-00022a60: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00022a70: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
-00022a80: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
-00022a90: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-00022aa0: 6574 5f6c 6162 656c 7328 0a20 2020 2020  et_labels(.     
-00022ab0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00022ac0: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
-00022ad0: 3a20 626f 6f6c 203d 204e 6f6e 652c 0a20  : bool = None,. 
-00022ae0: 2020 2020 2020 2072 6576 6572 7365 3a20         reverse: 
-00022af0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-00022b00: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
-00022b10: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
-00022b20: 696d 6974 3a20 696e 7420 3d20 3130 302c  imit: int = 100,
-00022b30: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-00022b40: 7365 3a0a 2020 2020 2020 2020 2222 224c  se:.        """L
-00022b50: 6973 7420 4c61 6265 6c73 2e0a 0a20 2020  ist Labels...   
-00022b60: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00022b70: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
-00022b80: 5f74 6f74 616c 2028 626f 6f6c 2c20 6f70  _total (bool, op
-00022b90: 7469 6f6e 616c 293a 2057 6865 7468 6572  tional): Whether
-00022ba0: 2074 6f20 6361 6c63 756c 6174 6520 746f   to calculate to
-00022bb0: 7461 6c20 4c61 6265 6c73 0a20 2020 2020  tal Labels.     
-00022bc0: 2020 2020 2020 2072 6576 6572 7365 2028         reverse (
-00022bd0: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-00022be0: 204c 6973 7420 6c61 6265 6c73 2069 6e20   List labels in 
-00022bf0: 7265 7665 7273 6520 616c 7068 6162 6574  reverse alphabet
-00022c00: 6963 616c 206f 7264 6572 2e20 4465 6661  ical order. Defa
-00022c10: 756c 7473 2074 6f20 4661 6c73 650a 2020  ults to False.  
-00022c20: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
-00022c30: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00022c40: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
-00022c50: 7365 7420 4465 6661 756c 7473 2074 6f20  set Defaults to 
-00022c60: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
-00022c70: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
-00022c80: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
-00022c90: 206c 696d 6974 2e20 4465 6661 756c 7420   limit. Default 
-00022ca0: 6973 2031 3030 2061 6e64 206d 6178 2069  is 100 and max i
-00022cb0: 7320 3130 3030 2044 6566 6175 6c74 7320  s 1000 Defaults 
-00022cc0: 746f 2031 3030 2e0a 0a20 2020 2020 2020  to 100...       
-00022cd0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-00022ce0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-00022cf0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-00022d00: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-00022d10: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-00022d20: 726c 203d 2022 2f63 656e 7472 616c 2f76  rl = "/central/v
-00022d30: 322f 6c61 6265 6c73 220a 0a20 2020 2020  2/labels"..     
-00022d40: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-00022d50: 2020 2020 2020 2020 2020 2263 616c 6375            "calcu
-00022d60: 6c61 7465 5f74 6f74 616c 223a 2063 616c  late_total": cal
-00022d70: 6375 6c61 7465 5f74 6f74 616c 2c0a 2020  culate_total,.  
-00022d80: 2020 2020 2020 2020 2020 226f 6666 7365            "offse
-00022d90: 7422 3a20 6f66 6673 6574 2c0a 2020 2020  t": offset,.    
-00022da0: 2020 2020 2020 2020 226c 696d 6974 223a          "limit":
-00022db0: 206c 696d 6974 0a20 2020 2020 2020 207d   limit.        }
-00022dc0: 0a20 2020 2020 2020 2069 6620 7265 7665  .        if reve
-00022dd0: 7273 653a 0a20 2020 2020 2020 2020 2020  rse:.           
-00022de0: 2070 6172 616d 735b 2273 6f72 7422 5d20   params["sort"] 
-00022df0: 3d20 222d 6c61 6265 6c5f 6e61 6d65 220a  = "-label_name".
-00022e00: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00022e10: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-00022e20: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-00022e30: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
-00022e40: 6620 6173 7369 676e 5f6c 6162 656c 5f74  f assign_label_t
-00022e50: 6f5f 6465 7669 6365 7328 0a20 2020 2020  o_devices(.     
-00022e60: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00022e70: 206c 6162 656c 5f69 643a 2069 6e74 2c0a   label_id: int,.
-00022e80: 2020 2020 2020 2020 6465 7669 6365 5f74          device_t
-00022e90: 7970 653a 2063 6f6e 7374 616e 7473 2e47  ype: constants.G
-00022ea0: 656e 6572 6963 4465 7654 7970 6573 2c0a  enericDevTypes,.
-00022eb0: 2020 2020 2020 2020 7365 7269 616c 5f6e          serial_n
-00022ec0: 756d 733a 2055 6e69 6f6e 5b73 7472 2c20  ums: Union[str, 
-00022ed0: 4c69 7374 5b73 7472 5d5d 2c0a 2020 2020  List[str]],.    
-00022ee0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00022ef0: 2020 2020 2020 2022 2222 4173 736f 6369         """Associ
-00022f00: 6174 6520 4c61 6265 6c20 746f 2061 206c  ate Label to a l
-00022f10: 6973 7420 6f66 2064 6576 6963 6573 2e0a  ist of devices..
-00022f20: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-00022f30: 2020 2020 2020 2020 2020 206c 6162 656c             label
-00022f40: 5f69 6420 2869 6e74 293a 204c 6162 656c  _id (int): Label
-00022f50: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
-00022f60: 6465 7669 6365 5f74 7970 6520 2873 7472  device_type (str
-00022f70: 293a 2044 6576 6963 6520 7479 7065 2e20  ): Device type. 
-00022f80: 4974 2069 7320 6569 7468 6572 2049 4150  It is either IAP
-00022f90: 2c20 5357 4954 4348 206f 7220 434f 4e54  , SWITCH or CONT
-00022fa0: 524f 4c4c 4552 2020 5661 6c69 6420 5661  ROLLER  Valid Va
-00022fb0: 6c75 6573 3a0a 2020 2020 2020 2020 2020  lues:.          
-00022fc0: 2020 2020 2020 6170 2c20 6777 2c20 7377        ap, gw, sw
-00022fd0: 6974 6368 0a20 2020 2020 2020 2020 2020  itch.           
-00022fe0: 2073 6572 6961 6c5f 6e75 6d73 2028 7374   serial_nums (st
-00022ff0: 7220 7c20 4c69 7374 5b73 7472 5d29 3a20  r | List[str]): 
-00023000: 4c69 7374 206f 6620 6465 7669 6365 2073  List of device s
-00023010: 6572 6961 6c20 6e75 6d62 6572 7320 6f66  erial numbers of
-00023020: 2074 6865 2064 6576 6963 6573 2074 6f20   the devices to 
-00023030: 7768 6963 6820 7468 6520 6c61 6265 6c0a  which the label.
-00023040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023050: 6861 7320 746f 2062 6520 756e 2f61 7373  has to be un/ass
-00023060: 6f63 6961 7465 6420 7769 7468 2e20 4120  ociated with. A 
-00023070: 6d61 7869 6d75 6d20 6f66 2035 3030 3020  maximum of 5000 
-00023080: 6465 7669 6365 2073 6572 6961 6c73 2061  device serials a
-00023090: 7265 2061 6c6c 6f77 6564 2061 7420 6f6e  re allowed at on
-000230a0: 6365 2e0a 0a20 2020 2020 2020 2052 6574  ce...        Ret
-000230b0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-000230c0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-000230d0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-000230e0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-000230f0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-00023100: 2022 2f63 656e 7472 616c 2f76 322f 6c61   "/central/v2/la
-00023110: 6265 6c73 2f61 7373 6f63 6961 7469 6f6e  bels/association
-00023120: 7322 0a20 2020 2020 2020 2073 6572 6961  s".        seria
-00023130: 6c5f 6e75 6d73 203d 2075 7469 6c73 2e6c  l_nums = utils.l
-00023140: 6973 7469 6679 2873 6572 6961 6c5f 6e75  istify(serial_nu
-00023150: 6d73 290a 2020 2020 2020 2020 6465 7669  ms).        devi
-00023160: 6365 5f74 7970 6520 3d20 636f 6e73 7461  ce_type = consta
-00023170: 6e74 732e 6c69 625f 746f 5f61 7069 2822  nts.lib_to_api("
-00023180: 7369 7465 222c 2064 6576 6963 655f 7479  site", device_ty
-00023190: 7065 290a 0a20 2020 2020 2020 206a 736f  pe)..        jso
-000231a0: 6e5f 6461 7461 203d 207b 0a20 2020 2020  n_data = {.     
-000231b0: 2020 2020 2020 2027 6c61 6265 6c5f 6964         'label_id
-000231c0: 273a 206c 6162 656c 5f69 642c 0a20 2020  ': label_id,.   
-000231d0: 2020 2020 2020 2020 2027 6465 7669 6365           'device
-000231e0: 5f74 7970 6527 3a20 6465 7669 6365 5f74  _type': device_t
-000231f0: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
-00023200: 2027 6465 7669 6365 5f69 6473 273a 2073   'device_ids': s
-00023210: 6572 6961 6c5f 6e75 6d73 0a20 2020 2020  erial_nums.     
-00023220: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-00023230: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00023240: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-00023250: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
-00023260: 2020 2020 2320 544f 444f 206d 616b 6520      # TODO make 
-00023270: 666f 726d 6174 206f 6620 7468 6973 2061  format of this a
-00023280: 6e64 206f 7468 6572 206c 6162 656c 206d  nd other label m
-00023290: 6574 686f 6473 206d 6174 6368 2073 6974  ethods match sit
-000232a0: 6520 6d65 7468 6f64 730a 2020 2020 6173  e methods.    as
-000232b0: 796e 6320 6465 6620 7265 6d6f 7665 5f6c  ync def remove_l
-000232c0: 6162 656c 5f66 726f 6d5f 6465 7669 6365  abel_from_device
-000232d0: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
-000232e0: 0a20 2020 2020 2020 206c 6162 656c 5f69  .        label_i
-000232f0: 643a 2069 6e74 2c0a 2020 2020 2020 2020  d: int,.        
-00023300: 6465 7669 6365 5f74 7970 653a 2073 7472  device_type: str
-00023310: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
-00023320: 5f6e 756d 733a 204c 6973 745b 7374 725d  _nums: List[str]
-00023330: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
-00023340: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-00023350: 756e 6173 7369 676e 2061 206c 6162 656c  unassign a label
-00023360: 2066 726f 6d20 6120 6c69 7374 206f 6620   from a list of 
-00023370: 6465 7669 6365 732e 0a0a 2020 2020 2020  devices...      
-00023380: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-00023390: 2020 2020 6c61 6265 6c5f 6964 2028 696e      label_id (in
-000233a0: 7429 3a20 4c61 6265 6c20 4944 0a20 2020  t): Label ID.   
-000233b0: 2020 2020 2020 2020 2064 6576 6963 655f           device_
-000233c0: 7479 7065 2028 7374 7229 3a20 4465 7669  type (str): Devi
-000233d0: 6365 2074 7970 652e 204f 6e65 206f 6620  ce type. One of 
-000233e0: 6170 2c20 6777 2c20 7377 6974 6368 0a20  ap, gw, switch. 
-000233f0: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-00023400: 6c5f 6e75 6d73 2028 7374 7220 7c20 4c69  l_nums (str | Li
-00023410: 7374 5b73 7472 5d29 3a20 4c69 7374 206f  st[str]): List o
-00023420: 6620 6465 7669 6365 2073 6572 6961 6c20  f device serial 
-00023430: 6e75 6d62 6572 7320 6f66 2074 6865 2064  numbers of the d
-00023440: 6576 6963 6573 2074 6f20 7768 6963 6820  evices to which 
-00023450: 7468 6520 6c61 6265 6c0a 2020 2020 2020  the label.      
-00023460: 2020 2020 2020 2020 2020 6861 7320 746f            has to
-00023470: 2062 6520 756e 2f61 7373 6f63 6961 7465   be un/associate
-00023480: 6420 7769 7468 2e20 4120 6d61 7869 6d75  d with. A maximu
-00023490: 6d20 6f66 2035 3030 3020 6465 7669 6365  m of 5000 device
-000234a0: 2073 6572 6961 6c73 2061 7265 2061 6c6c   serials are all
-000234b0: 6f77 6564 2061 7420 6f6e 6365 2e0a 0a20  owed at once... 
-000234c0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-000234d0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-000234e0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-000234f0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-00023500: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00023510: 2020 2020 2075 726c 203d 2022 2f63 656e       url = "/cen
-00023520: 7472 616c 2f76 322f 6c61 6265 6c73 2f61  tral/v2/labels/a
-00023530: 7373 6f63 6961 7469 6f6e 7322 0a20 2020  ssociations".   
-00023540: 2020 2020 2073 6572 6961 6c5f 6e75 6d73       serial_nums
-00023550: 203d 2075 7469 6c73 2e6c 6973 7469 6679   = utils.listify
-00023560: 2873 6572 6961 6c5f 6e75 6d73 290a 2020  (serial_nums).  
-00023570: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
-00023580: 6520 3d20 636f 6e73 7461 6e74 732e 6c69  e = constants.li
-00023590: 625f 746f 5f61 7069 2822 7369 7465 222c  b_to_api("site",
-000235a0: 2064 6576 6963 655f 7479 7065 290a 0a20   device_type).. 
-000235b0: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
-000235c0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-000235d0: 2027 6c61 6265 6c5f 6964 273a 206c 6162   'label_id': lab
-000235e0: 656c 5f69 642c 0a20 2020 2020 2020 2020  el_id,.         
-000235f0: 2020 2027 6465 7669 6365 5f74 7970 6527     'device_type'
-00023600: 3a20 6465 7669 6365 5f74 7970 652c 0a20  : device_type,. 
-00023610: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
-00023620: 6365 5f69 6473 273a 2073 6572 6961 6c5f  ce_ids': serial_
-00023630: 6e75 6d73 0a20 2020 2020 2020 207d 0a0a  nums.        }..
-00023640: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-00023650: 7761 6974 2073 656c 662e 6465 6c65 7465  wait self.delete
-00023660: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
-00023670: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
-00023680: 2320 4150 492d 464c 4157 2072 6574 7572  # API-FLAW retur
-00023690: 6e73 2065 6d70 7479 2070 6179 6c6f 6164  ns empty payload
-000236a0: 202f 2072 6573 706f 6e73 6520 6f6e 2073   / response on s
-000236b0: 7563 6365 7373 2032 3030 0a20 2020 2061  uccess 200.    a
-000236c0: 7379 6e63 2064 6566 2064 656c 6574 655f  sync def delete_
-000236d0: 6c61 6265 6c28 0a20 2020 2020 2020 2073  label(.        s
-000236e0: 656c 662c 0a20 2020 2020 2020 206c 6162  elf,.        lab
-000236f0: 656c 5f69 643a 2069 6e74 2c0a 2020 2020  el_id: int,.    
-00023700: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00023710: 2020 2020 2020 2022 2222 4465 6c65 7465         """Delete
-00023720: 204c 6162 656c 2e0a 0a20 2020 2020 2020   Label...       
-00023730: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-00023740: 2020 206c 6162 656c 5f69 6420 2869 6e74     label_id (int
-00023750: 293a 204c 6162 656c 2049 440a 0a20 2020  ): Label ID..   
-00023760: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-00023770: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-00023780: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-00023790: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-000237a0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000237b0: 2020 2075 726c 203d 2066 222f 6365 6e74     url = f"/cent
-000237c0: 7261 6c2f 7631 2f6c 6162 656c 732f 7b6c  ral/v1/labels/{l
-000237d0: 6162 656c 5f69 647d 220a 0a20 2020 2020  abel_id}"..     
-000237e0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-000237f0: 7365 6c66 2e64 656c 6574 6528 7572 6c29  self.delete(url)
-00023800: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00023810: 6765 745f 6465 7669 6365 5f69 705f 726f  get_device_ip_ro
-00023820: 7574 6573 280a 2020 2020 2020 2020 7365  utes(.        se
-00023830: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
-00023840: 616c 5f6e 756d 3a20 7374 722c 0a20 2020  al_num: str,.   
-00023850: 2020 2020 2061 7069 3a20 7374 7220 3d20       api: str = 
-00023860: 2256 3122 2c0a 2020 2020 2020 2020 6f66  "V1",.        of
-00023870: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
-00023880: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
-00023890: 7420 3d20 3130 300a 2020 2020 2920 2d3e  t = 100.    ) ->
-000238a0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-000238b0: 2020 2022 2222 4765 7420 726f 7574 6573     """Get routes
-000238c0: 2066 6f72 2061 2064 6576 6963 652e 0a0a   for a device...
-000238d0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-000238e0: 2020 2020 2020 2020 2020 7365 7269 616c            serial
-000238f0: 5f6e 756d 2028 7374 7229 3a20 4465 7669  _num (str): Devi
-00023900: 6365 2073 6572 6961 6c20 6e75 6d62 6572  ce serial number
-00023910: 0a20 2020 2020 2020 2020 2020 2061 7069  .            api
-00023920: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00023930: 3a20 4150 4920 7665 7273 696f 6e20 2856  : API version (V
-00023940: 307c 5631 292c 2044 6566 6175 6c74 7320  0|V1), Defaults 
-00023950: 746f 2056 312e 0a20 2020 2020 2020 2020  to V1..         
-00023960: 2020 206f 6666 7365 7420 2873 7472 2c20     offset (str, 
-00023970: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
-00023980: 6174 696f 6e20 6f66 6673 6574 2e0a 2020  ation offset..  
-00023990: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
-000239a0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-000239b0: 2070 6167 6520 7369 7a65 2044 6566 6175   page size Defau
-000239c0: 6c74 7320 746f 2031 3030 2e0a 0a20 2020  lts to 100...   
-000239d0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-000239e0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-000239f0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-00023a00: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-00023a10: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00023a20: 2020 2075 726c 203d 2022 2f61 7069 2f72     url = "/api/r
-00023a30: 6f75 7469 6e67 2f76 312f 726f 7574 6522  outing/v1/route"
-00023a40: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
-00023a50: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00023a60: 2027 6465 7669 6365 273a 2073 6572 6961   'device': seria
-00023a70: 6c5f 6e75 6d2c 0a20 2020 2020 2020 2020  l_num,.         
-00023a80: 2020 2027 6170 6927 3a20 6170 692c 0a20     'api': api,. 
-00023a90: 2020 2020 2020 2020 2020 2027 6d61 726b             'mark
-00023aa0: 6572 273a 206f 6666 7365 742c 0a20 2020  er': offset,.   
-00023ab0: 2020 2020 2020 2020 2027 6c69 6d69 7427           'limit'
-00023ac0: 3a20 6c69 6d69 740a 2020 2020 2020 2020  : limit.        
-00023ad0: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-00023ae0: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-00023af0: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-00023b00: 616d 7329 0a0a 2020 2020 2320 544f 444f  ams)..    # TODO
-00023b10: 206d 616b 6520 6164 645f 6465 7669 6365   make add_device
-00023b20: 2061 6374 7561 6c20 6675 6e63 2073 6570   actual func sep
-00023b30: 2061 6e64 206d 616b 6520 7468 6973 2061   and make this a
-00023b40: 6e20 6167 6772 6567 6174 6f72 2074 6861  n aggregator tha
-00023b50: 7420 6361 6c6c 7320 6974 2061 6e64 2061  t calls it and a
-00023b60: 6e79 7468 696e 6720 656c 7365 2062 6173  nything else bas
-00023b70: 6564 206f 6e20 7061 7261 6d73 0a20 2020  ed on params.   
-00023b80: 2061 7379 6e63 2064 6566 2061 6464 5f64   async def add_d
-00023b90: 6576 6963 6573 280a 2020 2020 2020 2020  evices(.        
-00023ba0: 7365 6c66 2c0a 2020 2020 2020 2020 6d61  self,.        ma
-00023bb0: 635f 6164 6472 6573 733a 2073 7472 203d  c_address: str =
-00023bc0: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-00023bd0: 6572 6961 6c5f 6e75 6d3a 2073 7472 203d  erial_num: str =
-00023be0: 204e 6f6e 652c 0a20 2020 2020 2020 2067   None,.        g
-00023bf0: 726f 7570 3a20 7374 7220 3d20 4e6f 6e65  roup: str = None
-00023c00: 2c0a 2020 2020 2020 2020 2320 7369 7465  ,.        # site
-00023c10: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
-00023c20: 2020 2020 2020 7061 7274 5f6e 756d 3a20        part_num: 
-00023c30: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00023c40: 2020 2020 6c69 6365 6e73 653a 2055 6e69      license: Uni
-00023c50: 6f6e 5b73 7472 2c20 4c69 7374 5b73 7472  on[str, List[str
-00023c60: 5d5d 203d 204e 6f6e 652c 0a20 2020 2020  ]] = None,.     
-00023c70: 2020 2064 6576 6963 655f 6c69 7374 3a20     device_list: 
-00023c80: 4c69 7374 5b44 6963 745b 7374 722c 2073  List[Dict[str, s
-00023c90: 7472 5d5d 203d 204e 6f6e 650a 2020 2020  tr]] = None.    
-00023ca0: 2920 2d3e 2055 6e69 6f6e 5b52 6573 706f  ) -> Union[Respo
-00023cb0: 6e73 652c 204c 6973 745b 5265 7370 6f6e  nse, List[Respon
-00023cc0: 7365 5d5d 3a0a 2020 2020 2020 2020 2222  se]]:.        ""
-00023cd0: 2241 6464 2064 6576 6963 6528 7329 2075  "Add device(s) u
-00023ce0: 7369 6e67 204d 6163 2061 6e64 2053 6572  sing Mac and Ser
-00023cf0: 6961 6c20 6e75 6d62 6572 2028 7061 7274  ial number (part
-00023d00: 5f6e 756d 2061 6c73 6f20 7265 7175 6972  _num also requir
-00023d10: 6564 2066 6f72 2043 6f50 290a 2020 2020  ed for CoP).    
-00023d20: 2020 2020 5769 6c6c 2061 6c73 6f20 7072      Will also pr
-00023d30: 652d 6173 7369 676e 2064 6576 6963 6520  e-assign device 
-00023d40: 746f 2067 726f 7570 2069 6620 7072 6f76  to group if prov
-00023d50: 6964 6564 0a0a 2020 2020 2020 2020 4569  ided..        Ei
-00023d60: 7468 6572 206d 6163 5f61 6464 7265 7373  ther mac_address
-00023d70: 2061 6e64 2073 6572 6961 6c5f 6e75 6d20   and serial_num 
-00023d80: 6f72 2064 6576 6963 655f 6c69 7374 2028  or device_list (
-00023d90: 7768 6963 6820 7368 6f75 6c64 2063 6f6e  which should con
-00023da0: 7461 696e 2061 2064 6963 7420 7769 7468  tain a dict with
-00023db0: 206d 6163 2073 6572 6961 6c29 2061 7265   mac serial) are
-00023dc0: 2072 6571 7569 7265 642e 0a20 2020 2020   required..     
-00023dd0: 2020 202f 2f20 5573 6564 2062 7920 6164     // Used by ad
-00023de0: 6420 6465 7669 6365 2061 6e64 2062 6174  d device and bat
-00023df0: 6368 2061 6464 2064 6576 6963 6573 202f  ch add devices /
-00023e00: 2f0a 0a20 2020 2020 2020 2041 7267 733a  /..        Args:
-00023e10: 0a20 2020 2020 2020 2020 2020 206d 6163  .            mac
-00023e20: 5f61 6464 7265 7373 2028 7374 722c 206f  _address (str, o
-00023e30: 7074 696f 6e61 6c29 3a20 4d41 4320 6164  ptional): MAC ad
-00023e40: 6472 6573 7320 6f66 2064 6576 6963 6520  dress of device 
-00023e50: 746f 2062 6520 6164 6465 640a 2020 2020  to be added.    
-00023e60: 2020 2020 2020 2020 7365 7269 616c 5f6e          serial_n
-00023e70: 756d 2028 7374 722c 206f 7074 696f 6e61  um (str, optiona
-00023e80: 6c29 3a20 5365 7269 616c 206e 756d 6265  l): Serial numbe
-00023e90: 7220 6f66 2064 6576 6963 6520 746f 2062  r of device to b
-00023ea0: 6520 6164 6465 640a 2020 2020 2020 2020  e added.        
-00023eb0: 2020 2020 6772 6f75 7020 2873 7472 2c20      group (str, 
-00023ec0: 6f70 7469 6f6e 616c 293a 2041 6464 2064  optional): Add d
-00023ed0: 6576 6963 6520 746f 2070 7265 2d70 726f  evice to pre-pro
-00023ee0: 7669 7369 6f6e 6564 2067 726f 7570 2028  visioned group (
-00023ef0: 6164 6469 7469 6f6e 616c 2041 5049 2063  additional API c
-00023f00: 616c 6c20 6973 206d 6164 6529 0a20 2020  all is made).   
-00023f10: 2020 2020 2020 2020 2073 6974 6520 2869           site (i
-00023f20: 6e74 2c20 6f70 7469 6f6e 616c 293a 202d  nt, optional): -
-00023f30: 2d20 4e6f 7420 696d 706c 656d 656e 7465  - Not implemente
-00023f40: 6420 2d2d 2053 6974 6520 4944 0a20 2020  d -- Site ID.   
-00023f50: 2020 2020 2020 2020 2070 6172 745f 6e75           part_nu
-00023f60: 6d20 2873 7472 2c20 6f70 7469 6f6e 616c  m (str, optional
-00023f70: 293a 2050 6172 7420 4e75 6d62 6572 2069  ): Part Number i
-00023f80: 7320 7265 7175 6972 6564 2066 6f72 2043  s required for C
-00023f90: 656e 7472 616c 204f 6e20 5072 656d 2e0a  entral On Prem..
-00023fa0: 2020 2020 2020 2020 2020 2020 6c69 6365              lice
-00023fb0: 6e73 6520 2873 7472 7c4c 6973 7428 7374  nse (str|List(st
-00023fc0: 7229 2c20 6f70 7469 6f6e 616c 293a 2054  r), optional): T
-00023fd0: 6865 2073 7562 7363 7269 7074 696f 6e20  he subscription 
-00023fe0: 6c69 6365 6e73 6528 7329 2074 6f20 6173  license(s) to as
-00023ff0: 7369 676e 2e0a 2020 2020 2020 2020 2020  sign..          
-00024000: 2020 6465 7669 6365 5f6c 6973 7420 284c    device_list (L
-00024010: 6973 745b 4469 6374 5b73 7472 2c20 7374  ist[Dict[str, st
-00024020: 725d 5d2c 206f 7074 696f 6e61 6c29 3a20  r]], optional): 
-00024030: 4c69 7374 206f 6620 6469 6374 7320 7769  List of dicts wi
-00024040: 7468 206d 6163 2c20 7365 7269 616c 2066  th mac, serial f
-00024050: 6f72 2065 6163 6820 6465 7669 6365 0a20  or each device. 
-00024060: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00024070: 6e64 206f 7074 696f 6e61 6c6c 7920 6772  nd optionally gr
-00024080: 6f75 702c 2070 6172 745f 6e75 6d2c 206c  oup, part_num, l
-00024090: 6963 656e 7365 2c0a 0a20 2020 2020 2020  icense,..       
-000240a0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-000240b0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-000240c0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-000240d0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-000240e0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-000240f0: 726c 203d 2022 2f70 6c61 7466 6f72 6d2f  rl = "/platform/
-00024100: 6465 7669 6365 5f69 6e76 656e 746f 7279  device_inventory
-00024110: 2f76 312f 6465 7669 6365 7322 0a20 2020  /v1/devices".   
-00024120: 2020 2020 206c 6963 656e 7365 5f6b 7761       license_kwa
-00024130: 7267 7320 3d20 5b5d 0a0a 2020 2020 2020  rgs = []..      
-00024140: 2020 6966 206c 6963 656e 7365 3a0a 2020    if license:.  
-00024150: 2020 2020 2020 2020 2020 6c69 6365 6e73            licens
-00024160: 655f 6b77 6172 6773 203d 205b 7b22 7365  e_kwargs = [{"se
-00024170: 7269 616c 7322 3a20 5b73 6572 6961 6c5f  rials": [serial_
-00024180: 6e75 6d5d 2c20 2273 6572 7669 6365 7322  num], "services"
-00024190: 3a20 7574 696c 732e 6c69 7374 6966 7928  : utils.listify(
-000241a0: 6c69 6365 6e73 6529 7d5d 0a20 2020 2020  license)}].     
-000241b0: 2020 2069 6620 7365 7269 616c 5f6e 756d     if serial_num
-000241c0: 2061 6e64 206d 6163 5f61 6464 7265 7373   and mac_address
-000241d0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-000241e0: 2064 6576 6963 655f 6c69 7374 3a0a 2020   device_list:.  
-000241f0: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-00024200: 6973 6520 5661 6c75 6545 7272 6f72 2822  ise ValueError("
-00024210: 7365 7269 616c 5f6e 756d 2061 6e64 206d  serial_num and m
-00024220: 6163 5f61 6464 7265 7373 2061 7265 206e  ac_address are n
-00024230: 6f74 2065 7870 6563 7465 6420 7768 656e  ot expected when
-00024240: 2064 6576 6963 655f 6c69 7374 2069 7320   device_list is 
-00024250: 6265 696e 6720 7072 6f76 6964 6564 2e22  being provided."
-00024260: 290a 0a20 2020 2020 2020 2020 2020 2074  )..            t
-00024270: 6f5f 6772 6f75 7020 3d20 4e6f 6e65 2069  o_group = None i
-00024280: 6620 6e6f 7420 6772 6f75 7020 656c 7365  f not group else
-00024290: 207b 6772 6f75 703a 205b 7365 7269 616c   {group: [serial
-000242a0: 5f6e 756d 5d7d 0a20 2020 2020 2020 2020  _num]}.         
-000242b0: 2020 2023 2074 6f5f 7369 7465 203d 204e     # to_site = N
-000242c0: 6f6e 6520 6966 206e 6f74 2073 6974 6520  one if not site 
-000242d0: 656c 7365 207b 7369 7465 3a20 5b73 6572  else {site: [ser
-000242e0: 6961 6c5f 6e75 6d5d 7d0a 0a20 2020 2020  ial_num]}..     
-000242f0: 2020 2020 2020 206d 6163 203d 2075 7469         mac = uti
-00024300: 6c73 2e4d 6163 286d 6163 5f61 6464 7265  ls.Mac(mac_addre
-00024310: 7373 290a 2020 2020 2020 2020 2020 2020  ss).            
-00024320: 6966 206e 6f74 206d 6163 3a0a 2020 2020  if not mac:.    
-00024330: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00024340: 6520 5661 6c75 6545 7272 6f72 2866 226d  e ValueError(f"m
-00024350: 6163 5f61 6464 7265 7373 207b 6d61 635f  ac_address {mac_
-00024360: 6164 6472 6573 737d 2061 7070 6561 7273  address} appears
-00024370: 2074 6f20 6265 2069 6e76 616c 6964 2e22   to be invalid."
-00024380: 290a 0a20 2020 2020 2020 2020 2020 206a  )..            j
-00024390: 736f 6e5f 6461 7461 203d 205b 0a20 2020  son_data = [.   
-000243a0: 2020 2020 2020 2020 2020 2020 207b 0a20               {. 
-000243b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000243c0: 2020 2022 6d61 6322 3a20 6d61 632e 636f     "mac": mac.co
-000243d0: 6c73 2c0a 2020 2020 2020 2020 2020 2020  ls,.            
-000243e0: 2020 2020 2020 2020 2273 6572 6961 6c22          "serial"
-000243f0: 3a20 7365 7269 616c 5f6e 756d 0a20 2020  : serial_num.   
-00024400: 2020 2020 2020 2020 2020 2020 207d 0a20               }. 
-00024410: 2020 2020 2020 2020 2020 205d 0a20 2020             ].   
-00024420: 2020 2020 2020 2020 2069 6620 7061 7274           if part
-00024430: 5f6e 756d 3a0a 2020 2020 2020 2020 2020  _num:.          
-00024440: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
-00024450: 305d 5b22 7061 7274 4e75 6d62 6572 225d  0]["partNumber"]
-00024460: 203d 2070 6172 745f 6e75 6d0a 0a20 2020   = part_num..   
-00024470: 2020 2020 2065 6c69 6620 6465 7669 6365       elif device
-00024480: 5f6c 6973 743a 0a20 2020 2020 2020 2020  _list:.         
-00024490: 2020 2069 6620 6e6f 7420 6973 696e 7374     if not isinst
-000244a0: 616e 6365 2864 6576 6963 655f 6c69 7374  ance(device_list
-000244b0: 2c20 6c69 7374 2920 616e 6420 6e6f 7420  , list) and not 
-000244c0: 616c 6c28 6973 696e 7374 616e 6365 2864  all(isinstance(d
-000244d0: 2c20 6469 6374 2920 666f 7220 6420 696e  , dict) for d in
-000244e0: 2064 6576 6963 655f 6c69 7374 293a 0a20   device_list):. 
-000244f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00024500: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
-00024510: 2257 6865 6e20 7573 696e 6720 6465 7669  "When using devi
-00024520: 6365 5f6c 6973 7420 746f 2062 6174 6368  ce_list to batch
-00024530: 2061 6464 2064 6576 6963 6573 2c20 7468   add devices, th
-00024540: 6579 2073 686f 756c 6420 6265 2070 726f  ey should be pro
-00024550: 7669 6465 6420 6173 2061 206c 6973 7420  vided as a list 
-00024560: 6f66 2064 6963 7473 2229 0a0a 2020 2020  of dicts")..    
-00024570: 2020 2020 2020 2020 5f6b 6579 7320 3d20          _keys = 
-00024580: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
-00024590: 2020 226d 6163 5f61 6464 7265 7373 223a    "mac_address":
-000245a0: 2022 6d61 6322 2c0a 2020 2020 2020 2020   "mac",.        
-000245b0: 2020 2020 2020 2020 2273 6572 6961 6c5f          "serial_
-000245c0: 6e75 6d22 3a20 2273 6572 6961 6c22 2c0a  num": "serial",.
-000245d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000245e0: 2270 6172 745f 6e75 6d22 3a20 2270 6172  "part_num": "par
-000245f0: 744e 756d 6265 7222 0a20 2020 2020 2020  tNumber".       
-00024600: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-00024610: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
-00024620: 5b5d 0a20 2020 2020 2020 2020 2020 2066  [].            f
-00024630: 6f72 2064 2069 6e20 6465 7669 6365 5f6c  or d in device_l
-00024640: 6973 743a 0a20 2020 2020 2020 2020 2020  ist:.           
-00024650: 2020 2020 206d 6163 203d 2064 2e67 6574       mac = d.get
-00024660: 2822 6d61 6322 2c20 642e 6765 7428 226d  ("mac", d.get("m
-00024670: 6163 5f61 6464 7265 7373 2229 290a 2020  ac_address")).  
-00024680: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00024690: 206e 6f74 206d 6163 3a0a 2020 2020 2020   not mac:.      
-000246a0: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-000246b0: 6973 6520 5661 6c75 6545 7272 6f72 2866  ise ValueError(f
-000246c0: 224e 6f20 4d61 6320 4164 6472 6573 7320  "No Mac Address 
-000246d0: 666f 756e 6420 666f 7220 656e 7472 7920  found for entry 
-000246e0: 7b64 7d22 290a 2020 2020 2020 2020 2020  {d}").          
-000246f0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00024700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024710: 6d61 6320 3d20 7574 696c 732e 4d61 6328  mac = utils.Mac(
-00024720: 6d61 6329 0a20 2020 2020 2020 2020 2020  mac).           
-00024730: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-00024740: 6d61 633a 0a20 2020 2020 2020 2020 2020  mac:.           
-00024750: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-00024760: 7365 2056 616c 7565 4572 726f 7228 6622  se ValueError(f"
-00024770: 4d61 6320 4164 6472 6573 7320 7b6d 6163  Mac Address {mac
-00024780: 7d20 6170 7065 6172 7320 746f 2062 6520  } appears to be 
-00024790: 696e 7661 6c69 642e 2229 0a20 2020 2020  invalid.").     
-000247a0: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-000247b0: 6c20 3d20 642e 6765 7428 2273 6572 6961  l = d.get("seria
-000247c0: 6c22 2c20 642e 6765 7428 2273 6572 6961  l", d.get("seria
-000247d0: 6c5f 6e75 6d22 2929 0a20 2020 2020 2020  l_num")).       
-000247e0: 2020 2020 2020 2020 205f 7468 6973 5f64           _this_d
-000247f0: 6963 7420 3d20 7b22 6d61 6322 3a20 6d61  ict = {"mac": ma
-00024800: 632e 636f 6c73 2c20 2273 6572 6961 6c22  c.cols, "serial"
-00024810: 3a20 7365 7269 616c 7d0a 2020 2020 2020  : serial}.      
-00024820: 2020 2020 2020 2020 2020 7061 7274 5f6e            part_n
-00024830: 756d 203d 2064 2e67 6574 2822 7061 7274  um = d.get("part
-00024840: 5f6e 756d 222c 2064 2e67 6574 2822 7061  _num", d.get("pa
-00024850: 7274 4e75 6d62 6572 2229 290a 2020 2020  rtNumber")).    
-00024860: 2020 2020 2020 2020 2020 2020 6966 2070              if p
-00024870: 6172 745f 6e75 6d3a 0a20 2020 2020 2020  art_num:.       
-00024880: 2020 2020 2020 2020 2020 2020 205f 7468               _th
-00024890: 6973 5f64 6963 745b 2270 6172 744e 756d  is_dict["partNum
-000248a0: 6265 7222 5d20 3d20 7061 7274 5f6e 756d  ber"] = part_num
-000248b0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000248c0: 2020 6a73 6f6e 5f64 6174 6120 2b3d 205b    json_data += [
-000248d0: 5f74 6869 735f 6469 6374 5d0a 0a20 2020  _this_dict]..   
-000248e0: 2020 2020 2020 2020 2074 6f5f 6772 6f75           to_grou
-000248f0: 7020 3d20 7b64 2e67 6574 2822 6772 6f75  p = {d.get("grou
-00024900: 7022 293a 205b 5d20 666f 7220 6420 696e  p"): [] for d in
-00024910: 2064 6576 6963 655f 6c69 7374 2069 6620   device_list if 
-00024920: 2267 726f 7570 2220 696e 2064 7d0a 2020  "group" in d}.  
-00024930: 2020 2020 2020 2020 2020 666f 7220 6420            for d 
-00024940: 696e 2064 6576 6963 655f 6c69 7374 3a0a  in device_list:.
-00024950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024960: 6966 2022 6772 6f75 7022 2069 6e20 643a  if "group" in d:
-00024970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024980: 2020 2020 2074 6f5f 6772 6f75 705b 645b       to_group[d[
-00024990: 2267 726f 7570 225d 5d2e 6170 7065 6e64  "group"]].append
-000249a0: 2864 2e67 6574 2822 7365 7269 616c 5f6e  (d.get("serial_n
-000249b0: 756d 222c 2064 2e67 6574 2822 7365 7269  um", d.get("seri
-000249c0: 616c 2229 2929 0a0a 2020 2020 2020 2020  al")))..        
-000249d0: 2020 2020 2320 746f 5f73 6974 6520 3d20      # to_site = 
-000249e0: 7b64 2e67 6574 2822 7369 7465 2229 3a20  {d.get("site"): 
-000249f0: 5b5d 2066 6f72 2064 2069 6e20 6465 7669  [] for d in devi
-00024a00: 6365 5f6c 6973 7420 6966 2022 7369 7465  ce_list if "site
-00024a10: 2220 696e 2064 7d0a 2020 2020 2020 2020  " in d}.        
-00024a20: 2020 2020 2320 666f 7220 6420 696e 2064      # for d in d
-00024a30: 6576 6963 655f 6c69 7374 3a0a 2020 2020  evice_list:.    
-00024a40: 2020 2020 2020 2020 2320 2020 2020 6966          #     if
-00024a50: 2022 7369 7465 2220 696e 2064 3a0a 2020   "site" in d:.  
-00024a60: 2020 2020 2020 2020 2020 2320 2020 2020            #     
-00024a70: 2020 2020 746f 5f73 6974 655b 645b 2273      to_site[d["s
-00024a80: 6974 6522 5d5d 2e61 7070 656e 6428 642e  ite"]].append(d.
-00024a90: 6765 7428 2273 6572 6961 6c5f 6e75 6d22  get("serial_num"
-00024aa0: 2c20 642e 6765 7428 2273 6572 6961 6c22  , d.get("serial"
-00024ab0: 2929 290a 0a20 2020 2020 2020 2020 2020  )))..           
-00024ac0: 2023 2047 6174 6865 7220 616c 6c20 7365   # Gather all se
-00024ad0: 7269 616c 7320 666f 7220 6561 6368 206c  rials for each l
-00024ae0: 6963 656e 7365 2063 6f6d 6269 6e61 7469  icense combinati
-00024af0: 6f6e 2066 726f 6d20 6465 7669 6365 5f6c  on from device_l
-00024b00: 6973 740a 2020 2020 2020 2020 2020 2020  ist.            
-00024b10: 2320 544f 444f 2074 6869 7320 6e65 6564  # TODO this need
-00024b20: 7320 746f 2062 6520 7465 7374 6564 0a20  s to be tested. 
-00024b30: 2020 2020 2020 2020 2020 205f 6c69 635f             _lic_
-00024b40: 6b77 6172 6773 203d 207b 7d0a 2020 2020  kwargs = {}.    
-00024b50: 2020 2020 2020 2020 666f 7220 6420 696e          for d in
-00024b60: 2064 6576 6963 655f 6c69 7374 3a0a 2020   device_list:.  
-00024b70: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00024b80: 2022 6c69 6365 6e73 6522 206e 6f74 2069   "license" not i
-00024b90: 6e20 643a 0a20 2020 2020 2020 2020 2020  n d:.           
-00024ba0: 2020 2020 2020 2020 2063 6f6e 7469 6e75           continu
-00024bb0: 650a 0a20 2020 2020 2020 2020 2020 2020  e..             
-00024bc0: 2020 2064 5b22 6c69 6365 6e73 6522 5d20     d["license"] 
-00024bd0: 3d20 7574 696c 732e 6c69 7374 6966 7928  = utils.listify(
-00024be0: 645b 226c 6963 656e 7365 225d 290a 2020  d["license"]).  
-00024bf0: 2020 2020 2020 2020 2020 2020 2020 5f6b                _k
-00024c00: 6579 203d 2066 227b 645b 276c 6963 656e  ey = f"{d['licen
-00024c10: 7365 275d 2069 6620 6c65 6e28 645b 276c  se'] if len(d['l
-00024c20: 6963 656e 7365 275d 2920 3d3d 2031 2065  icense']) == 1 e
-00024c30: 6c73 6520 277c 272e 6a6f 696e 2873 6f72  lse '|'.join(sor
-00024c40: 7465 6428 645b 276c 6963 656e 7365 275d  ted(d['license']
-00024c50: 2929 7d22 0a20 2020 2020 2020 2020 2020  ))}".           
-00024c60: 2020 2020 205f 7365 7269 616c 203d 2064       _serial = d
-00024c70: 2e67 6574 2822 7365 7269 616c 5f6e 756d  .get("serial_num
-00024c80: 222c 2064 2e67 6574 2822 7365 7269 616c  ", d.get("serial
-00024c90: 2229 290a 2020 2020 2020 2020 2020 2020  ")).            
-00024ca0: 2020 2020 6966 206e 6f74 205f 7365 7269      if not _seri
-00024cb0: 616c 3a0a 2020 2020 2020 2020 2020 2020  al:.            
-00024cc0: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
-00024cd0: 6c75 6545 7272 6f72 2866 224e 6f20 7365  lueError(f"No se
-00024ce0: 7269 616c 2066 6f75 6e64 2066 6f72 2064  rial found for d
-00024cf0: 6576 6963 653a 207b 647d 2229 0a0a 2020  evice: {d}")..  
-00024d00: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00024d10: 205f 6b65 7920 696e 205f 6c69 635f 6b77   _key in _lic_kw
-00024d20: 6172 6773 3a0a 2020 2020 2020 2020 2020  args:.          
-00024d30: 2020 2020 2020 2020 2020 5f6c 6963 5f6b            _lic_k
-00024d40: 7761 7267 735b 5f6b 6579 5d5b 2273 6572  wargs[_key]["ser
-00024d50: 6961 6c73 225d 202b 3d20 7574 696c 732e  ials"] += utils.
-00024d60: 6c69 7374 6966 7928 5f73 6572 6961 6c29  listify(_serial)
-00024d70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024d80: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00024d90: 2020 2020 2020 2020 2020 205f 6c69 635f             _lic_
-00024da0: 6b77 6172 6773 5b5f 6b65 795d 203d 207b  kwargs[_key] = {
-00024db0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024dc0: 2020 2020 2020 2020 2022 7365 7276 6963           "servic
-00024dd0: 6573 223a 2075 7469 6c73 2e6c 6973 7469  es": utils.listi
-00024de0: 6679 2864 5b22 6c69 6365 6e73 6522 5d29  fy(d["license"])
-00024df0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00024e00: 2020 2020 2020 2020 2020 2273 6572 6961            "seria
-00024e10: 6c73 223a 2075 7469 6c73 2e6c 6973 7469  ls": utils.listi
-00024e20: 6679 285f 7365 7269 616c 290a 2020 2020  fy(_serial).    
+0001f9e0: 685f 6c69 6d69 745f 7570 273a 2062 616e  h_limit_up': ban
+0001f9f0: 6477 6964 7468 5f6c 696d 6974 5f75 702c  dwidth_limit_up,
+0001fa00: 0a20 2020 2020 2020 2020 2020 2027 6261  .            'ba
+0001fa10: 6e64 7769 6474 685f 6c69 6d69 745f 646f  ndwidth_limit_do
+0001fa20: 776e 273a 2062 616e 6477 6964 7468 5f6c  wn': bandwidth_l
+0001fa30: 696d 6974 5f64 6f77 6e2c 0a20 2020 2020  imit_down,.     
+0001fa40: 2020 2020 2020 2027 6261 6e64 7769 6474         'bandwidt
+0001fa50: 685f 6c69 6d69 745f 7065 7275 7365 725f  h_limit_peruser_
+0001fa60: 7570 273a 2062 616e 6477 6964 7468 5f6c  up': bandwidth_l
+0001fa70: 696d 6974 5f70 6572 7573 6572 5f75 702c  imit_peruser_up,
+0001fa80: 0a20 2020 2020 2020 2020 2020 2027 6261  .            'ba
+0001fa90: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
+0001faa0: 7275 7365 725f 646f 776e 273a 2062 616e  ruser_down': ban
+0001fab0: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
+0001fac0: 7573 6572 5f64 6f77 6e2c 0a20 2020 2020  user_down,.     
+0001fad0: 2020 2020 2020 2027 6163 6365 7373 5f72         'access_r
+0001fae0: 756c 6573 273a 2061 6363 6573 735f 7275  ules': access_ru
+0001faf0: 6c65 730a 2020 2020 2020 2020 7d0a 0a20  les.        }.. 
+0001fb00: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+0001fb10: 6169 7420 7365 6c66 2e70 6174 6368 2875  ait self.patch(u
+0001fb20: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
+0001fb30: 6f6e 5f64 6174 6129 0a0a 2020 2020 6173  on_data)..    as
+0001fb40: 796e 6320 6465 6620 636f 6e66 6967 7572  ync def configur
+0001fb50: 6174 696f 6e5f 7570 6461 7465 5f77 6c61  ation_update_wla
+0001fb60: 6e5f 7632 280a 2020 2020 2020 2020 2020  n_v2(.          
+0001fb70: 2020 7365 6c66 2c20 6772 6f75 705f 6e61    self, group_na
+0001fb80: 6d65 5f6f 725f 6775 6964 3a20 7374 722c  me_or_guid: str,
+0001fb90: 2077 6c61 6e5f 6e61 6d65 3a20 7374 722c   wlan_name: str,
+0001fba0: 0a20 2020 2020 2020 2020 2020 2065 7373  .            ess
+0001fbb0: 6964 3a20 7374 722c 2074 7970 653a 2073  id: str, type: s
+0001fbc0: 7472 2c20 6869 6465 5f73 7369 643a 2062  tr, hide_ssid: b
+0001fbd0: 6f6f 6c2c 2076 6c61 6e3a 2073 7472 2c0a  ool, vlan: str,.
+0001fbe0: 2020 2020 2020 2020 2020 2020 7a6f 6e65              zone
+0001fbf0: 3a20 7374 722c 2077 7061 5f70 6173 7370  : str, wpa_passp
+0001fc00: 6872 6173 653a 2073 7472 2c0a 2020 2020  hrase: str,.    
+0001fc10: 2020 2020 2020 2020 7770 615f 7061 7373          wpa_pass
+0001fc20: 7068 7261 7365 5f63 6861 6e67 6564 3a20  phrase_changed: 
+0001fc30: 626f 6f6c 2c20 6973 5f6c 6f63 6b65 643a  bool, is_locked:
+0001fc40: 2062 6f6f 6c2c 0a20 2020 2020 2020 2020   bool,.         
+0001fc50: 2020 2063 6170 7469 7665 5f70 726f 6669     captive_profi
+0001fc60: 6c65 5f6e 616d 653a 2073 7472 2c20 6261  le_name: str, ba
+0001fc70: 6e64 7769 6474 685f 6c69 6d69 745f 7570  ndwidth_limit_up
+0001fc80: 3a20 7374 722c 0a20 2020 2020 2020 2020  : str,.         
+0001fc90: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
+0001fca0: 6974 5f64 6f77 6e3a 2073 7472 2c0a 2020  it_down: str,.  
+0001fcb0: 2020 2020 2020 2020 2020 6261 6e64 7769            bandwi
+0001fcc0: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
+0001fcd0: 725f 7570 3a20 7374 722c 0a20 2020 2020  r_up: str,.     
+0001fce0: 2020 2020 2020 2062 616e 6477 6964 7468         bandwidth
+0001fcf0: 5f6c 696d 6974 5f70 6572 7573 6572 5f64  _limit_peruser_d
+0001fd00: 6f77 6e3a 2073 7472 2c20 6163 6365 7373  own: str, access
+0001fd10: 5f72 756c 6573 3a20 6c69 7374 0a20 2020  _rules: list.   
+0001fd20: 2020 2020 2029 202d 3e20 5265 7370 6f6e       ) -> Respon
+0001fd30: 7365 3a0a 2020 2020 2020 2020 2222 2255  se:.        """U
+0001fd40: 7064 6174 6520 616e 2065 7869 7374 696e  pdate an existin
+0001fd50: 6720 574c 414e 2e0a 0a20 2020 2020 2020  g WLAN...       
+0001fd60: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+0001fd70: 2020 2067 726f 7570 5f6e 616d 655f 6f72     group_name_or
+0001fd80: 5f67 7569 6420 2873 7472 293a 2047 726f  _guid (str): Gro
+0001fd90: 7570 206e 616d 6520 6f66 2074 6865 2067  up name of the g
+0001fda0: 726f 7570 206f 7220 6775 6964 206f 6620  roup or guid of 
+0001fdb0: 7468 6520 7377 6172 6d2e 0a20 2020 2020  the swarm..     
+0001fdc0: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
+0001fdd0: 6c65 3a47 726f 7570 5f31 206f 7220 3661  le:Group_1 or 6a
+0001fde0: 3564 3132 3362 3031 6639 3434 3138 3036  5d123b01f9441806
+0001fdf0: 3234 3465 6136 6530 3233 6661 6235 3834  244ea6e023fab584
+0001fe00: 3162 3737 6338 3238 6130 3835 6630 3466  1b77c828a085f04f
+0001fe10: 2e0a 2020 2020 2020 2020 2020 2020 776c  ..            wl
+0001fe20: 616e 5f6e 616d 6520 2873 7472 293a 204e  an_name (str): N
+0001fe30: 616d 6520 6f66 2057 4c41 4e20 7365 6c65  ame of WLAN sele
+0001fe40: 6374 6564 2e20 2020 2020 2020 2020 2020  cted.           
+0001fe50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fe60: 2020 2045 7861 6d70 6c65 3a77 6c61 6e5f     Example:wlan_
+0001fe70: 312e 0a20 2020 2020 2020 2020 2020 2065  1..            e
+0001fe80: 7373 6964 2028 7374 7229 3a20 6573 7369  ssid (str): essi
+0001fe90: 640a 2020 2020 2020 2020 2020 2020 7479  d.            ty
+0001fea0: 7065 2028 7374 7229 3a20 7479 7065 2020  pe (str): type  
+0001feb0: 5661 6c69 6420 5661 6c75 6573 3a20 656d  Valid Values: em
+0001fec0: 706c 6f79 6565 2c20 6775 6573 740a 2020  ployee, guest.  
+0001fed0: 2020 2020 2020 2020 2020 6869 6465 5f73            hide_s
+0001fee0: 7369 6420 2862 6f6f 6c29 3a20 6869 6465  sid (bool): hide
+0001fef0: 5f73 7369 640a 2020 2020 2020 2020 2020  _ssid.          
+0001ff00: 2020 766c 616e 2028 7374 7229 3a20 766c    vlan (str): vl
+0001ff10: 616e 0a20 2020 2020 2020 2020 2020 207a  an.            z
+0001ff20: 6f6e 6520 2873 7472 293a 207a 6f6e 650a  one (str): zone.
+0001ff30: 2020 2020 2020 2020 2020 2020 7770 615f              wpa_
+0001ff40: 7061 7373 7068 7261 7365 2028 7374 7229  passphrase (str)
+0001ff50: 3a20 7770 615f 7061 7373 7068 7261 7365  : wpa_passphrase
+0001ff60: 0a20 2020 2020 2020 2020 2020 2077 7061  .            wpa
+0001ff70: 5f70 6173 7370 6872 6173 655f 6368 616e  _passphrase_chan
+0001ff80: 6765 6420 2862 6f6f 6c29 3a20 7770 615f  ged (bool): wpa_
+0001ff90: 7061 7373 7068 7261 7365 5f63 6861 6e67  passphrase_chang
+0001ffa0: 6564 0a20 2020 2020 2020 2020 2020 2069  ed.            i
+0001ffb0: 735f 6c6f 636b 6564 2028 626f 6f6c 293a  s_locked (bool):
+0001ffc0: 2069 735f 6c6f 636b 6564 0a20 2020 2020   is_locked.     
+0001ffd0: 2020 2020 2020 2063 6170 7469 7665 5f70         captive_p
+0001ffe0: 726f 6669 6c65 5f6e 616d 6520 2873 7472  rofile_name (str
+0001fff0: 293a 2063 6170 7469 7665 5f70 726f 6669  ): captive_profi
+00020000: 6c65 5f6e 616d 650a 2020 2020 2020 2020  le_name.        
+00020010: 2020 2020 6261 6e64 7769 6474 685f 6c69      bandwidth_li
+00020020: 6d69 745f 7570 2028 7374 7229 3a20 6261  mit_up (str): ba
+00020030: 6e64 7769 6474 685f 6c69 6d69 745f 7570  ndwidth_limit_up
+00020040: 0a20 2020 2020 2020 2020 2020 2062 616e  .            ban
+00020050: 6477 6964 7468 5f6c 696d 6974 5f64 6f77  dwidth_limit_dow
+00020060: 6e20 2873 7472 293a 2062 616e 6477 6964  n (str): bandwid
+00020070: 7468 5f6c 696d 6974 5f64 6f77 6e0a 2020  th_limit_down.  
+00020080: 2020 2020 2020 2020 2020 6261 6e64 7769            bandwi
+00020090: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
+000200a0: 725f 7570 2028 7374 7229 3a20 6261 6e64  r_up (str): band
+000200b0: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
+000200c0: 7365 725f 7570 0a20 2020 2020 2020 2020  ser_up.         
+000200d0: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
+000200e0: 6974 5f70 6572 7573 6572 5f64 6f77 6e20  it_peruser_down 
+000200f0: 2873 7472 293a 2062 616e 6477 6964 7468  (str): bandwidth
+00020100: 5f6c 696d 6974 5f70 6572 7573 6572 5f64  _limit_peruser_d
+00020110: 6f77 6e0a 2020 2020 2020 2020 2020 2020  own.            
+00020120: 6163 6365 7373 5f72 756c 6573 2028 6c69  access_rules (li
+00020130: 7374 293a 2061 6363 6573 735f 7275 6c65  st): access_rule
+00020140: 730a 0a20 2020 2020 2020 2052 6574 7572  s..        Retur
+00020150: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00020160: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+00020170: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+00020180: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+00020190: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
+000201a0: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
+000201b0: 7632 2f77 6c61 6e2f 7b67 726f 7570 5f6e  v2/wlan/{group_n
+000201c0: 616d 655f 6f72 5f67 7569 647d 2f7b 776c  ame_or_guid}/{wl
+000201d0: 616e 5f6e 616d 657d 220a 0a20 2020 2020  an_name}"..     
+000201e0: 2020 206a 736f 6e5f 6461 7461 203d 207b     json_data = {
+000201f0: 0a20 2020 2020 2020 2020 2020 2027 6573  .            'es
+00020200: 7369 6427 3a20 6573 7369 642c 0a20 2020  sid': essid,.   
+00020210: 2020 2020 2020 2020 2027 7479 7065 273a           'type':
+00020220: 2074 7970 652c 0a20 2020 2020 2020 2020   type,.         
+00020230: 2020 2027 6869 6465 5f73 7369 6427 3a20     'hide_ssid': 
+00020240: 6869 6465 5f73 7369 642c 0a20 2020 2020  hide_ssid,.     
+00020250: 2020 2020 2020 2027 766c 616e 273a 2076         'vlan': v
+00020260: 6c61 6e2c 0a20 2020 2020 2020 2020 2020  lan,.           
+00020270: 2027 7a6f 6e65 273a 207a 6f6e 652c 0a20   'zone': zone,. 
+00020280: 2020 2020 2020 2020 2020 2027 7770 615f             'wpa_
+00020290: 7061 7373 7068 7261 7365 273a 2077 7061  passphrase': wpa
+000202a0: 5f70 6173 7370 6872 6173 652c 0a20 2020  _passphrase,.   
+000202b0: 2020 2020 2020 2020 2027 7770 615f 7061           'wpa_pa
+000202c0: 7373 7068 7261 7365 5f63 6861 6e67 6564  ssphrase_changed
+000202d0: 273a 2077 7061 5f70 6173 7370 6872 6173  ': wpa_passphras
+000202e0: 655f 6368 616e 6765 642c 0a20 2020 2020  e_changed,.     
+000202f0: 2020 2020 2020 2027 6973 5f6c 6f63 6b65         'is_locke
+00020300: 6427 3a20 6973 5f6c 6f63 6b65 642c 0a20  d': is_locked,. 
+00020310: 2020 2020 2020 2020 2020 2027 6361 7074             'capt
+00020320: 6976 655f 7072 6f66 696c 655f 6e61 6d65  ive_profile_name
+00020330: 273a 2063 6170 7469 7665 5f70 726f 6669  ': captive_profi
+00020340: 6c65 5f6e 616d 652c 0a20 2020 2020 2020  le_name,.       
+00020350: 2020 2020 2027 6261 6e64 7769 6474 685f       'bandwidth_
+00020360: 6c69 6d69 745f 7570 273a 2062 616e 6477  limit_up': bandw
+00020370: 6964 7468 5f6c 696d 6974 5f75 702c 0a20  idth_limit_up,. 
+00020380: 2020 2020 2020 2020 2020 2027 6261 6e64             'band
+00020390: 7769 6474 685f 6c69 6d69 745f 646f 776e  width_limit_down
+000203a0: 273a 2062 616e 6477 6964 7468 5f6c 696d  ': bandwidth_lim
+000203b0: 6974 5f64 6f77 6e2c 0a20 2020 2020 2020  it_down,.       
+000203c0: 2020 2020 2027 6261 6e64 7769 6474 685f       'bandwidth_
+000203d0: 6c69 6d69 745f 7065 7275 7365 725f 7570  limit_peruser_up
+000203e0: 273a 2062 616e 6477 6964 7468 5f6c 696d  ': bandwidth_lim
+000203f0: 6974 5f70 6572 7573 6572 5f75 702c 0a20  it_peruser_up,. 
+00020400: 2020 2020 2020 2020 2020 2027 6261 6e64             'band
+00020410: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
+00020420: 7365 725f 646f 776e 273a 2062 616e 6477  ser_down': bandw
+00020430: 6964 7468 5f6c 696d 6974 5f70 6572 7573  idth_limit_perus
+00020440: 6572 5f64 6f77 6e2c 0a20 2020 2020 2020  er_down,.       
+00020450: 2020 2020 2027 6163 6365 7373 5f72 756c       'access_rul
+00020460: 6573 273a 2061 6363 6573 735f 7275 6c65  es': access_rule
+00020470: 730a 2020 2020 2020 2020 7d0a 0a20 2020  s.        }..   
+00020480: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+00020490: 7420 7365 6c66 2e70 7574 2875 726c 2c20  t self.put(url, 
+000204a0: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
+000204b0: 6174 6129 0a0a 2020 2020 2320 544f 444f  ata)..    # TODO
+000204c0: 2063 6861 6e67 7465 2074 6f20 7573 6520   changte to use 
+000204d0: 636f 6e73 6973 7465 6e74 2064 6576 2074  consistent dev t
+000204e0: 7065 2061 7020 6777 2063 7820 7377 0a20  pe ap gw cx sw. 
+000204f0: 2020 2023 2063 6f6e 7665 7274 2074 6f20     # convert to 
+00020500: 7468 6520 7374 7566 6620 6170 6967 7720  the stuff apigw 
+00020510: 7761 6e74 7320 696e 7369 6465 206d 6574  wants inside met
+00020520: 686f 640a 2020 2020 2320 4150 492d 464c  hod.    # API-FL
+00020530: 4157 206e 6f20 4150 4920 746f 2075 7067  AW no API to upg
+00020540: 7261 6465 2063 6c75 7374 6572 0a20 2020  rade cluster.   
+00020550: 2023 2068 7474 7073 3a2f 2f69 6e74 6572   # https://inter
+00020560: 6e61 6c2d 7569 2e63 656e 7472 616c 2e61  nal-ui.central.a
+00020570: 7275 6261 6e65 7477 6f72 6b73 2e63 6f6d  rubanetworks.com
+00020580: 2f66 6972 6d77 6172 652f 636f 6e74 726f  /firmware/contro
+00020590: 6c6c 6572 2f63 6c75 7374 6572 732f 7570  ller/clusters/up
+000205a0: 6772 6164 6520 6973 2077 6861 7420 7468  grade is what th
+000205b0: 6520 5549 2063 616c 6c73 2077 6865 6e20  e UI calls when 
+000205c0: 796f 7520 7570 6772 6164 6520 7669 6120  you upgrade via 
+000205d0: 5549 0a20 2020 2023 2070 6179 6c6f 6164  UI.    # payload
+000205e0: 3a20 7b22 7265 626f 6f74 223a 7472 7565  : {"reboot":true
+000205f0: 2c22 6669 726d 7761 7265 5f76 6572 7369  ,"firmware_versi
+00020600: 6f6e 223a 2231 302e 352e 302e 302d 6265  on":"10.5.0.0-be
+00020610: 7461 5f38 3730 3436 222c 2264 6576 6963  ta_87046","devic
+00020620: 6573 223a 5b5d 2c22 636c 7573 7465 7273  es":[],"clusters
+00020630: 223a 5b37 325d 2c22 7768 656e 223a 302c  ":[72],"when":0,
+00020640: 2274 696d 657a 6f6e 6522 3a22 2b30 303a  "timezone":"+00:
+00020650: 3030 222c 2270 6172 7469 7469 6f6e 223a  00","partition":
+00020660: 2270 7269 6d61 7279 227d 0a20 2020 2023  "primary"}.    #
+00020670: 2064 6576 6963 655f 7479 7065 2043 5820   device_type CX 
+00020680: 6973 206e 6f74 2076 616c 6964 0a20 2020  is not valid.   
+00020690: 2061 7379 6e63 2064 6566 2075 7067 7261   async def upgra
+000206a0: 6465 5f66 6972 6d77 6172 6528 0a20 2020  de_firmware(.   
+000206b0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+000206c0: 2020 2073 6368 6564 756c 6564 5f61 743a     scheduled_at:
+000206d0: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
+000206e0: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
+000206f0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00020700: 2020 2073 6572 6961 6c3a 2073 7472 203d     serial: str =
+00020710: 204e 6f6e 652c 0a20 2020 2020 2020 2067   None,.        g
+00020720: 726f 7570 3a20 7374 7220 3d20 4e6f 6e65  roup: str = None
+00020730: 2c0a 2020 2020 2020 2020 6465 7669 6365  ,.        device
+00020740: 5f74 7970 653a 204c 6974 6572 616c 5b22  _type: Literal["
+00020750: 4941 5022 2c20 224d 4153 222c 2022 4850  IAP", "MAS", "HP
+00020760: 222c 2022 434f 4e54 524f 4c4c 4552 225d  ", "CONTROLLER"]
+00020770: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00020780: 2066 6972 6d77 6172 655f 7665 7273 696f   firmware_versio
+00020790: 6e3a 2073 7472 203d 204e 6f6e 652c 0a20  n: str = None,. 
+000207a0: 2020 2020 2020 206d 6f64 656c 3a20 7374         model: st
+000207b0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+000207c0: 2020 7265 626f 6f74 3a20 626f 6f6c 203d    reboot: bool =
+000207d0: 2046 616c 7365 2c0a 2020 2020 2920 2d3e   False,.    ) ->
+000207e0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+000207f0: 2020 2022 2222 496e 6974 6961 7465 2066     """Initiate f
+00020800: 6972 6d77 6172 6520 7570 6772 6164 6520  irmware upgrade 
+00020810: 6f6e 2064 6576 6963 6528 7329 2e0a 0a20  on device(s)... 
+00020820: 2020 2020 2020 2059 6f75 2063 616e 206f         You can o
+00020830: 6e6c 7920 7370 6563 6966 7920 6f6e 6520  nly specify one 
+00020840: 6f66 2064 6576 6963 655f 7479 7065 2c20  of device_type, 
+00020850: 7377 6172 6d5f 6964 206f 7220 7365 7269  swarm_id or seri
+00020860: 616c 2070 6172 616d 6574 6572 730a 0a20  al parameters.. 
+00020870: 2020 2020 2020 202f 2f20 5573 6564 2062         // Used b
+00020880: 7920 7570 6772 6164 6520 5b64 6576 6963  y upgrade [devic
+00020890: 657c 6772 6f75 707c 7377 6172 6d5d 202f  e|group|swarm] /
+000208a0: 2f0a 0a20 2020 2020 2020 2041 7267 733a  /..        Args:
+000208b0: 0a20 2020 2020 2020 2020 2020 2073 6368  .            sch
+000208c0: 6564 756c 6564 5f61 7420 2869 6e74 2c20  eduled_at (int, 
+000208d0: 6f70 7469 6f6e 616c 293a 2057 6865 6e20  optional): When 
+000208e0: 746f 2073 6368 6564 756c 6520 7570 6772  to schedule upgr
+000208f0: 6164 6520 2865 706f 6368 2073 6563 6f6e  ade (epoch secon
+00020900: 6473 292e 2044 6566 6175 6c74 7320 746f  ds). Defaults to
+00020910: 204e 6f6e 6520 284e 6f77 292e 0a20 2020   None (Now)..   
+00020920: 2020 2020 2020 2020 2073 7761 726d 5f69           swarm_i
+00020930: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
+00020940: 293a 2055 7067 7261 6465 2061 2073 7065  ): Upgrade a spe
+00020950: 6369 6669 6320 7377 6172 6d20 6279 2069  cific swarm by i
+00020960: 642e 2044 6566 6175 6c74 7320 746f 204e  d. Defaults to N
+00020970: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
+00020980: 2073 6572 6961 6c20 2873 7472 2c20 6f70   serial (str, op
+00020990: 7469 6f6e 616c 293a 2055 7067 7261 6465  tional): Upgrade
+000209a0: 2061 2073 7065 6369 6669 6320 6465 7669   a specific devi
+000209b0: 6365 2062 7920 7365 7269 616c 2e20 4465  ce by serial. De
+000209c0: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
+000209d0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+000209e0: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
+000209f0: 293a 2055 7067 7261 6465 2064 6576 6963  ): Upgrade devic
+00020a00: 6573 2062 656c 6f6e 6769 6e67 2074 6f20  es belonging to 
+00020a10: 6772 6f75 702e 2044 6566 6175 6c74 7320  group. Defaults 
+00020a20: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
+00020a30: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
+00020a40: 2028 7374 725b 2249 4150 227c 224d 4153   (str["IAP"|"MAS
+00020a50: 227c 2248 5022 7c22 434f 4e54 524f 4c4c  "|"HP"|"CONTROLL
+00020a60: 4552 225d 293a 2054 7970 6520 6f66 2064  ER"]): Type of d
+00020a70: 6576 6963 6520 746f 2075 7067 7261 6465  evice to upgrade
+00020a80: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+00020a90: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
+00020aa0: 6669 726d 7761 7265 5f76 6572 7369 6f6e  firmware_version
+00020ab0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00020ac0: 3a20 5665 7273 696f 6e20 746f 2075 7067  : Version to upg
+00020ad0: 7261 6465 2074 6f2e 2044 6566 6175 6c74  rade to. Default
+00020ae0: 7320 746f 204e 6f6e 6528 7265 636f 6d6d  s to None(recomm
+00020af0: 656e 6465 6420 7665 7273 696f 6e29 2e0a  ended version)..
+00020b00: 2020 2020 2020 2020 2020 2020 6d6f 6465              mode
+00020b10: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
+00020b20: 293a 2054 6f20 696e 6974 6961 7465 2075  ): To initiate u
+00020b30: 7067 7261 6465 2061 7420 6772 6f75 7020  pgrade at group 
+00020b40: 6c65 7665 6c20 666f 7220 7370 6563 6966  level for specif
+00020b50: 6963 206d 6f64 656c 2066 616d 696c 792e  ic model family.
+00020b60: 2041 7070 6c69 6361 626c 650a 2020 2020   Applicable.    
+00020b70: 2020 2020 2020 2020 2020 2020 6f6e 6c79              only
+00020b80: 2066 6f72 2041 7275 6261 2073 7769 7463   for Aruba switc
+00020b90: 6865 732e 2044 6566 6175 6c74 7320 746f  hes. Defaults to
+00020ba0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+00020bb0: 2020 2072 6562 6f6f 7420 2862 6f6f 6c2c     reboot (bool,
+00020bc0: 206f 7074 696f 6e61 6c29 3a20 4175 746f   optional): Auto
+00020bd0: 6d61 7469 6361 6c6c 7920 7265 626f 6f74  matically reboot
+00020be0: 2064 6576 6963 6520 6166 7465 7220 6669   device after fi
+00020bf0: 726d 7761 7265 2064 6f77 6e6c 6f61 642e  rmware download.
+00020c00: 2044 6566 6175 6c74 7320 746f 2046 616c   Defaults to Fal
+00020c10: 7365 2e0a 0a20 2020 2020 2020 2052 6574  se...        Ret
+00020c20: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+00020c30: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+00020c40: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+00020c50: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+00020c60: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+00020c70: 2022 2f66 6972 6d77 6172 652f 7631 2f75   "/firmware/v1/u
+00020c80: 7067 7261 6465 220a 0a20 2020 2020 2020  pgrade"..       
+00020c90: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
+00020ca0: 2020 2020 2020 2020 2020 2027 6669 726d             'firm
+00020cb0: 7761 7265 5f73 6368 6564 756c 6564 5f61  ware_scheduled_a
+00020cc0: 7427 3a20 7363 6865 6475 6c65 645f 6174  t': scheduled_at
+00020cd0: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+00020ce0: 7761 726d 5f69 6427 3a20 7377 6172 6d5f  warm_id': swarm_
+00020cf0: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
+00020d00: 2773 6572 6961 6c27 3a20 7365 7269 616c  'serial': serial
+00020d10: 2c0a 2020 2020 2020 2020 2020 2020 2767  ,.            'g
+00020d20: 726f 7570 273a 2067 726f 7570 2c0a 2020  roup': group,.  
+00020d30: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
+00020d40: 655f 7479 7065 273a 2064 6576 6963 655f  e_type': device_
+00020d50: 7479 7065 2c0a 2020 2020 2020 2020 2020  type,.          
+00020d60: 2020 2766 6972 6d77 6172 655f 7665 7273    'firmware_vers
+00020d70: 696f 6e27 3a20 6669 726d 7761 7265 5f76  ion': firmware_v
+00020d80: 6572 7369 6f6e 2c0a 2020 2020 2020 2020  ersion,.        
+00020d90: 2020 2020 2772 6562 6f6f 7427 3a20 7265      'reboot': re
+00020da0: 626f 6f74 2c0a 2020 2020 2020 2020 2020  boot,.          
+00020db0: 2020 276d 6f64 656c 273a 206d 6f64 656c    'model': model
+00020dc0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+00020dd0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00020de0: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
+00020df0: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
+00020e00: 6174 6129 0a0a 2020 2020 2320 4150 492d  ata)..    # API-
+00020e10: 464c 4157 206f 6e6c 7920 6163 6365 7074  FLAW only accept
+00020e20: 7320 7377 6172 6d20 6964 2066 6f72 2049  s swarm id for I
+00020e30: 4150 2c20 414f 5331 3020 7368 6f77 2061  AP, AOS10 show a
+00020e40: 7320 4941 5020 6275 7420 6e6f 2073 7761  s IAP but no swa
+00020e50: 726d 2069 642e 2020 7365 7269 616c 2069  rm id.  serial i
+00020e60: 7320 7265 6a65 6374 6564 2e0a 2020 2020  s rejected..    
+00020e70: 2320 4358 2077 696c 6c20 7265 7475 726e  # CX will return
+00020e80: 2072 6573 7020 6c69 6b65 2069 7420 776f   resp like it wo
+00020e90: 726b 732c 2062 7574 206e 6f74 6869 6e67  rks, but nothing
+00020ea0: 2065 7665 7220 6861 7070 656e 730a 2020   ever happens.  
+00020eb0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+00020ec0: 7570 6772 6164 655f 7374 6174 7573 2873  upgrade_status(s
+00020ed0: 656c 662c 2073 7761 726d 5f69 643a 2073  elf, swarm_id: s
+00020ee0: 7472 203d 204e 6f6e 652c 2073 6572 6961  tr = None, seria
+00020ef0: 6c3a 2073 7472 203d 204e 6f6e 6529 202d  l: str = None) -
+00020f00: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00020f10: 2020 2020 2222 2247 6574 2066 6972 6d77      """Get firmw
+00020f20: 6172 6520 7570 6772 6164 6520 7374 6174  are upgrade stat
+00020f30: 7573 2e0a 0a20 2020 2020 2020 202f 2f20  us...        // 
+00020f40: 5573 6564 2062 7920 7368 6f77 2075 7067  Used by show upg
+00020f50: 7261 6465 205b 6465 7669 6365 2d69 6465  rade [device-ide
+00020f60: 6e5d 202f 2f0a 0a20 2020 2020 2020 2041  n] //..        A
+00020f70: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00020f80: 2073 7761 726d 5f69 6420 2873 7472 2c20   swarm_id (str, 
+00020f90: 6f70 7469 6f6e 616c 293a 2053 7761 726d  optional): Swarm
+00020fa0: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
+00020fb0: 7365 7269 616c 2028 7374 722c 206f 7074  serial (str, opt
+00020fc0: 696f 6e61 6c29 3a20 5365 7269 616c 206f  ional): Serial o
+00020fd0: 6620 6465 7669 6365 0a0a 2020 2020 2020  f device..      
+00020fe0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00020ff0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00021000: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00021010: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00021020: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00021030: 7572 6c20 3d20 222f 6669 726d 7761 7265  url = "/firmware
+00021040: 2f76 312f 7374 6174 7573 220a 0a20 2020  /v1/status"..   
+00021050: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+00021060: 2020 2020 2020 2020 2020 2020 2273 7761              "swa
+00021070: 726d 5f69 6422 3a20 7377 6172 6d5f 6964  rm_id": swarm_id
+00021080: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
+00021090: 6572 6961 6c22 3a20 7365 7269 616c 0a20  erial": serial. 
+000210a0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+000210b0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+000210c0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+000210d0: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+000210e0: 2044 6576 5479 7065 203d 204c 6974 6572   DevType = Liter
+000210f0: 616c 5b22 4941 5022 2c20 2248 5022 2c20  al["IAP", "HP", 
+00021100: 2243 4f4e 5452 4f4c 4c45 5222 5d0a 0a20  "CONTROLLER"].. 
+00021110: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+00021120: 5f66 6972 6d77 6172 655f 636f 6d70 6c69  _firmware_compli
+00021130: 616e 6365 2873 656c 662c 2064 6576 6963  ance(self, devic
+00021140: 655f 7479 7065 3a20 4465 7654 7970 652c  e_type: DevType,
+00021150: 2067 726f 7570 3a20 7374 7220 3d20 4e6f   group: str = No
+00021160: 6e65 2920 2d3e 2052 6573 706f 6e73 653a  ne) -> Response:
+00021170: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
+00021180: 4669 726d 7761 7265 2043 6f6d 706c 6961  Firmware Complia
+00021190: 6e63 6520 5665 7273 696f 6e2e 0a0a 2020  nce Version...  
+000211a0: 2020 2020 2020 2f2f 2055 7365 6420 6279        // Used by
+000211b0: 2073 686f 7720 6669 726d 7761 7265 2063   show firmware c
+000211c0: 6f6d 706c 6961 6e63 6520 5b61 707c 6777  ompliance [ap|gw
+000211d0: 7c73 775d 205b 6772 6f75 702d 6e61 6d65  |sw] [group-name
+000211e0: 5d20 2f2f 0a0a 2020 2020 2020 2020 4172  ] //..        Ar
+000211f0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00021200: 6465 7669 6365 5f74 7970 6520 2873 7472  device_type (str
+00021210: 293a 2053 7065 6369 6679 206f 6e65 206f  ): Specify one o
+00021220: 6620 2249 4150 2f4d 4153 2f48 502f 434f  f "IAP/MAS/HP/CO
+00021230: 4e54 524f 4c4c 4552 220a 2020 2020 2020  NTROLLER".      
+00021240: 2020 2020 2020 6772 6f75 7020 2873 7472        group (str
+00021250: 2c20 6f70 7469 6f6e 616c 293a 2047 726f  , optional): Gro
+00021260: 7570 206e 616d 652e 2044 6566 6175 6c74  up name. Default
+00021270: 7320 746f 204e 6f6e 6520 2847 6c6f 6261  s to None (Globa
+00021280: 6c20 436f 6d70 6c69 616e 6365 290a 0a20  l Compliance).. 
+00021290: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+000212a0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+000212b0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+000212c0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+000212d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+000212e0: 2020 2020 2023 2041 5049 206d 6574 686f       # API metho
+000212f0: 6420 7265 7475 726e 7320 3430 3420 6966  d returns 404 if
+00021300: 2063 6f6d 706c 6961 6e63 6520 6973 206e   compliance is n
+00021310: 6f74 2073 6574 210a 2020 2020 2020 2020  ot set!.        
+00021320: 7572 6c20 3d20 222f 6669 726d 7761 7265  url = "/firmware
+00021330: 2f76 312f 7570 6772 6164 652f 636f 6d70  /v1/upgrade/comp
+00021340: 6c69 616e 6365 5f76 6572 7369 6f6e 220a  liance_version".
+00021350: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
+00021360: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+00021370: 2764 6576 6963 655f 7479 7065 273a 2064  'device_type': d
+00021380: 6576 6963 655f 7479 7065 2c0a 2020 2020  evice_type,.    
+00021390: 2020 2020 2020 2020 2767 726f 7570 273a          'group':
+000213a0: 2067 726f 7570 0a20 2020 2020 2020 207d   group.        }
+000213b0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+000213c0: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
+000213d0: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
+000213e0: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
+000213f0: 6566 2064 656c 6574 655f 6669 726d 7761  ef delete_firmwa
+00021400: 7265 5f63 6f6d 706c 6961 6e63 6528 7365  re_compliance(se
+00021410: 6c66 2c20 6465 7669 6365 5f74 7970 653a  lf, device_type:
+00021420: 2073 7472 2c20 6772 6f75 703a 2073 7472   str, group: str
+00021430: 203d 204e 6f6e 6529 202d 3e20 5265 7370   = None) -> Resp
+00021440: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00021450: 2243 6c65 6172 2046 6972 6d77 6172 6520  "Clear Firmware 
+00021460: 436f 6d70 6c69 616e 6365 2056 6572 7369  Compliance Versi
+00021470: 6f6e 2e0a 0a20 2020 2020 2020 202f 2f20  on...        // 
+00021480: 5573 6564 2062 7920 6465 6c65 7465 2066  Used by delete f
+00021490: 6972 6d77 6172 6520 636f 6d70 6c69 616e  irmware complian
+000214a0: 6365 205b 6170 7c67 777c 7377 6974 6368  ce [ap|gw|switch
+000214b0: 5d20 5b67 726f 7570 5d20 2f2f 0a0a 2020  ] [group] //..  
+000214c0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+000214d0: 2020 2020 2020 2020 6465 7669 6365 5f74          device_t
+000214e0: 7970 6520 2873 7472 293a 2053 7065 6369  ype (str): Speci
+000214f0: 6679 206f 6e65 206f 6620 2249 4150 2f4d  fy one of "IAP/M
+00021500: 4153 2f48 502f 434f 4e54 524f 4c4c 4552  AS/HP/CONTROLLER
+00021510: 220a 2020 2020 2020 2020 2020 2020 6772  ".            gr
+00021520: 6f75 7020 2873 7472 2c20 6f70 7469 6f6e  oup (str, option
+00021530: 616c 293a 2047 726f 7570 206e 616d 652e  al): Group name.
+00021540: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+00021550: 6520 2847 6c6f 6261 6c20 436f 6d70 6c69  e (Global Compli
+00021560: 616e 6365 290a 0a20 2020 2020 2020 2052  ance)..        R
+00021570: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00021580: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00021590: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+000215a0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+000215b0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+000215c0: 203d 2022 2f66 6972 6d77 6172 652f 7631   = "/firmware/v1
+000215d0: 2f75 7067 7261 6465 2f63 6f6d 706c 6961  /upgrade/complia
+000215e0: 6e63 655f 7665 7273 696f 6e22 0a0a 2020  nce_version"..  
+000215f0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+00021600: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
+00021610: 7669 6365 5f74 7970 6527 3a20 6465 7669  vice_type': devi
+00021620: 6365 5f74 7970 652c 0a20 2020 2020 2020  ce_type,.       
+00021630: 2020 2020 2027 6772 6f75 7027 3a20 6772       'group': gr
+00021640: 6f75 700a 2020 2020 2020 2020 7d0a 0a20  oup.        }.. 
+00021650: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+00021660: 6169 7420 7365 6c66 2e64 656c 6574 6528  ait self.delete(
+00021670: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
+00021680: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
+00021690: 6566 206d 6f76 655f 6465 7669 6365 735f  ef move_devices_
+000216a0: 746f 5f67 726f 7570 280a 2020 2020 2020  to_group(.      
+000216b0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+000216c0: 6772 6f75 703a 2073 7472 2c0a 2020 2020  group: str,.    
+000216d0: 2020 2020 7365 7269 616c 5f6e 756d 733a      serial_nums:
+000216e0: 2055 6e69 6f6e 5b73 7472 2c20 4c69 7374   Union[str, List
+000216f0: 5b73 7472 5d5d 2c0a 2020 2020 2020 2020  [str]],.        
+00021700: 2a2c 0a20 2020 2020 2020 2063 785f 7265  *,.        cx_re
+00021710: 7461 696e 5f63 6f6e 6669 673a 2062 6f6f  tain_config: boo
+00021720: 6c20 3d20 5472 7565 2c20 2023 2054 4f44  l = True,  # TOD
+00021730: 4f20 6361 6e20 7765 2073 656e 6420 7468  O can we send th
+00021740: 6973 2061 7474 7269 6275 7465 2065 7665  is attribute eve
+00021750: 6e20 6966 2069 7427 7320 6e6f 7420 4358  n if it's not CX
+00021760: 2c20 7769 6c6c 2069 7420 6967 6e6f 7265  , will it ignore
+00021770: 206f 7220 6572 726f 720a 2020 2020 2920   or error.    ) 
+00021780: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00021790: 2020 2020 2022 2222 4d6f 7665 2064 6576       """Move dev
+000217a0: 6963 6573 2074 6f20 6120 6772 6f75 702e  ices to a group.
+000217b0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+000217c0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+000217d0: 7020 2873 7472 293a 2047 726f 7570 204e  p (str): Group N
+000217e0: 616d 6520 746f 206d 6f76 6520 6465 7669  ame to move devi
+000217f0: 6365 2074 6f2e 0a20 2020 2020 2020 2020  ce to..         
+00021800: 2020 2073 6572 6961 6c73 2028 4c69 7374     serials (List
+00021810: 5b73 7472 5d29 3a20 5365 7269 616c 206e  [str]): Serial n
+00021820: 756d 6265 7273 206f 6620 6465 7669 6365  umbers of device
+00021830: 7320 746f 2062 6520 6164 6465 6420 746f  s to be added to
+00021840: 2067 726f 7570 2e0a 0a20 2020 2020 2020   group...       
+00021850: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+00021860: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+00021870: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+00021880: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+00021890: 2020 2022 2222 0a20 2020 2020 2020 2023     """.        #
+000218a0: 2041 5049 2d46 4c41 5720 7265 706f 7274   API-FLAW report
+000218b0: 2066 6c61 7765 6420 4150 4920 6d65 7468   flawed API meth
+000218c0: 6f64 0a20 2020 2020 2020 2023 2052 6574  od.        # Ret
+000218d0: 7572 6e73 2035 3030 2073 7461 7475 7320  urns 500 status 
+000218e0: 636f 6465 2077 6865 6e20 7265 7375 6c74  code when result
+000218f0: 2069 7320 6573 7365 6e74 6961 6c6c 7920   is essentially 
+00021900: 7375 6363 6573 730a 2020 2020 2020 2020  success.        
+00021910: 2320 506c 6561 7365 2043 6f6e 6669 726d  # Please Confirm
+00021920: 3a20 6d6f 7665 2041 7275 6261 3930 3034  : move Aruba9004
+00021930: 5f38 315f 4538 5f46 4120 2620 506f 6d6d  _81_E8_FA & Pomm
+00021940: 6f72 6547 5731 2074 6f20 6772 6f75 7020  oreGW1 to group 
+00021950: 574c 4e45 543f 205b 792f 4e5d 3a20 790a  WLNET? [y/N]: y.
+00021960: 2020 2020 2020 2020 2320 e29c 9620 5365          # ... Se
+00021970: 6e64 696e 6720 4461 7461 205b 636f 6e66  nding Data [conf
+00021980: 6967 7572 6174 696f 6e2f 7631 2f64 6576  iguration/v1/dev
+00021990: 6963 6573 2f6d 6f76 655d 0a20 2020 2020  ices/move].     
+000219a0: 2020 2023 2073 7461 7475 7320 636f 6465     # status code
+000219b0: 3a20 3530 3020 3c2d 2d20 3530 3020 6f6e  : 500 <-- 500 on
+000219c0: 2073 7563 6365 7373 2e20 2041 7420 6c65   success.  At le
+000219d0: 6173 7420 666f 7220 6777 2077 6f75 6c64  ast for gw would
+000219e0: 206e 6565 6420 746f 2064 6f75 626c 6520   need to double 
+000219f0: 6368 6563 6b20 6f74 6865 7273 2e0a 2020  check others..  
+00021a00: 2020 2020 2020 2320 6465 7363 7269 7074        # descript
+00021a10: 696f 6e3a 0a20 2020 2020 2020 2023 2043  ion:.        # C
+00021a20: 6f6e 7472 6f6c 6c65 722f 4761 7465 7761  ontroller/Gatewa
+00021a30: 7920 6772 6f75 7020 6d6f 7665 2068 6173  y group move has
+00021a40: 2062 6565 6e20 696e 6974 6961 7465 642c   been initiated,
+00021a50: 2070 6c65 6173 6520 6368 6563 6b20 6175   please check au
+00021a60: 6469 7420 7472 6169 6c20 666f 7220 6465  dit trail for de
+00021a70: 7461 696c 730a 2020 2020 2020 2020 2320  tails.        # 
+00021a80: 6572 726f 725f 636f 6465 3a20 3030 3031  error_code: 0001
+00021a90: 0a20 2020 2020 2020 2023 2073 6572 7669  .        # servi
+00021aa0: 6365 5f6e 616d 653a 2043 6f6e 6669 6775  ce_name: Configu
+00021ab0: 7261 7469 6f6e 0a20 2020 2020 2020 2075  ration.        u
+00021ac0: 726c 203d 2022 2f63 6f6e 6669 6775 7261  rl = "/configura
+00021ad0: 7469 6f6e 2f76 312f 6465 7669 6365 732f  tion/v1/devices/
+00021ae0: 6d6f 7665 220a 2020 2020 2020 2020 7365  move".        se
+00021af0: 7269 616c 5f6e 756d 7320 3d20 7574 696c  rial_nums = util
+00021b00: 732e 6c69 7374 6966 7928 7365 7269 616c  s.listify(serial
+00021b10: 5f6e 756d 7329 0a0a 2020 2020 2020 2020  _nums)..        
+00021b20: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
+00021b30: 2020 2020 2020 2020 2020 2767 726f 7570            'group
+00021b40: 273a 2067 726f 7570 2c0a 2020 2020 2020  ': group,.      
+00021b50: 2020 2020 2020 2773 6572 6961 6c73 273a        'serials':
+00021b60: 2073 6572 6961 6c5f 6e75 6d73 0a20 2020   serial_nums.   
+00021b70: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+00021b80: 6966 2063 785f 7265 7461 696e 5f63 6f6e  if cx_retain_con
+00021b90: 6669 673a 0a20 2020 2020 2020 2020 2020  fig:.           
+00021ba0: 206a 736f 6e5f 6461 7461 5b22 7072 6573   json_data["pres
+00021bb0: 6572 7665 5f63 6f6e 6669 675f 6f76 6572  erve_config_over
+00021bc0: 7269 6465 7322 5d20 3d20 5b22 414f 535f  rides"] = ["AOS_
+00021bd0: 4358 225d 0a0a 2020 2020 2020 2020 7265  CX"]..        re
+00021be0: 7370 203d 2061 7761 6974 2073 656c 662e  sp = await self.
+00021bf0: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
+00021c00: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
+00021c10: 2020 2020 2020 2020 2320 5468 6973 206d          # This m
+00021c20: 6574 686f 6420 7265 7475 726e 7320 7374  ethod returns st
+00021c30: 6174 7573 2035 3030 2077 6974 6820 6d73  atus 500 with ms
+00021c40: 6720 7468 6174 206d 6f76 6520 6973 2069  g that move is i
+00021c50: 6e69 7469 6174 6564 206f 6e20 7375 6363  nitiated on succ
+00021c60: 6573 732e 0a20 2020 2020 2020 2069 6620  ess..        if 
+00021c70: 6e6f 7420 7265 7370 2061 6e64 2072 6573  not resp and res
+00021c80: 702e 7374 6174 7573 203d 3d20 3530 303a  p.status == 500:
+00021c90: 0a20 2020 2020 2020 2020 2020 206d 6174  .            mat
+00021ca0: 6368 5f73 7472 203d 2022 6772 6f75 7020  ch_str = "group 
+00021cb0: 6d6f 7665 2068 6173 2062 6565 6e20 696e  move has been in
+00021cc0: 6974 6961 7465 642c 2070 6c65 6173 6520  itiated, please 
+00021cd0: 6368 6563 6b20 6175 6469 7420 7472 6169  check audit trai
+00021ce0: 6c20 666f 7220 6465 7461 696c 7322 0a20  l for details". 
+00021cf0: 2020 2020 2020 2020 2020 2069 6620 6d61             if ma
+00021d00: 7463 685f 7374 7220 696e 2072 6573 702e  tch_str in resp.
+00021d10: 6f75 7470 7574 2e67 6574 2822 6465 7363  output.get("desc
+00021d20: 7269 7074 696f 6e22 2c20 2222 293a 0a20  ription", ""):. 
+00021d30: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00021d40: 6573 702e 6f6b 203d 2054 7275 650a 0a20  esp.ok = True.. 
+00021d50: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
+00021d60: 7370 0a0a 2020 2020 6173 796e 6320 6465  sp..    async de
+00021d70: 6620 6765 745f 6465 6661 756c 745f 6772  f get_default_gr
+00021d80: 6f75 7028 7365 6c66 2c29 202d 3e20 5265  oup(self,) -> Re
+00021d90: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00021da0: 2222 2247 6574 2064 6566 6175 6c74 2067  """Get default g
+00021db0: 726f 7570 2e0a 0a20 2020 2020 2020 2052  roup...        R
+00021dc0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00021dd0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00021de0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+00021df0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00021e00: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+00021e10: 203d 2022 2f63 6f6e 6669 6775 7261 7469   = "/configurati
+00021e20: 6f6e 2f76 312f 6772 6f75 7073 2f64 6566  on/v1/groups/def
+00021e30: 6175 6c74 5f67 726f 7570 220a 0a20 2020  ault_group"..   
+00021e40: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+00021e50: 7420 7365 6c66 2e67 6574 2875 726c 290a  t self.get(url).
+00021e60: 0a20 2020 2061 7379 6e63 2064 6566 206d  .    async def m
+00021e70: 6f76 655f 6465 7669 6365 735f 746f 5f73  ove_devices_to_s
+00021e80: 6974 6528 0a20 2020 2020 2020 2073 656c  ite(.        sel
+00021e90: 662c 0a20 2020 2020 2020 2073 6974 655f  f,.        site_
+00021ea0: 6964 3a20 696e 742c 0a20 2020 2020 2020  id: int,.       
+00021eb0: 2073 6572 6961 6c5f 6e75 6d73 3a20 556e   serial_nums: Un
+00021ec0: 696f 6e5b 7374 722c 204c 6973 745b 7374  ion[str, List[st
+00021ed0: 725d 5d2c 0a20 2020 2020 2020 2064 6576  r]],.        dev
+00021ee0: 6963 655f 7479 7065 3a20 4c69 7465 7261  ice_type: Litera
+00021ef0: 6c5b 2261 7022 2c20 2263 7822 2c20 2273  l["ap", "cx", "s
+00021f00: 7722 2c20 2273 7769 7463 6822 2c20 2267  w", "switch", "g
+00021f10: 7722 5d2c 0a20 2020 2029 202d 3e20 5265  w"],.    ) -> Re
+00021f20: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00021f30: 2222 2241 7373 6f63 6961 7465 206c 6973  """Associate lis
+00021f40: 7420 6f66 2064 6576 6963 6573 2074 6f20  t of devices to 
+00021f50: 6120 7369 7465 2e0a 0a20 2020 2020 2020  a site...       
+00021f60: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+00021f70: 2020 2073 6974 655f 6964 2028 696e 7429     site_id (int)
+00021f80: 3a20 5369 7465 2049 440a 2020 2020 2020  : Site ID.      
+00021f90: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
+00021fa0: 6520 2873 7472 293a 2044 6576 6963 6520  e (str): Device 
+00021fb0: 7479 7065 2e20 5661 6c69 6420 5661 6c75  type. Valid Valu
+00021fc0: 6573 3a20 6170 2c20 6378 2c20 7377 2c20  es: ap, cx, sw, 
+00021fd0: 7377 6974 6368 2c20 6777 0a20 2020 2020  switch, gw.     
+00021fe0: 2020 2020 2020 2020 2020 2063 7820 616e             cx an
+00021ff0: 6420 7377 2061 7265 2074 6865 2073 616d  d sw are the sam
+00022000: 6520 6173 2074 6865 206d 6f72 6520 6765  e as the more ge
+00022010: 6e65 7269 6320 7377 6974 6368 2e0a 2020  neric switch..  
+00022020: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+00022030: 5f6e 756d 7320 284c 6973 745b 7374 725d  _nums (List[str]
+00022040: 293a 204c 6973 7420 6f66 2064 6576 6963  ): List of devic
+00022050: 6520 7365 7269 616c 206e 756d 6265 7273  e serial numbers
+00022060: 206f 6620 7468 6520 6465 7669 6365 7320   of the devices 
+00022070: 746f 2077 6869 6368 2074 6865 2073 6974  to which the sit
+00022080: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+00022090: 2020 6861 7320 746f 2062 6520 756e 2f61    has to be un/a
+000220a0: 7373 6f63 6961 7465 6420 7769 7468 2e20  ssociated with. 
+000220b0: 4120 6d61 7869 6d75 6d20 6f66 2035 3030  A maximum of 500
+000220c0: 3020 6465 7669 6365 2073 6572 6961 6c73  0 device serials
+000220d0: 2061 7265 2061 6c6c 6f77 6564 2061 7420   are allowed at 
+000220e0: 6f6e 6365 2e0a 0a20 2020 2020 2020 2052  once...        R
+000220f0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00022100: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00022110: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+00022120: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00022130: 2022 2222 0a20 2020 2020 2020 2023 2054   """.        # T
+00022140: 4f44 4f20 6d61 6b65 2064 6576 6963 655f  ODO make device_
+00022150: 7479 7065 7320 636f 6e73 6973 7465 6e74  types consistent
+00022160: 2074 6872 6f75 6768 6f75 740a 2020 2020   throughout.    
+00022170: 2020 2020 6465 7669 6365 5f74 7970 6520      device_type 
+00022180: 3d20 636f 6e73 7461 6e74 732e 6c69 625f  = constants.lib_
+00022190: 746f 5f61 7069 2822 7369 7465 222c 2064  to_api("site", d
+000221a0: 6576 6963 655f 7479 7065 290a 2020 2020  evice_type).    
+000221b0: 2020 2020 6966 206e 6f74 2064 6576 6963      if not devic
+000221c0: 655f 7479 7065 3a0a 2020 2020 2020 2020  e_type:.        
+000221d0: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
+000221e0: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+000221f0: 2020 2020 2020 6622 496e 7661 6c69 6420        f"Invalid 
+00022200: 5661 6c75 6520 666f 7220 6465 7669 6365  Value for device
+00022210: 5f74 7970 652e 2020 5375 7070 6f72 7465  _type.  Supporte
+00022220: 6420 5661 6c75 6573 3a20 7b63 6f6e 7374  d Values: {const
+00022230: 616e 7473 2e6c 6962 5f74 6f5f 6170 692e  ants.lib_to_api.
+00022240: 7661 6c69 645f 7374 727d 220a 2020 2020  valid_str}".    
+00022250: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+00022260: 2020 2075 726c 203d 2022 2f63 656e 7472     url = "/centr
+00022270: 616c 2f76 322f 7369 7465 732f 6173 736f  al/v2/sites/asso
+00022280: 6369 6174 696f 6e73 220a 2020 2020 2020  ciations".      
+00022290: 2020 7365 7269 616c 5f6e 756d 7320 3d20    serial_nums = 
+000222a0: 7574 696c 732e 6c69 7374 6966 7928 7365  utils.listify(se
+000222b0: 7269 616c 5f6e 756d 7329 0a0a 2020 2020  rial_nums)..    
+000222c0: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
+000222d0: 7b0a 2020 2020 2020 2020 2020 2020 2773  {.            's
+000222e0: 6974 655f 6964 273a 2073 6974 655f 6964  ite_id': site_id
+000222f0: 2c0a 2020 2020 2020 2020 2020 2020 2764  ,.            'd
+00022300: 6576 6963 655f 6964 7327 3a20 7365 7269  evice_ids': seri
+00022310: 616c 5f6e 756d 732c 0a20 2020 2020 2020  al_nums,.       
+00022320: 2020 2020 2027 6465 7669 6365 5f74 7970       'device_typ
+00022330: 6527 3a20 6465 7669 6365 5f74 7970 650a  e': device_type.
+00022340: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+00022350: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00022360: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
+00022370: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
+00022380: 7461 290a 0a20 2020 2061 7379 6e63 2064  ta)..    async d
+00022390: 6566 2072 656d 6f76 655f 6465 7669 6365  ef remove_device
+000223a0: 735f 6672 6f6d 5f73 6974 6528 0a20 2020  s_from_site(.   
+000223b0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+000223c0: 2020 2073 6974 655f 6964 3a20 696e 742c     site_id: int,
+000223d0: 0a20 2020 2020 2020 2073 6572 6961 6c5f  .        serial_
+000223e0: 6e75 6d73 3a20 4c69 7374 5b73 7472 5d2c  nums: List[str],
+000223f0: 0a20 2020 2020 2020 2064 6576 6963 655f  .        device_
+00022400: 7479 7065 3a20 4c69 7465 7261 6c5b 2261  type: Literal["a
+00022410: 7022 2c20 2263 7822 2c20 2273 7722 2c20  p", "cx", "sw", 
+00022420: 2273 7769 7463 6822 2c20 2267 7722 5d2c  "switch", "gw"],
+00022430: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+00022440: 7365 3a0a 2020 2020 2020 2020 2222 2252  se:.        """R
+00022450: 656d 6f76 6520 6120 6c69 7374 206f 6620  emove a list of 
+00022460: 6465 7669 6365 7320 6672 6f6d 2061 2073  devices from a s
+00022470: 6974 652e 0a0a 2020 2020 2020 2020 4172  ite...        Ar
+00022480: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00022490: 7369 7465 5f69 6420 2869 6e74 293a 2053  site_id (int): S
+000224a0: 6974 6520 4944 0a20 2020 2020 2020 2020  ite ID.         
+000224b0: 2020 2064 6576 6963 655f 7479 7065 2028     device_type (
+000224c0: 7374 7229 3a20 4465 7669 6365 2074 7970  str): Device typ
+000224d0: 652e 2056 616c 6964 2056 616c 7565 733a  e. Valid Values:
+000224e0: 2061 702c 2063 782c 2073 772c 2073 7769   ap, cx, sw, swi
+000224f0: 7463 682c 2067 770a 2020 2020 2020 2020  tch, gw.        
+00022500: 2020 2020 2020 2020 6378 2061 6e64 2073          cx and s
+00022510: 7720 6172 6520 7468 6520 7361 6d65 2061  w are the same a
+00022520: 7320 7468 6520 6d6f 7265 2067 656e 6572  s the more gener
+00022530: 6963 2073 7769 7463 682e 0a20 2020 2020  ic switch..     
+00022540: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
+00022550: 6d73 2028 4c69 7374 5b73 7472 5d29 3a20  ms (List[str]): 
+00022560: 4c69 7374 206f 6620 6465 7669 6365 2073  List of device s
+00022570: 6572 6961 6c20 6e75 6d62 6572 7320 6f66  erial numbers of
+00022580: 2074 6865 2064 6576 6963 6573 2074 6f20   the devices to 
+00022590: 7768 6963 6820 7468 6520 7369 7465 0a20  which the site. 
+000225a0: 2020 2020 2020 2020 2020 2020 2020 2068                 h
+000225b0: 6173 2074 6f20 6265 2075 6e2f 6173 736f  as to be un/asso
+000225c0: 6369 6174 6564 2077 6974 682e 2041 206d  ciated with. A m
+000225d0: 6178 696d 756d 206f 6620 3530 3030 2064  aximum of 5000 d
+000225e0: 6576 6963 6520 7365 7269 616c 7320 6172  evice serials ar
+000225f0: 6520 616c 6c6f 7765 6420 6174 206f 6e63  e allowed at onc
+00022600: 652e 0a0a 2020 2020 2020 2020 5265 7475  e...        Retu
+00022610: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00022620: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00022630: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00022640: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00022650: 220a 2020 2020 2020 2020 6465 7669 6365  ".        device
+00022660: 5f74 7970 6520 3d20 636f 6e73 7461 6e74  _type = constant
+00022670: 732e 6c69 625f 746f 5f61 7069 2822 7369  s.lib_to_api("si
+00022680: 7465 222c 2064 6576 6963 655f 7479 7065  te", device_type
+00022690: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
+000226a0: 2064 6576 6963 655f 7479 7065 3a0a 2020   device_type:.  
+000226b0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+000226c0: 5661 6c75 6545 7272 6f72 280a 2020 2020  ValueError(.    
+000226d0: 2020 2020 2020 2020 2020 2020 6622 496e              f"In
+000226e0: 7661 6c69 6420 5661 6c75 6520 666f 7220  valid Value for 
+000226f0: 6465 7669 6365 5f74 7970 652e 2020 5375  device_type.  Su
+00022700: 7070 6f72 7465 6420 5661 6c75 6573 3a20  pported Values: 
+00022710: 7b63 6f6e 7374 616e 7473 2e6c 6962 5f74  {constants.lib_t
+00022720: 6f5f 6170 692e 7661 6c69 645f 7374 727d  o_api.valid_str}
+00022730: 220a 2020 2020 2020 2020 2020 2020 290a  ".            ).
+00022740: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00022750: 2f63 656e 7472 616c 2f76 322f 7369 7465  /central/v2/site
+00022760: 732f 6173 736f 6369 6174 696f 6e73 220a  s/associations".
+00022770: 2020 2020 2020 2020 7365 7269 616c 5f6e          serial_n
+00022780: 756d 7320 3d20 7574 696c 732e 6c69 7374  ums = utils.list
+00022790: 6966 7928 7365 7269 616c 5f6e 756d 7329  ify(serial_nums)
+000227a0: 0a0a 2020 2020 2020 2020 6a73 6f6e 5f64  ..        json_d
+000227b0: 6174 6120 3d20 7b0a 2020 2020 2020 2020  ata = {.        
+000227c0: 2020 2020 2773 6974 655f 6964 273a 2073      'site_id': s
+000227d0: 6974 655f 6964 2c0a 2020 2020 2020 2020  ite_id,.        
+000227e0: 2020 2020 2764 6576 6963 655f 6964 7327      'device_ids'
+000227f0: 3a20 7365 7269 616c 5f6e 756d 732c 0a20  : serial_nums,. 
+00022800: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
+00022810: 6365 5f74 7970 6527 3a20 6465 7669 6365  ce_type': device
+00022820: 5f74 7970 650a 2020 2020 2020 2020 7d0a  _type.        }.
+00022830: 0a20 2020 2020 2020 2023 2041 5049 2d46  .        # API-F
+00022840: 4c41 573a 2054 6869 7320 6d65 7468 6f64  LAW: This method
+00022850: 2072 6574 7572 6e73 2032 3030 2077 6865   returns 200 whe
+00022860: 6e20 6661 696c 7572 6573 206f 6363 7572  n failures occur
+00022870: 2e0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00022880: 2061 7761 6974 2073 656c 662e 6465 6c65   await self.dele
+00022890: 7465 2875 726c 2c20 6a73 6f6e 5f64 6174  te(url, json_dat
+000228a0: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
+000228b0: 2020 6173 796e 6320 6465 6620 6372 6561    async def crea
+000228c0: 7465 5f6c 6162 656c 280a 2020 2020 2020  te_label(.      
+000228d0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+000228e0: 6c61 6265 6c5f 6e61 6d65 3a20 7374 722c  label_name: str,
+000228f0: 0a20 2020 2020 2020 2063 6174 6567 6f72  .        categor
+00022900: 795f 6964 3a20 696e 7420 3d20 312c 0a20  y_id: int = 1,. 
+00022910: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+00022920: 3a0a 2020 2020 2020 2020 2222 2243 7265  :.        """Cre
+00022930: 6174 6520 4c61 6265 6c2e 0a0a 2020 2020  ate Label...    
+00022940: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00022950: 2020 2020 2020 6c61 6265 6c5f 6e61 6d65        label_name
+00022960: 2028 7374 7229 3a20 4c61 6265 6c20 6e61   (str): Label na
+00022970: 6d65 0a20 2020 2020 2020 2020 2020 2063  me.            c
+00022980: 6174 6567 6f72 795f 6964 2028 696e 742c  ategory_id (int,
+00022990: 206f 7074 696f 6e61 6c29 3a20 4c61 6265   optional): Labe
+000229a0: 6c20 6361 7465 676f 7279 2049 4420 6465  l category ID de
+000229b0: 6661 756c 7473 2074 6f20 310a 2020 2020  faults to 1.    
+000229c0: 2020 2020 2020 2020 2020 2020 3120 3d20              1 = 
+000229d0: 6465 6661 756c 7420 6c61 6265 6c20 6361  default label ca
+000229e0: 7465 676f 7279 2c20 3220 3d20 7369 7465  tegory, 2 = site
+000229f0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00022a00: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+00022a10: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+00022a20: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+00022a30: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00022a40: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+00022a50: 6365 6e74 7261 6c2f 7631 2f6c 6162 656c  central/v1/label
+00022a60: 7322 0a0a 2020 2020 2020 2020 6a73 6f6e  s"..        json
+00022a70: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
+00022a80: 2020 2020 2020 2763 6174 6567 6f72 795f        'category_
+00022a90: 6964 273a 2063 6174 6567 6f72 795f 6964  id': category_id
+00022aa0: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
+00022ab0: 6162 656c 5f6e 616d 6527 3a20 6c61 6265  abel_name': labe
+00022ac0: 6c5f 6e61 6d65 0a20 2020 2020 2020 207d  l_name.        }
+00022ad0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00022ae0: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
+00022af0: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
+00022b00: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
+00022b10: 6173 796e 6320 6465 6620 6765 745f 6c61  async def get_la
+00022b20: 6265 6c73 280a 2020 2020 2020 2020 7365  bels(.        se
+00022b30: 6c66 2c0a 2020 2020 2020 2020 6361 6c63  lf,.        calc
+00022b40: 756c 6174 655f 746f 7461 6c3a 2062 6f6f  ulate_total: boo
+00022b50: 6c20 3d20 4e6f 6e65 2c0a 2020 2020 2020  l = None,.      
+00022b60: 2020 7265 7665 7273 653a 2062 6f6f 6c20    reverse: bool 
+00022b70: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
+00022b80: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
+00022b90: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
+00022ba0: 2069 6e74 203d 2031 3030 2c0a 2020 2020   int = 100,.    
+00022bb0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00022bc0: 2020 2020 2020 2022 2222 4c69 7374 204c         """List L
+00022bd0: 6162 656c 732e 0a0a 2020 2020 2020 2020  abels...        
+00022be0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+00022bf0: 2020 6361 6c63 756c 6174 655f 746f 7461    calculate_tota
+00022c00: 6c20 2862 6f6f 6c2c 206f 7074 696f 6e61  l (bool, optiona
+00022c10: 6c29 3a20 5768 6574 6865 7220 746f 2063  l): Whether to c
+00022c20: 616c 6375 6c61 7465 2074 6f74 616c 204c  alculate total L
+00022c30: 6162 656c 730a 2020 2020 2020 2020 2020  abels.          
+00022c40: 2020 7265 7665 7273 6520 2862 6f6f 6c2c    reverse (bool,
+00022c50: 206f 7074 696f 6e61 6c29 3a20 4c69 7374   optional): List
+00022c60: 206c 6162 656c 7320 696e 2072 6576 6572   labels in rever
+00022c70: 7365 2061 6c70 6861 6265 7469 6361 6c20  se alphabetical 
+00022c80: 6f72 6465 722e 2044 6566 6175 6c74 7320  order. Defaults 
+00022c90: 746f 2046 616c 7365 0a20 2020 2020 2020  to False.       
+00022ca0: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
+00022cb0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
+00022cc0: 696e 6174 696f 6e20 6f66 6673 6574 2044  ination offset D
+00022cd0: 6566 6175 6c74 7320 746f 2030 2e0a 2020  efaults to 0..  
+00022ce0: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
+00022cf0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+00022d00: 2050 6167 696e 6174 696f 6e20 6c69 6d69   Pagination limi
+00022d10: 742e 2044 6566 6175 6c74 2069 7320 3130  t. Default is 10
+00022d20: 3020 616e 6420 6d61 7820 6973 2031 3030  0 and max is 100
+00022d30: 3020 4465 6661 756c 7473 2074 6f20 3130  0 Defaults to 10
+00022d40: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
+00022d50: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00022d60: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00022d70: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00022d80: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00022d90: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00022da0: 222f 6365 6e74 7261 6c2f 7632 2f6c 6162  "/central/v2/lab
+00022db0: 656c 7322 0a0a 2020 2020 2020 2020 7061  els"..        pa
+00022dc0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+00022dd0: 2020 2020 2022 6361 6c63 756c 6174 655f       "calculate_
+00022de0: 746f 7461 6c22 3a20 6361 6c63 756c 6174  total": calculat
+00022df0: 655f 746f 7461 6c2c 0a20 2020 2020 2020  e_total,.       
+00022e00: 2020 2020 2022 6f66 6673 6574 223a 206f       "offset": o
+00022e10: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
+00022e20: 2020 2022 6c69 6d69 7422 3a20 6c69 6d69     "limit": limi
+00022e30: 740a 2020 2020 2020 2020 7d0a 2020 2020  t.        }.    
+00022e40: 2020 2020 6966 2072 6576 6572 7365 3a0a      if reverse:.
+00022e50: 2020 2020 2020 2020 2020 2020 7061 7261              para
+00022e60: 6d73 5b22 736f 7274 225d 203d 2022 2d6c  ms["sort"] = "-l
+00022e70: 6162 656c 5f6e 616d 6522 0a0a 2020 2020  abel_name"..    
+00022e80: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00022e90: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+00022ea0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+00022eb0: 2020 2061 7379 6e63 2064 6566 2061 7373     async def ass
+00022ec0: 6967 6e5f 6c61 6265 6c5f 746f 5f64 6576  ign_label_to_dev
+00022ed0: 6963 6573 280a 2020 2020 2020 2020 7365  ices(.        se
+00022ee0: 6c66 2c0a 2020 2020 2020 2020 6c61 6265  lf,.        labe
+00022ef0: 6c5f 6964 3a20 696e 742c 0a20 2020 2020  l_id: int,.     
+00022f00: 2020 2064 6576 6963 655f 7479 7065 3a20     device_type: 
+00022f10: 636f 6e73 7461 6e74 732e 4765 6e65 7269  constants.Generi
+00022f20: 6344 6576 5479 7065 732c 0a20 2020 2020  cDevTypes,.     
+00022f30: 2020 2073 6572 6961 6c5f 6e75 6d73 3a20     serial_nums: 
+00022f40: 556e 696f 6e5b 7374 722c 204c 6973 745b  Union[str, List[
+00022f50: 7374 725d 5d2c 0a20 2020 2029 202d 3e20  str]],.    ) -> 
+00022f60: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00022f70: 2020 2222 2241 7373 6f63 6961 7465 204c    """Associate L
+00022f80: 6162 656c 2074 6f20 6120 6c69 7374 206f  abel to a list o
+00022f90: 6620 6465 7669 6365 732e 0a0a 2020 2020  f devices...    
+00022fa0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00022fb0: 2020 2020 2020 6c61 6265 6c5f 6964 2028        label_id (
+00022fc0: 696e 7429 3a20 4c61 6265 6c20 4944 0a20  int): Label ID. 
+00022fd0: 2020 2020 2020 2020 2020 2064 6576 6963             devic
+00022fe0: 655f 7479 7065 2028 7374 7229 3a20 4465  e_type (str): De
+00022ff0: 7669 6365 2074 7970 652e 2049 7420 6973  vice type. It is
+00023000: 2065 6974 6865 7220 4941 502c 2053 5749   either IAP, SWI
+00023010: 5443 4820 6f72 2043 4f4e 5452 4f4c 4c45  TCH or CONTROLLE
+00023020: 5220 2056 616c 6964 2056 616c 7565 733a  R  Valid Values:
+00023030: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023040: 2061 702c 2067 772c 2073 7769 7463 680a   ap, gw, switch.
+00023050: 2020 2020 2020 2020 2020 2020 7365 7269              seri
+00023060: 616c 5f6e 756d 7320 2873 7472 207c 204c  al_nums (str | L
+00023070: 6973 745b 7374 725d 293a 204c 6973 7420  ist[str]): List 
+00023080: 6f66 2064 6576 6963 6520 7365 7269 616c  of device serial
+00023090: 206e 756d 6265 7273 206f 6620 7468 6520   numbers of the 
+000230a0: 6465 7669 6365 7320 746f 2077 6869 6368  devices to which
+000230b0: 2074 6865 206c 6162 656c 0a20 2020 2020   the label.     
+000230c0: 2020 2020 2020 2020 2020 2068 6173 2074             has t
+000230d0: 6f20 6265 2075 6e2f 6173 736f 6369 6174  o be un/associat
+000230e0: 6564 2077 6974 682e 2041 206d 6178 696d  ed with. A maxim
+000230f0: 756d 206f 6620 3530 3030 2064 6576 6963  um of 5000 devic
+00023100: 6520 7365 7269 616c 7320 6172 6520 616c  e serials are al
+00023110: 6c6f 7765 6420 6174 206f 6e63 652e 0a0a  lowed at once...
+00023120: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00023130: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00023140: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00023150: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00023160: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00023170: 2020 2020 2020 7572 6c20 3d20 222f 6365        url = "/ce
+00023180: 6e74 7261 6c2f 7632 2f6c 6162 656c 732f  ntral/v2/labels/
+00023190: 6173 736f 6369 6174 696f 6e73 220a 2020  associations".  
+000231a0: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
+000231b0: 7320 3d20 7574 696c 732e 6c69 7374 6966  s = utils.listif
+000231c0: 7928 7365 7269 616c 5f6e 756d 7329 0a20  y(serial_nums). 
+000231d0: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
+000231e0: 7065 203d 2063 6f6e 7374 616e 7473 2e6c  pe = constants.l
+000231f0: 6962 5f74 6f5f 6170 6928 2273 6974 6522  ib_to_api("site"
+00023200: 2c20 6465 7669 6365 5f74 7970 6529 0a0a  , device_type)..
+00023210: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
+00023220: 6120 3d20 7b0a 2020 2020 2020 2020 2020  a = {.          
+00023230: 2020 276c 6162 656c 5f69 6427 3a20 6c61    'label_id': la
+00023240: 6265 6c5f 6964 2c0a 2020 2020 2020 2020  bel_id,.        
+00023250: 2020 2020 2764 6576 6963 655f 7479 7065      'device_type
+00023260: 273a 2064 6576 6963 655f 7479 7065 2c0a  ': device_type,.
+00023270: 2020 2020 2020 2020 2020 2020 2764 6576              'dev
+00023280: 6963 655f 6964 7327 3a20 7365 7269 616c  ice_ids': serial
+00023290: 5f6e 756d 730a 2020 2020 2020 2020 7d0a  _nums.        }.
+000232a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000232b0: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
+000232c0: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+000232d0: 736f 6e5f 6461 7461 290a 0a20 2020 2023  son_data)..    #
+000232e0: 2054 4f44 4f20 6d61 6b65 2066 6f72 6d61   TODO make forma
+000232f0: 7420 6f66 2074 6869 7320 616e 6420 6f74  t of this and ot
+00023300: 6865 7220 6c61 6265 6c20 6d65 7468 6f64  her label method
+00023310: 7320 6d61 7463 6820 7369 7465 206d 6574  s match site met
+00023320: 686f 6473 0a20 2020 2061 7379 6e63 2064  hods.    async d
+00023330: 6566 2072 656d 6f76 655f 6c61 6265 6c5f  ef remove_label_
+00023340: 6672 6f6d 5f64 6576 6963 6573 280a 2020  from_devices(.  
+00023350: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00023360: 2020 2020 6c61 6265 6c5f 6964 3a20 696e      label_id: in
+00023370: 742c 0a20 2020 2020 2020 2064 6576 6963  t,.        devic
+00023380: 655f 7479 7065 3a20 7374 722c 0a20 2020  e_type: str,.   
+00023390: 2020 2020 2073 6572 6961 6c5f 6e75 6d73       serial_nums
+000233a0: 3a20 4c69 7374 5b73 7472 5d2c 0a20 2020  : List[str],.   
+000233b0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+000233c0: 2020 2020 2020 2020 2222 2275 6e61 7373          """unass
+000233d0: 6967 6e20 6120 6c61 6265 6c20 6672 6f6d  ign a label from
+000233e0: 2061 206c 6973 7420 6f66 2064 6576 6963   a list of devic
+000233f0: 6573 2e0a 0a20 2020 2020 2020 2041 7267  es...        Arg
+00023400: 733a 0a20 2020 2020 2020 2020 2020 206c  s:.            l
+00023410: 6162 656c 5f69 6420 2869 6e74 293a 204c  abel_id (int): L
+00023420: 6162 656c 2049 440a 2020 2020 2020 2020  abel ID.        
+00023430: 2020 2020 6465 7669 6365 5f74 7970 6520      device_type 
+00023440: 2873 7472 293a 2044 6576 6963 6520 7479  (str): Device ty
+00023450: 7065 2e20 4f6e 6520 6f66 2061 702c 2067  pe. One of ap, g
+00023460: 772c 2073 7769 7463 680a 2020 2020 2020  w, switch.      
+00023470: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
+00023480: 7320 2873 7472 207c 204c 6973 745b 7374  s (str | List[st
+00023490: 725d 293a 204c 6973 7420 6f66 2064 6576  r]): List of dev
+000234a0: 6963 6520 7365 7269 616c 206e 756d 6265  ice serial numbe
+000234b0: 7273 206f 6620 7468 6520 6465 7669 6365  rs of the device
+000234c0: 7320 746f 2077 6869 6368 2074 6865 206c  s to which the l
+000234d0: 6162 656c 0a20 2020 2020 2020 2020 2020  abel.           
+000234e0: 2020 2020 2068 6173 2074 6f20 6265 2075       has to be u
+000234f0: 6e2f 6173 736f 6369 6174 6564 2077 6974  n/associated wit
+00023500: 682e 2041 206d 6178 696d 756d 206f 6620  h. A maximum of 
+00023510: 3530 3030 2064 6576 6963 6520 7365 7269  5000 device seri
+00023520: 616c 7320 6172 6520 616c 6c6f 7765 6420  als are allowed 
+00023530: 6174 206f 6e63 652e 0a0a 2020 2020 2020  at once...      
+00023540: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00023550: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00023560: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00023570: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00023580: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00023590: 7572 6c20 3d20 222f 6365 6e74 7261 6c2f  url = "/central/
+000235a0: 7632 2f6c 6162 656c 732f 6173 736f 6369  v2/labels/associ
+000235b0: 6174 696f 6e73 220a 2020 2020 2020 2020  ations".        
+000235c0: 7365 7269 616c 5f6e 756d 7320 3d20 7574  serial_nums = ut
+000235d0: 696c 732e 6c69 7374 6966 7928 7365 7269  ils.listify(seri
+000235e0: 616c 5f6e 756d 7329 0a20 2020 2020 2020  al_nums).       
+000235f0: 2064 6576 6963 655f 7479 7065 203d 2063   device_type = c
+00023600: 6f6e 7374 616e 7473 2e6c 6962 5f74 6f5f  onstants.lib_to_
+00023610: 6170 6928 2273 6974 6522 2c20 6465 7669  api("site", devi
+00023620: 6365 5f74 7970 6529 0a0a 2020 2020 2020  ce_type)..      
+00023630: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
+00023640: 2020 2020 2020 2020 2020 2020 276c 6162              'lab
+00023650: 656c 5f69 6427 3a20 6c61 6265 6c5f 6964  el_id': label_id
+00023660: 2c0a 2020 2020 2020 2020 2020 2020 2764  ,.            'd
+00023670: 6576 6963 655f 7479 7065 273a 2064 6576  evice_type': dev
+00023680: 6963 655f 7479 7065 2c0a 2020 2020 2020  ice_type,.      
+00023690: 2020 2020 2020 2764 6576 6963 655f 6964        'device_id
+000236a0: 7327 3a20 7365 7269 616c 5f6e 756d 730a  s': serial_nums.
+000236b0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+000236c0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+000236d0: 7365 6c66 2e64 656c 6574 6528 7572 6c2c  self.delete(url,
+000236e0: 206a 736f 6e5f 6461 7461 3d6a 736f 6e5f   json_data=json_
+000236f0: 6461 7461 290a 0a20 2020 2023 2041 5049  data)..    # API
+00023700: 2d46 4c41 5720 7265 7475 726e 7320 656d  -FLAW returns em
+00023710: 7074 7920 7061 796c 6f61 6420 2f20 7265  pty payload / re
+00023720: 7370 6f6e 7365 206f 6e20 7375 6363 6573  sponse on succes
+00023730: 7320 3230 300a 2020 2020 6173 796e 6320  s 200.    async 
+00023740: 6465 6620 6465 6c65 7465 5f6c 6162 656c  def delete_label
+00023750: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+00023760: 2020 2020 2020 2020 6c61 6265 6c5f 6964          label_id
+00023770: 3a20 696e 742c 0a20 2020 2029 202d 3e20  : int,.    ) -> 
+00023780: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00023790: 2020 2222 2244 656c 6574 6520 4c61 6265    """Delete Labe
+000237a0: 6c2e 0a0a 2020 2020 2020 2020 4172 6773  l...        Args
+000237b0: 3a0a 2020 2020 2020 2020 2020 2020 6c61  :.            la
+000237c0: 6265 6c5f 6964 2028 696e 7429 3a20 4c61  bel_id (int): La
+000237d0: 6265 6c20 4944 0a0a 2020 2020 2020 2020  bel ID..        
+000237e0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+000237f0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00023800: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00023810: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00023820: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00023830: 6c20 3d20 6622 2f63 656e 7472 616c 2f76  l = f"/central/v
+00023840: 312f 6c61 6265 6c73 2f7b 6c61 6265 6c5f  1/labels/{label_
+00023850: 6964 7d22 0a0a 2020 2020 2020 2020 7265  id}"..        re
+00023860: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00023870: 6465 6c65 7465 2875 726c 290a 0a20 2020  delete(url)..   
+00023880: 2061 7379 6e63 2064 6566 2067 6574 5f64   async def get_d
+00023890: 6576 6963 655f 6970 5f72 6f75 7465 7328  evice_ip_routes(
+000238a0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+000238b0: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
+000238c0: 6d3a 2073 7472 2c0a 2020 2020 2020 2020  m: str,.        
+000238d0: 6170 693a 2073 7472 203d 2022 5631 222c  api: str = "V1",
+000238e0: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
+000238f0: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
+00023900: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
+00023910: 3030 0a20 2020 2029 202d 3e20 5265 7370  00.    ) -> Resp
+00023920: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00023930: 2247 6574 2072 6f75 7465 7320 666f 7220  "Get routes for 
+00023940: 6120 6465 7669 6365 2e0a 0a20 2020 2020  a device...     
+00023950: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00023960: 2020 2020 2073 6572 6961 6c5f 6e75 6d20       serial_num 
+00023970: 2873 7472 293a 2044 6576 6963 6520 7365  (str): Device se
+00023980: 7269 616c 206e 756d 6265 720a 2020 2020  rial number.    
+00023990: 2020 2020 2020 2020 6170 6920 2873 7472          api (str
+000239a0: 2c20 6f70 7469 6f6e 616c 293a 2041 5049  , optional): API
+000239b0: 2076 6572 7369 6f6e 2028 5630 7c56 3129   version (V0|V1)
+000239c0: 2c20 4465 6661 756c 7473 2074 6f20 5631  , Defaults to V1
+000239d0: 2e0a 2020 2020 2020 2020 2020 2020 6f66  ..            of
+000239e0: 6673 6574 2028 7374 722c 206f 7074 696f  fset (str, optio
+000239f0: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+00023a00: 206f 6666 7365 742e 0a20 2020 2020 2020   offset..       
+00023a10: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
+00023a20: 206f 7074 696f 6e61 6c29 3a20 7061 6765   optional): page
+00023a30: 2073 697a 6520 4465 6661 756c 7473 2074   size Defaults t
+00023a40: 6f20 3130 302e 0a0a 2020 2020 2020 2020  o 100...        
+00023a50: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00023a60: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00023a70: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00023a80: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00023a90: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00023aa0: 6c20 3d20 222f 6170 692f 726f 7574 696e  l = "/api/routin
+00023ab0: 672f 7631 2f72 6f75 7465 220a 0a20 2020  g/v1/route"..   
+00023ac0: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+00023ad0: 2020 2020 2020 2020 2020 2020 2764 6576              'dev
+00023ae0: 6963 6527 3a20 7365 7269 616c 5f6e 756d  ice': serial_num
+00023af0: 2c0a 2020 2020 2020 2020 2020 2020 2761  ,.            'a
+00023b00: 7069 273a 2061 7069 2c0a 2020 2020 2020  pi': api,.      
+00023b10: 2020 2020 2020 276d 6172 6b65 7227 3a20        'marker': 
+00023b20: 6f66 6673 6574 2c0a 2020 2020 2020 2020  offset,.        
+00023b30: 2020 2020 276c 696d 6974 273a 206c 696d      'limit': lim
+00023b40: 6974 0a20 2020 2020 2020 207d 0a0a 2020  it.        }..  
+00023b50: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00023b60: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+00023b70: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+00023b80: 0a20 2020 2023 2054 4f44 4f20 6d61 6b65  .    # TODO make
+00023b90: 2061 6464 5f64 6576 6963 6520 6163 7475   add_device actu
+00023ba0: 616c 2066 756e 6320 7365 7020 616e 6420  al func sep and 
+00023bb0: 6d61 6b65 2074 6869 7320 616e 2061 6767  make this an agg
+00023bc0: 7265 6761 746f 7220 7468 6174 2063 616c  regator that cal
+00023bd0: 6c73 2069 7420 616e 6420 616e 7974 6869  ls it and anythi
+00023be0: 6e67 2065 6c73 6520 6261 7365 6420 6f6e  ng else based on
+00023bf0: 2070 6172 616d 730a 2020 2020 6173 796e   params.    asyn
+00023c00: 6320 6465 6620 6164 645f 6465 7669 6365  c def add_device
+00023c10: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+00023c20: 0a20 2020 2020 2020 206d 6163 5f61 6464  .        mac_add
+00023c30: 7265 7373 3a20 7374 7220 3d20 4e6f 6e65  ress: str = None
+00023c40: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
+00023c50: 5f6e 756d 3a20 7374 7220 3d20 4e6f 6e65  _num: str = None
+00023c60: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
+00023c70: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00023c80: 2020 2020 2023 2073 6974 653a 2069 6e74       # site: int
+00023c90: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00023ca0: 2070 6172 745f 6e75 6d3a 2073 7472 203d   part_num: str =
+00023cb0: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
+00023cc0: 6963 656e 7365 3a20 556e 696f 6e5b 7374  icense: Union[st
+00023cd0: 722c 204c 6973 745b 7374 725d 5d20 3d20  r, List[str]] = 
+00023ce0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6465  None,.        de
+00023cf0: 7669 6365 5f6c 6973 743a 204c 6973 745b  vice_list: List[
+00023d00: 4469 6374 5b73 7472 2c20 7374 725d 5d20  Dict[str, str]] 
+00023d10: 3d20 4e6f 6e65 0a20 2020 2029 202d 3e20  = None.    ) -> 
+00023d20: 556e 696f 6e5b 5265 7370 6f6e 7365 2c20  Union[Response, 
+00023d30: 4c69 7374 5b52 6573 706f 6e73 655d 5d3a  List[Response]]:
+00023d40: 0a20 2020 2020 2020 2022 2222 4164 6420  .        """Add 
+00023d50: 6465 7669 6365 2873 2920 7573 696e 6720  device(s) using 
+00023d60: 4d61 6320 616e 6420 5365 7269 616c 206e  Mac and Serial n
+00023d70: 756d 6265 7220 2870 6172 745f 6e75 6d20  umber (part_num 
+00023d80: 616c 736f 2072 6571 7569 7265 6420 666f  also required fo
+00023d90: 7220 436f 5029 0a20 2020 2020 2020 2057  r CoP).        W
+00023da0: 696c 6c20 616c 736f 2070 7265 2d61 7373  ill also pre-ass
+00023db0: 6967 6e20 6465 7669 6365 2074 6f20 6772  ign device to gr
+00023dc0: 6f75 7020 6966 2070 726f 7669 6465 640a  oup if provided.
+00023dd0: 0a20 2020 2020 2020 2045 6974 6865 7220  .        Either 
+00023de0: 6d61 635f 6164 6472 6573 7320 616e 6420  mac_address and 
+00023df0: 7365 7269 616c 5f6e 756d 206f 7220 6465  serial_num or de
+00023e00: 7669 6365 5f6c 6973 7420 2877 6869 6368  vice_list (which
+00023e10: 2073 686f 756c 6420 636f 6e74 6169 6e20   should contain 
+00023e20: 6120 6469 6374 2077 6974 6820 6d61 6320  a dict with mac 
+00023e30: 7365 7269 616c 2920 6172 6520 7265 7175  serial) are requ
+00023e40: 6972 6564 2e0a 2020 2020 2020 2020 2f2f  ired..        //
+00023e50: 2055 7365 6420 6279 2061 6464 2064 6576   Used by add dev
+00023e60: 6963 6520 616e 6420 6261 7463 6820 6164  ice and batch ad
+00023e70: 6420 6465 7669 6365 7320 2f2f 0a0a 2020  d devices //..  
+00023e80: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00023e90: 2020 2020 2020 2020 6d61 635f 6164 6472          mac_addr
+00023ea0: 6573 7320 2873 7472 2c20 6f70 7469 6f6e  ess (str, option
+00023eb0: 616c 293a 204d 4143 2061 6464 7265 7373  al): MAC address
+00023ec0: 206f 6620 6465 7669 6365 2074 6f20 6265   of device to be
+00023ed0: 2061 6464 6564 0a20 2020 2020 2020 2020   added.         
+00023ee0: 2020 2073 6572 6961 6c5f 6e75 6d20 2873     serial_num (s
+00023ef0: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
+00023f00: 6572 6961 6c20 6e75 6d62 6572 206f 6620  erial number of 
+00023f10: 6465 7669 6365 2074 6f20 6265 2061 6464  device to be add
+00023f20: 6564 0a20 2020 2020 2020 2020 2020 2067  ed.            g
+00023f30: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
+00023f40: 6e61 6c29 3a20 4164 6420 6465 7669 6365  nal): Add device
+00023f50: 2074 6f20 7072 652d 7072 6f76 6973 696f   to pre-provisio
+00023f60: 6e65 6420 6772 6f75 7020 2861 6464 6974  ned group (addit
+00023f70: 696f 6e61 6c20 4150 4920 6361 6c6c 2069  ional API call i
+00023f80: 7320 6d61 6465 290a 2020 2020 2020 2020  s made).        
+00023f90: 2020 2020 7369 7465 2028 696e 742c 206f      site (int, o
+00023fa0: 7074 696f 6e61 6c29 3a20 2d2d 204e 6f74  ptional): -- Not
+00023fb0: 2069 6d70 6c65 6d65 6e74 6564 202d 2d20   implemented -- 
+00023fc0: 5369 7465 2049 440a 2020 2020 2020 2020  Site ID.        
+00023fd0: 2020 2020 7061 7274 5f6e 756d 2028 7374      part_num (st
+00023fe0: 722c 206f 7074 696f 6e61 6c29 3a20 5061  r, optional): Pa
+00023ff0: 7274 204e 756d 6265 7220 6973 2072 6571  rt Number is req
+00024000: 7569 7265 6420 666f 7220 4365 6e74 7261  uired for Centra
+00024010: 6c20 4f6e 2050 7265 6d2e 0a20 2020 2020  l On Prem..     
+00024020: 2020 2020 2020 206c 6963 656e 7365 2028         license (
+00024030: 7374 727c 4c69 7374 2873 7472 292c 206f  str|List(str), o
+00024040: 7074 696f 6e61 6c29 3a20 5468 6520 7375  ptional): The su
+00024050: 6273 6372 6970 7469 6f6e 206c 6963 656e  bscription licen
+00024060: 7365 2873 2920 746f 2061 7373 6967 6e2e  se(s) to assign.
+00024070: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+00024080: 6963 655f 6c69 7374 2028 4c69 7374 5b44  ice_list (List[D
+00024090: 6963 745b 7374 722c 2073 7472 5d5d 2c20  ict[str, str]], 
+000240a0: 6f70 7469 6f6e 616c 293a 204c 6973 7420  optional): List 
+000240b0: 6f66 2064 6963 7473 2077 6974 6820 6d61  of dicts with ma
+000240c0: 632c 2073 6572 6961 6c20 666f 7220 6561  c, serial for ea
+000240d0: 6368 2064 6576 6963 650a 2020 2020 2020  ch device.      
+000240e0: 2020 2020 2020 2020 2020 616e 6420 6f70            and op
+000240f0: 7469 6f6e 616c 6c79 2067 726f 7570 2c20  tionally group, 
+00024100: 7061 7274 5f6e 756d 2c20 6c69 6365 6e73  part_num, licens
+00024110: 652c 0a0a 2020 2020 2020 2020 5265 7475  e,..        Retu
+00024120: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00024130: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00024140: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00024150: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00024160: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00024170: 222f 706c 6174 666f 726d 2f64 6576 6963  "/platform/devic
+00024180: 655f 696e 7665 6e74 6f72 792f 7631 2f64  e_inventory/v1/d
+00024190: 6576 6963 6573 220a 2020 2020 2020 2020  evices".        
+000241a0: 6c69 6365 6e73 655f 6b77 6172 6773 203d  license_kwargs =
+000241b0: 205b 5d0a 0a20 2020 2020 2020 2069 6620   []..        if 
+000241c0: 6c69 6365 6e73 653a 0a20 2020 2020 2020  license:.       
+000241d0: 2020 2020 206c 6963 656e 7365 5f6b 7761       license_kwa
+000241e0: 7267 7320 3d20 5b7b 2273 6572 6961 6c73  rgs = [{"serials
+000241f0: 223a 205b 7365 7269 616c 5f6e 756d 5d2c  ": [serial_num],
+00024200: 2022 7365 7276 6963 6573 223a 2075 7469   "services": uti
+00024210: 6c73 2e6c 6973 7469 6679 286c 6963 656e  ls.listify(licen
+00024220: 7365 297d 5d0a 2020 2020 2020 2020 6966  se)}].        if
+00024230: 2073 6572 6961 6c5f 6e75 6d20 616e 6420   serial_num and 
+00024240: 6d61 635f 6164 6472 6573 733a 0a20 2020  mac_address:.   
+00024250: 2020 2020 2020 2020 2069 6620 6465 7669           if devi
+00024260: 6365 5f6c 6973 743a 0a20 2020 2020 2020  ce_list:.       
+00024270: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
+00024280: 616c 7565 4572 726f 7228 2273 6572 6961  alueError("seria
+00024290: 6c5f 6e75 6d20 616e 6420 6d61 635f 6164  l_num and mac_ad
+000242a0: 6472 6573 7320 6172 6520 6e6f 7420 6578  dress are not ex
+000242b0: 7065 6374 6564 2077 6865 6e20 6465 7669  pected when devi
+000242c0: 6365 5f6c 6973 7420 6973 2062 6569 6e67  ce_list is being
+000242d0: 2070 726f 7669 6465 642e 2229 0a0a 2020   provided.")..  
+000242e0: 2020 2020 2020 2020 2020 746f 5f67 726f            to_gro
+000242f0: 7570 203d 204e 6f6e 6520 6966 206e 6f74  up = None if not
+00024300: 2067 726f 7570 2065 6c73 6520 7b67 726f   group else {gro
+00024310: 7570 3a20 5b73 6572 6961 6c5f 6e75 6d5d  up: [serial_num]
+00024320: 7d0a 2020 2020 2020 2020 2020 2020 2320  }.            # 
+00024330: 746f 5f73 6974 6520 3d20 4e6f 6e65 2069  to_site = None i
+00024340: 6620 6e6f 7420 7369 7465 2065 6c73 6520  f not site else 
+00024350: 7b73 6974 653a 205b 7365 7269 616c 5f6e  {site: [serial_n
+00024360: 756d 5d7d 0a0a 2020 2020 2020 2020 2020  um]}..          
+00024370: 2020 6d61 6320 3d20 7574 696c 732e 4d61    mac = utils.Ma
+00024380: 6328 6d61 635f 6164 6472 6573 7329 0a20  c(mac_address). 
+00024390: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+000243a0: 7420 6d61 633a 0a20 2020 2020 2020 2020  t mac:.         
+000243b0: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
+000243c0: 7565 4572 726f 7228 6622 6d61 635f 6164  ueError(f"mac_ad
+000243d0: 6472 6573 7320 7b6d 6163 5f61 6464 7265  dress {mac_addre
+000243e0: 7373 7d20 6170 7065 6172 7320 746f 2062  ss} appears to b
+000243f0: 6520 696e 7661 6c69 642e 2229 0a0a 2020  e invalid.")..  
+00024400: 2020 2020 2020 2020 2020 6a73 6f6e 5f64            json_d
+00024410: 6174 6120 3d20 5b0a 2020 2020 2020 2020  ata = [.        
+00024420: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
+00024430: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+00024440: 6163 223a 206d 6163 2e63 6f6c 732c 0a20  ac": mac.cols,. 
+00024450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024460: 2020 2022 7365 7269 616c 223a 2073 6572     "serial": ser
+00024470: 6961 6c5f 6e75 6d0a 2020 2020 2020 2020  ial_num.        
+00024480: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+00024490: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
+000244a0: 2020 2020 6966 2070 6172 745f 6e75 6d3a      if part_num:
+000244b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000244c0: 206a 736f 6e5f 6461 7461 5b30 5d5b 2270   json_data[0]["p
+000244d0: 6172 744e 756d 6265 7222 5d20 3d20 7061  artNumber"] = pa
+000244e0: 7274 5f6e 756d 0a0a 2020 2020 2020 2020  rt_num..        
+000244f0: 656c 6966 2064 6576 6963 655f 6c69 7374  elif device_list
+00024500: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00024510: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
+00024520: 6465 7669 6365 5f6c 6973 742c 206c 6973  device_list, lis
+00024530: 7429 2061 6e64 206e 6f74 2061 6c6c 2869  t) and not all(i
+00024540: 7369 6e73 7461 6e63 6528 642c 2064 6963  sinstance(d, dic
+00024550: 7429 2066 6f72 2064 2069 6e20 6465 7669  t) for d in devi
+00024560: 6365 5f6c 6973 7429 3a0a 2020 2020 2020  ce_list):.      
+00024570: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00024580: 5661 6c75 6545 7272 6f72 2822 5768 656e  ValueError("When
+00024590: 2075 7369 6e67 2064 6576 6963 655f 6c69   using device_li
+000245a0: 7374 2074 6f20 6261 7463 6820 6164 6420  st to batch add 
+000245b0: 6465 7669 6365 732c 2074 6865 7920 7368  devices, they sh
+000245c0: 6f75 6c64 2062 6520 7072 6f76 6964 6564  ould be provided
+000245d0: 2061 7320 6120 6c69 7374 206f 6620 6469   as a list of di
+000245e0: 6374 7322 290a 0a20 2020 2020 2020 2020  cts")..         
+000245f0: 2020 205f 6b65 7973 203d 207b 0a20 2020     _keys = {.   
+00024600: 2020 2020 2020 2020 2020 2020 2022 6d61               "ma
+00024610: 635f 6164 6472 6573 7322 3a20 226d 6163  c_address": "mac
+00024620: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00024630: 2020 2022 7365 7269 616c 5f6e 756d 223a     "serial_num":
+00024640: 2022 7365 7269 616c 222c 0a20 2020 2020   "serial",.     
+00024650: 2020 2020 2020 2020 2020 2022 7061 7274             "part
+00024660: 5f6e 756d 223a 2022 7061 7274 4e75 6d62  _num": "partNumb
+00024670: 6572 220a 2020 2020 2020 2020 2020 2020  er".            
+00024680: 7d0a 0a20 2020 2020 2020 2020 2020 206a  }..            j
+00024690: 736f 6e5f 6461 7461 203d 205b 5d0a 2020  son_data = [].  
+000246a0: 2020 2020 2020 2020 2020 666f 7220 6420            for d 
+000246b0: 696e 2064 6576 6963 655f 6c69 7374 3a0a  in device_list:.
+000246c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000246d0: 6d61 6320 3d20 642e 6765 7428 226d 6163  mac = d.get("mac
+000246e0: 222c 2064 2e67 6574 2822 6d61 635f 6164  ", d.get("mac_ad
+000246f0: 6472 6573 7322 2929 0a20 2020 2020 2020  dress")).       
+00024700: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+00024710: 6d61 633a 0a20 2020 2020 2020 2020 2020  mac:.           
+00024720: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
+00024730: 616c 7565 4572 726f 7228 6622 4e6f 204d  alueError(f"No M
+00024740: 6163 2041 6464 7265 7373 2066 6f75 6e64  ac Address found
+00024750: 2066 6f72 2065 6e74 7279 207b 647d 2229   for entry {d}")
+00024760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024770: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00024780: 2020 2020 2020 2020 2020 206d 6163 203d             mac =
+00024790: 2075 7469 6c73 2e4d 6163 286d 6163 290a   utils.Mac(mac).
+000247a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000247b0: 2020 2020 6966 206e 6f74 206d 6163 3a0a      if not mac:.
+000247c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000247d0: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
+000247e0: 6c75 6545 7272 6f72 2866 224d 6163 2041  lueError(f"Mac A
+000247f0: 6464 7265 7373 207b 6d61 637d 2061 7070  ddress {mac} app
+00024800: 6561 7273 2074 6f20 6265 2069 6e76 616c  ears to be inval
+00024810: 6964 2e22 290a 2020 2020 2020 2020 2020  id.").          
+00024820: 2020 2020 2020 7365 7269 616c 203d 2064        serial = d
+00024830: 2e67 6574 2822 7365 7269 616c 222c 2064  .get("serial", d
+00024840: 2e67 6574 2822 7365 7269 616c 5f6e 756d  .get("serial_num
+00024850: 2229 290a 2020 2020 2020 2020 2020 2020  ")).            
+00024860: 2020 2020 5f74 6869 735f 6469 6374 203d      _this_dict =
+00024870: 207b 226d 6163 223a 206d 6163 2e63 6f6c   {"mac": mac.col
+00024880: 732c 2022 7365 7269 616c 223a 2073 6572  s, "serial": ser
+00024890: 6961 6c7d 0a20 2020 2020 2020 2020 2020  ial}.           
+000248a0: 2020 2020 2070 6172 745f 6e75 6d20 3d20       part_num = 
+000248b0: 642e 6765 7428 2270 6172 745f 6e75 6d22  d.get("part_num"
+000248c0: 2c20 642e 6765 7428 2270 6172 744e 756d  , d.get("partNum
+000248d0: 6265 7222 2929 0a20 2020 2020 2020 2020  ber")).         
+000248e0: 2020 2020 2020 2069 6620 7061 7274 5f6e         if part_n
+000248f0: 756d 3a0a 2020 2020 2020 2020 2020 2020  um:.            
+00024900: 2020 2020 2020 2020 5f74 6869 735f 6469          _this_di
+00024910: 6374 5b22 7061 7274 4e75 6d62 6572 225d  ct["partNumber"]
+00024920: 203d 2070 6172 745f 6e75 6d0a 0a20 2020   = part_num..   
+00024930: 2020 2020 2020 2020 2020 2020 206a 736f               jso
+00024940: 6e5f 6461 7461 202b 3d20 5b5f 7468 6973  n_data += [_this
+00024950: 5f64 6963 745d 0a0a 2020 2020 2020 2020  _dict]..        
+00024960: 2020 2020 746f 5f67 726f 7570 203d 207b      to_group = {
+00024970: 642e 6765 7428 2267 726f 7570 2229 3a20  d.get("group"): 
+00024980: 5b5d 2066 6f72 2064 2069 6e20 6465 7669  [] for d in devi
+00024990: 6365 5f6c 6973 7420 6966 2022 6772 6f75  ce_list if "grou
+000249a0: 7022 2069 6e20 647d 0a20 2020 2020 2020  p" in d}.       
+000249b0: 2020 2020 2066 6f72 2064 2069 6e20 6465       for d in de
+000249c0: 7669 6365 5f6c 6973 743a 0a20 2020 2020  vice_list:.     
+000249d0: 2020 2020 2020 2020 2020 2069 6620 2267             if "g
+000249e0: 726f 7570 2220 696e 2064 3a0a 2020 2020  roup" in d:.    
+000249f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024a00: 746f 5f67 726f 7570 5b64 5b22 6772 6f75  to_group[d["grou
+00024a10: 7022 5d5d 2e61 7070 656e 6428 642e 6765  p"]].append(d.ge
+00024a20: 7428 2273 6572 6961 6c5f 6e75 6d22 2c20  t("serial_num", 
+00024a30: 642e 6765 7428 2273 6572 6961 6c22 2929  d.get("serial"))
+00024a40: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
+00024a50: 2074 6f5f 7369 7465 203d 207b 642e 6765   to_site = {d.ge
+00024a60: 7428 2273 6974 6522 293a 205b 5d20 666f  t("site"): [] fo
+00024a70: 7220 6420 696e 2064 6576 6963 655f 6c69  r d in device_li
+00024a80: 7374 2069 6620 2273 6974 6522 2069 6e20  st if "site" in 
+00024a90: 647d 0a20 2020 2020 2020 2020 2020 2023  d}.            #
+00024aa0: 2066 6f72 2064 2069 6e20 6465 7669 6365   for d in device
+00024ab0: 5f6c 6973 743a 0a20 2020 2020 2020 2020  _list:.         
+00024ac0: 2020 2023 2020 2020 2069 6620 2273 6974     #     if "sit
+00024ad0: 6522 2069 6e20 643a 0a20 2020 2020 2020  e" in d:.       
+00024ae0: 2020 2020 2023 2020 2020 2020 2020 2074       #         t
+00024af0: 6f5f 7369 7465 5b64 5b22 7369 7465 225d  o_site[d["site"]
+00024b00: 5d2e 6170 7065 6e64 2864 2e67 6574 2822  ].append(d.get("
+00024b10: 7365 7269 616c 5f6e 756d 222c 2064 2e67  serial_num", d.g
+00024b20: 6574 2822 7365 7269 616c 2229 2929 0a0a  et("serial")))..
+00024b30: 2020 2020 2020 2020 2020 2020 2320 4761              # Ga
+00024b40: 7468 6572 2061 6c6c 2073 6572 6961 6c73  ther all serials
+00024b50: 2066 6f72 2065 6163 6820 6c69 6365 6e73   for each licens
+00024b60: 6520 636f 6d62 696e 6174 696f 6e20 6672  e combination fr
+00024b70: 6f6d 2064 6576 6963 655f 6c69 7374 0a20  om device_list. 
+00024b80: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
+00024b90: 4f20 7468 6973 206e 6565 6473 2074 6f20  O this needs to 
+00024ba0: 6265 2074 6573 7465 640a 2020 2020 2020  be tested.      
+00024bb0: 2020 2020 2020 5f6c 6963 5f6b 7761 7267        _lic_kwarg
+00024bc0: 7320 3d20 7b7d 0a20 2020 2020 2020 2020  s = {}.         
+00024bd0: 2020 2066 6f72 2064 2069 6e20 6465 7669     for d in devi
+00024be0: 6365 5f6c 6973 743a 0a20 2020 2020 2020  ce_list:.       
+00024bf0: 2020 2020 2020 2020 2069 6620 226c 6963           if "lic
+00024c00: 656e 7365 2220 6e6f 7420 696e 2064 3a0a  ense" not in d:.
+00024c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024c20: 2020 2020 636f 6e74 696e 7565 0a0a 2020      continue..  
+00024c30: 2020 2020 2020 2020 2020 2020 2020 645b                d[
+00024c40: 226c 6963 656e 7365 225d 203d 2075 7469  "license"] = uti
+00024c50: 6c73 2e6c 6973 7469 6679 2864 5b22 6c69  ls.listify(d["li
+00024c60: 6365 6e73 6522 5d29 0a20 2020 2020 2020  cense"]).       
+00024c70: 2020 2020 2020 2020 205f 6b65 7920 3d20           _key = 
+00024c80: 6622 7b64 5b27 6c69 6365 6e73 6527 5d20  f"{d['license'] 
+00024c90: 6966 206c 656e 2864 5b27 6c69 6365 6e73  if len(d['licens
+00024ca0: 6527 5d29 203d 3d20 3120 656c 7365 2027  e']) == 1 else '
+00024cb0: 7c27 2e6a 6f69 6e28 736f 7274 6564 2864  |'.join(sorted(d
+00024cc0: 5b27 6c69 6365 6e73 6527 5d29 297d 220a  ['license']))}".
+00024cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024ce0: 5f73 6572 6961 6c20 3d20 642e 6765 7428  _serial = d.get(
+00024cf0: 2273 6572 6961 6c5f 6e75 6d22 2c20 642e  "serial_num", d.
+00024d00: 6765 7428 2273 6572 6961 6c22 2929 0a20  get("serial")). 
+00024d10: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00024d20: 6620 6e6f 7420 5f73 6572 6961 6c3a 0a20  f not _serial:. 
+00024d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024d40: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
+00024d50: 726f 7228 6622 4e6f 2073 6572 6961 6c20  ror(f"No serial 
+00024d60: 666f 756e 6420 666f 7220 6465 7669 6365  found for device
+00024d70: 3a20 7b64 7d22 290a 0a20 2020 2020 2020  : {d}")..       
+00024d80: 2020 2020 2020 2020 2069 6620 5f6b 6579           if _key
+00024d90: 2069 6e20 5f6c 6963 5f6b 7761 7267 733a   in _lic_kwargs:
+00024da0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024db0: 2020 2020 205f 6c69 635f 6b77 6172 6773       _lic_kwargs
+00024dc0: 5b5f 6b65 795d 5b22 7365 7269 616c 7322  [_key]["serials"
+00024dd0: 5d20 2b3d 2075 7469 6c73 2e6c 6973 7469  ] += utils.listi
+00024de0: 6679 285f 7365 7269 616c 290a 2020 2020  fy(_serial).    
+00024df0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00024e00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00024e10: 2020 2020 2020 5f6c 6963 5f6b 7761 7267        _lic_kwarg
+00024e20: 735b 5f6b 6579 5d20 3d20 7b0a 2020 2020  s[_key] = {.    
 00024e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024e40: 7d0a 2020 2020 2020 2020 2020 2020 6c69  }.            li
-00024e50: 6365 6e73 655f 6b77 6172 6773 203d 206c  cense_kwargs = l
-00024e60: 6973 7428 5f6c 6963 5f6b 7761 7267 732e  ist(_lic_kwargs.
-00024e70: 7661 6c75 6573 2829 290a 0a20 2020 2020  values())..     
-00024e80: 2020 2020 2020 2023 206c 6963 656e 7365         # license
-00024e90: 5f61 7267 7320 3d20 5b5b 5d2c 205b 5d5d  _args = [[], []]
-00024ea0: 0a20 2020 2020 2020 2020 2020 2023 2062  .            # b
-00024eb0: 795f 7365 7220 3d20 7b64 5b22 7365 7269  y_ser = {d["seri
-00024ec0: 616c 5f6e 756d 225d 3a20 7574 696c 732e  al_num"]: utils.
-00024ed0: 6c69 7374 6966 7928 642e 6765 7428 226c  listify(d.get("l
-00024ee0: 6963 656e 7365 2229 2920 666f 7220 6420  icense")) for d 
-00024ef0: 696e 2064 6576 6963 655f 6c69 7374 2069  in device_list i
-00024f00: 6620 642e 6765 7428 226c 6963 656e 7365  f d.get("license
-00024f10: 2229 7d0a 2020 2020 2020 2020 2020 2020  ")}.            
-00024f20: 2320 544f 444f 206d 6f73 7420 6566 6669  # TODO most effi
-00024f30: 6369 656e 7420 7061 6972 696e 6720 6f66  cient pairing of
-00024f40: 2070 6f73 7369 626c 6520 6c69 632f 6465   possible lic/de
-00024f50: 7620 666f 7220 6665 7765 7374 2063 616c  v for fewest cal
-00024f60: 6c0a 2020 2020 2020 2020 2020 2020 2320  l.            # 
-00024f70: 544f 444f 206c 6963 656e 7365 2076 6961  TODO license via
-00024f80: 206c 6973 7420 6e6f 7420 696d 706c 656d   list not implem
-00024f90: 656e 7465 6420 7965 742e 0a0a 2020 2020  ented yet...    
-00024fa0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00024fb0: 2020 2020 2020 7261 6973 6520 5661 6c75        raise Valu
-00024fc0: 6545 7272 6f72 2822 6d61 635f 6164 6472  eError("mac_addr
-00024fd0: 6573 7320 616e 6420 7365 7269 616c 5f6e  ess and serial_n
-00024fe0: 756d 206f 7220 6465 7669 6365 5f6c 6973  um or device_lis
-00024ff0: 7420 6973 2072 6571 7569 7265 6422 290a  t is required").
-00025000: 0a20 2020 2020 2020 2023 2050 6572 666f  .        # Perfo
-00025010: 726d 2041 5049 2063 616c 6c28 7329 2074  rm API call(s) t
-00025020: 6f20 4365 6e74 7261 6c20 4150 4920 4757  o Central API GW
-00025030: 0a20 2020 2020 2020 2023 2054 4f44 4f20  .        # TODO 
-00025040: 6272 6561 6b20 6f75 7420 7468 6520 6164  break out the ad
-00025050: 6420 6465 7669 6365 2063 616c 6c20 696e  d device call in
-00025060: 746f 2069 7427 7320 6f77 6e20 6d65 7468  to it's own meth
-00025070: 6f64 2e0a 2020 2020 2020 2020 6966 2074  od..        if t
-00025080: 6f5f 6772 6f75 7020 6f72 206c 6963 656e  o_group or licen
-00025090: 7365 5f6b 7761 7267 733a 0a20 2020 2020  se_kwargs:.     
-000250a0: 2020 2020 2020 2023 2041 6464 2064 6576         # Add dev
-000250b0: 6963 6573 2074 6f20 6365 6e74 7261 6c2e  ices to central.
-000250c0: 2020 3120 4150 4920 6361 6c6c 2066 6f72    1 API call for
-000250d0: 2031 206f 7220 6d61 6e79 2064 6576 6963   1 or many devic
-000250e0: 6573 2e0a 2020 2020 2020 2020 2020 2020  es..            
-000250f0: 6272 203d 2073 656c 662e 4261 7463 6852  br = self.BatchR
-00025100: 6571 7565 7374 0a20 2020 2020 2020 2020  equest.         
-00025110: 2020 2072 6571 7320 3d20 5b0a 2020 2020     reqs = [.    
-00025120: 2020 2020 2020 2020 2020 2020 6272 2873              br(s
-00025130: 656c 662e 706f 7374 2c20 7572 6c2c 206a  elf.post, url, j
-00025140: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
-00025150: 7461 292c 0a20 2020 2020 2020 2020 2020  ta),.           
-00025160: 205d 0a20 2020 2020 2020 2020 2020 2023   ].            #
-00025170: 2041 7373 6967 6e20 6465 7669 6365 7320   Assign devices 
-00025180: 746f 2070 7265 2d70 726f 7669 7369 6f6e  to pre-provision
-00025190: 6564 2067 726f 7570 2e20 2031 2041 5049  ed group.  1 API
-000251a0: 2063 616c 6c20 7065 7220 6772 6f75 700a   call per group.
-000251b0: 2020 2020 2020 2020 2020 2020 2320 544f              # TO
-000251c0: 444f 2074 6573 7420 7468 6174 2074 6869  DO test that thi
-000251d0: 7320 6973 2031 2041 5049 2063 616c 6c20  s is 1 API call 
-000251e0: 7065 7220 6772 6f75 702e 0a20 2020 2020  per group..     
-000251f0: 2020 2020 2020 2069 6620 746f 5f67 726f         if to_gro
-00025200: 7570 3a0a 2020 2020 2020 2020 2020 2020  up:.            
-00025210: 2020 2020 6772 6f75 705f 7265 7173 203d      group_reqs =
-00025220: 205b 6272 2873 656c 662e 7072 6570 726f   [br(self.prepro
-00025230: 7669 7369 6f6e 5f64 6576 6963 655f 746f  vision_device_to
-00025240: 5f67 726f 7570 2c20 2867 2c20 6465 7673  _group, (g, devs
-00025250: 2929 2066 6f72 2067 2c20 6465 7673 2069  )) for g, devs i
-00025260: 6e20 746f 5f67 726f 7570 2e69 7465 6d73  n to_group.items
-00025270: 2829 5d0a 2020 2020 2020 2020 2020 2020  ()].            
-00025280: 2020 2020 7265 7173 203d 205b 2a72 6571      reqs = [*req
-00025290: 732c 202a 6772 6f75 705f 7265 7173 5d0a  s, *group_reqs].
-000252a0: 0a20 2020 2020 2020 2020 2020 2023 2054  .            # T
-000252b0: 4f44 4f20 596f 7520 6361 6e20 6164 6420  ODO You can add 
-000252c0: 7468 6520 6465 7669 6365 2074 6f20 6120  the device to a 
-000252d0: 7369 7465 2061 6674 6572 2069 7427 7320  site after it's 
-000252e0: 6265 656e 2070 7265 2d61 7373 6967 6e65  been pre-assigne
-000252f0: 640a 2020 2020 2020 2020 2020 2020 2320  d.            # 
-00025300: 6966 2074 6f5f 7369 7465 3a0a 2020 2020  if to_site:.    
-00025310: 2020 2020 2020 2020 2320 2020 2020 7369          #     si
-00025320: 7465 5f72 6571 7320 3d20 5b62 7228 7365  te_reqs = [br(se
-00025330: 6c66 2e6d 6f76 655f 6465 7669 6365 735f  lf.move_devices_
-00025340: 746f 5f73 6974 652c 2028 732c 2064 6576  to_site, (s, dev
-00025350: 732c 2022 6777 2229 2920 666f 7220 732c  s, "gw")) for s,
-00025360: 2064 6576 7320 696e 2074 6f5f 7369 7465   devs in to_site
-00025370: 2e69 7465 6d73 2829 5d0a 2020 2020 2020  .items()].      
-00025380: 2020 2020 2020 2320 2020 2020 7265 7173        #     reqs
-00025390: 203d 205b 2a72 6571 732c 202a 7369 7465   = [*reqs, *site
-000253a0: 5f72 6571 735d 0a0a 2020 2020 2020 2020  _reqs]..        
-000253b0: 2020 2020 2320 4173 7369 676e 206c 6963      # Assign lic
-000253c0: 656e 7365 2074 6f20 6465 7669 6365 732e  ense to devices.
-000253d0: 2020 3120 4150 4920 6361 6c6c 2066 6f72    1 API call for
-000253e0: 2061 6c6c 2064 6576 6963 6573 2077 6974   all devices wit
-000253f0: 6820 7361 6d65 2063 6f6d 6269 6e61 7469  h same combinati
-00025400: 6f6e 206f 6620 6c69 6365 6e73 6573 0a20  on of licenses. 
-00025410: 2020 2020 2020 2020 2020 2069 6620 6c69             if li
-00025420: 6365 6e73 655f 6b77 6172 6773 3a0a 2020  cense_kwargs:.  
-00025430: 2020 2020 2020 2020 2020 2020 2020 6c69                li
-00025440: 635f 7265 7173 203d 205b 6272 2873 656c  c_reqs = [br(sel
-00025450: 662e 6173 7369 676e 5f6c 6963 656e 7365  f.assign_license
-00025460: 732c 202a 2a6b 7761 7267 7329 2066 6f72  s, **kwargs) for
-00025470: 206b 7761 7267 7320 696e 206c 6963 656e   kwargs in licen
-00025480: 7365 5f6b 7761 7267 735d 0a20 2020 2020  se_kwargs].     
-00025490: 2020 2020 2020 2020 2020 2072 6571 7320             reqs 
-000254a0: 3d20 5b2a 7265 7173 2c20 2a6c 6963 5f72  = [*reqs, *lic_r
-000254b0: 6571 735d 0a0a 2020 2020 2020 2020 2020  eqs]..          
-000254c0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-000254d0: 656c 662e 5f62 6174 6368 5f72 6571 7565  elf._batch_reque
-000254e0: 7374 2872 6571 732c 2063 6f6e 7469 6e75  st(reqs, continu
-000254f0: 655f 6f6e 5f66 6169 6c3d 5472 7565 290a  e_on_fail=True).
-00025500: 2020 2020 2020 2020 2320 656c 6966 2074          # elif t
-00025510: 6f5f 7369 7465 3a0a 2020 2020 2020 2020  o_site:.        
-00025520: 2320 2020 2020 7261 6973 6520 5661 6c75  #     raise Valu
-00025530: 6545 7272 6f72 2822 5369 7465 2063 616e  eError("Site can
-00025540: 206f 6e6c 7920 6265 2070 7265 2d61 7373   only be pre-ass
-00025550: 6967 6e65 6420 6966 2064 6576 6963 6520  igned if device 
-00025560: 6973 2070 7265 2d70 726f 7669 7369 6f6e  is pre-provision
-00025570: 6564 2074 6f20 6120 6772 6f75 7022 290a  ed to a group").
-00025580: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00025590: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000255a0: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
-000255b0: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
-000255c0: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
-000255d0: 2320 544f 444f 206d 6179 6265 2068 656c  # TODO maybe hel
-000255e0: 7065 7220 6d65 7468 6f64 2074 6f20 6465  per method to de
-000255f0: 6c65 7465 5f64 6576 6963 6520 7468 6174  lete_device that
-00025600: 2063 616c 6c73 2074 6865 7365 0a20 2020   calls these.   
-00025610: 2061 7379 6e63 2064 6566 2064 656c 6574   async def delet
-00025620: 655f 6761 7465 7761 7928 0a20 2020 2020  e_gateway(.     
-00025630: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00025640: 2073 6572 6961 6c3a 2073 7472 2c0a 2020   serial: str,.  
-00025650: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-00025660: 0a20 2020 2020 2020 2022 2222 4465 6c65  .        """Dele
-00025670: 7465 2047 6174 6577 6179 2e0a 0a20 2020  te Gateway...   
-00025680: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00025690: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
-000256a0: 7472 293a 2053 6572 6961 6c20 4e75 6d62  tr): Serial Numb
-000256b0: 6572 206f 6620 4761 7465 7761 7920 746f  er of Gateway to
-000256c0: 2062 6520 6465 6c65 7465 640a 0a20 2020   be deleted..   
-000256d0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-000256e0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-000256f0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-00025700: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-00025710: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00025720: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
-00025730: 746f 7269 6e67 2f76 312f 6761 7465 7761  toring/v1/gatewa
-00025740: 7973 2f7b 7365 7269 616c 7d22 0a0a 2020  ys/{serial}"..  
-00025750: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-00025760: 6974 2073 656c 662e 6465 6c65 7465 2875  it self.delete(u
-00025770: 726c 290a 0a20 2020 2061 7379 6e63 2064  rl)..    async d
-00025780: 6566 2064 656c 6574 655f 7377 6974 6368  ef delete_switch
-00025790: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-000257a0: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
-000257b0: 7374 722c 0a20 2020 2029 202d 3e20 5265  str,.    ) -> Re
-000257c0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-000257d0: 2222 2244 656c 6574 6520 5377 6974 6368  """Delete Switch
-000257e0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-000257f0: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
-00025800: 6961 6c20 2873 7472 293a 2053 6572 6961  ial (str): Seria
-00025810: 6c20 6e75 6d62 6572 206f 6620 7377 6974  l number of swit
-00025820: 6368 2074 6f20 6265 2064 656c 6574 6564  ch to be deleted
-00025830: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00025840: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-00025850: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-00025860: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-00025870: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00025880: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-00025890: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f73  /monitoring/v1/s
-000258a0: 7769 7463 6865 732f 7b73 6572 6961 6c7d  witches/{serial}
-000258b0: 220a 0a20 2020 2020 2020 2072 6574 7572  "..        retur
-000258c0: 6e20 6177 6169 7420 7365 6c66 2e64 656c  n await self.del
-000258d0: 6574 6528 7572 6c29 0a0a 2020 2020 6173  ete(url)..    as
-000258e0: 796e 6320 6465 6620 6465 6c65 7465 5f61  ync def delete_a
-000258f0: 7028 0a20 2020 2020 2020 2073 656c 662c  p(.        self,
-00025900: 0a20 2020 2020 2020 2073 6572 6961 6c3a  .        serial:
-00025910: 2073 7472 2c0a 2020 2020 2920 2d3e 2052   str,.    ) -> R
-00025920: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-00025930: 2022 2222 4465 6c65 7465 2041 502e 0a0a   """Delete AP...
-00025940: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-00025950: 2020 2020 2020 2020 2020 7365 7269 616c            serial
-00025960: 2028 7374 7229 3a20 5365 7269 616c 204e   (str): Serial N
-00025970: 756d 6265 7220 6f66 2041 5020 746f 2062  umber of AP to b
-00025980: 6520 6465 6c65 7465 640a 0a20 2020 2020  e deleted..     
-00025990: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-000259a0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-000259b0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-000259c0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-000259d0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000259e0: 2075 726c 203d 2066 222f 6d6f 6e69 746f   url = f"/monito
-000259f0: 7269 6e67 2f76 312f 6170 732f 7b73 6572  ring/v1/aps/{ser
-00025a00: 6961 6c7d 220a 0a20 2020 2020 2020 2072  ial}"..        r
-00025a10: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00025a20: 2e64 656c 6574 6528 7572 6c29 0a0a 2020  .delete(url)..  
-00025a30: 2020 2320 544f 444f 206d 6179 2072 656d    # TODO may rem
-00025a40: 6f76 6520 7468 6973 2077 6f75 6c64 2073  ove this would s
-00025a50: 686f 7720 7468 6520 6465 7669 6365 2069  how the device i
-00025a60: 6e20 7468 6520 6772 6f75 702c 2062 7574  n the group, but
-00025a70: 2064 6964 6e27 7420 6265 6861 7665 2061   didn't behave a
-00025a80: 7320 6578 7065 6374 6564 2028 6465 7669  s expected (devi
-00025a90: 6365 2077 6173 206e 6f74 2069 6e20 6465  ce was not in de
-00025aa0: 7669 6365 206c 6973 7429 0a20 2020 2061  vice list).    a
-00025ab0: 7379 6e63 2064 6566 2061 7373 6967 6e5f  sync def assign_
-00025ac0: 6465 7669 6365 735f 746f 5f67 726f 7570  devices_to_group
-00025ad0: 2873 656c 662c 2020 6772 6f75 703a 2073  (self,  group: s
-00025ae0: 7472 2c20 7365 7269 616c 5f6e 756d 733a  tr, serial_nums:
-00025af0: 2055 6e69 6f6e 5b4c 6973 745b 7374 725d   Union[List[str]
-00025b00: 2c20 7374 725d 2920 2d3e 2052 6573 706f  , str]) -> Respo
-00025b10: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-00025b20: 4173 7369 676e 2064 6576 6963 6573 2074  Assign devices t
-00025b30: 6f20 7072 652d 7072 6f76 6973 696f 6e65  o pre-provisione
-00025b40: 6420 6772 6f75 702e 0a0a 2020 2020 2020  d group...      
-00025b50: 2020 2f2f 2055 7365 6420 696e 6469 7265    // Used indire
-00025b60: 6374 6c79 2062 7920 6164 6420 6465 7669  ctly by add devi
-00025b70: 6365 2028 7768 656e 2067 726f 7570 206f  ce (when group o
-00025b80: 7074 696f 6e20 7072 6f76 6964 6564 2920  ption provided) 
-00025b90: 2f2f 0a0a 2020 2020 2020 2020 4172 6773  //..        Args
-00025ba0: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
-00025bb0: 6f75 7020 2873 7472 293a 2047 726f 7570  oup (str): Group
-00025bc0: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
-00025bd0: 2020 7365 7269 616c 7320 284c 6973 745b    serials (List[
-00025be0: 7374 725d 7c73 7472 293a 2044 6576 6963  str]|str): Devic
-00025bf0: 6520 7365 7269 616c 206e 756d 6265 7220  e serial number 
-00025c00: 6f72 206c 6973 7420 6f66 2064 6576 6963  or list of devic
-00025c10: 6520 7365 7269 616c 206e 756d 6265 7273  e serial numbers
-00025c20: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-00025c30: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-00025c40: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-00025c50: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-00025c60: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-00025c70: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-00025c80: 2f64 6576 6963 655f 6d61 6e61 6765 6d65  /device_manageme
-00025c90: 6e74 2f76 312f 6772 6f75 702f 6173 7369  nt/v1/group/assi
-00025ca0: 676e 220a 2020 2020 2020 2020 7365 7269  gn".        seri
-00025cb0: 616c 5f6e 756d 7320 3d20 7574 696c 732e  al_nums = utils.
-00025cc0: 6c69 7374 6966 7928 7365 7269 616c 5f6e  listify(serial_n
-00025cd0: 756d 7329 0a0a 2020 2020 2020 2020 6a73  ums)..        js
-00025ce0: 6f6e 5f64 6174 6120 3d20 7b0a 2020 2020  on_data = {.    
-00025cf0: 2020 2020 2020 2020 2773 6572 6961 6c73          'serials
-00025d00: 273a 2073 6572 6961 6c5f 6e75 6d73 2c0a  ': serial_nums,.
-00025d10: 2020 2020 2020 2020 2020 2020 2767 726f              'gro
-00025d20: 7570 273a 2067 726f 7570 0a20 2020 2020  up': group.     
-00025d30: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-00025d40: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00025d50: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-00025d60: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
-00025d70: 2020 2020 6173 796e 6320 6465 6620 7072      async def pr
-00025d80: 6570 726f 7669 7369 6f6e 5f64 6576 6963  eprovision_devic
-00025d90: 655f 746f 5f67 726f 7570 280a 2020 2020  e_to_group(.    
-00025da0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00025db0: 2020 6772 6f75 705f 6e61 6d65 3a20 7374    group_name: st
-00025dc0: 722c 0a20 2020 2020 2020 2073 6572 6961  r,.        seria
-00025dd0: 6c5f 6e75 6d73 3a20 4c69 7374 5b73 7472  l_nums: List[str
-00025de0: 5d20 7c20 7374 722c 0a20 2020 2020 2020  ] | str,.       
-00025df0: 2074 656e 616e 745f 6964 3a20 7374 7220   tenant_id: str 
-00025e00: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
-00025e10: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00025e20: 2020 2022 2222 5072 6520 5072 6f76 6973     """Pre Provis
-00025e30: 696f 6e20 6120 6772 6f75 7020 746f 2074  ion a group to t
-00025e40: 6865 2064 6576 6963 652e 0a0a 2020 2020  he device...    
-00025e50: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00025e60: 2020 2020 2020 6465 7669 6365 5f69 6420        device_id 
-00025e70: 284c 6973 745b 7374 725d 293a 2064 6576  (List[str]): dev
-00025e80: 6963 655f 6964 0a20 2020 2020 2020 2020  ice_id.         
-00025e90: 2020 2067 726f 7570 5f6e 616d 6520 2873     group_name (s
-00025ea0: 7472 293a 2047 726f 7570 206e 616d 650a  tr): Group name.
-00025eb0: 2020 2020 2020 2020 2020 2020 7465 6e61              tena
-00025ec0: 6e74 5f69 6420 2873 7472 293a 2054 656e  nt_id (str): Ten
-00025ed0: 616e 7420 6964 2c20 286f 6e6c 7920 6170  ant id, (only ap
-00025ee0: 706c 6963 6162 6c65 2077 6974 6820 4d53  plicable with MS
-00025ef0: 5020 6d6f 6465 290a 0a20 2020 2020 2020  P mode)..       
-00025f00: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-00025f10: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-00025f20: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-00025f30: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-00025f40: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-00025f50: 726c 203d 2022 2f63 6f6e 6669 6775 7261  rl = "/configura
-00025f60: 7469 6f6e 2f76 312f 7072 6561 7373 6967  tion/v1/preassig
-00025f70: 6e22 0a0a 2020 2020 2020 2020 6a73 6f6e  n"..        json
-00025f80: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
-00025f90: 2020 2020 2020 2764 6576 6963 655f 6964        'device_id
-00025fa0: 273a 2073 6572 6961 6c5f 6e75 6d73 2c0a  ': serial_nums,.
-00025fb0: 2020 2020 2020 2020 2020 2020 2767 726f              'gro
-00025fc0: 7570 5f6e 616d 6527 3a20 6772 6f75 705f  up_name': group_
-00025fd0: 6e61 6d65 2c0a 2020 2020 2020 2020 7d0a  name,.        }.
-00025fe0: 0a20 2020 2020 2020 2069 6620 7465 6e61  .        if tena
-00025ff0: 6e74 5f69 6420 6973 206e 6f74 204e 6f6e  nt_id is not Non
-00026000: 653a 0a20 2020 2020 2020 2020 2020 206a  e:.            j
-00026010: 736f 6e5f 6461 7461 5b22 7465 6e61 6e74  son_data["tenant
-00026020: 5f69 6422 5d20 3d20 7374 7228 7465 6e61  _id"] = str(tena
-00026030: 6e74 5f69 6429 0a0a 2020 2020 2020 2020  nt_id)..        
-00026040: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00026050: 662e 706f 7374 2875 726c 2c20 6a73 6f6e  f.post(url, json
-00026060: 5f64 6174 613d 6a73 6f6e 5f64 6174 6129  _data=json_data)
-00026070: 0a0a 2020 2020 2320 544f 444f 2076 6572  ..    # TODO ver
-00026080: 6966 7920 7479 7065 2d68 696e 7420 666f  ify type-hint fo
-00026090: 7220 6465 7669 6365 5f6c 6973 7420 6973  r device_list is
-000260a0: 2074 6865 2072 6967 6874 2077 6179 2074   the right way t
-000260b0: 6f20 646f 2074 6861 742e 0a20 2020 2061  o do that..    a
-000260c0: 7379 6e63 2064 6566 2076 6572 6966 795f  sync def verify_
-000260d0: 6465 7669 6365 5f61 6464 6974 696f 6e28  device_addition(
-000260e0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-000260f0: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
-00026100: 6d3a 2073 7472 203d 204e 6f6e 652c 0a20  m: str = None,. 
-00026110: 2020 2020 2020 206d 6163 5f61 6464 7265         mac_addre
-00026120: 7373 3a20 7374 7220 3d20 4e6f 6e65 2c0a  ss: str = None,.
-00026130: 2020 2020 2020 2020 6465 7669 6365 5f6c          device_l
-00026140: 6973 743a 204c 6973 745b 4469 6374 5b4c  ist: List[Dict[L
-00026150: 6974 6572 616c 5b22 6d61 635f 6164 6472  iteral["mac_addr
-00026160: 6573 7322 2c20 2273 6572 6961 6c5f 6e75  ess", "serial_nu
-00026170: 6d22 5d2c 2073 7472 5d5d 203d 205b 5d0a  m"], str]] = [].
-00026180: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00026190: 653a 0a20 2020 2020 2020 2022 2222 5665  e:.        """Ve
-000261a0: 7269 6679 2044 6576 6963 6520 4164 6469  rify Device Addi
-000261b0: 7469 6f6e 0a0a 2020 2020 2020 2020 4172  tion..        Ar
-000261c0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-000261d0: 7365 7269 616c 5f6e 756d 2028 7374 722c  serial_num (str,
-000261e0: 206f 7074 696f 6e61 6c29 3a20 5365 7269   optional): Seri
-000261f0: 616c 204e 756d 6265 7220 6f66 2064 6576  al Number of dev
-00026200: 6963 6520 746f 2076 6572 6966 792e 2044  ice to verify. D
-00026210: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-00026220: 0a20 2020 2020 2020 2020 2020 206d 6163  .            mac
-00026230: 5f61 6464 7265 7373 2028 7374 722c 206f  _address (str, o
-00026240: 7074 696f 6e61 6c29 3a20 4d61 6320 4164  ptional): Mac Ad
-00026250: 6472 6573 7320 6f66 2064 6576 6963 6520  dress of device 
-00026260: 746f 2076 6572 6966 792e 2044 6566 6175  to verify. Defau
-00026270: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
-00026280: 2020 2020 2020 2020 2064 6576 6963 655f           device_
-00026290: 6c69 7374 2028 4c69 7374 5b44 6963 745b  list (List[Dict[
-000262a0: 4c69 7465 7261 6c5b 2c20 6f70 7469 6f6e  Literal[, option
-000262b0: 616c 293a 2064 6576 6963 655f 6c69 7374  al): device_list
-000262c0: 206c 6973 7420 6f66 2064 6963 7473 2077   list of dicts w
-000262d0: 6974 680a 2020 2020 2020 2020 2020 2020  ith.            
-000262e0: 2020 2020 2273 6572 6961 6c5f 6e75 6d22      "serial_num"
-000262f0: 2061 6e64 2022 6d61 635f 6164 6472 6573   and "mac_addres
-00026300: 7322 2066 6f72 2065 6163 6820 6465 7669  s" for each devi
-00026310: 6365 2074 6f20 7665 7269 6679 2e20 4465  ce to verify. De
-00026320: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
-00026330: 0a20 2020 2020 2020 204d 7573 7420 7072  .        Must pr
-00026340: 6f76 6964 6520 7365 7269 616c 5f6e 756d  ovide serial_num
-00026350: 2061 6e64 206d 6163 5f61 6464 7265 7373   and mac_address
-00026360: 2066 6f72 2065 6163 6820 6465 7669 6365   for each device
-00026370: 2065 6974 6865 7220 7669 6120 6b65 7977   either via keyw
-00026380: 6f72 6420 6172 6775 6d65 6e74 206f 7220  ord argument or 
-00026390: 6c69 7374 2e0a 0a20 2020 2020 2020 2052  list...        R
-000263a0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-000263b0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-000263c0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-000263d0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-000263e0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-000263f0: 203d 2022 2f70 6c61 7466 6f72 6d2f 6465   = "/platform/de
-00026400: 7669 6365 5f69 6e76 656e 746f 7279 2f76  vice_inventory/v
-00026410: 312f 6465 7669 6365 732f 7665 7269 6679  1/devices/verify
-00026420: 220a 2020 2020 2020 2020 6966 2073 6572  ".        if ser
-00026430: 6961 6c5f 6e75 6d20 616e 6420 6d61 635f  ial_num and mac_
-00026440: 6164 6472 6573 733a 0a20 2020 2020 2020  address:.       
-00026450: 2020 2020 2064 6576 6963 655f 6c69 7374       device_list
-00026460: 202b 3d20 7b0a 2020 2020 2020 2020 2020   += {.          
-00026470: 2020 2020 2020 2273 6572 6961 6c5f 6e75        "serial_nu
-00026480: 6d22 3a20 7365 7269 616c 5f6e 756d 2c0a  m": serial_num,.
-00026490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000264a0: 226d 6163 5f61 6464 7265 7373 223a 206d  "mac_address": m
-000264b0: 6163 5f61 6464 7265 7373 2c0a 2020 2020  ac_address,.    
-000264c0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
-000264d0: 2020 2069 6620 6e6f 7420 6465 7669 6365     if not device
-000264e0: 5f6c 6973 743a 0a20 2020 2020 2020 2020  _list:.         
-000264f0: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
-00026500: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
-00026510: 2020 2020 2022 496e 7661 6c69 6420 7061       "Invalid pa
-00026520: 7261 6d65 7465 7273 2065 7870 6563 7469  rameters expecti
-00026530: 6e67 2073 6572 6961 6c5f 6e75 6d20 616e  ng serial_num an
-00026540: 6420 6d61 635f 6164 6472 6573 7320 666f  d mac_address fo
-00026550: 7220 6561 6368 2064 6576 6963 6520 220a  r each device ".
-00026560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026570: 2265 6974 6865 7220 7669 6120 6b65 7977  "either via keyw
-00026580: 6f72 6420 6172 6775 6d65 6e74 206f 7220  ord argument or 
-00026590: 4c69 7374 5b64 6963 745d 2e22 0a20 2020  List[dict].".   
-000265a0: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
-000265b0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-000265c0: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
-000265d0: 6a73 6f6e 5f64 6174 613d 6465 7669 6365  json_data=device
-000265e0: 5f6c 6973 7429 0a0a 2020 2020 6173 796e  _list)..    asyn
-000265f0: 6320 6465 6620 7570 6c6f 6164 5f63 6572  c def upload_cer
-00026600: 7469 6669 6361 7465 280a 2020 2020 2020  tificate(.      
-00026610: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-00026620: 7061 7373 7068 7261 7365 3a20 7374 7220  passphrase: str 
-00026630: 3d20 2222 2c0a 2020 2020 2020 2020 6365  = "",.        ce
-00026640: 7274 5f66 696c 653a 2055 6e69 6f6e 5b73  rt_file: Union[s
-00026650: 7472 2c20 5061 7468 5d20 3d20 4e6f 6e65  tr, Path] = None
-00026660: 2c0a 2020 2020 2020 2020 6365 7274 5f6e  ,.        cert_n
-00026670: 616d 653a 2073 7472 203d 204e 6f6e 652c  ame: str = None,
-00026680: 0a20 2020 2020 2020 2063 6572 745f 666f  .        cert_fo
-00026690: 726d 6174 3a20 4c69 7465 7261 6c5b 2250  rmat: Literal["P
-000266a0: 454d 222c 2022 4445 5222 2c20 2250 4b43  EM", "DER", "PKC
-000266b0: 5331 3222 5d20 3d20 4e6f 6e65 2c0a 2020  S12"] = None,.  
-000266c0: 2020 2020 2020 6365 7274 5f64 6174 613a        cert_data:
-000266d0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000266e0: 2020 2020 2073 6572 7665 725f 6365 7274       server_cert
-000266f0: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
-00026700: 2020 2020 2020 2020 6361 5f63 6572 743a          ca_cert:
-00026710: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-00026720: 2020 2020 2020 2063 726c 3a20 626f 6f6c         crl: bool
-00026730: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
-00026740: 2020 696e 745f 6361 5f63 6572 743a 2062    int_ca_cert: b
-00026750: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-00026760: 2020 2020 206f 6373 705f 7265 7370 5f63       ocsp_resp_c
-00026770: 6572 743a 2062 6f6f 6c20 3d20 4661 6c73  ert: bool = Fals
-00026780: 652c 0a20 2020 2020 2020 206f 6373 705f  e,.        ocsp_
-00026790: 7369 676e 6572 5f63 6572 743a 2062 6f6f  signer_cert: boo
-000267a0: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
-000267b0: 2020 2073 7368 5f70 7562 5f6b 6579 3a20     ssh_pub_key: 
-000267c0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-000267d0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-000267e0: 0a20 2020 2020 2020 2022 2222 5570 6c6f  .        """Uplo
-000267f0: 6164 2061 2063 6572 7469 6669 6361 7465  ad a certificate
-00026800: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-00026810: 0a20 2020 2020 2020 2020 2020 2070 6173  .            pas
-00026820: 7370 6872 6173 6520 2873 7472 293a 2070  sphrase (str): p
-00026830: 6173 7370 6872 6173 650a 2020 2020 2020  assphrase.      
-00026840: 2020 2020 2020 6365 7274 5f66 696c 6520        cert_file 
-00026850: 2850 6174 687c 7374 722c 206f 7074 696f  (Path|str, optio
-00026860: 6e61 6c29 3a20 4365 7274 2066 696c 6520  nal): Cert file 
-00026870: 746f 2075 706c 6f61 642c 2069 6620 6669  to upload, if fi
-00026880: 6c65 2069 7320 7072 6f76 6964 6564 2063  le is provided c
-00026890: 6572 745f 6e61 6d65 0a20 2020 2020 2020  ert_name.       
-000268a0: 2020 2020 2020 2020 2061 6e64 2063 6572           and cer
-000268b0: 745f 666f 726d 6174 2077 696c 6c20 6265  t_format will be
-000268c0: 2064 6572 6976 6564 2066 726f 6d20 6669   derived from fi
-000268d0: 6c65 206e 616d 6520 2f20 6578 7465 6e73  le name / extens
-000268e0: 696f 6e2c 2075 6e6c 6573 7320 7468 6f73  ion, unless thos
-000268f0: 6520 7061 7261 6d73 0a20 2020 2020 2020  e params.       
-00026900: 2020 2020 2020 2020 2061 7265 2061 6c73           are als
-00026910: 6f20 7072 6f76 6964 6564 2e0a 2020 2020  o provided..    
-00026920: 2020 2020 2020 2020 6365 7274 5f6e 616d          cert_nam
-00026930: 6520 2873 7472 2c20 6f70 7469 6f6e 616c  e (str, optional
-00026940: 293a 2054 6865 206e 616d 6520 6f66 2074  ): The name of t
-00026950: 6865 2063 6572 7469 6669 6361 7465 2e0a  he certificate..
-00026960: 2020 2020 2020 2020 2020 2020 6365 7274              cert
-00026970: 5f66 6f72 6d61 7420 284c 6974 6572 616c  _format (Literal
-00026980: 5b22 5045 4d22 2c20 2244 4552 222c 2022  ["PEM", "DER", "
-00026990: 504b 4353 3132 225d 2c20 6f70 7469 6f6e  PKCS12"], option
-000269a0: 616c 293a 2063 6572 745f 666f 726d 6174  al): cert_format
-000269b0: 2020 5661 6c69 6420 5661 6c75 6573 3a20    Valid Values: 
-000269c0: 5045 4d2c 2044 4552 2c20 504b 4353 3132  PEM, DER, PKCS12
-000269d0: 0a20 2020 2020 2020 2020 2020 2063 6572  .            cer
-000269e0: 745f 6461 7461 2028 7374 722c 206f 7074  t_data (str, opt
-000269f0: 696f 6e61 6c29 3a20 4365 7274 6966 6963  ional): Certific
-00026a00: 6174 6520 636f 6e74 656e 7420 656e 636f  ate content enco
-00026a10: 6465 6420 696e 2062 6173 6536 3420 666f  ded in base64 fo
-00026a20: 7220 616c 6c20 666f 726d 6174 2063 6572  r all format cer
-00026a30: 7469 6669 6361 7465 732e 0a20 2020 2020  tificates..     
-00026a40: 2020 2020 2020 2073 6572 7665 725f 6365         server_ce
-00026a50: 7274 2028 626f 6f6c 2c20 6f70 7469 6f6e  rt (bool, option
-00026a60: 616c 293a 2053 6574 2074 6f20 5472 7565  al): Set to True
-00026a70: 2069 6620 6365 7274 2069 7320 6120 7365   if cert is a se
-00026a80: 7276 6572 2063 6572 7469 6669 6361 7465  rver certificate
-00026a90: 2e20 4465 6661 756c 7473 2074 6f20 4661  . Defaults to Fa
-00026aa0: 6c73 652e 0a20 2020 2020 2020 2020 2020  lse..           
-00026ab0: 2063 615f 6365 7274 2028 626f 6f6c 2c20   ca_cert (bool, 
-00026ac0: 6f70 7469 6f6e 616c 293a 2053 6574 2074  optional): Set t
-00026ad0: 6f20 5472 7565 2069 6620 6365 7274 2069  o True if cert i
-00026ae0: 7320 6120 4341 2043 6572 7469 6669 6361  s a CA Certifica
-00026af0: 7465 2e20 4465 6661 756c 7473 2074 6f20  te. Defaults to 
-00026b00: 4661 6c73 652e 0a20 2020 2020 2020 2020  False..         
-00026b10: 2020 2063 726c 2028 626f 6f6c 2c20 6f70     crl (bool, op
-00026b20: 7469 6f6e 616c 293a 2053 6574 2074 6f20  tional): Set to 
-00026b30: 5472 7565 2069 6620 6461 7461 2069 7320  True if data is 
-00026b40: 6120 6365 7274 6966 6963 6174 6520 7265  a certificate re
-00026b50: 766f 6361 7469 6f6e 206c 6973 742e 2044  vocation list. D
-00026b60: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
-00026b70: 2e0a 2020 2020 2020 2020 2020 2020 696e  ..            in
-00026b80: 745f 6361 5f63 6572 7420 2862 6f6f 6c2c  t_ca_cert (bool,
-00026b90: 206f 7074 696f 6e61 6c29 3a20 5365 7420   optional): Set 
-00026ba0: 746f 2054 7275 6520 6966 2063 6572 7469  to True if certi
-00026bb0: 6669 6361 7465 2069 7320 616e 2069 6e74  ficate is an int
-00026bc0: 6572 6d65 6469 6174 6520 4341 2063 6572  ermediate CA cer
-00026bd0: 742e 2044 6566 6175 6c74 7320 746f 2046  t. Defaults to F
-00026be0: 616c 7365 2e0a 2020 2020 2020 2020 2020  alse..          
-00026bf0: 2020 6f63 7370 5f72 6573 705f 6365 7274    ocsp_resp_cert
-00026c00: 2028 626f 6f6c 2c20 6f70 7469 6f6e 616c   (bool, optional
-00026c10: 293a 2053 6574 2074 6f20 5472 7565 2069  ): Set to True i
-00026c20: 6620 6365 7274 6966 6963 6174 6520 6973  f certificate is
-00026c30: 2061 6e20 4f43 5350 2072 6573 706f 6e64   an OCSP respond
-00026c40: 6572 2063 6572 742e 2044 6566 6175 6c74  er cert. Default
-00026c50: 7320 746f 2046 616c 7365 2e0a 2020 2020  s to False..    
-00026c60: 2020 2020 2020 2020 6f63 7370 5f73 6967          ocsp_sig
-00026c70: 6e65 725f 6365 7274 2028 626f 6f6c 2c20  ner_cert (bool, 
-00026c80: 6f70 7469 6f6e 616c 293a 2053 6574 2074  optional): Set t
-00026c90: 6f20 5472 7565 2069 6620 6365 7274 6966  o True if certif
-00026ca0: 6963 6174 6520 6973 2061 6e20 4f43 5350  icate is an OCSP
-00026cb0: 2073 6967 6e65 7220 6365 7274 2e20 4465   signer cert. De
-00026cc0: 6661 756c 7473 2074 6f20 4661 6c73 652e  faults to False.
-00026cd0: 0a20 2020 2020 2020 2020 2020 2073 7368  .            ssh
-00026ce0: 5f70 7562 5f6b 6579 2028 626f 6f6c 2c20  _pub_key (bool, 
-00026cf0: 6f70 7469 6f6e 616c 293a 2053 6574 2074  optional): Set t
-00026d00: 6f20 5472 7565 2069 6620 6365 7274 6966  o True if certif
-00026d10: 6963 6174 6520 6973 2061 6e20 5353 4820  icate is an SSH 
-00026d20: 5075 6220 6b65 792e 2044 6566 6175 6c74  Pub key. Default
-00026d30: 7320 746f 2046 616c 7365 2e0a 2020 2020  s to False..    
-00026d40: 2020 2020 2020 2020 2020 2020 7373 685f              ssh_
-00026d50: 7075 625f 6b65 7920 6e65 6564 7320 746f  pub_key needs to
-00026d60: 2062 6520 696e 2050 454d 2066 6f72 6d61   be in PEM forma
-00026d70: 742c 2073 7368 2d72 7361 2069 7320 6e6f  t, ssh-rsa is no
-00026d80: 7420 7375 7070 6f72 7465 642e 0a0a 2020  t supported...  
-00026d90: 2020 2020 2020 5261 6973 6573 3a0a 2020        Raises:.  
-00026da0: 2020 2020 2020 2020 2020 5661 6c75 6545            ValueE
-00026db0: 7272 6f72 3a20 5261 6973 6564 2069 6620  rror: Raised if 
-00026dc0: 696e 7661 6c69 6420 636f 6d62 696e 6174  invalid combinat
-00026dd0: 696f 6e20 6f66 2061 7267 756d 656e 7473  ion of arguments
-00026de0: 2069 7320 7072 6f76 6964 6564 2e0a 0a20   is provided... 
-00026df0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-00026e00: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-00026e10: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-00026e20: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-00026e30: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00026e40: 2020 2020 2023 2041 5049 2d46 4c41 5720       # API-FLAW 
-00026e50: 4150 4920 6d65 7468 6f64 2c20 5055 424c  API method, PUBL
-00026e60: 4943 5f43 4552 5420 6973 206e 6f74 2061  IC_CERT is not a
-00026e70: 6363 6570 7465 640a 2020 2020 2020 2020  ccepted.        
-00026e80: 7572 6c20 3d20 222f 636f 6e66 6967 7572  url = "/configur
-00026e90: 6174 696f 6e2f 7631 2f63 6572 7469 6669  ation/v1/certifi
-00026ea0: 6361 7465 7322 0a20 2020 2020 2020 2076  cates".        v
-00026eb0: 616c 6964 5f74 7970 6573 203d 205b 0a20  alid_types = [. 
-00026ec0: 2020 2020 2020 2020 2020 2022 5345 5256             "SERV
-00026ed0: 4552 5f43 4552 5422 2c0a 2020 2020 2020  ER_CERT",.      
-00026ee0: 2020 2020 2020 2243 415f 4345 5254 222c        "CA_CERT",
-00026ef0: 0a20 2020 2020 2020 2020 2020 2022 4352  .            "CR
-00026f00: 4c22 2c0a 2020 2020 2020 2020 2020 2020  L",.            
-00026f10: 2249 4e54 4552 4d45 4449 4154 455f 4341  "INTERMEDIATE_CA
-00026f20: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-00026f30: 4f43 5350 5f52 4553 504f 4e44 4552 5f43  OCSP_RESPONDER_C
-00026f40: 4552 5422 2c0a 2020 2020 2020 2020 2020  ERT",.          
-00026f50: 2020 224f 4353 505f 5349 474e 4552 5f43    "OCSP_SIGNER_C
-00026f60: 4552 5422 2c0a 2020 2020 2020 2020 2020  ERT",.          
-00026f70: 2020 2250 5542 4c49 435f 4345 5254 220a    "PUBLIC_CERT".
-00026f80: 2020 2020 2020 2020 5d0a 2020 2020 2020          ].      
-00026f90: 2020 7479 7065 5f76 6172 7320 3d20 5b73    type_vars = [s
-00026fa0: 6572 7665 725f 6365 7274 2c20 6361 5f63  erver_cert, ca_c
-00026fb0: 6572 742c 2063 726c 2c20 696e 745f 6361  ert, crl, int_ca
-00026fc0: 5f63 6572 742c 206f 6373 705f 7265 7370  _cert, ocsp_resp
-00026fd0: 5f63 6572 742c 206f 6373 705f 7369 676e  _cert, ocsp_sign
-00026fe0: 6572 5f63 6572 742c 2073 7368 5f70 7562  er_cert, ssh_pub
-00026ff0: 5f6b 6579 5d0a 2020 2020 2020 2020 6966  _key].        if
-00027000: 2074 7970 655f 7661 7273 2e63 6f75 6e74   type_vars.count
-00027010: 2854 7275 6529 203e 2031 3a0a 2020 2020  (True) > 1:.    
-00027020: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
-00027030: 6c75 6545 7272 6f72 2822 5072 6f76 6964  lueError("Provid
-00027040: 6564 2063 6f6e 666c 6963 7469 6e67 2063  ed conflicting c
-00027050: 6572 7469 6669 6361 7465 2074 7970 6573  ertificate types
-00027060: 2c20 6f6e 6c79 2031 2073 686f 756c 6420  , only 1 should 
-00027070: 6265 2073 6574 2074 6f20 5472 7565 2e22  be set to True."
-00027080: 290a 2020 2020 2020 2020 656c 6966 2061  ).        elif a
-00027090: 6c6c 285b 6e6f 7420 626f 6f6c 2876 6172  ll([not bool(var
-000270a0: 2920 666f 7220 7661 7220 696e 2074 7970  ) for var in typ
-000270b0: 655f 7661 7273 5d29 3a0a 2020 2020 2020  e_vars]):.      
-000270c0: 2020 2020 2020 7261 6973 6520 5661 6c75        raise Valu
-000270d0: 6545 7272 6f72 2822 4e6f 2063 6572 745f  eError("No cert_
-000270e0: 7479 7065 2070 726f 7669 6465 642c 206f  type provided, o
-000270f0: 6e65 206f 6620 7468 6520 6365 7274 5f74  ne of the cert_t
-00027100: 7970 6573 2073 686f 756c 6420 6265 2073  ypes should be s
-00027110: 6574 2074 6f20 5472 7565 2229 0a0a 2020  et to True")..  
-00027120: 2020 2020 2020 6966 2063 6572 745f 666f        if cert_fo
-00027130: 726d 6174 2061 6e64 2063 6572 745f 666f  rmat and cert_fo
-00027140: 726d 6174 2e75 7070 6572 2829 206e 6f74  rmat.upper() not
-00027150: 2069 6e20 5b22 5045 4d22 2c20 2244 4552   in ["PEM", "DER
-00027160: 222c 2022 504b 4353 3132 225d 3a0a 2020  ", "PKCS12"]:.  
-00027170: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00027180: 5661 6c75 6545 7272 6f72 2866 2249 6e76  ValueError(f"Inv
-00027190: 616c 6964 2063 6572 745f 666f 726d 6174  alid cert_format
-000271a0: 207b 6365 7274 5f66 6f72 6d61 747d 2c20   {cert_format}, 
-000271b0: 7661 6c69 6420 7661 6c75 6573 2061 7265  valid values are
-000271c0: 2027 5045 4d27 2c20 2744 4552 272c 2027   'PEM', 'DER', '
-000271d0: 504b 4353 3132 2722 290a 2020 2020 2020  PKCS12'").      
-000271e0: 2020 656c 6966 206e 6f74 2063 6572 745f    elif not cert_
-000271f0: 666f 726d 6174 2061 6e64 206e 6f74 2063  format and not c
-00027200: 6572 745f 6669 6c65 3a0a 2020 2020 2020  ert_file:.      
-00027210: 2020 2020 2020 7261 6973 6520 5661 6c75        raise Valu
-00027220: 6545 7272 6f72 2822 6365 7274 5f66 6f72  eError("cert_for
-00027230: 6d61 7420 6973 2072 6571 7569 7265 6420  mat is required 
-00027240: 7768 656e 206e 6f74 2070 726f 7669 6469  when not providi
-00027250: 6e67 2063 6572 7469 6669 6361 7465 2076  ng certificate v
-00027260: 6961 2066 696c 652e 2229 0a0a 2020 2020  ia file.")..    
-00027270: 2020 2020 6966 206e 6f74 2063 6572 745f      if not cert_
-00027280: 6461 7461 2061 6e64 206e 6f74 2063 6572  data and not cer
-00027290: 745f 6669 6c65 3a0a 2020 2020 2020 2020  t_file:.        
-000272a0: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
-000272b0: 7272 6f72 2822 4f6e 6520 6f66 2063 6572  rror("One of cer
-000272c0: 745f 6669 6c65 206f 7220 6365 7274 5f64  t_file or cert_d
-000272d0: 6174 6120 7368 6f75 6c64 2062 6520 7072  ata should be pr
-000272e0: 6f76 6964 6564 2229 0a20 2020 2020 2020  ovided").       
-000272f0: 2065 6c69 6620 6365 7274 5f64 6174 6120   elif cert_data 
-00027300: 616e 6420 6365 7274 5f66 696c 653a 0a20  and cert_file:. 
-00027310: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00027320: 2056 616c 7565 4572 726f 7228 224f 6e6c   ValueError("Onl
-00027330: 7920 6f6e 6520 6f66 2063 6572 745f 6669  y one of cert_fi
-00027340: 6c65 2061 6e64 2063 6572 745f 6461 7461  le and cert_data
-00027350: 2073 686f 756c 6420 6265 2070 726f 7669   should be provi
-00027360: 6465 6422 290a 0a20 2020 2020 2020 2066  ded")..        f
-00027370: 6f72 2063 6572 745f 7479 7065 2c20 7661  or cert_type, va
-00027380: 7220 696e 207a 6970 2876 616c 6964 5f74  r in zip(valid_t
-00027390: 7970 6573 2c20 7479 7065 5f76 6172 7329  ypes, type_vars)
-000273a0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-000273b0: 2076 6172 3a0a 2020 2020 2020 2020 2020   var:.          
-000273c0: 2020 2020 2020 6272 6561 6b0a 0a20 2020        break..   
-000273d0: 2020 2020 2069 6620 6365 7274 5f66 696c       if cert_fil
-000273e0: 653a 0a20 2020 2020 2020 2020 2020 2063  e:.            c
-000273f0: 6572 745f 6669 6c65 203d 2050 6174 6828  ert_file = Path(
-00027400: 6365 7274 5f66 696c 6529 2069 6620 6e6f  cert_file) if no
-00027410: 7420 6973 696e 7374 616e 6365 2863 6572  t isinstance(cer
-00027420: 745f 6669 6c65 2c20 5061 7468 2920 656c  t_file, Path) el
-00027430: 7365 2063 6572 745f 6669 6c65 0a20 2020  se cert_file.   
-00027440: 2020 2020 2020 2020 2063 6572 745f 6e61           cert_na
-00027450: 6d65 203d 2063 6572 745f 6e61 6d65 206f  me = cert_name o
-00027460: 7220 6365 7274 5f66 696c 652e 7374 656d  r cert_file.stem
-00027470: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00027480: 6e6f 7420 6365 7274 5f66 6f72 6d61 743a  not cert_format:
-00027490: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000274a0: 2069 6620 6365 7274 5f66 696c 652e 7375   if cert_file.su
-000274b0: 6666 6978 2e6c 6f77 6572 2829 2069 6e20  ffix.lower() in 
-000274c0: 5b22 2e70 6678 222c 2022 2e70 3132 225d  [".pfx", ".p12"]
-000274d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000274e0: 2020 2020 2020 6365 7274 5f66 6f72 6d61        cert_forma
-000274f0: 7420 3d20 2250 4b43 5331 3222 0a20 2020  t = "PKCS12".   
-00027500: 2020 2020 2020 2020 2020 2020 2065 6c69               eli
-00027510: 6620 6365 7274 5f66 696c 652e 7375 6666  f cert_file.suff
-00027520: 6978 2e6c 6f77 6572 2829 2069 6e20 5b22  ix.lower() in ["
-00027530: 2e70 656d 222c 2022 2e63 6572 225d 3a0a  .pem", ".cer"]:.
-00027540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027550: 2020 2020 6365 7274 5f66 6f72 6d61 7420      cert_format 
-00027560: 3d20 2250 454d 220a 2020 2020 2020 2020  = "PEM".        
-00027570: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00027580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027590: 2020 2320 544f 444f 2064 6574 6572 6d69    # TODO determi
-000275a0: 6e65 2066 6f72 6d61 7420 7573 696e 6720  ne format using 
-000275b0: 6372 7970 746f 6772 6170 6879 206c 6962  cryptography lib
-000275c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000275d0: 2020 2020 2063 6572 745f 666f 726d 6174       cert_format
-000275e0: 203d 2022 4445 5222 0a20 2020 2020 2020   = "DER".       
-000275f0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00027600: 2020 2020 2020 2020 2020 2063 6572 745f             cert_
-00027610: 666f 726d 6174 203d 2063 6572 745f 666f  format = cert_fo
-00027620: 726d 6174 2e75 7070 6572 2829 0a0a 2020  rmat.upper()..  
-00027630: 2020 2020 2020 2020 2020 6365 7274 5f64            cert_d
-00027640: 6174 6120 3d20 6365 7274 5f66 696c 652e  ata = cert_file.
-00027650: 7265 6164 5f74 6578 7428 290a 0a20 2020  read_text()..   
-00027660: 2020 2020 2063 6572 745f 6279 7465 7320       cert_bytes 
-00027670: 3d20 6365 7274 5f64 6174 612e 656e 636f  = cert_data.enco
-00027680: 6465 2822 7574 662d 3822 290a 2020 2020  de("utf-8").    
-00027690: 2020 2020 6365 7274 5f62 3634 203d 2062      cert_b64 = b
-000276a0: 6173 6536 342e 6236 3465 6e63 6f64 6528  ase64.b64encode(
-000276b0: 6365 7274 5f62 7974 6573 292e 6465 636f  cert_bytes).deco
-000276c0: 6465 2822 7574 662d 3822 290a 0a20 2020  de("utf-8")..   
-000276d0: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-000276e0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-000276f0: 6365 7274 5f6e 616d 6527 3a20 6365 7274  cert_name': cert
-00027700: 5f6e 616d 652c 0a20 2020 2020 2020 2020  _name,.         
-00027710: 2020 2027 6365 7274 5f74 7970 6527 3a20     'cert_type': 
-00027720: 6365 7274 5f74 7970 652c 0a20 2020 2020  cert_type,.     
-00027730: 2020 2020 2020 2027 6365 7274 5f66 6f72         'cert_for
-00027740: 6d61 7427 3a20 6365 7274 5f66 6f72 6d61  mat': cert_forma
-00027750: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
-00027760: 7061 7373 7068 7261 7365 273a 2070 6173  passphrase': pas
-00027770: 7370 6872 6173 652c 0a20 2020 2020 2020  sphrase,.       
-00027780: 2020 2020 2027 6365 7274 5f64 6174 6127       'cert_data'
-00027790: 3a20 6365 7274 5f62 3634 0a20 2020 2020  : cert_b64.     
-000277a0: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-000277b0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-000277c0: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-000277d0: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
-000277e0: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
-000277f0: 745f 7375 6273 6372 6970 7469 6f6e 7328  t_subscriptions(
-00027800: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-00027810: 2020 2020 2020 206c 6963 656e 7365 5f74         license_t
-00027820: 7970 653a 2073 7472 203d 204e 6f6e 652c  ype: str = None,
-00027830: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
-00027840: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
-00027850: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
-00027860: 3030 302c 2020 2320 446f 6573 6e27 7420  000,  # Doesn't 
-00027870: 6170 7065 6172 2074 6f20 6861 7665 206d  appear to have m
-00027880: 6178 2c20 616c 6c6f 7765 6420 3130 6b20  ax, allowed 10k 
-00027890: 6c69 6d69 7420 696e 2073 7761 6767 6572  limit in swagger
-000278a0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-000278b0: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
-000278c0: 6574 2075 7365 7220 7375 6273 6372 6970  et user subscrip
-000278d0: 7469 6f6e 206b 6579 732e 0a0a 2020 2020  tion keys...    
-000278e0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-000278f0: 2020 2020 2020 6c69 6365 6e73 655f 7479        license_ty
-00027900: 7065 2028 7374 722c 206f 7074 696f 6e61  pe (str, optiona
-00027910: 6c29 3a20 5375 7070 6f72 7473 2042 6173  l): Supports Bas
-00027920: 6963 2c20 5365 7276 6963 6520 546f 6b65  ic, Service Toke
-00027930: 6e20 616e 6420 4d75 6c74 6920 5469 6572  n and Multi Tier
-00027940: 206c 6963 656e 7369 6e67 0a20 2020 2020   licensing.     
-00027950: 2020 2020 2020 2020 2020 2074 7970 6573             types
-00027960: 2061 7320 7765 6c6c 0a20 2020 2020 2020   as well.       
-00027970: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
-00027980: 2c20 6f70 7469 6f6e 616c 293a 206f 6666  , optional): off
-00027990: 7365 7420 6f72 2070 6167 6520 6e75 6d62  set or page numb
-000279a0: 6572 2044 6566 6175 6c74 7320 746f 2030  er Defaults to 0
-000279b0: 2e0a 2020 2020 2020 2020 2020 2020 6c69  ..            li
-000279c0: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
-000279d0: 616c 293a 204e 756d 6265 7220 6f66 2073  al): Number of s
-000279e0: 7562 7363 7269 7074 696f 6e73 2074 6f20  ubscriptions to 
-000279f0: 6765 7420 4465 6661 756c 7473 2074 6f20  get Defaults to 
-00027a00: 3130 302e 0a0a 2020 2020 2020 2020 5265  100...        Re
-00027a10: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00027a20: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00027a30: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00027a40: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00027a50: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00027a60: 3d20 222f 706c 6174 666f 726d 2f6c 6963  = "/platform/lic
-00027a70: 656e 7369 6e67 2f76 312f 7375 6273 6372  ensing/v1/subscr
-00027a80: 6970 7469 6f6e 7322 0a0a 2020 2020 2020  iptions"..      
-00027a90: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
-00027aa0: 2020 2020 2020 2020 2027 6c69 6365 6e73           'licens
-00027ab0: 655f 7479 7065 273a 206c 6963 656e 7365  e_type': license
-00027ac0: 5f74 7970 652c 0a20 2020 2020 2020 2020  _type,.         
-00027ad0: 2020 2027 6f66 6673 6574 273a 206f 6666     'offset': off
-00027ae0: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
-00027af0: 2027 6c69 6d69 7427 3a20 6c69 6d69 740a   'limit': limit.
-00027b00: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
-00027b10: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00027b20: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
-00027b30: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
-00027b40: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-00027b50: 7375 6273 6372 6970 7469 6f6e 5f73 7461  subscription_sta
-00027b60: 7473 280a 2020 2020 2020 2020 7365 6c66  ts(.        self
-00027b70: 2c0a 2020 2020 2020 2020 6c69 6365 6e73  ,.        licens
-00027b80: 655f 7479 7065 3a20 7374 7220 3d20 2761  e_type: str = 'a
-00027b90: 6c6c 272c 0a20 2020 2020 2020 2073 6572  ll',.        ser
-00027ba0: 7669 6365 3a20 7374 7220 3d20 4e6f 6e65  vice: str = None
-00027bb0: 2c0a 2020 2020 2020 2020 6170 705f 6f6e  ,.        app_on
-00027bc0: 6c79 5f73 7461 7473 3a20 626f 6f6c 203d  ly_stats: bool =
-00027bd0: 204e 6f6e 652c 0a20 2020 2029 202d 3e20   None,.    ) -> 
-00027be0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00027bf0: 2020 2222 2247 6574 2073 7562 7363 7269    """Get subscri
-00027c00: 7074 696f 6e20 7374 6174 732e 0a0a 2020  ption stats...  
-00027c10: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00027c20: 2020 2020 2020 2020 6c69 6365 6e73 655f          license_
-00027c30: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
-00027c40: 6e61 6c29 3a20 5375 7070 6f72 7473 2062  nal): Supports b
-00027c50: 6173 6963 2f73 7065 6369 616c 2f61 6c6c  asic/special/all
-00027c60: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00027c70: 2020 7370 6563 6961 6c20 2d20 7769 6c6c    special - will
-00027c80: 2066 6574 6368 2074 6865 2073 7461 7469   fetch the stati
-00027c90: 7374 6963 7320 6f66 2073 7065 6369 616c  stics of special
-00027ca0: 2063 656e 7472 616c 2073 6572 7669 6365   central service
-00027cb0: 7320 6c69 6b65 2070 7265 7365 6e63 650a  s like presence.
-00027cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027cd0: 2020 2020 616e 616c 7974 6963 7328 7061      analytics(pa
-00027ce0: 292c 2075 6363 2c20 636c 6172 6974 7920  ), ucc, clarity 
-00027cf0: 6574 632e 0a20 2020 2020 2020 2020 2020  etc..           
-00027d00: 2020 2020 2062 6173 6963 202d 2077 696c       basic - wil
-00027d10: 6c20 6665 7463 6820 7468 6520 7374 6174  l fetch the stat
-00027d20: 6973 7469 6373 206f 6620 6465 7669 6365  istics of device
-00027d30: 206d 616e 6167 656d 656e 7420 7365 7276   management serv
-00027d40: 6963 6520 6c69 6365 6e73 6573 2e0a 2020  ice licenses..  
-00027d50: 2020 2020 2020 2020 2020 2020 2020 616c                al
-00027d60: 6c20 2d20 7769 6c6c 2066 6574 6368 2062  l - will fetch b
-00027d70: 6f74 6820 6f66 2074 6865 7365 206c 6963  oth of these lic
-00027d80: 656e 7365 2074 7970 6573 2e0a 0a20 2020  ense types...   
-00027d90: 2020 2020 2020 2020 2020 2020 2041 6c73               Als
-00027da0: 6f20 7375 7070 6f72 7473 206d 756c 7469  o supports multi
-00027db0: 2074 6965 7220 6c69 6365 6e73 6520 7479   tier license ty
-00027dc0: 7065 7320 7375 6368 2066 6f75 6e64 6174  pes such foundat
-00027dd0: 696f 6e5f 6170 2c20 6164 7661 6e63 6564  ion_ap, advanced
-00027de0: 5f73 7769 7463 685f 3633 3030 2c0a 2020  _switch_6300,.  
-00027df0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00027e00: 756e 6461 7469 6f6e 5f37 3058 5820 6574  undation_70XX et
-00027e10: 632e 0a0a 2020 2020 2020 2020 2020 2020  c...            
-00027e20: 7365 7276 6963 6520 2873 7472 2c20 6f70  service (str, op
-00027e30: 7469 6f6e 616c 293a 2053 6572 7669 6365  tional): Service
-00027e40: 2074 7970 653a 2070 612f 7061 2c63 6c61   type: pa/pa,cla
-00027e50: 7269 7479 2c66 6f75 6e64 6174 696f 6e5f  rity,foundation_
-00027e60: 6170 2c0a 2020 2020 2020 2020 2020 2020  ap,.            
-00027e70: 2020 2020 6164 7661 6e63 6564 5f73 7769      advanced_swi
-00027e80: 7463 685f 3633 3030 2c20 666f 756e 6461  tch_6300, founda
-00027e90: 7469 6f6e 5f37 3058 5820 2065 7463 2e0a  tion_70XX  etc..
-00027ea0: 2020 2020 2020 2020 2020 2020 6170 705f              app_
-00027eb0: 6f6e 6c79 5f73 7461 7473 2028 626f 6f6c  only_stats (bool
-00027ec0: 2c20 6f70 7469 6f6e 616c 293a 2049 6620  , optional): If 
-00027ed0: 7661 6c75 6520 6973 2054 7275 652c 2073  value is True, s
-00027ee0: 7461 7473 206f 6e6c 7920 666f 7220 7468  tats only for th
-00027ef0: 6520 6375 7272 656e 740a 2020 2020 2020  e current.      
-00027f00: 2020 2020 2020 2020 2020 6170 706c 6963            applic
-00027f10: 6174 696f 6e20 7265 7475 726e 6564 2072  ation returned r
-00027f20: 6174 6865 7220 7468 616e 2067 6c6f 6261  ather than globa
-00027f30: 6c20 7374 6174 730a 0a20 2020 2020 2020  l stats..       
-00027f40: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-00027f50: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-00027f60: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-00027f70: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-00027f80: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-00027f90: 726c 203d 2022 2f70 6c61 7466 6f72 6d2f  rl = "/platform/
-00027fa0: 6c69 6365 6e73 696e 672f 7631 2f73 7562  licensing/v1/sub
-00027fb0: 7363 7269 7074 696f 6e73 2f73 7461 7473  scriptions/stats
-00027fc0: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
-00027fd0: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-00027fe0: 2020 276c 6963 656e 7365 5f74 7970 6527    'license_type'
-00027ff0: 3a20 6c69 6365 6e73 655f 7479 7065 2c0a  : license_type,.
-00028000: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
-00028010: 7669 6365 273a 2073 6572 7669 6365 2c0a  vice': service,.
-00028020: 2020 2020 2020 2020 2020 2020 2761 7070              'app
-00028030: 5f6f 6e6c 795f 7374 6174 7327 3a20 6170  _only_stats': ap
-00028040: 705f 6f6e 6c79 5f73 7461 7473 0a20 2020  p_only_stats.   
-00028050: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-00028060: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00028070: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-00028080: 733d 7061 7261 6d73 290a 0a20 2020 2023  s=params)..    #
-00028090: 2041 5049 2d4e 4f54 453a 2067 7261 6273   API-NOTE: grabs
-000280a0: 2041 6c6c 2076 616c 6964 206c 6963 656e   All valid licen
-000280b0: 7365 2074 7970 6573 2c20 6469 7370 6c61  se types, displa
-000280c0: 7920 6e61 6d65 732e 2e2e 0a20 2020 2061  y names....    a
-000280d0: 7379 6e63 2064 6566 2067 6574 5f73 6572  sync def get_ser
-000280e0: 7669 6365 735f 636f 6e66 6967 280a 2020  vices_config(.  
-000280f0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00028100: 2020 2020 7365 7276 6963 655f 6361 7465      service_cate
-00028110: 676f 7279 3a20 7374 7220 3d20 4e6f 6e65  gory: str = None
-00028120: 2c0a 2020 2020 2020 2020 6465 7669 6365  ,.        device
-00028130: 5f74 7970 653a 2073 7472 203d 204e 6f6e  _type: str = Non
-00028140: 650a 2020 2020 2920 2d3e 2052 6573 706f  e.    ) -> Respo
-00028150: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-00028160: 4765 7420 7365 7276 6963 6573 206c 6963  Get services lic
-00028170: 656e 7369 6e67 2063 6f6e 6669 672e 0a0a  ensing config...
-00028180: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-00028190: 2020 2020 2020 2020 2020 7365 7276 6963            servic
-000281a0: 655f 6361 7465 676f 7279 2028 7374 722c  e_category (str,
-000281b0: 206f 7074 696f 6e61 6c29 3a20 5365 7276   optional): Serv
-000281c0: 6963 6520 6361 7465 676f 7279 202d 2064  ice category - d
-000281d0: 6d2f 6e65 7477 6f72 6b0a 2020 2020 2020  m/network.      
-000281e0: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
-000281f0: 6520 2873 7472 2c20 6f70 7469 6f6e 616c  e (str, optional
-00028200: 293a 2044 6576 6963 6520 5479 7065 202d  ): Device Type -
-00028210: 2069 6170 2f63 6170 2f73 7769 7463 682f   iap/cap/switch/
-00028220: 626f 632f 636f 6e74 726f 6c6c 6572 0a0a  boc/controller..
-00028230: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00028240: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00028250: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00028260: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00028270: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00028280: 2020 2020 2020 7572 6c20 3d20 222f 706c        url = "/pl
-00028290: 6174 666f 726d 2f6c 6963 656e 7369 6e67  atform/licensing
-000282a0: 2f76 312f 7365 7276 6963 6573 2f63 6f6e  /v1/services/con
-000282b0: 6669 6722 0a0a 2020 2020 2020 2020 7061  fig"..        pa
-000282c0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
-000282d0: 2020 2020 2027 7365 7276 6963 655f 6361       'service_ca
-000282e0: 7465 676f 7279 273a 2073 6572 7669 6365  tegory': service
-000282f0: 5f63 6174 6567 6f72 792c 0a20 2020 2020  _category,.     
-00028300: 2020 2020 2020 2027 6465 7669 6365 5f74         'device_t
-00028310: 7970 6527 3a20 6465 7669 6365 5f74 7970  ype': device_typ
-00028320: 650a 2020 2020 2020 2020 7d0a 0a20 2020  e.        }..   
-00028330: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00028340: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
-00028350: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
-00028360: 2020 2020 6173 796e 6320 6465 6620 6173      async def as
-00028370: 7369 676e 5f6c 6963 656e 7365 7328 7365  sign_licenses(se
-00028380: 6c66 2c20 7365 7269 616c 733a 2055 6e69  lf, serials: Uni
-00028390: 6f6e 5b73 7472 2c20 4c69 7374 5b73 7472  on[str, List[str
-000283a0: 5d5d 2c20 7365 7276 6963 6573 3a20 556e  ]], services: Un
-000283b0: 696f 6e5b 7374 722c 204c 6973 745b 7374  ion[str, List[st
-000283c0: 725d 5d29 202d 3e20 5265 7370 6f6e 7365  r]]) -> Response
-000283d0: 3a0a 2020 2020 2020 2020 2222 2241 7373  :.        """Ass
-000283e0: 6967 6e20 7375 6273 6372 6970 7469 6f6e  ign subscription
-000283f0: 2074 6f20 6120 6465 7669 6365 2e0a 0a20   to a device... 
-00028400: 2020 2020 2020 202f 2f20 5573 6564 2069         // Used i
-00028410: 6e64 6972 6563 746c 7920 6279 2061 6464  ndirectly by add
-00028420: 2064 6576 6963 6520 7768 656e 202d 2d6c   device when --l
-00028430: 6963 656e 7365 203c 6c69 6365 6e73 653e  icense <license>
-00028440: 2069 7320 7072 6f76 6964 6564 2061 6e64   is provided and
-00028450: 2062 6174 6368 2061 6464 2064 6576 6963   batch add devic
-00028460: 6573 2077 6974 6820 6c69 6365 6e73 6520  es with license 
-00028470: 2f2f 0a0a 2020 2020 2020 2020 4172 6773  //..        Args
-00028480: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00028490: 7269 616c 7320 2873 7472 207c 204c 6973  rials (str | Lis
-000284a0: 745b 7374 725d 293a 204c 6973 7420 6f66  t[str]): List of
-000284b0: 2073 6572 6961 6c20 6e75 6d62 6572 206f   serial number o
-000284c0: 6620 6465 7669 6365 2e0a 2020 2020 2020  f device..      
-000284d0: 2020 2020 2020 7365 7276 6963 6573 2028        services (
-000284e0: 7374 7220 7c20 4c69 7374 5b73 7472 5d29  str | List[str])
-000284f0: 3a20 4c69 7374 206f 6620 7365 7276 6963  : List of servic
-00028500: 6520 6e61 6d65 732e 2043 616c 6c20 7365  e names. Call se
-00028510: 7276 6963 6573 2f63 6f6e 6669 6720 4150  rvices/config AP
-00028520: 4920 746f 2067 6574 2074 6865 206c 6973  I to get the lis
-00028530: 7420 6f66 0a20 2020 2020 2020 2020 2020  t of.           
-00028540: 2020 2020 2076 616c 6964 2073 6572 7669       valid servi
-00028550: 6365 206e 616d 6573 2e0a 0a20 2020 2020  ce names...     
-00028560: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-00028570: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-00028580: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-00028590: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-000285a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000285b0: 2075 726c 203d 2022 2f70 6c61 7466 6f72   url = "/platfor
-000285c0: 6d2f 6c69 6365 6e73 696e 672f 7631 2f73  m/licensing/v1/s
-000285d0: 7562 7363 7269 7074 696f 6e73 2f61 7373  ubscriptions/ass
-000285e0: 6967 6e22 0a20 2020 2020 2020 2073 6572  ign".        ser
-000285f0: 6961 6c73 203d 2075 7469 6c73 2e6c 6973  ials = utils.lis
-00028600: 7469 6679 2873 6572 6961 6c73 290a 2020  tify(serials).  
-00028610: 2020 2020 2020 7365 7276 6963 6573 203d        services =
-00028620: 2075 7469 6c73 2e6c 6973 7469 6679 2873   utils.listify(s
-00028630: 6572 7669 6365 7329 0a0a 2020 2020 2020  ervices)..      
-00028640: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
-00028650: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
-00028660: 6961 6c73 273a 2073 6572 6961 6c73 2c0a  ials': serials,.
-00028670: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
-00028680: 7669 6365 7327 3a20 7365 7276 6963 6573  vices': services
-00028690: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-000286a0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-000286b0: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
-000286c0: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
-000286d0: 6174 6129 0a0a 2020 2020 6173 796e 6320  ata)..    async 
-000286e0: 6465 6620 756e 6173 7369 676e 5f6c 6963  def unassign_lic
-000286f0: 656e 7365 7328 7365 6c66 2c20 7365 7269  enses(self, seri
-00028700: 616c 733a 2055 6e69 6f6e 5b73 7472 2c20  als: Union[str, 
-00028710: 4c69 7374 5b73 7472 5d5d 2c20 7365 7276  List[str]], serv
-00028720: 6963 6573 3a20 556e 696f 6e5b 7374 722c  ices: Union[str,
-00028730: 204c 6973 745b 7374 725d 5d29 202d 3e20   List[str]]) -> 
-00028740: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00028750: 2020 2222 2255 6e61 7373 6967 6e20 7375    """Unassign su
-00028760: 6273 6372 6970 7469 6f6e 2873 2920 6672  bscription(s) fr
-00028770: 6f6d 2064 6576 6963 6528 7329 2e0a 0a20  om device(s)... 
-00028780: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00028790: 2020 2020 2020 2020 2073 6572 6961 6c73           serials
-000287a0: 2028 7374 7220 7c20 4c69 7374 5b73 7472   (str | List[str
-000287b0: 5d29 3a20 4c69 7374 206f 6620 7365 7269  ]): List of seri
-000287c0: 616c 206e 756d 6265 7220 6f66 2064 6576  al number of dev
-000287d0: 6963 652e 0a20 2020 2020 2020 2020 2020  ice..           
-000287e0: 2073 6572 7669 6365 7320 2873 7472 207c   services (str |
-000287f0: 204c 6973 745b 7374 725d 293a 204c 6973   List[str]): Lis
-00028800: 7420 6f66 2073 6572 7669 6365 206e 616d  t of service nam
-00028810: 6573 2e20 4361 6c6c 2073 6572 7669 6365  es. Call service
-00028820: 732f 636f 6e66 6967 2041 5049 2074 6f20  s/config API to 
-00028830: 6765 7420 7468 6520 6c69 7374 206f 660a  get the list of.
-00028840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028850: 7661 6c69 6420 7365 7276 6963 6520 6e61  valid service na
-00028860: 6d65 732e 0a0a 2020 2020 2020 2020 5265  mes...        Re
-00028870: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00028880: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00028890: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-000288a0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-000288b0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-000288c0: 3d20 222f 706c 6174 666f 726d 2f6c 6963  = "/platform/lic
-000288d0: 656e 7369 6e67 2f76 312f 7375 6273 6372  ensing/v1/subscr
-000288e0: 6970 7469 6f6e 732f 756e 6173 7369 676e  iptions/unassign
-000288f0: 220a 2020 2020 2020 2020 7365 7269 616c  ".        serial
-00028900: 7320 3d20 7574 696c 732e 6c69 7374 6966  s = utils.listif
-00028910: 7928 7365 7269 616c 7329 0a20 2020 2020  y(serials).     
-00028920: 2020 2073 6572 7669 6365 7320 3d20 7574     services = ut
-00028930: 696c 732e 6c69 7374 6966 7928 7365 7276  ils.listify(serv
-00028940: 6963 6573 290a 0a20 2020 2020 2020 206a  ices)..        j
-00028950: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
-00028960: 2020 2020 2020 2020 2027 7365 7269 616c           'serial
-00028970: 7327 3a20 7365 7269 616c 732c 0a20 2020  s': serials,.   
-00028980: 2020 2020 2020 2020 2027 7365 7276 6963           'servic
-00028990: 6573 273a 2073 6572 7669 6365 730a 2020  es': services.  
-000289a0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-000289b0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-000289c0: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
-000289d0: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
-000289e0: 290a 0a20 2020 2023 2054 4f44 4f20 6275  )..    # TODO bu
-000289f0: 696c 6420 6167 6772 6567 6174 6f72 2074  ild aggregator t
-00028a00: 6f20 7275 6e20 7265 706f 7274 2073 686f  o run report sho
-00028a10: 7769 6e67 2072 6f67 7565 732f 696e 7465  wing rogues/inte
-00028a20: 7266 6572 696e 672f 6e65 6967 6862 6f72  rfering/neighbor
-00028a30: 730a 2020 2020 2320 6173 796e 6320 6465  s.    # async de
-00028a40: 6620 7769 6473 5f67 6574 5f61 6c6c 2873  f wids_get_all(s
-00028a50: 656c 6629 3a0a 0a20 2020 2061 7379 6e63  elf):..    async
-00028a60: 2064 6566 2077 6964 735f 6765 745f 726f   def wids_get_ro
-00028a70: 6775 655f 6170 7328 0a20 2020 2020 2020  gue_aps(.       
-00028a80: 2073 656c 662c 0a20 2020 2020 2020 2067   self,.        g
-00028a90: 726f 7570 3a20 4c69 7374 5b73 7472 5d20  roup: List[str] 
-00028aa0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00028ab0: 6c61 6265 6c3a 204c 6973 745b 7374 725d  label: List[str]
-00028ac0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00028ad0: 2073 6974 653a 204c 6973 745b 7374 725d   site: List[str]
-00028ae0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00028af0: 2073 7461 7274 3a20 696e 7420 3d20 4e6f   start: int = No
-00028b00: 6e65 2c0a 2020 2020 2020 2020 656e 643a  ne,.        end:
-00028b10: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
-00028b20: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
-00028b30: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-00028b40: 2020 2066 726f 6d5f 7469 6d65 7374 616d     from_timestam
-00028b50: 703a 2069 6e74 203d 204e 6f6e 652c 0a20  p: int = None,. 
-00028b60: 2020 2020 2020 2074 6f5f 7469 6d65 7374         to_timest
-00028b70: 616d 703a 2069 6e74 203d 204e 6f6e 652c  amp: int = None,
-00028b80: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
-00028b90: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
-00028ba0: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
-00028bb0: 3030 0a20 2020 2029 202d 3e20 5265 7370  00.    ) -> Resp
-00028bc0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00028bd0: 224c 6973 7420 526f 6775 6520 4150 732e  "List Rogue APs.
-00028be0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00028bf0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-00028c00: 7020 284c 6973 745b 7374 725d 2c20 6f70  p (List[str], op
-00028c10: 7469 6f6e 616c 293a 204c 6973 7420 6f66  tional): List of
-00028c20: 2067 726f 7570 206e 616d 6573 0a20 2020   group names.   
-00028c30: 2020 2020 2020 2020 206c 6162 656c 2028           label (
-00028c40: 4c69 7374 5b73 7472 5d2c 206f 7074 696f  List[str], optio
-00028c50: 6e61 6c29 3a20 4c69 7374 206f 6620 6c61  nal): List of la
-00028c60: 6265 6c20 6e61 6d65 730a 2020 2020 2020  bel names.      
-00028c70: 2020 2020 2020 7369 7465 2028 4c69 7374        site (List
-00028c80: 5b73 7472 5d2c 206f 7074 696f 6e61 6c29  [str], optional)
-00028c90: 3a20 4c69 7374 206f 6620 7369 7465 206e  : List of site n
-00028ca0: 616d 6573 0a20 2020 2020 2020 2020 2020  ames.           
-00028cb0: 2073 7461 7274 2028 696e 742c 206f 7074   start (int, opt
-00028cc0: 696f 6e61 6c29 3a20 4e65 6564 2069 6e66  ional): Need inf
-00028cd0: 6f72 6d61 7469 6f6e 2066 726f 6d20 7468  ormation from th
-00028ce0: 6973 2074 696d 6573 7461 6d70 2e20 5469  is timestamp. Ti
-00028cf0: 6d65 7374 616d 7020 6973 2065 706f 6368  mestamp is epoch
-00028d00: 2069 6e0a 2020 2020 2020 2020 2020 2020   in.            
-00028d10: 2020 2020 6d69 6c6c 6973 6563 6f6e 6473      milliseconds
-00028d20: 2e20 4465 6661 756c 7420 6973 2063 7572  . Default is cur
-00028d30: 7265 6e74 2074 696d 6573 7461 6d70 206d  rent timestamp m
-00028d40: 696e 7573 2033 2068 6f75 7273 0a20 2020  inus 3 hours.   
-00028d50: 2020 2020 2020 2020 2065 6e64 2028 696e           end (in
-00028d60: 742c 206f 7074 696f 6e61 6c29 3a20 4e65  t, optional): Ne
-00028d70: 6564 2069 6e66 6f72 6d61 7469 6f6e 2074  ed information t
-00028d80: 6f20 7468 6973 2074 696d 6573 7461 6d70  o this timestamp
-00028d90: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
-00028da0: 706f 6368 2069 6e0a 2020 2020 2020 2020  poch in.        
-00028db0: 2020 2020 2020 2020 6d69 6c6c 6973 6563          millisec
-00028dc0: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
-00028dd0: 2063 7572 7265 6e74 2074 696d 6573 7461   current timesta
-00028de0: 6d70 0a20 2020 2020 2020 2020 2020 2073  mp.            s
-00028df0: 7761 726d 5f69 6420 2873 7472 2c20 6f70  warm_id (str, op
-00028e00: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00028e10: 6279 2053 7761 726d 2049 440a 2020 2020  by Swarm ID.    
-00028e20: 2020 2020 2020 2020 6672 6f6d 5f74 696d          from_tim
-00028e30: 6573 7461 6d70 2028 696e 742c 206f 7074  estamp (int, opt
-00028e40: 696f 6e61 6c29 3a20 5468 6973 2070 6172  ional): This par
-00028e50: 616d 6574 6572 2073 7570 6572 6365 6465  ameter supercede
-00028e60: 7320 7374 6172 7420 7061 7261 6d65 7465  s start paramete
-00028e70: 722e 204e 6565 640a 2020 2020 2020 2020  r. Need.        
-00028e80: 2020 2020 2020 2020 696e 666f 726d 6174          informat
-00028e90: 696f 6e20 6672 6f6d 2074 6869 7320 7469  ion from this ti
-00028ea0: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
-00028eb0: 6d70 2069 7320 6570 6f63 6820 696e 2073  mp is epoch in s
-00028ec0: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
-00028ed0: 6973 2063 7572 7265 6e74 0a20 2020 2020  is current.     
-00028ee0: 2020 2020 2020 2020 2020 2055 5443 2074             UTC t
-00028ef0: 696d 6573 7461 6d70 206d 696e 7573 2033  imestamp minus 3
-00028f00: 2068 6f75 7273 0a20 2020 2020 2020 2020   hours.         
-00028f10: 2020 2074 6f5f 7469 6d65 7374 616d 7020     to_timestamp 
-00028f20: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-00028f30: 2054 6869 7320 7061 7261 6d65 7465 7220   This parameter 
-00028f40: 7375 7065 7263 6564 6573 2065 6e64 2070  supercedes end p
-00028f50: 6172 616d 6574 6572 2e20 4e65 6564 2069  arameter. Need i
-00028f60: 6e66 6f72 6d61 7469 6f6e 0a20 2020 2020  nformation.     
-00028f70: 2020 2020 2020 2020 2020 2074 6f20 7468             to th
-00028f80: 6973 2074 696d 6573 7461 6d70 2e20 5469  is timestamp. Ti
-00028f90: 6d65 7374 616d 7020 6973 2065 706f 6368  mestamp is epoch
-00028fa0: 2069 6e20 7365 636f 6e64 732e 2044 6566   in seconds. Def
-00028fb0: 6175 6c74 2069 7320 6375 7272 656e 7420  ault is current 
-00028fc0: 5554 4320 7469 6d65 7374 616d 700a 2020  UTC timestamp.  
-00028fd0: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
-00028fe0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00028ff0: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
-00029000: 7365 7420 2864 6566 6175 6c74 203d 2030  set (default = 0
-00029010: 2920 4465 6661 756c 7473 2074 6f20 302e  ) Defaults to 0.
-00029020: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-00029030: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-00029040: 6c29 3a20 7061 6769 6e61 7469 6f6e 2073  l): pagination s
-00029050: 697a 6520 2864 6566 6175 6c74 203d 2031  ize (default = 1
-00029060: 3030 2920 4465 6661 756c 7473 2074 6f20  00) Defaults to 
-00029070: 3130 302e 0a0a 2020 2020 2020 2020 5265  100...        Re
-00029080: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00029090: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-000290a0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-000290b0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-000290c0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-000290d0: 3d20 222f 7261 7069 6473 2f76 312f 726f  = "/rapids/v1/ro
-000290e0: 6775 655f 6170 7322 0a0a 2020 2020 2020  gue_aps"..      
-000290f0: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
-00029100: 2020 2020 2020 2020 2027 6772 6f75 7027           'group'
-00029110: 3a20 6772 6f75 702c 0a20 2020 2020 2020  : group,.       
-00029120: 2020 2020 2027 6c61 6265 6c27 3a20 6c61       'label': la
-00029130: 6265 6c2c 0a20 2020 2020 2020 2020 2020  bel,.           
-00029140: 2027 7369 7465 273a 2073 6974 652c 0a20   'site': site,. 
-00029150: 2020 2020 2020 2020 2020 2027 7374 6172             'star
-00029160: 7427 3a20 7374 6172 742c 0a20 2020 2020  t': start,.     
-00029170: 2020 2020 2020 2027 656e 6427 3a20 656e         'end': en
-00029180: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
-00029190: 7377 6172 6d5f 6964 273a 2073 7761 726d  swarm_id': swarm
-000291a0: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
-000291b0: 2027 6672 6f6d 5f74 696d 6573 7461 6d70   'from_timestamp
-000291c0: 273a 2066 726f 6d5f 7469 6d65 7374 616d  ': from_timestam
-000291d0: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
-000291e0: 746f 5f74 696d 6573 7461 6d70 273a 2074  to_timestamp': t
-000291f0: 6f5f 7469 6d65 7374 616d 702c 0a20 2020  o_timestamp,.   
-00029200: 2020 2020 2020 2020 2027 6f66 6673 6574           'offset
-00029210: 273a 206f 6666 7365 742c 0a20 2020 2020  ': offset,.     
-00029220: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
-00029230: 6c69 6d69 740a 2020 2020 2020 2020 7d0a  limit.        }.
-00029240: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00029250: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-00029260: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-00029270: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
-00029280: 6620 7769 6473 5f67 6574 5f69 6e74 6572  f wids_get_inter
-00029290: 6665 7269 6e67 5f61 7073 280a 2020 2020  fering_aps(.    
-000292a0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-000292b0: 2020 6772 6f75 703a 204c 6973 745b 7374    group: List[st
-000292c0: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
-000292d0: 2020 206c 6162 656c 3a20 4c69 7374 5b73     label: List[s
-000292e0: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
-000292f0: 2020 2020 7369 7465 3a20 4c69 7374 5b73      site: List[s
-00029300: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
-00029310: 2020 2020 7374 6172 743a 2069 6e74 203d      start: int =
-00029320: 204e 6f6e 652c 0a20 2020 2020 2020 2065   None,.        e
-00029330: 6e64 3a20 696e 7420 3d20 4e6f 6e65 2c0a  nd: int = None,.
-00029340: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
-00029350: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00029360: 2020 2020 2020 6672 6f6d 5f74 696d 6573        from_times
-00029370: 7461 6d70 3a20 696e 7420 3d20 4e6f 6e65  tamp: int = None
-00029380: 2c0a 2020 2020 2020 2020 746f 5f74 696d  ,.        to_tim
-00029390: 6573 7461 6d70 3a20 696e 7420 3d20 4e6f  estamp: int = No
-000293a0: 6e65 2c0a 2020 2020 2020 2020 6f66 6673  ne,.        offs
-000293b0: 6574 3a20 696e 7420 3d20 302c 0a20 2020  et: int = 0,.   
-000293c0: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
-000293d0: 3d20 3130 300a 2020 2020 2920 2d3e 2052  = 100.    ) -> R
-000293e0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-000293f0: 2022 2222 4c69 7374 2049 6e74 6572 6665   """List Interfe
-00029400: 7269 6e67 2041 5073 2e0a 0a20 2020 2020  ring APs...     
-00029410: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00029420: 2020 2020 2067 726f 7570 2028 4c69 7374       group (List
-00029430: 5b73 7472 5d2c 206f 7074 696f 6e61 6c29  [str], optional)
-00029440: 3a20 4c69 7374 206f 6620 6772 6f75 7020  : List of group 
-00029450: 6e61 6d65 730a 2020 2020 2020 2020 2020  names.          
-00029460: 2020 6c61 6265 6c20 284c 6973 745b 7374    label (List[st
-00029470: 725d 2c20 6f70 7469 6f6e 616c 293a 204c  r], optional): L
-00029480: 6973 7420 6f66 206c 6162 656c 206e 616d  ist of label nam
-00029490: 6573 0a20 2020 2020 2020 2020 2020 2073  es.            s
-000294a0: 6974 6520 284c 6973 745b 7374 725d 2c20  ite (List[str], 
-000294b0: 6f70 7469 6f6e 616c 293a 204c 6973 7420  optional): List 
-000294c0: 6f66 2073 6974 6520 6e61 6d65 730a 2020  of site names.  
-000294d0: 2020 2020 2020 2020 2020 7374 6172 7420            start 
-000294e0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-000294f0: 204e 6565 6420 696e 666f 726d 6174 696f   Need informatio
-00029500: 6e20 6672 6f6d 2074 6869 7320 7469 6d65  n from this time
-00029510: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
-00029520: 2069 7320 6570 6f63 6820 696e 0a20 2020   is epoch in.   
-00029530: 2020 2020 2020 2020 2020 2020 206d 696c               mil
-00029540: 6c69 7365 636f 6e64 732e 2044 6566 6175  liseconds. Defau
-00029550: 6c74 2069 7320 6375 7272 656e 7420 7469  lt is current ti
-00029560: 6d65 7374 616d 7020 6d69 6e75 7320 3320  mestamp minus 3 
-00029570: 686f 7572 730a 2020 2020 2020 2020 2020  hours.          
-00029580: 2020 656e 6420 2869 6e74 2c20 6f70 7469    end (int, opti
-00029590: 6f6e 616c 293a 204e 6565 6420 696e 666f  onal): Need info
-000295a0: 726d 6174 696f 6e20 746f 2074 6869 7320  rmation to this 
-000295b0: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
-000295c0: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
-000295d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000295e0: 206d 696c 6c69 7365 636f 6e64 732e 2044   milliseconds. D
-000295f0: 6566 6175 6c74 2069 7320 6375 7272 656e  efault is curren
-00029600: 7420 7469 6d65 7374 616d 700a 2020 2020  t timestamp.    
-00029610: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
-00029620: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00029630: 3a20 4669 6c74 6572 2062 7920 5377 6172  : Filter by Swar
-00029640: 6d20 4944 0a20 2020 2020 2020 2020 2020  m ID.           
-00029650: 2066 726f 6d5f 7469 6d65 7374 616d 7020   from_timestamp 
-00029660: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-00029670: 2054 6869 7320 7061 7261 6d65 7465 7220   This parameter 
-00029680: 7375 7065 7263 6564 6573 2073 7461 7274  supercedes start
-00029690: 2070 6172 616d 6574 6572 2e20 4e65 6564   parameter. Need
-000296a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000296b0: 2069 6e66 6f72 6d61 7469 6f6e 2066 726f   information fro
-000296c0: 6d20 7468 6973 2074 696d 6573 7461 6d70  m this timestamp
-000296d0: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
-000296e0: 706f 6368 2069 6e20 7365 636f 6e64 732e  poch in seconds.
-000296f0: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
-00029700: 656e 740a 2020 2020 2020 2020 2020 2020  ent.            
-00029710: 2020 2020 5554 4320 7469 6d65 7374 616d      UTC timestam
-00029720: 7020 6d69 6e75 7320 3320 686f 7572 730a  p minus 3 hours.
-00029730: 2020 2020 2020 2020 2020 2020 746f 5f74              to_t
-00029740: 696d 6573 7461 6d70 2028 696e 742c 206f  imestamp (int, o
-00029750: 7074 696f 6e61 6c29 3a20 5468 6973 2070  ptional): This p
-00029760: 6172 616d 6574 6572 2073 7570 6572 6365  arameter superce
-00029770: 6465 7320 656e 6420 7061 7261 6d65 7465  des end paramete
-00029780: 722e 204e 6565 6420 696e 666f 726d 6174  r. Need informat
-00029790: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
-000297a0: 2020 2020 746f 2074 6869 7320 7469 6d65      to this time
-000297b0: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
-000297c0: 2069 7320 6570 6f63 6820 696e 2073 6563   is epoch in sec
-000297d0: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
-000297e0: 2063 7572 7265 6e74 2055 5443 2074 696d   current UTC tim
-000297f0: 6573 7461 6d70 0a20 2020 2020 2020 2020  estamp.         
-00029800: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
-00029810: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
-00029820: 6174 696f 6e20 6f66 6673 6574 2028 6465  ation offset (de
-00029830: 6661 756c 7420 3d20 3029 2044 6566 6175  fault = 0) Defau
-00029840: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
-00029850: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
-00029860: 2c20 6f70 7469 6f6e 616c 293a 2070 6167  , optional): pag
-00029870: 696e 6174 696f 6e20 7369 7a65 2028 6465  ination size (de
-00029880: 6661 756c 7420 3d20 3130 3029 2044 6566  fault = 100) Def
-00029890: 6175 6c74 7320 746f 2031 3030 2e0a 0a20  aults to 100... 
-000298a0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-000298b0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-000298c0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-000298d0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-000298e0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000298f0: 2020 2020 2075 726c 203d 2022 2f72 6170       url = "/rap
-00029900: 6964 732f 7631 2f69 6e74 6572 6665 7269  ids/v1/interferi
-00029910: 6e67 5f61 7073 220a 0a20 2020 2020 2020  ng_aps"..       
-00029920: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
-00029930: 2020 2020 2020 2020 2767 726f 7570 273a          'group':
-00029940: 2067 726f 7570 2c0a 2020 2020 2020 2020   group,.        
-00029950: 2020 2020 276c 6162 656c 273a 206c 6162      'label': lab
-00029960: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
-00029970: 2773 6974 6527 3a20 7369 7465 2c0a 2020  'site': site,.  
-00029980: 2020 2020 2020 2020 2020 2773 7461 7274            'start
-00029990: 273a 2073 7461 7274 2c0a 2020 2020 2020  ': start,.      
-000299a0: 2020 2020 2020 2765 6e64 273a 2065 6e64        'end': end
-000299b0: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-000299c0: 7761 726d 5f69 6427 3a20 7377 6172 6d5f  warm_id': swarm_
-000299d0: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
-000299e0: 2766 726f 6d5f 7469 6d65 7374 616d 7027  'from_timestamp'
-000299f0: 3a20 6672 6f6d 5f74 696d 6573 7461 6d70  : from_timestamp
-00029a00: 2c0a 2020 2020 2020 2020 2020 2020 2774  ,.            't
-00029a10: 6f5f 7469 6d65 7374 616d 7027 3a20 746f  o_timestamp': to
-00029a20: 5f74 696d 6573 7461 6d70 2c0a 2020 2020  _timestamp,.    
-00029a30: 2020 2020 2020 2020 276f 6666 7365 7427          'offset'
-00029a40: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
-00029a50: 2020 2020 2020 276c 696d 6974 273a 206c        'limit': l
-00029a60: 696d 6974 0a20 2020 2020 2020 207d 0a0a  imit.        }..
-00029a70: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-00029a80: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-00029a90: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-00029aa0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-00029ab0: 2077 6964 735f 6765 745f 7375 7370 6563   wids_get_suspec
-00029ac0: 745f 6170 7328 0a20 2020 2020 2020 2073  t_aps(.        s
-00029ad0: 656c 662c 0a20 2020 2020 2020 2067 726f  elf,.        gro
-00029ae0: 7570 3a20 4c69 7374 5b73 7472 5d20 3d20  up: List[str] = 
-00029af0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c61  None,.        la
-00029b00: 6265 6c3a 204c 6973 745b 7374 725d 203d  bel: List[str] =
-00029b10: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-00029b20: 6974 653a 204c 6973 745b 7374 725d 203d  ite: List[str] =
-00029b30: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-00029b40: 7461 7274 3a20 696e 7420 3d20 4e6f 6e65  tart: int = None
-00029b50: 2c0a 2020 2020 2020 2020 656e 643a 2069  ,.        end: i
-00029b60: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
-00029b70: 2020 2073 7761 726d 5f69 643a 2073 7472     swarm_id: str
-00029b80: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00029b90: 2066 726f 6d5f 7469 6d65 7374 616d 703a   from_timestamp:
-00029ba0: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
-00029bb0: 2020 2020 2074 6f5f 7469 6d65 7374 616d       to_timestam
-00029bc0: 703a 2069 6e74 203d 204e 6f6e 652c 0a20  p: int = None,. 
-00029bd0: 2020 2020 2020 206f 6666 7365 743a 2069         offset: i
-00029be0: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
-00029bf0: 6c69 6d69 743a 2069 6e74 203d 2031 3030  limit: int = 100
-00029c00: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-00029c10: 7365 3a0a 2020 2020 2020 2020 2222 224c  se:.        """L
-00029c20: 6973 7420 7375 7370 6563 7420 4150 732e  ist suspect APs.
-00029c30: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00029c40: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-00029c50: 7020 284c 6973 745b 7374 725d 2c20 6f70  p (List[str], op
-00029c60: 7469 6f6e 616c 293a 204c 6973 7420 6f66  tional): List of
-00029c70: 2067 726f 7570 206e 616d 6573 0a20 2020   group names.   
-00029c80: 2020 2020 2020 2020 206c 6162 656c 2028           label (
-00029c90: 4c69 7374 5b73 7472 5d2c 206f 7074 696f  List[str], optio
-00029ca0: 6e61 6c29 3a20 4c69 7374 206f 6620 6c61  nal): List of la
-00029cb0: 6265 6c20 6e61 6d65 730a 2020 2020 2020  bel names.      
-00029cc0: 2020 2020 2020 7369 7465 2028 4c69 7374        site (List
-00029cd0: 5b73 7472 5d2c 206f 7074 696f 6e61 6c29  [str], optional)
-00029ce0: 3a20 4c69 7374 206f 6620 7369 7465 206e  : List of site n
-00029cf0: 616d 6573 0a20 2020 2020 2020 2020 2020  ames.           
-00029d00: 2073 7461 7274 2028 696e 742c 206f 7074   start (int, opt
-00029d10: 696f 6e61 6c29 3a20 4e65 6564 2069 6e66  ional): Need inf
-00029d20: 6f72 6d61 7469 6f6e 2066 726f 6d20 7468  ormation from th
-00029d30: 6973 2074 696d 6573 7461 6d70 2e20 5469  is timestamp. Ti
-00029d40: 6d65 7374 616d 7020 6973 2065 706f 6368  mestamp is epoch
-00029d50: 2069 6e0a 2020 2020 2020 2020 2020 2020   in.            
-00029d60: 2020 2020 6d69 6c6c 6973 6563 6f6e 6473      milliseconds
-00029d70: 2e20 4465 6661 756c 7420 6973 2063 7572  . Default is cur
-00029d80: 7265 6e74 2074 696d 6573 7461 6d70 206d  rent timestamp m
-00029d90: 696e 7573 2033 2068 6f75 7273 0a20 2020  inus 3 hours.   
-00029da0: 2020 2020 2020 2020 2065 6e64 2028 696e           end (in
-00029db0: 742c 206f 7074 696f 6e61 6c29 3a20 4e65  t, optional): Ne
-00029dc0: 6564 2069 6e66 6f72 6d61 7469 6f6e 2074  ed information t
-00029dd0: 6f20 7468 6973 2074 696d 6573 7461 6d70  o this timestamp
-00029de0: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
-00029df0: 706f 6368 2069 6e0a 2020 2020 2020 2020  poch in.        
-00029e00: 2020 2020 2020 2020 6d69 6c6c 6973 6563          millisec
-00029e10: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
-00029e20: 2063 7572 7265 6e74 2074 696d 6573 7461   current timesta
-00029e30: 6d70 0a20 2020 2020 2020 2020 2020 2073  mp.            s
-00029e40: 7761 726d 5f69 6420 2873 7472 2c20 6f70  warm_id (str, op
-00029e50: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00029e60: 6279 2053 7761 726d 2049 440a 2020 2020  by Swarm ID.    
-00029e70: 2020 2020 2020 2020 6672 6f6d 5f74 696d          from_tim
-00029e80: 6573 7461 6d70 2028 696e 742c 206f 7074  estamp (int, opt
-00029e90: 696f 6e61 6c29 3a20 5468 6973 2070 6172  ional): This par
-00029ea0: 616d 6574 6572 2073 7570 6572 6365 6465  ameter supercede
-00029eb0: 7320 7374 6172 7420 7061 7261 6d65 7465  s start paramete
-00029ec0: 722e 204e 6565 640a 2020 2020 2020 2020  r. Need.        
-00029ed0: 2020 2020 2020 2020 696e 666f 726d 6174          informat
-00029ee0: 696f 6e20 6672 6f6d 2074 6869 7320 7469  ion from this ti
-00029ef0: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
-00029f00: 6d70 2069 7320 6570 6f63 6820 696e 2073  mp is epoch in s
-00029f10: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
-00029f20: 6973 2063 7572 7265 6e74 0a20 2020 2020  is current.     
-00029f30: 2020 2020 2020 2020 2020 2055 5443 2074             UTC t
-00029f40: 696d 6573 7461 6d70 206d 696e 7573 2033  imestamp minus 3
-00029f50: 2068 6f75 7273 0a20 2020 2020 2020 2020   hours.         
-00029f60: 2020 2074 6f5f 7469 6d65 7374 616d 7020     to_timestamp 
-00029f70: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-00029f80: 2054 6869 7320 7061 7261 6d65 7465 7220   This parameter 
-00029f90: 7375 7065 7263 6564 6573 2065 6e64 2070  supercedes end p
-00029fa0: 6172 616d 6574 6572 2e20 4e65 6564 2069  arameter. Need i
-00029fb0: 6e66 6f72 6d61 7469 6f6e 0a20 2020 2020  nformation.     
-00029fc0: 2020 2020 2020 2020 2020 2074 6f20 7468             to th
-00029fd0: 6973 2074 696d 6573 7461 6d70 2e20 5469  is timestamp. Ti
-00029fe0: 6d65 7374 616d 7020 6973 2065 706f 6368  mestamp is epoch
-00029ff0: 2069 6e20 7365 636f 6e64 732e 2044 6566   in seconds. Def
-0002a000: 6175 6c74 2069 7320 6375 7272 656e 7420  ault is current 
-0002a010: 5554 4320 7469 6d65 7374 616d 700a 2020  UTC timestamp.  
-0002a020: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
-0002a030: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0002a040: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
-0002a050: 7365 7420 2864 6566 6175 6c74 203d 2030  set (default = 0
-0002a060: 2920 4465 6661 756c 7473 2074 6f20 302e  ) Defaults to 0.
-0002a070: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-0002a080: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-0002a090: 6c29 3a20 7061 6769 6e61 7469 6f6e 2073  l): pagination s
-0002a0a0: 697a 6520 2864 6566 6175 6c74 203d 2031  ize (default = 1
-0002a0b0: 3030 2920 4465 6661 756c 7473 2074 6f20  00) Defaults to 
-0002a0c0: 3130 302e 0a0a 2020 2020 2020 2020 5265  100...        Re
-0002a0d0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0002a0e0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-0002a0f0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-0002a100: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-0002a110: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-0002a120: 3d20 222f 7261 7069 6473 2f76 312f 7375  = "/rapids/v1/su
-0002a130: 7370 6563 745f 6170 7322 0a0a 2020 2020  spect_aps"..    
-0002a140: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
-0002a150: 2020 2020 2020 2020 2020 2027 6772 6f75             'grou
-0002a160: 7027 3a20 6772 6f75 702c 0a20 2020 2020  p': group,.     
-0002a170: 2020 2020 2020 2027 6c61 6265 6c27 3a20         'label': 
-0002a180: 6c61 6265 6c2c 0a20 2020 2020 2020 2020  label,.         
-0002a190: 2020 2027 7369 7465 273a 2073 6974 652c     'site': site,
-0002a1a0: 0a20 2020 2020 2020 2020 2020 2027 7374  .            'st
-0002a1b0: 6172 7427 3a20 7374 6172 742c 0a20 2020  art': start,.   
-0002a1c0: 2020 2020 2020 2020 2027 656e 6427 3a20           'end': 
-0002a1d0: 656e 642c 0a20 2020 2020 2020 2020 2020  end,.           
-0002a1e0: 2027 7377 6172 6d5f 6964 273a 2073 7761   'swarm_id': swa
-0002a1f0: 726d 5f69 642c 0a20 2020 2020 2020 2020  rm_id,.         
-0002a200: 2020 2027 6672 6f6d 5f74 696d 6573 7461     'from_timesta
-0002a210: 6d70 273a 2066 726f 6d5f 7469 6d65 7374  mp': from_timest
-0002a220: 616d 702c 0a20 2020 2020 2020 2020 2020  amp,.           
-0002a230: 2027 746f 5f74 696d 6573 7461 6d70 273a   'to_timestamp':
-0002a240: 2074 6f5f 7469 6d65 7374 616d 702c 0a20   to_timestamp,. 
-0002a250: 2020 2020 2020 2020 2020 2027 6f66 6673             'offs
-0002a260: 6574 273a 206f 6666 7365 742c 0a20 2020  et': offset,.   
-0002a270: 2020 2020 2020 2020 2027 6c69 6d69 7427           'limit'
-0002a280: 3a20 6c69 6d69 740a 2020 2020 2020 2020  : limit.        
-0002a290: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-0002a2a0: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-0002a2b0: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-0002a2c0: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
-0002a2d0: 6465 6620 7769 6473 5f67 6574 5f6e 6569  def wids_get_nei
-0002a2e0: 6768 626f 725f 6170 7328 0a20 2020 2020  ghbor_aps(.     
-0002a2f0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0002a300: 2067 726f 7570 3a20 4c69 7374 5b73 7472   group: List[str
-0002a310: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
-0002a320: 2020 6c61 6265 6c3a 204c 6973 745b 7374    label: List[st
-0002a330: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
-0002a340: 2020 2073 6974 653a 204c 6973 745b 7374     site: List[st
-0002a350: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
-0002a360: 2020 2073 7461 7274 3a20 696e 7420 3d20     start: int = 
-0002a370: 4e6f 6e65 2c0a 2020 2020 2020 2020 656e  None,.        en
-0002a380: 643a 2069 6e74 203d 204e 6f6e 652c 0a20  d: int = None,. 
-0002a390: 2020 2020 2020 2073 7761 726d 5f69 643a         swarm_id:
-0002a3a0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0002a3b0: 2020 2020 2066 726f 6d5f 7469 6d65 7374       from_timest
-0002a3c0: 616d 703a 2069 6e74 203d 204e 6f6e 652c  amp: int = None,
-0002a3d0: 0a20 2020 2020 2020 2074 6f5f 7469 6d65  .        to_time
-0002a3e0: 7374 616d 703a 2069 6e74 203d 204e 6f6e  stamp: int = Non
-0002a3f0: 652c 0a20 2020 2020 2020 206f 6666 7365  e,.        offse
-0002a400: 743a 2069 6e74 203d 2030 2c0a 2020 2020  t: int = 0,.    
-0002a410: 2020 2020 6c69 6d69 743a 2069 6e74 203d      limit: int =
-0002a420: 2031 3030 0a20 2020 2029 202d 3e20 5265   100.    ) -> Re
-0002a430: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-0002a440: 2222 224c 6973 7420 6e65 6967 6862 6f72  """List neighbor
-0002a450: 2041 5073 2e0a 0a20 2020 2020 2020 2041   APs...        A
-0002a460: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-0002a470: 2067 726f 7570 2028 4c69 7374 5b73 7472   group (List[str
-0002a480: 5d2c 206f 7074 696f 6e61 6c29 3a20 4c69  ], optional): Li
-0002a490: 7374 206f 6620 6772 6f75 7020 6e61 6d65  st of group name
-0002a4a0: 730a 2020 2020 2020 2020 2020 2020 6c61  s.            la
-0002a4b0: 6265 6c20 284c 6973 745b 7374 725d 2c20  bel (List[str], 
-0002a4c0: 6f70 7469 6f6e 616c 293a 204c 6973 7420  optional): List 
-0002a4d0: 6f66 206c 6162 656c 206e 616d 6573 0a20  of label names. 
-0002a4e0: 2020 2020 2020 2020 2020 2073 6974 6520             site 
-0002a4f0: 284c 6973 745b 7374 725d 2c20 6f70 7469  (List[str], opti
-0002a500: 6f6e 616c 293a 204c 6973 7420 6f66 2073  onal): List of s
-0002a510: 6974 6520 6e61 6d65 730a 2020 2020 2020  ite names.      
-0002a520: 2020 2020 2020 7374 6172 7420 2869 6e74        start (int
-0002a530: 2c20 6f70 7469 6f6e 616c 293a 204e 6565  , optional): Nee
-0002a540: 6420 696e 666f 726d 6174 696f 6e20 6672  d information fr
-0002a550: 6f6d 2074 6869 7320 7469 6d65 7374 616d  om this timestam
-0002a560: 702e 2054 696d 6573 7461 6d70 2069 7320  p. Timestamp is 
-0002a570: 6570 6f63 6820 696e 0a20 2020 2020 2020  epoch in.       
-0002a580: 2020 2020 2020 2020 206d 696c 6c69 7365           millise
-0002a590: 636f 6e64 732e 2044 6566 6175 6c74 2069  conds. Default i
-0002a5a0: 7320 6375 7272 656e 7420 7469 6d65 7374  s current timest
-0002a5b0: 616d 7020 6d69 6e75 7320 3320 686f 7572  amp minus 3 hour
-0002a5c0: 730a 2020 2020 2020 2020 2020 2020 656e  s.            en
-0002a5d0: 6420 2869 6e74 2c20 6f70 7469 6f6e 616c  d (int, optional
-0002a5e0: 293a 204e 6565 6420 696e 666f 726d 6174  ): Need informat
-0002a5f0: 696f 6e20 746f 2074 6869 7320 7469 6d65  ion to this time
-0002a600: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
-0002a610: 2069 7320 6570 6f63 6820 696e 0a20 2020   is epoch in.   
-0002a620: 2020 2020 2020 2020 2020 2020 206d 696c               mil
-0002a630: 6c69 7365 636f 6e64 732e 2044 6566 6175  liseconds. Defau
-0002a640: 6c74 2069 7320 6375 7272 656e 7420 7469  lt is current ti
-0002a650: 6d65 7374 616d 700a 2020 2020 2020 2020  mestamp.        
-0002a660: 2020 2020 7377 6172 6d5f 6964 2028 7374      swarm_id (st
-0002a670: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-0002a680: 6c74 6572 2062 7920 5377 6172 6d20 4944  lter by Swarm ID
-0002a690: 0a20 2020 2020 2020 2020 2020 2066 726f  .            fro
-0002a6a0: 6d5f 7469 6d65 7374 616d 7020 2869 6e74  m_timestamp (int
-0002a6b0: 2c20 6f70 7469 6f6e 616c 293a 2054 6869  , optional): Thi
-0002a6c0: 7320 7061 7261 6d65 7465 7220 7375 7065  s parameter supe
-0002a6d0: 7263 6564 6573 2073 7461 7274 2070 6172  rcedes start par
-0002a6e0: 616d 6574 6572 2e20 4e65 6564 0a20 2020  ameter. Need.   
-0002a6f0: 2020 2020 2020 2020 2020 2020 2069 6e66               inf
-0002a700: 6f72 6d61 7469 6f6e 2066 726f 6d20 7468  ormation from th
-0002a710: 6973 2074 696d 6573 7461 6d70 2e20 5469  is timestamp. Ti
-0002a720: 6d65 7374 616d 7020 6973 2065 706f 6368  mestamp is epoch
-0002a730: 2069 6e20 7365 636f 6e64 732e 2044 6566   in seconds. Def
-0002a740: 6175 6c74 2069 7320 6375 7272 656e 740a  ault is current.
-0002a750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a760: 5554 4320 7469 6d65 7374 616d 7020 6d69  UTC timestamp mi
-0002a770: 6e75 7320 3320 686f 7572 730a 2020 2020  nus 3 hours.    
-0002a780: 2020 2020 2020 2020 746f 5f74 696d 6573          to_times
-0002a790: 7461 6d70 2028 696e 742c 206f 7074 696f  tamp (int, optio
-0002a7a0: 6e61 6c29 3a20 5468 6973 2070 6172 616d  nal): This param
-0002a7b0: 6574 6572 2073 7570 6572 6365 6465 7320  eter supercedes 
-0002a7c0: 656e 6420 7061 7261 6d65 7465 722e 204e  end parameter. N
-0002a7d0: 6565 6420 696e 666f 726d 6174 696f 6e0a  eed information.
-0002a7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a7f0: 746f 2074 6869 7320 7469 6d65 7374 616d  to this timestam
-0002a800: 702e 2054 696d 6573 7461 6d70 2069 7320  p. Timestamp is 
-0002a810: 6570 6f63 6820 696e 2073 6563 6f6e 6473  epoch in seconds
-0002a820: 2e20 4465 6661 756c 7420 6973 2063 7572  . Default is cur
-0002a830: 7265 6e74 2055 5443 2074 696d 6573 7461  rent UTC timesta
-0002a840: 6d70 0a20 2020 2020 2020 2020 2020 206f  mp.            o
-0002a850: 6666 7365 7420 2869 6e74 2c20 6f70 7469  ffset (int, opti
-0002a860: 6f6e 616c 293a 2050 6167 696e 6174 696f  onal): Paginatio
-0002a870: 6e20 6f66 6673 6574 2028 6465 6661 756c  n offset (defaul
-0002a880: 7420 3d20 3029 2044 6566 6175 6c74 7320  t = 0) Defaults 
-0002a890: 746f 2030 2e0a 2020 2020 2020 2020 2020  to 0..          
-0002a8a0: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
-0002a8b0: 7469 6f6e 616c 293a 2070 6167 696e 6174  tional): paginat
-0002a8c0: 696f 6e20 7369 7a65 2028 6465 6661 756c  ion size (defaul
-0002a8d0: 7420 3d20 3130 3029 2044 6566 6175 6c74  t = 100) Default
-0002a8e0: 7320 746f 2031 3030 2e0a 0a20 2020 2020  s to 100...     
-0002a8f0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-0002a900: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-0002a910: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-0002a920: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-0002a930: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0002a940: 2075 726c 203d 2022 2f72 6170 6964 732f   url = "/rapids/
-0002a950: 7631 2f6e 6569 6768 626f 725f 6170 7322  v1/neighbor_aps"
-0002a960: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
-0002a970: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-0002a980: 2027 6772 6f75 7027 3a20 6772 6f75 702c   'group': group,
-0002a990: 0a20 2020 2020 2020 2020 2020 2027 6c61  .            'la
-0002a9a0: 6265 6c27 3a20 6c61 6265 6c2c 0a20 2020  bel': label,.   
-0002a9b0: 2020 2020 2020 2020 2027 7369 7465 273a           'site':
-0002a9c0: 2073 6974 652c 0a20 2020 2020 2020 2020   site,.         
-0002a9d0: 2020 2027 7374 6172 7427 3a20 7374 6172     'start': star
-0002a9e0: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
-0002a9f0: 656e 6427 3a20 656e 642c 0a20 2020 2020  end': end,.     
-0002aa00: 2020 2020 2020 2027 7377 6172 6d5f 6964         'swarm_id
-0002aa10: 273a 2073 7761 726d 5f69 642c 0a20 2020  ': swarm_id,.   
-0002aa20: 2020 2020 2020 2020 2027 6672 6f6d 5f74           'from_t
-0002aa30: 696d 6573 7461 6d70 273a 2066 726f 6d5f  imestamp': from_
-0002aa40: 7469 6d65 7374 616d 702c 0a20 2020 2020  timestamp,.     
-0002aa50: 2020 2020 2020 2027 746f 5f74 696d 6573         'to_times
-0002aa60: 7461 6d70 273a 2074 6f5f 7469 6d65 7374  tamp': to_timest
-0002aa70: 616d 702c 0a20 2020 2020 2020 2020 2020  amp,.           
-0002aa80: 2027 6f66 6673 6574 273a 206f 6666 7365   'offset': offse
-0002aa90: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
-0002aaa0: 6c69 6d69 7427 3a20 6c69 6d69 740a 2020  limit': limit.  
-0002aab0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-0002aac0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0002aad0: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
-0002aae0: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
-0002aaf0: 6173 796e 6320 6465 6620 7769 6473 5f67  async def wids_g
-0002ab00: 6574 5f61 6c6c 280a 2020 2020 2020 2020  et_all(.        
-0002ab10: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
-0002ab20: 6f75 703a 204c 6973 745b 7374 725d 203d  oup: List[str] =
-0002ab30: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
-0002ab40: 6162 656c 3a20 4c69 7374 5b73 7472 5d20  abel: List[str] 
-0002ab50: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002ab60: 7369 7465 3a20 4c69 7374 5b73 7472 5d20  site: List[str] 
-0002ab70: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002ab80: 7374 6172 743a 2069 6e74 203d 204e 6f6e  start: int = Non
-0002ab90: 652c 0a20 2020 2020 2020 2065 6e64 3a20  e,.        end: 
-0002aba0: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
-0002abb0: 2020 2020 7377 6172 6d5f 6964 3a20 7374      swarm_id: st
-0002abc0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-0002abd0: 2020 6672 6f6d 5f74 696d 6573 7461 6d70    from_timestamp
-0002abe0: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
-0002abf0: 2020 2020 2020 746f 5f74 696d 6573 7461        to_timesta
-0002ac00: 6d70 3a20 696e 7420 3d20 4e6f 6e65 2c0a  mp: int = None,.
-0002ac10: 2020 2020 2020 2020 6f66 6673 6574 3a20          offset: 
-0002ac20: 696e 7420 3d20 302c 0a20 2020 2020 2020  int = 0,.       
-0002ac30: 206c 696d 6974 3a20 696e 7420 3d20 3130   limit: int = 10
-0002ac40: 300a 2020 2020 2920 2d3e 2052 6573 706f  0.    ) -> Respo
-0002ac50: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-0002ac60: 4c69 7374 2061 6c6c 2077 6964 7320 636c  List all wids cl
-0002ac70: 6173 7369 6669 6361 7469 6f6e 732e 0a0a  assifications...
-0002ac80: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-0002ac90: 2020 2020 2020 2020 2020 6772 6f75 7020            group 
-0002aca0: 284c 6973 745b 7374 725d 2c20 6f70 7469  (List[str], opti
-0002acb0: 6f6e 616c 293a 204c 6973 7420 6f66 2067  onal): List of g
-0002acc0: 726f 7570 206e 616d 6573 0a20 2020 2020  roup names.     
-0002acd0: 2020 2020 2020 206c 6162 656c 2028 4c69         label (Li
-0002ace0: 7374 5b73 7472 5d2c 206f 7074 696f 6e61  st[str], optiona
-0002acf0: 6c29 3a20 4c69 7374 206f 6620 6c61 6265  l): List of labe
-0002ad00: 6c20 6e61 6d65 730a 2020 2020 2020 2020  l names.        
-0002ad10: 2020 2020 7369 7465 2028 4c69 7374 5b73      site (List[s
-0002ad20: 7472 5d2c 206f 7074 696f 6e61 6c29 3a20  tr], optional): 
-0002ad30: 4c69 7374 206f 6620 7369 7465 206e 616d  List of site nam
-0002ad40: 6573 0a20 2020 2020 2020 2020 2020 2073  es.            s
-0002ad50: 7461 7274 2028 696e 742c 206f 7074 696f  tart (int, optio
-0002ad60: 6e61 6c29 3a20 4e65 6564 2069 6e66 6f72  nal): Need infor
-0002ad70: 6d61 7469 6f6e 2066 726f 6d20 7468 6973  mation from this
-0002ad80: 2074 696d 6573 7461 6d70 2e20 5469 6d65   timestamp. Time
-0002ad90: 7374 616d 7020 6973 2065 706f 6368 2069  stamp is epoch i
-0002ada0: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
-0002adb0: 2020 6d69 6c6c 6973 6563 6f6e 6473 2e20    milliseconds. 
-0002adc0: 4465 6661 756c 7420 6973 2063 7572 7265  Default is curre
-0002add0: 6e74 2074 696d 6573 7461 6d70 206d 696e  nt timestamp min
-0002ade0: 7573 2033 2068 6f75 7273 0a20 2020 2020  us 3 hours.     
-0002adf0: 2020 2020 2020 2065 6e64 2028 696e 742c         end (int,
-0002ae00: 206f 7074 696f 6e61 6c29 3a20 4e65 6564   optional): Need
-0002ae10: 2069 6e66 6f72 6d61 7469 6f6e 2074 6f20   information to 
-0002ae20: 7468 6973 2074 696d 6573 7461 6d70 2e20  this timestamp. 
-0002ae30: 5469 6d65 7374 616d 7020 6973 2065 706f  Timestamp is epo
-0002ae40: 6368 2069 6e0a 2020 2020 2020 2020 2020  ch in.          
-0002ae50: 2020 2020 2020 6d69 6c6c 6973 6563 6f6e        millisecon
-0002ae60: 6473 2e20 4465 6661 756c 7420 6973 2063  ds. Default is c
-0002ae70: 7572 7265 6e74 2074 696d 6573 7461 6d70  urrent timestamp
-0002ae80: 0a20 2020 2020 2020 2020 2020 2073 7761  .            swa
-0002ae90: 726d 5f69 6420 2873 7472 2c20 6f70 7469  rm_id (str, opti
-0002aea0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-0002aeb0: 2053 7761 726d 2049 440a 2020 2020 2020   Swarm ID.      
-0002aec0: 2020 2020 2020 6672 6f6d 5f74 696d 6573        from_times
-0002aed0: 7461 6d70 2028 696e 742c 206f 7074 696f  tamp (int, optio
-0002aee0: 6e61 6c29 3a20 5468 6973 2070 6172 616d  nal): This param
-0002aef0: 6574 6572 2073 7570 6572 6365 6465 7320  eter supercedes 
-0002af00: 7374 6172 7420 7061 7261 6d65 7465 722e  start parameter.
-0002af10: 204e 6565 640a 2020 2020 2020 2020 2020   Need.          
-0002af20: 2020 2020 2020 696e 666f 726d 6174 696f        informatio
-0002af30: 6e20 6672 6f6d 2074 6869 7320 7469 6d65  n from this time
-0002af40: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
-0002af50: 2069 7320 6570 6f63 6820 696e 2073 6563   is epoch in sec
-0002af60: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
-0002af70: 2063 7572 7265 6e74 0a20 2020 2020 2020   current.       
-0002af80: 2020 2020 2020 2020 2055 5443 2074 696d           UTC tim
-0002af90: 6573 7461 6d70 206d 696e 7573 2033 2068  estamp minus 3 h
-0002afa0: 6f75 7273 0a20 2020 2020 2020 2020 2020  ours.           
-0002afb0: 2074 6f5f 7469 6d65 7374 616d 7020 2869   to_timestamp (i
-0002afc0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2054  nt, optional): T
-0002afd0: 6869 7320 7061 7261 6d65 7465 7220 7375  his parameter su
-0002afe0: 7065 7263 6564 6573 2065 6e64 2070 6172  percedes end par
-0002aff0: 616d 6574 6572 2e20 4e65 6564 2069 6e66  ameter. Need inf
-0002b000: 6f72 6d61 7469 6f6e 0a20 2020 2020 2020  ormation.       
-0002b010: 2020 2020 2020 2020 2074 6f20 7468 6973           to this
-0002b020: 2074 696d 6573 7461 6d70 2e20 5469 6d65   timestamp. Time
-0002b030: 7374 616d 7020 6973 2065 706f 6368 2069  stamp is epoch i
-0002b040: 6e20 7365 636f 6e64 732e 2044 6566 6175  n seconds. Defau
-0002b050: 6c74 2069 7320 6375 7272 656e 7420 5554  lt is current UT
-0002b060: 4320 7469 6d65 7374 616d 700a 2020 2020  C timestamp.    
-0002b070: 2020 2020 2020 2020 6f66 6673 6574 2028          offset (
-0002b080: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-0002b090: 5061 6769 6e61 7469 6f6e 206f 6666 7365  Pagination offse
-0002b0a0: 7420 2864 6566 6175 6c74 203d 2030 2920  t (default = 0) 
-0002b0b0: 4465 6661 756c 7473 2074 6f20 302e 0a20  Defaults to 0.. 
-0002b0c0: 2020 2020 2020 2020 2020 206c 696d 6974             limit
-0002b0d0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0002b0e0: 3a20 7061 6769 6e61 7469 6f6e 2073 697a  : pagination siz
-0002b0f0: 6520 2864 6566 6175 6c74 203d 2031 3030  e (default = 100
-0002b100: 2920 4465 6661 756c 7473 2074 6f20 3130  ) Defaults to 10
-0002b110: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
-0002b120: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-0002b130: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-0002b140: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-0002b150: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-0002b160: 220a 2020 2020 2020 2020 7061 7261 6d73  ".        params
-0002b170: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-0002b180: 2027 6772 6f75 7027 3a20 6772 6f75 702c   'group': group,
-0002b190: 0a20 2020 2020 2020 2020 2020 2027 6c61  .            'la
-0002b1a0: 6265 6c27 3a20 6c61 6265 6c2c 0a20 2020  bel': label,.   
-0002b1b0: 2020 2020 2020 2020 2027 7369 7465 273a           'site':
-0002b1c0: 2073 6974 652c 0a20 2020 2020 2020 2020   site,.         
-0002b1d0: 2020 2027 7374 6172 7427 3a20 7374 6172     'start': star
-0002b1e0: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
-0002b1f0: 656e 6427 3a20 656e 642c 0a20 2020 2020  end': end,.     
-0002b200: 2020 2020 2020 2027 7377 6172 6d5f 6964         'swarm_id
-0002b210: 273a 2073 7761 726d 5f69 642c 0a20 2020  ': swarm_id,.   
-0002b220: 2020 2020 2020 2020 2027 6672 6f6d 5f74           'from_t
-0002b230: 696d 6573 7461 6d70 273a 2066 726f 6d5f  imestamp': from_
-0002b240: 7469 6d65 7374 616d 702c 0a20 2020 2020  timestamp,.     
-0002b250: 2020 2020 2020 2027 746f 5f74 696d 6573         'to_times
-0002b260: 7461 6d70 273a 2074 6f5f 7469 6d65 7374  tamp': to_timest
-0002b270: 616d 702c 0a20 2020 2020 2020 2020 2020  amp,.           
-0002b280: 2027 6f66 6673 6574 273a 206f 6666 7365   'offset': offse
-0002b290: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
-0002b2a0: 6c69 6d69 7427 3a20 6c69 6d69 740a 2020  limit': limit.  
-0002b2b0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-0002b2c0: 2062 7220 3d20 7365 6c66 2e42 6174 6368   br = self.Batch
-0002b2d0: 5265 7175 6573 740a 2020 2020 2020 2020  Request.        
-0002b2e0: 6675 6e63 7320 3d20 5b0a 2020 2020 2020  funcs = [.      
-0002b2f0: 2020 2020 2020 7365 6c66 2e77 6964 735f        self.wids_
-0002b300: 6765 745f 696e 7465 7266 6572 696e 675f  get_interfering_
-0002b310: 6170 732c 0a20 2020 2020 2020 2020 2020  aps,.           
-0002b320: 2073 656c 662e 7769 6473 5f67 6574 5f6e   self.wids_get_n
-0002b330: 6569 6768 626f 725f 6170 732c 0a20 2020  eighbor_aps,.   
-0002b340: 2020 2020 2020 2020 2073 656c 662e 7769           self.wi
-0002b350: 6473 5f67 6574 5f73 7573 7065 6374 5f61  ds_get_suspect_a
-0002b360: 7073 2c0a 2020 2020 2020 2020 2020 2020  ps,.            
-0002b370: 7365 6c66 2e77 6964 735f 6765 745f 726f  self.wids_get_ro
-0002b380: 6775 655f 6170 732c 0a20 2020 2020 2020  gue_aps,.       
-0002b390: 205d 0a0a 2020 2020 2020 2020 6261 7463   ]..        batc
-0002b3a0: 685f 7265 7120 3d20 5b0a 2020 2020 2020  h_req = [.      
-0002b3b0: 2020 2020 2020 6272 2866 2c20 2a2a 7061        br(f, **pa
-0002b3c0: 7261 6d73 2920 666f 7220 6620 696e 2066  rams) for f in f
-0002b3d0: 756e 6373 0a20 2020 2020 2020 205d 0a0a  uncs.        ]..
-0002b3e0: 2020 2020 2020 2020 6261 7463 685f 7265          batch_re
-0002b3f0: 7320 3d20 6177 6169 7420 7365 6c66 2e5f  s = await self._
-0002b400: 6261 7463 685f 7265 7175 6573 7428 6261  batch_request(ba
-0002b410: 7463 685f 7265 7129 0a20 2020 2020 2020  tch_req).       
-0002b420: 2072 6573 7020 3d20 6261 7463 685f 7265   resp = batch_re
-0002b430: 735b 2d31 5d0a 2020 2020 2020 2020 6f6b  s[-1].        ok
-0002b440: 5f72 6573 203d 205b 6964 7820 666f 7220  _res = [idx for 
-0002b450: 6964 782c 2072 6573 2069 6e20 656e 756d  idx, res in enum
-0002b460: 6572 6174 6528 6261 7463 685f 7265 7329  erate(batch_res)
-0002b470: 2069 6620 7265 732e 6f6b 5d0a 2020 2020   if res.ok].    
-0002b480: 2020 2020 6966 206e 6f74 206c 656e 286f      if not len(o
-0002b490: 6b5f 7265 7329 203d 3d20 6c65 6e28 6675  k_res) == len(fu
-0002b4a0: 6e63 7329 3a0a 2020 2020 2020 2020 2020  ncs):.          
-0002b4b0: 2020 6661 696c 6564 203d 205b 7820 666f    failed = [x fo
-0002b4c0: 7220 7820 696e 2072 616e 6765 2830 2c20  r x in range(0, 
-0002b4d0: 6c65 6e28 6675 6e63 7329 2920 6966 2078  len(funcs)) if x
-0002b4e0: 206e 6f74 2069 6e20 6f6b 5f72 6573 5d0a   not in ok_res].
-0002b4f0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-0002b500: 6620 696e 2066 6169 6c65 643a 0a20 2020  f in failed:.   
-0002b510: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0002b520: 6620 696e 2072 616e 6765 2830 2c20 6c65  f in range(0, le
-0002b530: 6e28 6261 7463 685f 7265 7329 293a 0a20  n(batch_res)):. 
-0002b540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b550: 2020 206c 6f67 2e65 7272 6f72 2866 227b     log.error(f"{
-0002b560: 6261 7463 685f 7265 735b 665d 2e6d 6574  batch_res[f].met
-0002b570: 686f 647d 207b 6261 7463 685f 7265 735b  hod} {batch_res[
-0002b580: 665d 2e75 726c 2e70 6174 687d 2052 6574  f].url.path} Ret
-0002b590: 7572 6e65 6420 4572 726f 7220 5374 6174  urned Error Stat
-0002b5a0: 7573 207b 6261 7463 685f 7265 735b 665d  us {batch_res[f]
-0002b5b0: 2e73 7461 7475 737d 2e20 7b62 6174 6368  .status}. {batch
-0002b5c0: 5f72 6573 5b66 5d2e 6f75 7470 7574 206f  _res[f].output o
-0002b5d0: 7220 6261 7463 685f 7265 735b 665d 2e65  r batch_res[f].e
-0002b5e0: 7272 6f72 7d22 2c20 7368 6f77 3d54 7275  rror}", show=Tru
-0002b5f0: 6529 0a20 2020 2020 2020 2072 6177 5f6b  e).        raw_k
-0002b600: 6579 7320 3d20 5b22 696e 7465 7266 6572  eys = ["interfer
-0002b610: 696e 675f 6170 7322 2c20 226e 6569 6768  ing_aps", "neigh
-0002b620: 626f 725f 6170 7322 2c20 2273 7573 7065  bor_aps", "suspe
-0002b630: 6374 5f61 7073 225d 0a20 2020 2020 2020  ct_aps"].       
-0002b640: 2072 6573 702e 7261 7720 3d20 7b22 726f   resp.raw = {"ro
-0002b650: 6775 655f 6170 7322 3a20 7265 7370 2e72  gue_aps": resp.r
-0002b660: 6177 2e67 6574 2822 726f 6775 655f 6170  aw.get("rogue_ap
-0002b670: 7322 2c20 5b5d 292c 2022 5f63 6f75 6e74  s", []), "_count
-0002b680: 7322 3a20 7b22 726f 6775 6573 223a 2072  s": {"rogues": r
-0002b690: 6573 702e 7261 772e 6765 7428 2274 6f74  esp.raw.get("tot
-0002b6a0: 616c 2229 7d7d 0a20 2020 2020 2020 2066  al")}}.        f
-0002b6b0: 6f72 2069 6478 2c20 6b65 7920 696e 2065  or idx, key in e
-0002b6c0: 6e75 6d65 7261 7465 2872 6177 5f6b 6579  numerate(raw_key
-0002b6d0: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-0002b6e0: 6966 2069 6478 2069 6e20 6f6b 5f72 6573  if idx in ok_res
-0002b6f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0002b700: 2020 7265 7370 2e72 6177 203d 207b 2a2a    resp.raw = {**
-0002b710: 7265 7370 2e72 6177 2c20 2a2a 7b6b 6579  resp.raw, **{key
-0002b720: 3a20 6261 7463 685f 7265 735b 6964 785d  : batch_res[idx]
-0002b730: 2e72 6177 2e67 6574 286b 6579 2c20 5b5d  .raw.get(key, []
-0002b740: 297d 7d0a 2020 2020 2020 2020 2020 2020  )}}.            
-0002b750: 2020 2020 7265 7370 2e72 6177 5b22 5f63      resp.raw["_c
-0002b760: 6f75 6e74 7322 5d5b 6b65 792e 7273 7472  ounts"][key.rstr
-0002b770: 6970 2822 5f61 7073 2229 5d20 3d20 6261  ip("_aps")] = ba
-0002b780: 7463 685f 7265 735b 6964 785d 2e72 6177  tch_res[idx].raw
-0002b790: 2e67 6574 2822 746f 7461 6c22 290a 2020  .get("total").  
-0002b7a0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0002b7b0: 7370 2e6f 7574 7075 7420 3d20 5b2a 7265  sp.output = [*re
-0002b7c0: 7370 2e6f 7574 7075 742c 202a 6261 7463  sp.output, *batc
-0002b7d0: 685f 7265 735b 6964 785d 2e6f 7574 7075  h_res[idx].outpu
-0002b7e0: 745d 0a20 2020 2020 2020 2023 2072 6573  t].        # res
-0002b7f0: 702e 6f75 7470 7574 203d 205b 2a72 6573  p.output = [*res
-0002b800: 702e 6f75 7470 7574 2c20 2a62 6174 6368  p.output, *batch
-0002b810: 5f72 6573 5b30 5d2e 6f75 7470 7574 2c20  _res[0].output, 
-0002b820: 2a62 6174 6368 5f72 6573 5b31 5d2e 6f75  *batch_res[1].ou
-0002b830: 7470 7574 2c20 2a62 6174 6368 5f72 6573  tput, *batch_res
-0002b840: 5b32 5d2e 6f75 7470 7574 5d0a 2020 2020  [2].output].    
-0002b850: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-0002b860: 2020 2020 2072 6573 702e 6f75 7470 7574       resp.output
-0002b870: 203d 205b 5749 4453 282a 2a64 292e 6469   = [WIDS(**d).di
-0002b880: 6374 2829 2066 6f72 2064 2069 6e20 7265  ct() for d in re
-0002b890: 7370 2e6f 7574 7075 745d 0a20 2020 2020  sp.output].     
-0002b8a0: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
-0002b8b0: 696f 6e20 6173 2065 3a0a 2020 2020 2020  ion as e:.      
-0002b8c0: 2020 2020 2020 6c6f 672e 7761 726e 696e        log.warnin
-0002b8d0: 6728 6622 6465 7620 6e6f 7465 2e20 7079  g(f"dev note. py
-0002b8e0: 6461 6e74 6963 2063 6f6e 7665 7273 696f  dantic conversio
-0002b8f0: 6e20 6469 6420 6e6f 7420 776f 726b 222c  n did not work",
-0002b900: 2073 686f 773d 5472 7565 290a 0a20 2020   show=True)..   
-0002b910: 2020 2020 2072 6574 7572 6e20 7265 7370       return resp
-0002b920: 0a0a 0a20 2020 2061 7379 6e63 2064 6566  ...    async def
-0002b930: 2067 6574 5f61 6c65 7274 7328 0a20 2020   get_alerts(.   
-0002b940: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0002b950: 2020 2063 7573 746f 6d65 725f 6964 3a20     customer_id: 
-0002b960: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-0002b970: 2020 2020 6772 6f75 703a 2073 7472 203d      group: str =
-0002b980: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
-0002b990: 6162 656c 3a20 7374 7220 3d20 4e6f 6e65  abel: str = None
-0002b9a0: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
-0002b9b0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-0002b9c0: 2020 2020 2020 7369 7465 3a20 7374 7220        site: str 
-0002b9d0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002b9e0: 6672 6f6d 5f74 733a 2069 6e74 203d 204e  from_ts: int = N
-0002b9f0: 6f6e 652c 0a20 2020 2020 2020 2074 6f5f  one,.        to_
-0002ba00: 7473 3a20 696e 7420 3d20 4e6f 6e65 2c0a  ts: int = None,.
-0002ba10: 2020 2020 2020 2020 7365 7665 7269 7479          severity
-0002ba20: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-0002ba30: 2020 2020 2020 7479 7065 3a20 7374 7220        type: str 
-0002ba40: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002ba50: 7365 6172 6368 3a20 7374 7220 3d20 4e6f  search: str = No
-0002ba60: 6e65 2c0a 2020 2020 2020 2020 2320 6361  ne,.        # ca
-0002ba70: 6c63 756c 6174 655f 746f 7461 6c3a 2062  lculate_total: b
-0002ba80: 6f6f 6c20 3d20 4661 6c73 652c 2020 2320  ool = False,  # 
-0002ba90: 446f 6573 6e27 7420 6170 7065 6172 2074  Doesn't appear t
-0002baa0: 6f20 696d 7061 6374 2061 6c77 6179 7320  o impact always 
-0002bab0: 7265 7475 726e 7320 746f 7461 6c0a 2020  returns total.  
-0002bac0: 2020 2020 2020 6163 6b3a 2062 6f6f 6c20        ack: bool 
-0002bad0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002bae0: 6669 656c 6473 3a20 7374 7220 3d20 4e6f  fields: str = No
-0002baf0: 6e65 2c0a 2020 2020 2020 2020 6f66 6673  ne,.        offs
-0002bb00: 6574 3a20 696e 7420 3d20 302c 0a20 2020  et: int = 0,.   
-0002bb10: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
-0002bb20: 3d20 3130 3030 2c0a 2020 2020 2920 2d3e  = 1000,.    ) ->
-0002bb30: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0002bb40: 2020 2022 2222 5b63 656e 7472 616c 5d20     """[central] 
-0002bb50: 4c69 7374 204e 6f74 6966 6963 6174 696f  List Notificatio
-0002bb60: 6e73 2f41 6c65 7274 732e 2020 5265 7475  ns/Alerts.  Retu
-0002bb70: 726e 7320 3120 6461 7920 6279 2064 6566  rns 1 day by def
-0002bb80: 6175 6c74 2e0a 0a20 2020 2020 2020 2041  ault...        A
-0002bb90: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-0002bba0: 2063 7573 746f 6d65 725f 6964 2028 7374   customer_id (st
-0002bbb0: 722c 206f 7074 696f 6e61 6c29 3a20 4d53  r, optional): MS
-0002bbc0: 5020 7573 6572 2063 616e 2066 696c 7465  P user can filte
-0002bbd0: 7220 6e6f 7469 6669 6361 7469 6f6e 7320  r notifications 
-0002bbe0: 6261 7365 6420 6f6e 2063 7573 746f 6d65  based on custome
-0002bbf0: 7220 6964 0a20 2020 2020 2020 2020 2020  r id.           
-0002bc00: 2067 726f 7570 2028 7374 722c 206f 7074   group (str, opt
-0002bc10: 696f 6e61 6c29 3a20 5573 6564 2074 6f20  ional): Used to 
-0002bc20: 6669 6c74 6572 2074 6865 206e 6f74 6966  filter the notif
-0002bc30: 6963 6174 696f 6e20 7479 7065 7320 6261  ication types ba
-0002bc40: 7365 6420 6f6e 2067 726f 7570 206e 616d  sed on group nam
-0002bc50: 650a 2020 2020 2020 2020 2020 2020 6c61  e.            la
-0002bc60: 6265 6c20 2873 7472 2c20 6f70 7469 6f6e  bel (str, option
-0002bc70: 616c 293a 2055 7365 6420 746f 2066 696c  al): Used to fil
-0002bc80: 7465 7220 7468 6520 6e6f 7469 6669 6361  ter the notifica
-0002bc90: 7469 6f6e 2074 7970 6573 2062 6173 6564  tion types based
-0002bca0: 206f 6e20 4c61 6265 6c20 6e61 6d65 0a20   on Label name. 
-0002bcb0: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-0002bcc0: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
-0002bcd0: 293a 2055 7365 6420 746f 2066 696c 7465  ): Used to filte
-0002bce0: 7220 7468 6520 7265 7375 6c74 2062 6173  r the result bas
-0002bcf0: 6564 206f 6e20 7365 7269 616c 206e 756d  ed on serial num
-0002bd00: 6265 7220 6f66 2074 6865 2064 6576 6963  ber of the devic
-0002bd10: 650a 2020 2020 2020 2020 2020 2020 7369  e.            si
-0002bd20: 7465 2028 7374 722c 206f 7074 696f 6e61  te (str, optiona
-0002bd30: 6c29 3a20 5573 6564 2074 6f20 6669 6c74  l): Used to filt
-0002bd40: 6572 2074 6865 206e 6f74 6966 6963 6174  er the notificat
-0002bd50: 696f 6e20 7479 7065 7320 6261 7365 6420  ion types based 
-0002bd60: 6f6e 2053 6974 6520 6e61 6d65 0a20 2020  on Site name.   
-0002bd70: 2020 2020 2020 2020 2066 726f 6d5f 7473           from_ts
-0002bd80: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0002bd90: 3a20 3129 7374 6172 7420 6f66 2064 7572  : 1)start of dur
-0002bda0: 6174 696f 6e20 7769 7468 696e 2077 6869  ation within whi
-0002bdb0: 6368 2061 6c65 7274 7320 6172 6520 7261  ch alerts are ra
-0002bdc0: 6973 6564 0a20 2020 2020 2020 2020 2020  ised.           
-0002bdd0: 2020 2020 2032 2964 6573 6372 6962 6564       2)described
-0002bde0: 2075 7369 6e67 2055 6e69 7820 4570 6f63   using Unix Epoc
-0002bdf0: 6820 7469 6d65 2069 6e20 7365 636f 6e64  h time in second
-0002be00: 7320 2044 6566 6175 6c74 2033 3020 6461  s  Default 30 da
-0002be10: 7973 2028 6d61 7820 3930 290a 2020 2020  ys (max 90).    
-0002be20: 2020 2020 2020 2020 746f 5f74 7320 2869          to_ts (i
-0002be30: 6e74 2c20 6f70 7469 6f6e 616c 293a 2031  nt, optional): 1
-0002be40: 2965 6e64 206f 6620 6475 7261 7469 6f6e  )end of duration
-0002be50: 2077 6974 6869 6e20 7768 6963 6820 616c   within which al
-0002be60: 6572 7473 2061 7265 2072 6169 7365 640a  erts are raised.
-0002be70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002be80: 3229 6465 7363 7269 6265 6420 7573 696e  2)described usin
-0002be90: 6720 556e 6978 2045 706f 6368 2074 696d  g Unix Epoch tim
-0002bea0: 6520 696e 2073 6563 6f6e 6473 0a20 2020  e in seconds.   
-0002beb0: 2020 2020 2020 2020 2073 6576 6572 6974           severit
-0002bec0: 7920 2873 7472 2c20 6f70 7469 6f6e 616c  y (str, optional
-0002bed0: 293a 2055 7365 6420 746f 2066 696c 7465  ): Used to filte
-0002bee0: 7220 7468 6520 6e6f 7469 6669 6361 7469  r the notificati
-0002bef0: 6f6e 2074 7970 6573 2062 6173 6564 206f  on types based o
-0002bf00: 6e20 7365 7665 7269 7479 0a20 2020 2020  n severity.     
-0002bf10: 2020 2020 2020 2074 7970 6520 2873 7472         type (str
-0002bf20: 2c20 6f70 7469 6f6e 616c 293a 2055 7365  , optional): Use
-0002bf30: 6420 746f 2066 696c 7465 7220 7468 6520  d to filter the 
-0002bf40: 6e6f 7469 6669 6361 7469 6f6e 2074 7970  notification typ
-0002bf50: 6573 2062 6173 6564 206f 6e20 6e6f 7469  es based on noti
-0002bf60: 6669 6361 7469 6f6e 2074 7970 650a 2020  fication type.  
-0002bf70: 2020 2020 2020 2020 2020 2020 2020 6e61                na
-0002bf80: 6d65 0a20 2020 2020 2020 2020 2020 2073  me.            s
-0002bf90: 6561 7263 6820 2873 7472 2c20 6f70 7469  earch (str, opti
-0002bfa0: 6f6e 616c 293a 2074 6572 6d20 7573 6564  onal): term used
-0002bfb0: 2074 6f20 7365 6172 6368 2069 6e20 6e61   to search in na
-0002bfc0: 6d65 2c20 6361 7465 676f 7279 206f 6620  me, category of 
-0002bfd0: 7468 6520 616c 6572 740a 2020 2020 2020  the alert.      
-0002bfe0: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
-0002bff0: 746f 7461 6c20 2862 6f6f 6c2c 206f 7074  total (bool, opt
-0002c000: 696f 6e61 6c29 3a20 5768 6574 6865 7220  ional): Whether 
-0002c010: 746f 2063 6f75 6e74 2074 6f74 616c 2069  to count total i
-0002c020: 7465 6d73 2069 6e20 7468 6520 7265 7370  tems in the resp
-0002c030: 6f6e 7365 0a20 2020 2020 2020 2020 2020  onse.           
-0002c040: 2061 636b 2028 626f 6f6c 2c20 6f70 7469   ack (bool, opti
-0002c050: 6f6e 616c 293a 2046 696c 7465 7220 6163  onal): Filter ac
-0002c060: 6b6e 6f77 6c65 6467 6564 206f 7220 756e  knowledged or un
-0002c070: 6163 6b6e 6f77 6c65 6467 6564 206e 6f74  acknowledged not
-0002c080: 6966 6963 6174 696f 6e73 2e20 5768 656e  ifications. When
-0002c090: 2071 7565 7279 0a20 2020 2020 2020 2020   query.         
-0002c0a0: 2020 2020 2020 2070 6172 616d 6574 6572         parameter
-0002c0b0: 2069 7320 6e6f 7420 7370 6563 6966 6965   is not specifie
-0002c0c0: 642c 2062 6f74 6820 6163 6b6e 6f77 6c65  d, both acknowle
-0002c0d0: 6467 6564 2061 6e64 2075 6e61 636b 6e6f  dged and unackno
-0002c0e0: 776c 6564 6765 6420 6e6f 7469 6669 6361  wledged notifica
-0002c0f0: 7469 6f6e 7320 6172 650a 2020 2020 2020  tions are.      
-0002c100: 2020 2020 2020 2020 2020 696e 636c 7564            includ
-0002c110: 6564 0a20 2020 2020 2020 2020 2020 2066  ed.            f
-0002c120: 6965 6c64 7320 2873 7472 2c20 6f70 7469  ields (str, opti
-0002c130: 6f6e 616c 293a 2043 6f6d 6d61 2073 6570  onal): Comma sep
-0002c140: 6172 6174 6564 206c 6973 7420 6f66 2066  arated list of f
-0002c150: 6965 6c64 7320 746f 2062 6520 7265 7475  ields to be retu
-0002c160: 726e 6564 0a20 2020 2020 2020 2020 2020  rned.           
-0002c170: 206f 6666 7365 7420 2869 6e74 2c20 6f70   offset (int, op
-0002c180: 7469 6f6e 616c 293a 2050 6167 696e 6174  tional): Paginat
-0002c190: 696f 6e20 6f66 6673 6574 2044 6566 6175  ion offset Defau
-0002c1a0: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
-0002c1b0: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
-0002c1c0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
-0002c1d0: 696e 6174 696f 6e20 6c69 6d69 742e 2044  ination limit. D
-0002c1e0: 6566 6175 6c74 2069 7320 3130 3020 616e  efault is 100 an
-0002c1f0: 6420 6d61 7820 6973 2031 3030 3020 4465  d max is 1000 De
-0002c200: 6661 756c 7473 2074 6f20 3530 302e 0a0a  faults to 500...
-0002c210: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-0002c220: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-0002c230: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-0002c240: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-0002c250: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-0002c260: 2020 2020 2020 7572 6c20 3d20 222f 6365        url = "/ce
-0002c270: 6e74 7261 6c2f 7631 2f6e 6f74 6966 6963  ntral/v1/notific
-0002c280: 6174 696f 6e73 220a 0a20 2020 2020 2020  ations"..       
-0002c290: 2069 6620 6e6f 7420 6672 6f6d 5f74 733a   if not from_ts:
-0002c2a0: 0a20 2020 2020 2020 2020 2020 2066 726f  .            fro
-0002c2b0: 6d5f 7473 203d 2069 6e74 2864 6174 6574  m_ts = int(datet
-0002c2c0: 696d 652e 7469 6d65 7374 616d 7028 6461  ime.timestamp(da
-0002c2d0: 7465 7469 6d65 2e74 6f64 6179 2829 202d  tetime.today() -
-0002c2e0: 2074 696d 6564 656c 7461 2864 6179 733d   timedelta(days=
-0002c2f0: 3129 2929 0a20 2020 2020 2020 2069 6620  1))).        if 
-0002c300: 6163 6b20 696e 205b 5472 7565 2c20 4661  ack in [True, Fa
-0002c310: 6c73 655d 3a0a 2020 2020 2020 2020 2020  lse]:.          
-0002c320: 2020 6163 6b20 3d20 7374 7228 6163 6b29    ack = str(ack)
-0002c330: 2e6c 6f77 6572 2829 0a0a 2020 2020 2020  .lower()..      
-0002c340: 2020 6966 2074 6f5f 7473 2061 6e64 2074    if to_ts and t
-0002c350: 6f5f 7473 203c 3d20 6672 6f6d 5f74 733a  o_ts <= from_ts:
-0002c360: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-0002c370: 7572 6e20 5265 7370 6f6e 7365 2865 7272  urn Response(err
-0002c380: 6f72 3d66 2254 6f20 7469 6d65 7374 616d  or=f"To timestam
-0002c390: 7020 287b 746f 5f74 737d 2920 6361 6e20  p ({to_ts}) can 
-0002c3a0: 6e6f 7420 6265 206c 6573 7320 7468 616e  not be less than
-0002c3b0: 2066 726f 6d20 7469 6d65 7374 616d 7020   from timestamp 
-0002c3c0: 287b 6672 6f6d 5f74 737d 2922 290a 0a20  ({from_ts})").. 
-0002c3d0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0002c3e0: 7b0a 2020 2020 2020 2020 2020 2020 2763  {.            'c
-0002c3f0: 7573 746f 6d65 725f 6964 273a 2063 7573  ustomer_id': cus
-0002c400: 746f 6d65 725f 6964 2c0a 2020 2020 2020  tomer_id,.      
-0002c410: 2020 2020 2020 2767 726f 7570 273a 2067        'group': g
-0002c420: 726f 7570 2c0a 2020 2020 2020 2020 2020  roup,.          
-0002c430: 2020 276c 6162 656c 273a 206c 6162 656c    'label': label
-0002c440: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-0002c450: 6572 6961 6c27 3a20 7365 7269 616c 2c0a  erial': serial,.
-0002c460: 2020 2020 2020 2020 2020 2020 2773 6974              'sit
-0002c470: 6527 3a20 7369 7465 2c0a 2020 2020 2020  e': site,.      
-0002c480: 2020 2020 2020 2766 726f 6d5f 7469 6d65        'from_time
-0002c490: 7374 616d 7027 3a20 6672 6f6d 5f74 732c  stamp': from_ts,
-0002c4a0: 0a20 2020 2020 2020 2020 2020 2027 746f  .            'to
-0002c4b0: 5f74 696d 6573 7461 6d70 273a 2074 6f5f  _timestamp': to_
-0002c4c0: 7473 2c0a 2020 2020 2020 2020 2020 2020  ts,.            
-0002c4d0: 2773 6576 6572 6974 7927 3a20 7365 7665  'severity': seve
-0002c4e0: 7269 7479 2c0a 2020 2020 2020 2020 2020  rity,.          
-0002c4f0: 2020 2773 6561 7263 6827 3a20 7365 6172    'search': sear
-0002c500: 6368 2c0a 2020 2020 2020 2020 2020 2020  ch,.            
-0002c510: 2320 2763 616c 6375 6c61 7465 5f74 6f74  # 'calculate_tot
-0002c520: 616c 273a 2073 7472 2863 616c 6375 6c61  al': str(calcula
-0002c530: 7465 5f74 6f74 616c 292c 0a20 2020 2020  te_total),.     
-0002c540: 2020 2020 2020 2027 7479 7065 273a 2074         'type': t
-0002c550: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
-0002c560: 2027 6163 6b27 3a20 6163 6b2c 0a20 2020   'ack': ack,.   
-0002c570: 2020 2020 2020 2020 2027 6669 656c 6473           'fields
-0002c580: 273a 2066 6965 6c64 732c 0a20 2020 2020  ': fields,.     
-0002c590: 2020 2020 2020 2027 6f66 6673 6574 273a         'offset':
-0002c5a0: 206f 6666 7365 742c 0a20 2020 2020 2020   offset,.       
-0002c5b0: 2020 2020 2027 6c69 6d69 7427 3a20 6c69       'limit': li
-0002c5c0: 6d69 742c 0a20 2020 2020 2020 207d 0a0a  mit,.        }..
-0002c5d0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0002c5e0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-0002c5f0: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-0002c600: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-0002c610: 2063 656e 7472 616c 5f61 636b 6e6f 776c   central_acknowl
-0002c620: 6564 6765 5f6e 6f74 6966 6963 6174 696f  edge_notificatio
-0002c630: 6e73 280a 2020 2020 2020 2020 7365 6c66  ns(.        self
-0002c640: 2c0a 2020 2020 2020 2020 4e6f 4e61 6d65  ,.        NoName
-0002c650: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
-0002c660: 6e65 2c0a 2020 2020 2920 2d3e 2052 6573  ne,.    ) -> Res
-0002c670: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-0002c680: 2222 4163 6b6e 6f77 6c65 6467 6520 4e6f  ""Acknowledge No
-0002c690: 7469 6669 6361 7469 6f6e 7320 6279 2049  tifications by I
-0002c6a0: 4420 4c69 7374 202f 2041 6c6c 2e0a 0a20  D List / All... 
-0002c6b0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-0002c6c0: 2020 2020 2020 2020 204e 6f4e 616d 6520           NoName 
-0002c6d0: 284c 6973 745b 7374 725d 2c20 6f70 7469  (List[str], opti
-0002c6e0: 6f6e 616c 293a 2041 636b 6e6f 776c 6564  onal): Acknowled
-0002c6f0: 6765 206e 6f74 6966 6963 6174 696f 6e73  ge notifications
-0002c700: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-0002c710: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-0002c720: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-0002c730: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-0002c740: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-0002c750: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-0002c760: 6365 6e74 7261 6c2f 7631 2f6e 6f74 6966  central/v1/notif
-0002c770: 6963 6174 696f 6e73 220a 0a20 2020 2020  ications"..     
-0002c780: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-0002c790: 7365 6c66 2e70 6f73 7428 7572 6c29 0a0a  self.post(url)..
-0002c7a0: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
-0002c7b0: 745f 6170 5f63 6f6e 6669 6728 0a20 2020  t_ap_config(.   
-0002c7c0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0002c7d0: 2020 2067 726f 7570 5f73 7761 726d 6964     group_swarmid
-0002c7e0: 3a20 7374 722c 0a20 2020 2020 2020 2076  : str,.        v
-0002c7f0: 6572 7369 6f6e 3a20 7374 7220 3d20 4e6f  ersion: str = No
-0002c800: 6e65 2c0a 2020 2020 2920 2d3e 2052 6573  ne,.    ) -> Res
-0002c810: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-0002c820: 2222 4765 7420 4150 2047 726f 7570 204c  ""Get AP Group L
-0002c830: 6576 656c 2063 6f6e 6669 6775 7261 7469  evel configurati
-0002c840: 6f6e 2066 6f72 2055 4920 6772 6f75 702e  on for UI group.
-0002c850: 0a0a 2020 2020 2020 2020 2f2f 2055 7365  ..        // Use
-0002c860: 6420 6279 2073 686f 7720 636f 6e66 6967  d by show config
-0002c870: 203c 4150 204d 4143 2066 6f72 2041 4f53   <AP MAC for AOS
-0002c880: 3130 2041 503e 202f 2f0a 0a20 2020 2020  10 AP> //..     
-0002c890: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0002c8a0: 2020 2020 2067 726f 7570 5f73 7761 726d       group_swarm
-0002c8b0: 6964 2028 7374 7229 3a20 4772 6f75 7020  id (str): Group 
-0002c8c0: 6e61 6d65 206f 6620 7468 6520 6772 6f75  name of the grou
-0002c8d0: 7020 6f72 2067 7569 6420 6f66 2074 6865  p or guid of the
-0002c8e0: 2073 7761 726d 2e0a 2020 2020 2020 2020   swarm..        
-0002c8f0: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
-0002c900: 4772 6f75 705f 3120 6f72 2036 6135 6431  Group_1 or 6a5d1
-0002c910: 3233 6230 3166 3934 3431 3830 3632 3434  23b01f9441806244
-0002c920: 6561 3665 3032 3366 6162 3538 3431 6237  ea6e023fab5841b7
-0002c930: 3763 3832 3861 3038 3566 3034 662e 0a20  7c828a085f04f.. 
-0002c940: 2020 2020 2020 2020 2020 2076 6572 7369             versi
-0002c950: 6f6e 2028 7374 722c 206f 7074 696f 6e61  on (str, optiona
-0002c960: 6c29 3a20 5665 7273 696f 6e20 6f66 2041  l): Version of A
-0002c970: 502e 0a0a 2020 2020 2020 2020 5265 7475  P...        Retu
-0002c980: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-0002c990: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-0002c9a0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-0002c9b0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-0002c9c0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-0002c9d0: 6622 2f63 6f6e 6669 6775 7261 7469 6f6e  f"/configuration
-0002c9e0: 2f76 312f 6170 5f63 6c69 2f7b 6772 6f75  /v1/ap_cli/{grou
-0002c9f0: 705f 7377 6172 6d69 647d 220a 0a20 2020  p_swarmid}"..   
-0002ca00: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-0002ca10: 2020 2020 2020 2020 2020 2020 2776 6572              'ver
-0002ca20: 7369 6f6e 273a 2076 6572 7369 6f6e 0a20  sion': version. 
-0002ca30: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-0002ca40: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0002ca50: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-0002ca60: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-0002ca70: 2061 7379 6e63 2064 6566 2072 6570 6c61   async def repla
-0002ca80: 6365 5f61 705f 636f 6e66 6967 280a 2020  ce_ap_config(.  
-0002ca90: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-0002caa0: 2020 2020 6772 6f75 705f 6e61 6d65 5f6f      group_name_o
-0002cab0: 725f 6775 6964 3a20 7374 722c 0a20 2020  r_guid: str,.   
-0002cac0: 2020 2020 2063 6c69 733a 204c 6973 745b       clis: List[
-0002cad0: 7374 725d 2c0a 2020 2020 2920 2d3e 2052  str],.    ) -> R
-0002cae0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0002caf0: 2022 2222 5265 706c 6163 6520 4150 2047   """Replace AP G
-0002cb00: 726f 7570 204c 6576 656c 2063 6f6e 6669  roup Level confi
-0002cb10: 6775 7261 7469 6f6e 2066 6f72 2055 4920  guration for UI 
-0002cb20: 6772 6f75 702e 0a0a 2020 2020 2020 2020  group...        
-0002cb30: 5365 6e64 2041 5020 636f 6e66 6967 7572  Send AP configur
-0002cb40: 6174 696f 6e20 696e 2043 4c49 2066 6f72  ation in CLI for
-0002cb50: 6d61 7420 6173 2061 206c 6973 7420 6f66  mat as a list of
-0002cb60: 2073 7472 696e 6773 2077 6865 7265 2065   strings where e
-0002cb70: 6163 6820 6974 656d 2069 6e20 7468 6520  ach item in the 
-0002cb80: 6c69 7374 2069 730a 2020 2020 2020 2020  list is.        
-0002cb90: 6120 6c69 6e65 2066 726f 6d20 7468 6520  a line from the 
-0002cba0: 636f 6e66 6967 2e20 2052 6571 7569 7265  config.  Require
-0002cbb0: 7320 616c 6c20 6c69 6e65 7320 6f66 2074  s all lines of t
-0002cbc0: 6865 2063 6f6e 6669 672c 206e 6f74 2061  he config, not a
-0002cbd0: 2070 6172 7469 616c 2075 7064 6174 652e   partial update.
-0002cbe0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-0002cbf0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-0002cc00: 705f 6e61 6d65 5f6f 725f 6775 6964 2028  p_name_or_guid (
-0002cc10: 7374 7229 3a20 4772 6f75 7020 6e61 6d65  str): Group name
-0002cc20: 206f 6620 7468 6520 6772 6f75 7020 6f72   of the group or
-0002cc30: 2067 7569 6420 6f66 2074 6865 2073 7761   guid of the swa
-0002cc40: 726d 2e0a 2020 2020 2020 2020 2020 2020  rm..            
-0002cc50: 2020 2020 4578 616d 706c 653a 4772 6f75      Example:Grou
-0002cc60: 705f 3120 6f72 2036 6135 6431 3233 6230  p_1 or 6a5d123b0
-0002cc70: 3166 3934 3431 3830 3632 3434 6561 3665  1f9441806244ea6e
-0002cc80: 3032 3366 6162 3538 3431 6237 3763 3832  023fab5841b77c82
-0002cc90: 3861 3038 3566 3034 662e 0a20 2020 2020  8a085f04f..     
-0002cca0: 2020 2020 2020 2063 6c69 7320 284c 6973         clis (Lis
-0002ccb0: 745b 7374 725d 293a 2057 686f 6c65 2063  t[str]): Whole c
-0002ccc0: 6f6e 6669 6775 7261 7469 6f6e 204c 6973  onfiguration Lis
-0002ccd0: 7420 696e 2043 4c49 2066 6f72 6d61 742e  t in CLI format.
-0002cce0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-0002ccf0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-0002cd00: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-0002cd10: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-0002cd20: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-0002cd30: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-0002cd40: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
-0002cd50: 312f 6170 5f63 6c69 2f7b 6772 6f75 705f  1/ap_cli/{group_
-0002cd60: 6e61 6d65 5f6f 725f 6775 6964 7d22 0a0a  name_or_guid}"..
-0002cd70: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-0002cd80: 6120 3d20 7b0a 2020 2020 2020 2020 2020  a = {.          
-0002cd90: 2020 2763 6c69 7327 3a20 636c 6973 0a20    'clis': clis. 
-0002cda0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-0002cdb0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0002cdc0: 656c 662e 706f 7374 2875 726c 2c20 6a73  elf.post(url, js
-0002cdd0: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
-0002cde0: 6129 0a0a 2020 2020 6173 796e 6320 6465  a)..    async de
-0002cdf0: 6620 6765 745f 7065 725f 6170 5f63 6f6e  f get_per_ap_con
-0002ce00: 6669 6728 0a20 2020 2020 2020 2073 656c  fig(.        sel
-0002ce10: 662c 0a20 2020 2020 2020 2073 6572 6961  f,.        seria
-0002ce20: 6c3a 2073 7472 2c0a 2020 2020 2920 2d3e  l: str,.    ) ->
-0002ce30: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0002ce40: 2020 2022 2222 4765 7420 7065 7220 4150     """Get per AP
-0002ce50: 2073 6574 7469 6e67 2e0a 0a20 2020 2020   setting...     
-0002ce60: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0002ce70: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
-0002ce80: 293a 2053 6572 6961 6c20 4e75 6d62 6572  ): Serial Number
-0002ce90: 206f 6620 4150 0a0a 2020 2020 2020 2020   of AP..        
-0002cea0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-0002ceb0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-0002cec0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-0002ced0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-0002cee0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-0002cef0: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
-0002cf00: 7469 6f6e 2f76 312f 6170 5f73 6574 7469  tion/v1/ap_setti
-0002cf10: 6e67 735f 636c 692f 7b73 6572 6961 6c7d  ngs_cli/{serial}
-0002cf20: 220a 0a20 2020 2020 2020 2072 6574 7572  "..        retur
-0002cf30: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-0002cf40: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
-0002cf50: 2064 6566 2072 6570 6c61 6365 5f70 6572   def replace_per
-0002cf60: 5f61 705f 636f 6e66 6967 280a 2020 2020  _ap_config(.    
-0002cf70: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-0002cf80: 2020 7365 7269 616c 3a20 7374 722c 0a20    serial: str,. 
-0002cf90: 2020 2020 2020 2063 6c69 733a 204c 6973         clis: Lis
-0002cfa0: 745b 7374 725d 2c0a 2020 2020 2920 2d3e  t[str],.    ) ->
-0002cfb0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0002cfc0: 2020 2022 2222 5265 706c 6163 6520 7065     """Replace pe
-0002cfd0: 7220 4150 2073 6574 7469 6e67 2e0a 0a20  r AP setting... 
-0002cfe0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-0002cff0: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
-0002d000: 2873 7472 293a 2053 6572 6961 6c20 4e75  (str): Serial Nu
-0002d010: 6d62 6572 206f 6620 4150 0a20 2020 2020  mber of AP.     
-0002d020: 2020 2020 2020 2063 6c69 7320 284c 6973         clis (Lis
-0002d030: 745b 7374 725d 293a 2041 6c6c 2070 6572  t[str]): All per
-0002d040: 2041 5020 7365 7474 696e 6720 4c69 7374   AP setting List
-0002d050: 2069 6e20 434c 4920 666f 726d 6174 0a20   in CLI format. 
-0002d060: 2020 2020 2020 2020 2020 2020 2020 204d                 M
-0002d070: 7573 7420 7072 6f76 6964 6520 616c 6c20  ust provide all 
-0002d080: 7065 7220 4150 2073 6574 7469 6e67 732c  per AP settings,
-0002d090: 206e 6f74 2070 6172 7469 616c 0a0a 2020   not partial..  
-0002d0a0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-0002d0b0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-0002d0c0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-0002d0d0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-0002d0e0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0002d0f0: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
-0002d100: 6669 6775 7261 7469 6f6e 2f76 312f 6170  figuration/v1/ap
-0002d110: 5f73 6574 7469 6e67 735f 636c 692f 7b73  _settings_cli/{s
-0002d120: 6572 6961 6c7d 220a 0a20 2020 2020 2020  erial}"..       
-0002d130: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
-0002d140: 2020 2020 2020 2020 2020 2027 636c 6973             'clis
-0002d150: 273a 2063 6c69 730a 2020 2020 2020 2020  ': clis.        
-0002d160: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-0002d170: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
-0002d180: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
-0002d190: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
-0002d1a0: 2061 7379 6e63 2064 6566 2067 6574 5f62   async def get_b
-0002d1b0: 7261 6368 5f68 6561 6c74 6828 0a20 2020  rach_health(.   
-0002d1c0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0002d1d0: 2020 206e 616d 653a 2073 7472 203d 204e     name: str = N
-0002d1e0: 6f6e 652c 0a20 2020 2020 2020 2063 6f6c  one,.        col
-0002d1f0: 756d 6e3a 2069 6e74 203d 204e 6f6e 652c  umn: int = None,
-0002d200: 0a20 2020 2020 2020 2072 6576 6572 7365  .        reverse
-0002d210: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
-0002d220: 2020 2020 2020 2020 6669 6c74 6572 733a          filters:
-0002d230: 2064 6963 7420 3d20 7b7d 2c0a 2020 2020   dict = {},.    
-0002d240: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
-0002d250: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
-0002d260: 6974 3a20 696e 7420 3d20 3130 302c 0a20  it: int = 100,. 
-0002d270: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-0002d280: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
-0002d290: 2064 6174 6120 666f 7220 616c 6c20 7369   data for all si
-0002d2a0: 7465 732e 0a0a 2020 2020 2020 2020 4172  tes...        Ar
-0002d2b0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-0002d2c0: 6e61 6d65 2028 7374 722c 206f 7074 696f  name (str, optio
-0002d2d0: 6e61 6c29 3a20 7369 7465 202f 206c 6162  nal): site / lab
-0002d2e0: 656c 206e 616d 6520 6f72 2070 6172 7420  el name or part 
-0002d2f0: 6f66 2069 7473 206e 616d 650a 2020 2020  of its name.    
-0002d300: 2020 2020 2020 2020 636f 6c75 6d6e 2028          column (
-0002d310: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-0002d320: 436f 6c75 6d6e 2074 6f20 736f 7274 206f  Column to sort o
-0002d330: 6e0a 2020 2020 2020 2020 2020 2020 7265  n.            re
-0002d340: 7665 7273 6520 2862 6f6f 6c2c 206f 7074  verse (bool, opt
-0002d350: 696f 6e61 6c29 3a20 536f 7274 2069 6e20  ional): Sort in 
-0002d360: 7265 7665 7273 6520 6f72 6465 723a 0a20  reverse order:. 
-0002d370: 2020 2020 2020 2020 2020 2020 2020 202a                 *
-0002d380: 2061 7363 202d 2041 7363 656e 6469 6e67   asc - Ascending
-0002d390: 2c20 6672 6f6d 2041 2074 6f20 5a2e 0a20  , from A to Z.. 
-0002d3a0: 2020 2020 2020 2020 2020 2020 2020 202a                 *
-0002d3b0: 2064 6573 6320 2d20 4465 7363 656e 6469   desc - Descendi
-0002d3c0: 6e67 2c20 6672 6f6d 205a 2074 6f20 412e  ng, from Z to A.
-0002d3d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002d3e0: 2056 616c 6964 2056 616c 7565 733a 2061   Valid Values: a
-0002d3f0: 7363 2c20 6465 7363 0a20 2020 2020 2020  sc, desc.       
-0002d400: 2020 2020 2066 696c 7465 7273 2028 7374       filters (st
-0002d410: 722c 206f 7074 696f 6e61 6c29 3a20 5369  r, optional): Si
-0002d420: 7465 2074 6872 6573 686f 6c64 730a 2020  te thresholds.  
-0002d430: 2020 2020 2020 2020 2020 2020 2020 2a20                * 
-0002d440: 416c 6c20 7072 6f70 6572 7469 6573 206f  All properties o
-0002d450: 6620 6120 7369 7465 2063 616e 2062 6520  f a site can be 
-0002d460: 7573 6564 2061 7320 6669 6c74 6572 2070  used as filter p
-0002d470: 6172 616d 6574 6572 7320 7769 7468 2061  arameters with a
-0002d480: 2074 6872 6573 686f 6c64 0a20 2020 2020   threshold.     
-0002d490: 2020 2020 2020 2020 2020 202a 2054 6865             * The
-0002d4a0: 2072 616e 6765 2066 696c 7465 7273 2063   range filters c
-0002d4b0: 616e 2062 6520 636f 6d62 696e 6564 2077  an be combined w
-0002d4c0: 6974 6820 7468 6520 636f 6c75 6d6e 206e  ith the column n
-0002d4d0: 616d 6573 2077 6974 6820 225c 5f5f 2220  ames with "\__" 
-0002d4e0: 2023 206e 6f71 610a 2020 2020 2020 2020   # noqa.        
-0002d4f0: 2020 2020 2020 2020 2a20 466f 7220 6567          * For eg
-0002d500: 2e20 2f73 6974 653f 6465 7669 6365 5f64  . /site?device_d
-0002d510: 6f77 6e5c 5f5f 6774 3d30 202d 204c 6973  own\__gt=0 - Lis
-0002d520: 7473 2061 6c6c 2073 6974 6573 2074 6861  ts all sites tha
-0002d530: 7420 6861 7665 206d 6f72 6520 7468 616e  t have more than
-0002d540: 2031 2064 6576 6963 6520 696e 2020 2320   1 device in  # 
-0002d550: 6e6f 7161 0a20 2020 2020 2020 2020 2020  noqa.           
-0002d560: 2020 2020 2064 6f77 6e20 7374 6174 650a       down state.
-0002d570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d580: 2a20 466f 7220 6567 2e20 2f73 6974 653f  * For eg. /site?
-0002d590: 7761 6e5f 7570 6c69 6e6b 735f 646f 776e  wan_uplinks_down
-0002d5a0: 5c5f 5f6c 743d 3120 2d20 4c69 7374 7320  \__lt=1 - Lists 
-0002d5b0: 616c 6c20 7369 7465 7320 7468 6174 2068  all sites that h
-0002d5c0: 6176 6520 6c65 7373 2074 6861 6e20 3120  ave less than 1 
-0002d5d0: 7761 6e20 2023 206e 6f71 610a 2020 2020  wan  # noqa.    
-0002d5e0: 2020 2020 2020 2020 2020 2020 696e 2064              in d
-0002d5f0: 6f77 6e20 7374 6174 650a 2020 2020 2020  own state.      
-0002d600: 2020 2020 2020 2020 2020 2a20 466f 7220            * For 
-0002d610: 6567 2e20 2f73 6974 653f 6465 7669 6365  eg. /site?device
-0002d620: 5f75 705f 5f67 743d 3126 6465 7669 6365  _up__gt=1&device
-0002d630: 5f75 705c 5f5f 6c74 3d31 3020 2d20 4c69  _up\__lt=10 - Li
-0002d640: 7374 7320 616c 6c20 7369 7465 7320 7468  sts all sites th
-0002d650: 6174 2068 6176 6520 312d 3130 2020 2320  at have 1-10  # 
-0002d660: 6e6f 7161 0a20 2020 2020 2020 2020 2020  noqa.           
-0002d670: 2020 2020 2064 6576 6963 6573 2069 6e20       devices in 
-0002d680: 7570 2073 7461 7465 0a20 2020 2020 2020  up state.       
-0002d690: 2020 2020 2020 2020 2056 616c 6964 2056           Valid V
-0002d6a0: 616c 7565 733a 2067 7420 2028 4772 6561  alues: gt  (Grea
-0002d6b0: 7465 7220 7468 616e 292c 206c 7420 2028  ter than), lt  (
-0002d6c0: 4c65 7373 2074 6861 6e29 2c20 6774 6520  Less than), gte 
-0002d6d0: 2847 7265 6174 6572 2074 6861 6e20 6f72  (Greater than or
-0002d6e0: 2065 7175 616c 2074 6f29 2c0a 2020 2020   equal to),.    
-0002d6f0: 2020 2020 2020 2020 2020 2020 6c74 6520              lte 
-0002d700: 284c 6573 7320 7468 616e 206f 7220 6571  (Less than or eq
-0002d710: 7561 6c20 746f 290a 2020 2020 2020 2020  ual to).        
-0002d720: 2020 2020 6f66 6673 6574 2028 696e 742c      offset (int,
-0002d730: 206f 7074 696f 6e61 6c29 3a20 7061 6769   optional): pagi
-0002d740: 6e61 7469 6f6e 2073 7461 7274 2069 6e64  nation start ind
-0002d750: 6578 2044 6566 6175 6c74 7320 746f 2030  ex Defaults to 0
-0002d760: 2e0a 2020 2020 2020 2020 2020 2020 6c69  ..            li
-0002d770: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
-0002d780: 616c 293a 2070 6167 696e 6174 696f 6e20  al): pagination 
-0002d790: 7369 7a65 2044 6566 6175 6c74 7320 746f  size Defaults to
-0002d7a0: 2031 3030 2e0a 0a20 2020 2020 2020 2052   100...        R
-0002d7b0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-0002d7c0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-0002d7d0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-0002d7e0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-0002d7f0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-0002d800: 203d 2022 2f62 7261 6e63 6868 6561 6c74   = "/branchhealt
-0002d810: 682f 7631 2f73 6974 6522 0a0a 2020 2020  h/v1/site"..    
-0002d820: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
-0002d830: 2020 2020 2020 2020 2020 2022 6e61 6d65             "name
-0002d840: 223a 206e 616d 652c 0a20 2020 2020 2020  ": name,.       
-0002d850: 2020 2020 2023 2022 636f 6c75 6d6e 223a       # "column":
-0002d860: 2063 6f6c 756d 6e2c 0a20 2020 2020 2020   column,.       
-0002d870: 2020 2020 2022 6f72 6465 7222 3a20 2261       "order": "a
-0002d880: 7363 2220 6966 206e 6f74 2072 6576 6572  sc" if not rever
-0002d890: 7365 2065 6c73 6520 2264 6573 6322 2c0a  se else "desc",.
-0002d8a0: 2020 2020 2020 2020 2020 2020 2320 2277              # "w
-0002d8b0: 616e 5f74 756e 6e65 6c73 5f64 6f77 6e5c  an_tunnels_down\
-0002d8c0: 5f5f 6774 223a 2022 3022 2c0a 2020 2020  __gt": "0",.    
-0002d8d0: 2020 2020 2020 2020 2320 2277 616e 5f75          # "wan_u
-0002d8e0: 706c 696e 6b73 5f64 6f77 6e5c 5f5f 6774  plinks_down\__gt
-0002d8f0: 223a 2022 3022 2c0a 2020 2020 2020 2020  ": "0",.        
-0002d900: 2020 2020 2320 2a2a 6669 6c74 6572 732c      # **filters,
-0002d910: 0a20 2020 2020 2020 2020 2020 2022 6f66  .            "of
-0002d920: 6673 6574 223a 206f 6666 7365 742c 0a20  fset": offset,. 
-0002d930: 2020 2020 2020 2020 2020 2022 6c69 6d69             "limi
-0002d940: 7422 3a20 6c69 6d69 742c 0a20 2020 2020  t": limit,.     
-0002d950: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-0002d960: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0002d970: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-0002d980: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
-0002d990: 6e63 2064 6566 2067 6574 5f61 7263 6869  nc def get_archi
-0002d9a0: 7665 645f 6465 7669 6365 7328 0a20 2020  ved_devices(.   
-0002d9b0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0002d9c0: 2020 206f 6666 7365 743a 2069 6e74 203d     offset: int =
-0002d9d0: 2030 2c0a 2020 2020 2020 2020 6c69 6d69   0,.        limi
-0002d9e0: 743a 2069 6e74 203d 2031 3030 2c0a 2020  t: int = 100,.  
-0002d9f0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-0002da00: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
-0002da10: 4172 6368 6976 6564 2064 6576 6963 6573  Archived devices
-0002da20: 2066 726f 6d20 6465 7669 6365 2069 6e76   from device inv
-0002da30: 656e 746f 7279 2e0a 0a20 2020 2020 2020  entory...       
-0002da40: 202f 2f20 5573 6564 2062 7920 7368 6f77   // Used by show
-0002da50: 2061 7263 6869 7665 6420 2f2f 0a0a 2020   archived //..  
-0002da60: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0002da70: 2020 2020 2020 2020 6f66 6673 6574 2028          offset (
-0002da80: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-0002da90: 6f66 6673 6574 206f 7220 7061 6765 206e  offset or page n
-0002daa0: 756d 6265 7220 4465 6661 756c 7473 2074  umber Defaults t
-0002dab0: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
-0002dac0: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
-0002dad0: 696f 6e61 6c29 3a20 4e75 6d62 6572 206f  ional): Number o
-0002dae0: 6620 6465 7669 6365 7320 746f 2067 6574  f devices to get
-0002daf0: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
-0002db00: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-0002db10: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0002db20: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-0002db30: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-0002db40: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-0002db50: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-0002db60: 2f70 6c61 7466 6f72 6d2f 6465 7669 6365  /platform/device
-0002db70: 5f69 6e76 656e 746f 7279 2f76 312f 6465  _inventory/v1/de
-0002db80: 7669 6365 732f 6172 6368 6976 6522 0a0a  vices/archive"..
-0002db90: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
-0002dba0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-0002dbb0: 6f66 6673 6574 273a 206f 6666 7365 742c  offset': offset,
-0002dbc0: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
-0002dbd0: 6d69 7427 3a20 6c69 6d69 740a 2020 2020  mit': limit.    
-0002dbe0: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-0002dbf0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-0002dc00: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
-0002dc10: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
-0002dc20: 796e 6320 6465 6620 6172 6368 6976 655f  ync def archive_
-0002dc30: 6465 7669 6365 7328 0a20 2020 2020 2020  devices(.       
-0002dc40: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
-0002dc50: 6572 6961 6c73 3a20 4c69 7374 5b73 7472  erials: List[str
-0002dc60: 5d2c 0a20 2020 2029 202d 3e20 5265 7370  ],.    ) -> Resp
-0002dc70: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-0002dc80: 2241 7263 6869 7665 2064 6576 6963 6573  "Archive devices
-0002dc90: 2075 7369 6e67 2053 6572 6961 6c20 6c69   using Serial li
-0002dca0: 7374 2e0a 0a20 2020 2020 2020 202f 2f20  st...        // 
-0002dcb0: 5573 6564 2062 7920 6172 6368 6976 6520  Used by archive 
-0002dcc0: 6465 7620 2e2e 2e20 2f2f 0a0a 2020 2020  dev ... //..    
-0002dcd0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-0002dce0: 2020 2020 2020 7365 7269 616c 7320 284c        serials (L
-0002dcf0: 6973 745b 7374 725d 293a 2073 6572 6961  ist[str]): seria
-0002dd00: 6c73 0a0a 2020 2020 2020 2020 5265 7475  ls..        Retu
-0002dd10: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-0002dd20: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-0002dd30: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-0002dd40: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-0002dd50: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-0002dd60: 222f 706c 6174 666f 726d 2f64 6576 6963  "/platform/devic
-0002dd70: 655f 696e 7665 6e74 6f72 792f 7631 2f64  e_inventory/v1/d
-0002dd80: 6576 6963 6573 2f61 7263 6869 7665 220a  evices/archive".
-0002dd90: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
-0002dda0: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
-0002ddb0: 2020 2027 7365 7269 616c 7327 3a20 7574     'serials': ut
-0002ddc0: 696c 732e 6c69 7374 6966 7928 7365 7269  ils.listify(seri
-0002ddd0: 616c 7329 0a20 2020 2020 2020 207d 0a0a  als).        }..
-0002dde0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0002ddf0: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
-0002de00: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
-0002de10: 6f6e 5f64 6174 6129 0a0a 2020 2020 2320  on_data)..    # 
-0002de20: 4150 492d 4e4f 5445 2063 656e 636c 6920  API-NOTE cencli 
-0002de30: 7265 6d6f 7665 2061 7263 6869 7665 205b  remove archive [
-0002de40: 6465 7669 6365 735d 0a20 2020 2061 7379  devices].    asy
-0002de50: 6e63 2064 6566 2075 6e61 7263 6869 7665  nc def unarchive
-0002de60: 5f64 6576 6963 6573 280a 2020 2020 2020  _devices(.      
-0002de70: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-0002de80: 7365 7269 616c 733a 204c 6973 745b 7374  serials: List[st
-0002de90: 725d 2c0a 2020 2020 2920 2d3e 2052 6573  r],.    ) -> Res
-0002dea0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-0002deb0: 2222 556e 6172 6368 6976 6520 6465 7669  ""Unarchive devi
-0002dec0: 6365 7320 7573 696e 6720 5365 7269 616c  ces using Serial
-0002ded0: 206c 6973 742e 0a0a 2020 2020 2020 2020   list...        
-0002dee0: 2f2f 2055 7365 6420 6279 2075 6e61 7263  // Used by unarc
-0002def0: 6869 7665 2064 6576 202e 2e2e 202f 2f0a  hive dev ... //.
-0002df00: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0002df10: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-0002df20: 6c73 2028 4c69 7374 5b73 7472 5d29 3a20  ls (List[str]): 
-0002df30: 7365 7269 616c 730a 0a20 2020 2020 2020  serials..       
-0002df40: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0002df50: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0002df60: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0002df70: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0002df80: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-0002df90: 726c 203d 2022 2f70 6c61 7466 6f72 6d2f  rl = "/platform/
-0002dfa0: 6465 7669 6365 5f69 6e76 656e 746f 7279  device_inventory
-0002dfb0: 2f76 312f 6465 7669 6365 732f 756e 6172  /v1/devices/unar
-0002dfc0: 6368 6976 6522 0a0a 2020 2020 2020 2020  chive"..        
-0002dfd0: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
-0002dfe0: 2020 2020 2020 2020 2020 2773 6572 6961            'seria
-0002dff0: 6c73 273a 2075 7469 6c73 2e6c 6973 7469  ls': utils.listi
-0002e000: 6679 2873 6572 6961 6c73 290a 2020 2020  fy(serials).    
-0002e010: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-0002e020: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-0002e030: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
-0002e040: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
-0002e050: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-0002e060: 6574 5f70 6f72 7461 6c73 280a 2020 2020  et_portals(.    
-0002e070: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-0002e080: 2020 736f 7274 3a20 7374 7220 3d20 272b    sort: str = '+
-0002e090: 6e61 6d65 272c 0a20 2020 2020 2020 206f  name',.        o
-0002e0a0: 6666 7365 743a 2069 6e74 203d 2030 2c0a  ffset: int = 0,.
-0002e0b0: 2020 2020 2020 2020 6c69 6d69 743a 2069          limit: i
-0002e0c0: 6e74 203d 2031 3030 2c0a 2020 2020 2920  nt = 100,.    ) 
-0002e0d0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-0002e0e0: 2020 2020 2022 2222 4765 7420 616c 6c20       """Get all 
-0002e0f0: 706f 7274 616c 7320 7769 7468 206c 696d  portals with lim
-0002e100: 6974 6564 2064 6174 612e 0a0a 2020 2020  ited data...    
-0002e110: 2020 2020 2f2f 2055 7365 6420 6279 2073      // Used by s
-0002e120: 686f 7720 706f 7274 616c 7320 2e2e 2e20  how portals ... 
-0002e130: 2f2f 0a0a 2020 2020 2020 2020 4172 6773  //..        Args
-0002e140: 3a0a 2020 2020 2020 2020 2020 2020 736f  :.            so
-0002e150: 7274 2028 7374 722c 206f 7074 696f 6e61  rt (str, optiona
-0002e160: 6c29 3a20 2b20 6973 2066 6f72 2061 7363  l): + is for asc
-0002e170: 656e 6469 6e67 2020 616e 6420 2d20 666f  ending  and - fo
-0002e180: 7220 6465 7363 656e 6469 6e67 206f 7264  r descending ord
-0002e190: 6572 202c 2073 6f72 7473 2062 7920 6e61  er , sorts by na
-0002e1a0: 6d65 2066 6f72 206e 6f77 0a20 2020 2020  me for now.     
-0002e1b0: 2020 2020 2020 2020 2020 2056 616c 6964             Valid
-0002e1c0: 2056 616c 7565 733a 202b 6e61 6d65 2c20   Values: +name, 
-0002e1d0: 2d6e 616d 650a 2020 2020 2020 2020 2020  -name.          
-0002e1e0: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
-0002e1f0: 7074 696f 6e61 6c29 3a20 5374 6172 7469  ptional): Starti
-0002e200: 6e67 2069 6e64 6578 206f 6620 656c 656d  ng index of elem
-0002e210: 656e 7420 666f 7220 6120 7061 6769 6e61  ent for a pagina
-0002e220: 7465 6420 7175 6572 7920 4465 6661 756c  ted query Defaul
-0002e230: 7473 2074 6f20 302e 0a20 2020 2020 2020  ts to 0..       
-0002e240: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
-0002e250: 206f 7074 696f 6e61 6c29 3a20 4e75 6d62   optional): Numb
-0002e260: 6572 206f 6620 6974 656d 7320 7265 7175  er of items requ
-0002e270: 6972 6564 2070 6572 2071 7565 7279 2044  ired per query D
-0002e280: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
-0002e290: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0002e2a0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-0002e2b0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-0002e2c0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-0002e2d0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-0002e2e0: 2020 2020 2020 2075 726c 203d 2022 2f67         url = "/g
-0002e2f0: 7565 7374 2f76 312f 706f 7274 616c 7322  uest/v1/portals"
-0002e300: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
-0002e310: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-0002e320: 2027 736f 7274 273a 2073 6f72 742c 0a20   'sort': sort,. 
-0002e330: 2020 2020 2020 2020 2020 2027 6f66 6673             'offs
-0002e340: 6574 273a 206f 6666 7365 742c 0a20 2020  et': offset,.   
-0002e350: 2020 2020 2020 2020 2027 6c69 6d69 7427           'limit'
-0002e360: 3a20 6c69 6d69 740a 2020 2020 2020 2020  : limit.        
-0002e370: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-0002e380: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-0002e390: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-0002e3a0: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
-0002e3b0: 6465 6620 6765 745f 7669 7369 746f 7273  def get_visitors
-0002e3c0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-0002e3d0: 2020 2020 2020 2020 706f 7274 616c 5f69          portal_i
-0002e3e0: 643a 2073 7472 2c0a 2020 2020 2020 2020  d: str,.        
-0002e3f0: 736f 7274 3a20 7374 7220 3d20 272b 6e61  sort: str = '+na
-0002e400: 6d65 272c 0a20 2020 2020 2020 2066 696c  me',.        fil
-0002e410: 7465 725f 6279 3a20 7374 7220 3d20 4e6f  ter_by: str = No
-0002e420: 6e65 2c0a 2020 2020 2020 2020 6669 6c74  ne,.        filt
-0002e430: 6572 5f76 616c 7565 3a20 7374 7220 3d20  er_value: str = 
-0002e440: 4e6f 6e65 2c0a 2020 2020 2020 2020 6f66  None,.        of
-0002e450: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
-0002e460: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
-0002e470: 7420 3d20 3130 302c 0a20 2020 2029 202d  t = 100,.    ) -
-0002e480: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-0002e490: 2020 2020 2222 2247 6574 2061 6c6c 2076      """Get all v
-0002e4a0: 6973 6974 6f72 7320 6372 6561 7465 6420  isitors created 
-0002e4b0: 6167 6169 6e73 7420 6120 706f 7274 616c  against a portal
-0002e4c0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-0002e4d0: 0a20 2020 2020 2020 2020 2020 2070 6f72  .            por
-0002e4e0: 7461 6c5f 6964 2028 7374 7229 3a20 506f  tal_id (str): Po
-0002e4f0: 7274 616c 2049 4420 6f66 2074 6865 2073  rtal ID of the s
-0002e500: 706c 6173 6820 7061 6765 0a20 2020 2020  plash page.     
-0002e510: 2020 2020 2020 2073 6f72 7420 2873 7472         sort (str
-0002e520: 2c20 6f70 7469 6f6e 616c 293a 202b 2069  , optional): + i
-0002e530: 7320 666f 7220 6173 6365 6e64 696e 6720  s for ascending 
-0002e540: 2061 6e64 202d 2066 6f72 2064 6573 6365   and - for desce
-0002e550: 6e64 696e 6720 6f72 6465 7220 2c20 736f  nding order , so
-0002e560: 7274 7320 6279 206e 616d 6520 666f 720a  rts by name for.
-0002e570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002e580: 6e6f 7720 2056 616c 6964 2056 616c 7565  now  Valid Value
-0002e590: 733a 202b 6e61 6d65 2c20 2d6e 616d 650a  s: +name, -name.
-0002e5a0: 2020 2020 2020 2020 2020 2020 6669 6c74              filt
-0002e5b0: 6572 5f62 7920 2873 7472 2c20 6f70 7469  er_by (str, opti
-0002e5c0: 6f6e 616c 293a 2066 696c 7465 7220 6279  onal): filter by
-0002e5d0: 2065 6d61 696c 206f 7220 6e61 6d65 2020   email or name  
-0002e5e0: 5661 6c69 6420 5661 6c75 6573 3a20 6e61  Valid Values: na
-0002e5f0: 6d65 2c20 656d 6169 6c0a 2020 2020 2020  me, email.      
-0002e600: 2020 2020 2020 6669 6c74 6572 5f76 616c        filter_val
-0002e610: 7565 2028 7374 722c 206f 7074 696f 6e61  ue (str, optiona
-0002e620: 6c29 3a20 6669 6c74 6572 2076 616c 7565  l): filter value
-0002e630: 0a20 2020 2020 2020 2020 2020 206f 6666  .            off
-0002e640: 7365 7420 2869 6e74 2c20 6f70 7469 6f6e  set (int, option
-0002e650: 616c 293a 2053 7461 7274 696e 6720 696e  al): Starting in
-0002e660: 6465 7820 6f66 2065 6c65 6d65 6e74 2066  dex of element f
-0002e670: 6f72 2061 2070 6167 696e 6174 6564 2071  or a paginated q
-0002e680: 7565 7279 2044 6566 6175 6c74 7320 746f  uery Defaults to
-0002e690: 2030 2e0a 2020 2020 2020 2020 2020 2020   0..            
-0002e6a0: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
-0002e6b0: 6f6e 616c 293a 204e 756d 6265 7220 6f66  onal): Number of
-0002e6c0: 2069 7465 6d73 2072 6571 7569 7265 6420   items required 
-0002e6d0: 7065 7220 7175 6572 7920 4465 6661 756c  per query Defaul
-0002e6e0: 7473 2074 6f20 3130 302e 0a0a 2020 2020  ts to 100...    
-0002e6f0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-0002e700: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-0002e710: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-0002e720: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-0002e730: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0002e740: 2020 7572 6c20 3d20 6622 2f67 7565 7374    url = f"/guest
-0002e750: 2f76 312f 706f 7274 616c 732f 7b70 6f72  /v1/portals/{por
-0002e760: 7461 6c5f 6964 7d2f 7669 7369 746f 7273  tal_id}/visitors
-0002e770: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
-0002e780: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-0002e790: 2020 2773 6f72 7427 3a20 736f 7274 2c0a    'sort': sort,.
-0002e7a0: 2020 2020 2020 2020 2020 2020 2766 696c              'fil
-0002e7b0: 7465 725f 6279 273a 2066 696c 7465 725f  ter_by': filter_
-0002e7c0: 6279 2c0a 2020 2020 2020 2020 2020 2020  by,.            
-0002e7d0: 2766 696c 7465 725f 7661 6c75 6527 3a20  'filter_value': 
-0002e7e0: 6669 6c74 6572 5f76 616c 7565 2c0a 2020  filter_value,.  
-0002e7f0: 2020 2020 2020 2020 2020 276f 6666 7365            'offse
-0002e800: 7427 3a20 6f66 6673 6574 2c0a 2020 2020  t': offset,.    
-0002e810: 2020 2020 2020 2020 276c 696d 6974 273a          'limit':
-0002e820: 206c 696d 6974 0a20 2020 2020 2020 207d   limit.        }
-0002e830: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-0002e840: 3d20 7574 696c 732e 7374 7269 705f 6e6f  = utils.strip_no
-0002e850: 6e65 2870 6172 616d 7329 0a0a 2020 2020  ne(params)..    
-0002e860: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0002e870: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-0002e880: 6172 616d 733d 7061 7261 6d73 290a 0a0a  arams=params)...
-0002e890: 2020 2020 6173 796e 6320 6465 6620 6164      async def ad
-0002e8a0: 645f 7669 7369 746f 7228 0a20 2020 2020  d_visitor(.     
-0002e8b0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0002e8c0: 2070 6f72 7461 6c5f 6964 3a20 7374 722c   portal_id: str,
-0002e8d0: 0a20 2020 2020 2020 206e 616d 653a 2073  .        name: s
-0002e8e0: 7472 2c0a 2020 2020 2020 2020 2320 6964  tr,.        # id
-0002e8f0: 3a20 7374 722c 0a20 2020 2020 2020 2070  : str,.        p
-0002e900: 6173 7377 6f72 643a 2073 7472 203d 204e  assword: str = N
-0002e910: 6f6e 652c 0a20 2020 2020 2020 202a 2c0a  one,.        *,.
-0002e920: 2020 2020 2020 2020 636f 6d70 616e 795f          company_
-0002e930: 6e61 6d65 3a20 7374 7220 3d20 4e6f 6e65  name: str = None
-0002e940: 2c0a 2020 2020 2020 2020 7068 6f6e 653a  ,.        phone:
-0002e950: 2073 7472 207c 204e 6f6e 6520 3d20 4e6f   str | None = No
-0002e960: 6e65 2c0a 2020 2020 2020 2020 656d 6169  ne,.        emai
-0002e970: 6c3a 2073 7472 207c 204e 6f6e 6520 3d20  l: str | None = 
-0002e980: 4e6f 6e65 2c0a 2020 2020 2020 2020 7661  None,.        va
-0002e990: 6c69 645f 666f 7265 7665 723a 2062 6f6f  lid_forever: boo
-0002e9a0: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
-0002e9b0: 2020 2076 616c 6964 5f64 6179 733a 2069     valid_days: i
-0002e9c0: 6e74 203d 2033 2c0a 2020 2020 2020 2020  nt = 3,.        
-0002e9d0: 7661 6c69 645f 686f 7572 733a 2069 6e74  valid_hours: int
-0002e9e0: 203d 2030 2c0a 2020 2020 2020 2020 7661   = 0,.        va
-0002e9f0: 6c69 645f 6d69 6e75 7465 733a 2069 6e74  lid_minutes: int
-0002ea00: 203d 2030 2c0a 2020 2020 2020 2020 6e6f   = 0,.        no
-0002ea10: 7469 6679 3a20 626f 6f6c 207c 204e 6f6e  tify: bool | Non
-0002ea20: 6520 3d20 4e6f 6e65 2c0a 2020 2020 2020  e = None,.      
-0002ea30: 2020 6e6f 7469 6679 5f74 6f3a 2063 6f6e    notify_to: con
-0002ea40: 7374 616e 7473 2e4e 6f74 6966 7954 6f41  stants.NotifyToA
-0002ea50: 7267 7320 7c20 4e6f 6e65 203d 204e 6f6e  rgs | None = Non
-0002ea60: 652c 0a20 2020 2020 2020 2069 735f 656e  e,.        is_en
-0002ea70: 6162 6c65 643a 2062 6f6f 6c20 3d20 5472  abled: bool = Tr
-0002ea80: 7565 2c0a 2020 2020 2020 2020 2320 7374  ue,.        # st
-0002ea90: 6174 7573 3a20 626f 6f6c 2c0a 2020 2020  atus: bool,.    
-0002eaa0: 2020 2020 2320 6372 6561 7465 645f 6174      # created_at
-0002eab0: 3a20 7374 722c 0a20 2020 2020 2020 2023  : str,.        #
-0002eac0: 2065 7870 6972 655f 6174 3a20 7374 722c   expire_at: str,
-0002ead0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-0002eae0: 7365 3a0a 2020 2020 2020 2020 2222 2243  se:.        """C
-0002eaf0: 7265 6174 6520 6120 6e65 7720 6775 6573  reate a new gues
-0002eb00: 7420 7669 7369 746f 7220 6f66 2061 2070  t visitor of a p
-0002eb10: 6f72 7461 6c2e 0a0a 2020 2020 2020 2020  ortal...        
-0002eb20: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-0002eb30: 2020 706f 7274 616c 5f69 6420 2873 7472    portal_id (str
-0002eb40: 293a 2050 6f72 7461 6c20 4944 206f 6620  ): Portal ID of 
-0002eb50: 7468 6520 7370 6c61 7368 2070 6167 650a  the splash page.
-0002eb60: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-0002eb70: 2028 7374 7229 3a20 5669 7369 746f 7220   (str): Visitor 
-0002eb80: 6163 636f 756e 7420 6e61 6d65 0a20 2020  account name.   
-0002eb90: 2020 2020 2020 2020 2070 6173 7377 6f72           passwor
-0002eba0: 6420 2873 7472 293a 2050 6173 7377 6f72  d (str): Passwor
-0002ebb0: 640a 2020 2020 2020 2020 2020 2020 636f  d.            co
-0002ebc0: 6d70 616e 795f 6e61 6d65 2028 7374 7229  mpany_name (str)
-0002ebd0: 3a20 436f 6d70 616e 7920 6e61 6d65 206f  : Company name o
-0002ebe0: 6620 7468 6520 7669 7369 746f 720a 2020  f the visitor.  
-0002ebf0: 2020 2020 2020 2020 2020 7068 6f6e 6520            phone 
-0002ec00: 2873 7472 293a 2050 686f 6e65 206e 756d  (str): Phone num
-0002ec10: 6265 7220 6f66 2074 6865 2076 6973 6974  ber of the visit
-0002ec20: 6f72 3b20 466f 726d 6174 205b 2b43 6f75  or; Format [+Cou
-0002ec30: 6e74 7279 436f 6465 5d5b 5068 6f6e 654e  ntryCode][PhoneN
-0002ec40: 756d 6265 725d 0a20 2020 2020 2020 2020  umber].         
-0002ec50: 2020 2065 6d61 696c 2028 7374 7229 3a20     email (str): 
-0002ec60: 456d 6169 6c20 6164 6472 6573 7320 6f66  Email address of
-0002ec70: 2074 6865 2076 6973 6974 6f72 0a20 2020   the visitor.   
-0002ec80: 2020 2020 2020 2020 2076 616c 6964 5f66           valid_f
-0002ec90: 6f72 6576 6572 2028 626f 6f6c 293a 2056  orever (bool): V
-0002eca0: 6973 6974 6f72 2061 6363 6f75 6e74 2077  isitor account w
-0002ecb0: 696c 6c20 6e6f 7420 6578 7069 7265 2077  ill not expire w
-0002ecc0: 6865 6e20 7468 6973 2069 7320 7365 7420  hen this is set 
-0002ecd0: 746f 2074 7275 650a 2020 2020 2020 2020  to true.        
-0002ece0: 2020 2020 7661 6c69 645f 6461 7973 2028      valid_days (
-0002ecf0: 696e 7429 3a20 4163 636f 756e 7420 7661  int): Account va
-0002ed00: 6c69 6469 7479 2069 6e20 6461 7973 0a20  lidity in days. 
-0002ed10: 2020 2020 2020 2020 2020 2076 616c 6964             valid
-0002ed20: 5f68 6f75 7273 2028 696e 7429 3a20 4163  _hours (int): Ac
-0002ed30: 636f 756e 7420 7661 6c69 6469 7479 2069  count validity i
-0002ed40: 6e20 686f 7572 730a 2020 2020 2020 2020  n hours.        
-0002ed50: 2020 2020 7661 6c69 645f 6d69 6e75 7465      valid_minute
-0002ed60: 7320 2869 6e74 293a 2041 6363 6f75 6e74  s (int): Account
-0002ed70: 2076 616c 6964 6974 7920 696e 206d 696e   validity in min
-0002ed80: 7574 6573 0a20 2020 2020 2020 2020 2020  utes.           
-0002ed90: 206e 6f74 6966 7920 2862 6f6f 6c29 3a20   notify (bool): 
-0002eda0: 466c 6167 2074 6f20 6e6f 7469 6679 2074  Flag to notify t
-0002edb0: 6865 2070 6173 7377 6f72 6420 7669 6120  he password via 
-0002edc0: 656d 6169 6c20 6f72 206e 756d 6265 720a  email or number.
-0002edd0: 2020 2020 2020 2020 2020 2020 6e6f 7469              noti
-0002ede0: 6679 5f74 6f20 2873 7472 293a 204e 6f74  fy_to (str): Not
-0002edf0: 6966 7920 746f 2065 6d61 696c 206f 7220  ify to email or 
-0002ee00: 7068 6f6e 652e 2044 6566 7561 6c74 2069  phone. Defualt i
-0002ee10: 7320 7068 6f6e 6520 7768 656e 2069 7420  s phone when it 
-0002ee20: 6973 2070 726f 7669 6465 640a 2020 2020  is provided.    
-0002ee30: 2020 2020 2020 2020 2020 2020 6f74 6865              othe
-0002ee40: 7277 6973 6520 656d 6169 6c2e 2020 5661  rwise email.  Va
-0002ee50: 6c69 6420 5661 6c75 6573 3a20 656d 6169  lid Values: emai
-0002ee60: 6c2c 2070 686f 6e65 0a20 2020 2020 2020  l, phone.       
-0002ee70: 2020 2020 2069 735f 656e 6162 6c65 6420       is_enabled 
-0002ee80: 2862 6f6f 6c29 3a20 456e 6162 6c65 206f  (bool): Enable o
-0002ee90: 7220 6469 7361 626c 6520 7468 6520 7669  r disable the vi
-0002eea0: 7369 746f 7220 6163 636f 756e 740a 2020  sitor account.  
-0002eeb0: 2020 2020 2020 2020 2020 2320 6964 2028            # id (
-0002eec0: 7374 7229 3a20 4e41 2066 6f72 2076 6973  str): NA for vis
-0002eed0: 6974 6f72 2070 6f73 742f 7075 7420 6d65  itor post/put me
-0002eee0: 7468 6f64 2e20 4944 206f 6620 7468 6520  thod. ID of the 
-0002eef0: 7669 7369 746f 720a 2020 2020 2020 2020  visitor.        
-0002ef00: 2020 2020 2320 7374 6174 7573 2028 626f      # status (bo
-0002ef10: 6f6c 293a 2054 6869 7320 6669 656c 6420  ol): This field 
-0002ef20: 7072 6f76 6964 6573 2073 7461 7475 7320  provides status 
-0002ef30: 6f66 2074 6865 2061 6363 6f75 6e74 2e20  of the account. 
-0002ef40: 5265 7475 726e 7320 7472 7565 2077 6865  Returns true whe
-0002ef50: 6e20 656e 6162 6c65 6420 616e 640a 2020  n enabled and.  
-0002ef60: 2020 2020 2020 2020 2020 2320 2020 2020            #     
-0002ef70: 6e6f 7420 6578 7069 7265 642e 204e 4120  not expired. NA 
-0002ef80: 666f 7220 7669 7369 746f 7220 706f 7374  for visitor post
-0002ef90: 2f70 7574 206d 6574 686f 642e 2054 6869  /put method. Thi
-0002efa0: 7320 6973 206f 7074 696f 6e61 6c20 6669  s is optional fi
-0002efb0: 656c 6473 2e0a 2020 2020 2020 2020 2020  elds..          
-0002efc0: 2020 2320 6372 6561 7465 645f 6174 2028    # created_at (
-0002efd0: 7374 7229 3a20 5468 6973 2066 6965 6c64  str): This field
-0002efe0: 2069 6e64 6963 6174 6573 2074 6865 2063   indicates the c
-0002eff0: 7265 6174 6564 2064 6174 6520 7469 6d65  reated date time
-0002f000: 7374 616d 7020 7661 6c75 652e 2049 7420  stamp value. It 
-0002f010: 6973 2067 656e 6572 6174 6564 0a20 2020  is generated.   
-0002f020: 2020 2020 2020 2020 2023 2020 2020 2077           #     w
-0002f030: 6869 6c65 2063 7265 6174 696e 6720 7669  hile creating vi
-0002f040: 7369 746f 722e 204e 4120 666f 7220 7669  sitor. NA for vi
-0002f050: 7369 746f 7220 706f 7374 2f70 7574 206d  sitor post/put m
-0002f060: 6574 686f 642e 2054 6869 7320 6973 206f  ethod. This is o
-0002f070: 7074 696f 6e61 6c20 6669 656c 642e 0a20  ptional field.. 
-0002f080: 2020 2020 2020 2020 2020 2023 2065 7870             # exp
-0002f090: 6972 655f 6174 2028 7374 7229 3a20 5468  ire_at (str): Th
-0002f0a0: 6973 2066 6965 6c64 2069 6e64 6963 6174  is field indicat
-0002f0b0: 6573 2065 7870 6972 7920 7469 6d65 2074  es expiry time t
-0002f0c0: 696d 6573 7461 6d70 2076 616c 7565 2e20  imestamp value. 
-0002f0d0: 4974 2069 7320 6765 6e65 7261 7465 6420  It is generated 
-0002f0e0: 6261 7365 640a 2020 2020 2020 2020 2020  based.          
-0002f0f0: 2020 2320 2020 2020 6f6e 2074 6865 2076    #     on the v
-0002f100: 616c 6964 5f74 696c 6c20 7661 6c75 6520  alid_till value 
-0002f110: 616e 6420 6372 6561 7465 645f 6174 2074  and created_at t
-0002f120: 696d 652e 204e 4120 666f 7220 7669 7369  ime. NA for visi
-0002f130: 746f 7220 706f 7374 2f70 7574 206d 6574  tor post/put met
-0002f140: 686f 642e 2054 6869 7320 6973 0a20 2020  hod. This is.   
-0002f150: 2020 2020 2020 2020 2023 2020 2020 206f           #     o
-0002f160: 7074 696f 6e61 6c20 6669 656c 640a 0a20  ptional field.. 
-0002f170: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-0002f180: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-0002f190: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-0002f1a0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-0002f1b0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0002f1c0: 2020 2020 2075 726c 203d 2066 222f 6775       url = f"/gu
-0002f1d0: 6573 742f 7631 2f70 6f72 7461 6c73 2f7b  est/v1/portals/{
-0002f1e0: 706f 7274 616c 5f69 647d 2f76 6973 6974  portal_id}/visit
-0002f1f0: 6f72 7322 0a0a 2020 2020 2020 2020 7573  ors"..        us
-0002f200: 6572 5f64 6174 6120 3d20 7b0a 2020 2020  er_data = {.    
-0002f210: 2020 2020 2020 2020 2770 686f 6e65 273a          'phone':
-0002f220: 2070 686f 6e65 2c0a 2020 2020 2020 2020   phone,.        
-0002f230: 2020 2020 2765 6d61 696c 273a 2065 6d61      'email': ema
-0002f240: 696c 0a20 2020 2020 2020 207d 0a20 2020  il.        }.   
-0002f250: 2020 2020 2023 2041 5049 2072 6571 7569       # API requi
-0002f260: 7265 7320 7068 6f6e 6520 616e 6420 656d  res phone and em
-0002f270: 6169 6c2c 2062 7574 2061 6c6c 6f77 7320  ail, but allows 
-0002f280: 4e6f 6e65 2f6e 756c 6c20 6173 2076 616c  None/null as val
-0002f290: 7565 2064 6570 656e 6469 6e67 206f 6e20  ue depending on 
-0002f2a0: 686f 7720 706f 7274 616c 2069 7320 636f  how portal is co
-0002f2b0: 6e66 6967 7572 6564 0a20 2020 2020 2020  nfigured.       
-0002f2c0: 2023 2075 7365 725f 6461 7461 203d 2075   # user_data = u
-0002f2d0: 7469 6c73 2e73 7472 6970 5f6e 6f6e 6528  tils.strip_none(
-0002f2e0: 7573 6572 5f64 6174 6129 0a0a 2020 2020  user_data)..    
-0002f2f0: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
-0002f300: 7b0a 2020 2020 2020 2020 2020 2020 276e  {.            'n
-0002f310: 616d 6527 3a20 6e61 6d65 2c0a 2020 2020  ame': name,.    
-0002f320: 2020 2020 2020 2020 2763 6f6d 7061 6e79          'company
-0002f330: 5f6e 616d 6527 3a20 636f 6d70 616e 795f  _name': company_
-0002f340: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
-0002f350: 2020 2769 735f 656e 6162 6c65 6427 3a20    'is_enabled': 
-0002f360: 6973 5f65 6e61 626c 6564 2c0a 2020 2020  is_enabled,.    
-0002f370: 2020 2020 2020 2020 2776 616c 6964 5f74          'valid_t
-0002f380: 696c 6c5f 6e6f 5f6c 696d 6974 273a 2076  ill_no_limit': v
-0002f390: 616c 6964 5f66 6f72 6576 6572 2c0a 2020  alid_forever,.  
-0002f3a0: 2020 2020 2020 2020 2020 2776 616c 6964            'valid
-0002f3b0: 5f74 696c 6c5f 6461 7973 273a 2076 616c  _till_days': val
-0002f3c0: 6964 5f64 6179 732c 0a20 2020 2020 2020  id_days,.       
-0002f3d0: 2020 2020 2027 7661 6c69 645f 7469 6c6c       'valid_till
-0002f3e0: 5f68 6f75 7273 273a 2076 616c 6964 5f68  _hours': valid_h
-0002f3f0: 6f75 7273 2c0a 2020 2020 2020 2020 2020  ours,.          
-0002f400: 2020 2776 616c 6964 5f74 696c 6c5f 6d69    'valid_till_mi
-0002f410: 6e75 7465 7327 3a20 7661 6c69 645f 6d69  nutes': valid_mi
-0002f420: 6e75 7465 732c 0a20 2020 2020 2020 2020  nutes,.         
-0002f430: 2020 2027 6e6f 7469 6679 273a 206e 6f74     'notify': not
-0002f440: 6966 792c 0a20 2020 2020 2020 2020 2020  ify,.           
-0002f450: 2027 6e6f 7469 6679 5f74 6f27 3a20 6e6f   'notify_to': no
-0002f460: 7469 6679 5f74 6f2c 0a20 2020 2020 2020  tify_to,.       
-0002f470: 2020 2020 2027 7061 7373 776f 7264 273a       'password':
-0002f480: 2070 6173 7377 6f72 640a 2020 2020 2020   password.      
-0002f490: 2020 7d0a 2020 2020 2020 2020 6a73 6f6e    }.        json
-0002f4a0: 5f64 6174 6120 3d20 7574 696c 732e 7374  _data = utils.st
-0002f4b0: 7269 705f 6e6f 6e65 286a 736f 6e5f 6461  rip_none(json_da
-0002f4c0: 7461 290a 2020 2020 2020 2020 6966 2075  ta).        if u
-0002f4d0: 7365 725f 6461 7461 3a0a 2020 2020 2020  ser_data:.      
-0002f4e0: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
-0002f4f0: 2275 7365 7222 5d20 3d20 7573 6572 5f64  "user"] = user_d
-0002f500: 6174 610a 0a20 2020 2020 2020 2072 6574  ata..        ret
-0002f510: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
-0002f520: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
-0002f530: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
-0002f540: 2020 2023 2054 4f44 4f20 7661 6c69 6461     # TODO valida
-0002f550: 7465 2049 5020 6164 6472 6573 7320 666f  te IP address fo
-0002f560: 726d 6174 0a20 2020 2061 7379 6e63 2064  rmat.    async d
-0002f570: 6566 2075 7064 6174 655f 6378 5f70 726f  ef update_cx_pro
-0002f580: 7065 7274 6965 7328 0a20 2020 2020 2020  perties(.       
-0002f590: 2073 656c 662c 0a20 2020 2020 2020 202a   self,.        *
-0002f5a0: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
-0002f5b0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-0002f5c0: 2020 2020 2020 6772 6f75 703a 2073 7472        group: str
-0002f5d0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0002f5e0: 206e 616d 653a 2073 7472 203d 204e 6f6e   name: str = Non
-0002f5f0: 652c 0a20 2020 2020 2020 2063 6f6e 7461  e,.        conta
-0002f600: 6374 3a20 7374 7220 3d20 4e6f 6e65 2c0a  ct: str = None,.
-0002f610: 2020 2020 2020 2020 6c6f 6361 7469 6f6e          location
-0002f620: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-0002f630: 2020 2020 2020 7469 6d65 7a6f 6e65 3a20        timezone: 
-0002f640: 636f 6e73 7461 6e74 732e 545a 4442 203d  constants.TZDB =
-0002f650: 204e 6f6e 652c 0a20 2020 2020 2020 206d   None,.        m
-0002f660: 676d 745f 7672 663a 2062 6f6f 6c20 3d20  gmt_vrf: bool = 
-0002f670: 4e6f 6e65 2c0a 2020 2020 2020 2020 646e  None,.        dn
-0002f680: 735f 7365 7276 6572 733a 204c 6973 745b  s_servers: List[
-0002f690: 7374 725d 203d 205b 5d2c 0a20 2020 2020  str] = [],.     
-0002f6a0: 2020 206e 7470 5f73 6572 7665 7273 3a20     ntp_servers: 
-0002f6b0: 4c69 7374 5b73 7472 5d20 3d20 5b5d 2c0a  List[str] = [],.
-0002f6c0: 2020 2020 2020 2020 6164 6d69 6e5f 7573          admin_us
-0002f6d0: 6572 3a20 7374 7220 3d20 4e6f 6e65 2c0a  er: str = None,.
-0002f6e0: 2020 2020 2020 2020 6164 6d69 6e5f 7061          admin_pa
-0002f6f0: 7373 3a20 7374 7220 3d20 4e6f 6e65 2c0a  ss: str = None,.
-0002f700: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-0002f710: 653a 0a20 2020 2020 2020 2022 2222 5570  e:.        """Up
-0002f720: 6461 7465 2050 726f 7065 7274 6965 7320  date Properties 
-0002f730: 2841 7275 6261 4f53 2d43 5829 2e0a 0a20  (ArubaOS-CX)... 
-0002f740: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-0002f750: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
-0002f760: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0002f770: 2044 6576 6963 6520 7365 7269 616c 206e   Device serial n
-0002f780: 756d 6265 722e 0a20 2020 2020 2020 2020  umber..         
-0002f790: 2020 2020 2020 204d 616e 6461 746f 7279         Mandatory
-0002f7a0: 2066 6f72 2064 6576 6963 6520 6c65 7665   for device leve
-0002f7b0: 6c20 636f 6e66 6967 7572 6174 696f 6e2e  l configuration.
-0002f7c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002f7d0: 2031 2061 6e64 206f 6e6c 7920 3120 6f66   1 and only 1 of
-0002f7e0: 2073 6572 6961 6c20 6f72 2067 726f 7570   serial or group
-0002f7f0: 2061 7265 2072 6571 7569 7265 640a 2020   are required.  
-0002f800: 2020 2020 2020 2020 2020 6772 6f75 7020            group 
-0002f810: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0002f820: 2047 726f 7570 206e 616d 652e 0a20 2020   Group name..   
-0002f830: 2020 2020 2020 2020 2020 2020 204d 616e               Man
-0002f840: 6461 746f 7279 2066 6f72 2067 726f 7570  datory for group
-0002f850: 206c 6576 656c 2063 6f6e 6669 6775 7261   level configura
-0002f860: 7469 6f6e 2e0a 2020 2020 2020 2020 2020  tion..          
-0002f870: 2020 2020 2020 3120 616e 6420 6f6e 6c79        1 and only
-0002f880: 2031 206f 6620 7365 7269 616c 206f 7220   1 of serial or 
-0002f890: 6772 6f75 7020 6172 6520 7265 7175 6972  group are requir
-0002f8a0: 6564 0a20 2020 2020 2020 2020 2020 206e  ed.            n
-0002f8b0: 616d 6520 2873 7472 293a 204f 6e6c 7920  ame (str): Only 
-0002f8c0: 636f 6e66 6967 7572 6162 6c65 2061 7420  configurable at 
-0002f8d0: 6465 7669 6365 2d6c 6576 656c 2e0a 2020  device-level..  
-0002f8e0: 2020 2020 2020 2020 2020 636f 6e74 6163            contac
-0002f8f0: 7420 2873 7472 293a 2050 6174 7465 726e  t (str): Pattern
-0002f900: 3a20 225e 5b5e 223f 5d2a 2422 0a20 2020  : "^[^"?]*$".   
-0002f910: 2020 2020 2020 2020 206c 6f63 6174 696f           locatio
-0002f920: 6e20 2873 7472 293a 2050 6174 7465 726e  n (str): Pattern
-0002f930: 3a20 225e 5b5e 223f 5d2a 2422 0a20 2020  : "^[^"?]*$".   
-0002f940: 2020 2020 2020 2020 2074 696d 657a 6f6e           timezon
-0002f950: 6520 2873 7472 293a 2074 696d 657a 6f6e  e (str): timezon
-0002f960: 6520 2056 616c 6964 2056 616c 7565 733a  e  Valid Values:
-0002f970: 2075 7365 2074 7a20 6461 7461 6261 7365   use tz database
-0002f980: 2066 6f72 6d61 7420 6c69 6b65 2022 416d   format like "Am
-0002f990: 6572 6963 612f 4368 6963 6167 6f22 0a20  erica/Chicago". 
-0002f9a0: 2020 2020 2020 2020 2020 206d 676d 745f             mgmt_
-0002f9b0: 7672 6620 2862 6f6f 6c29 3a20 5573 6520  vrf (bool): Use 
-0002f9c0: 6d67 6d74 2056 5246 2c20 696e 6469 6361  mgmt VRF, indica
-0002f9d0: 7465 7320 5652 4620 666f 7220 646e 735f  tes VRF for dns_
-0002f9e0: 7365 7276 6572 7320 616e 6420 6e74 705f  servers and ntp_
-0002f9f0: 7365 7276 6572 732c 2069 6620 4661 6c73  servers, if Fals
-0002fa00: 6520 6f72 206e 6f74 2070 726f 7669 6465  e or not provide
-0002fa10: 6420 6465 6661 756c 7420 5652 4620 6973  d default VRF is
-0002fa20: 2075 7365 642e 0a20 2020 2020 2020 2020   used..         
-0002fa30: 2020 2064 6e73 5f73 6572 7665 7273 2028     dns_servers (
-0002fa40: 4c69 7374 5b73 7472 5d29 3a20 6970 7634  List[str]): ipv4
-0002fa50: 2f69 7076 3620 6164 6472 6573 730a 2020  /ipv6 address.  
-0002fa60: 2020 2020 2020 2020 2020 6e74 705f 7365            ntp_se
-0002fa70: 7276 6572 7320 284c 6973 745b 7374 725d  rvers (List[str]
-0002fa80: 293a 2069 7076 342f 6970 7636 2061 6464  ): ipv4/ipv6 add
-0002fa90: 7265 7373 0a20 2020 2020 2020 2020 2020  ress.           
-0002faa0: 2061 646d 696e 5f75 7365 7220 2873 7472   admin_user (str
-0002fab0: 293a 206c 6f63 616c 2061 646d 696e 2075  ): local admin u
-0002fac0: 7365 720a 2020 2020 2020 2020 2020 2020  ser.            
-0002fad0: 6164 6d69 6e5f 7061 7373 2028 7374 7229  admin_pass (str)
-0002fae0: 3a20 6c6f 6361 6c20 6164 6d69 6e20 7061  : local admin pa
-0002faf0: 7373 776f 7264 0a0a 2020 2020 2020 2020  ssword..        
-0002fb00: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-0002fb10: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-0002fb20: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-0002fb30: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-0002fb40: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-0002fb50: 6c20 3d20 222f 636f 6e66 6967 7572 6174  l = "/configurat
-0002fb60: 696f 6e2f 7631 2f73 7769 7463 682f 6378  ion/v1/switch/cx
-0002fb70: 2f70 726f 7065 7274 6965 7322 0a0a 2020  /properties"..  
-0002fb80: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-0002fb90: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
-0002fba0: 7669 6365 5f73 6572 6961 6c27 3a20 7365  vice_serial': se
-0002fbb0: 7269 616c 2c0a 2020 2020 2020 2020 2020  rial,.          
-0002fbc0: 2020 2767 726f 7570 5f6e 616d 6527 3a20    'group_name': 
-0002fbd0: 6772 6f75 700a 2020 2020 2020 2020 7d0a  group.        }.
-0002fbe0: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
-0002fbf0: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
-0002fc00: 2020 2027 6e61 6d65 273a 206e 616d 652c     'name': name,
-0002fc10: 0a20 2020 2020 2020 2020 2020 2027 636f  .            'co
-0002fc20: 6e74 6163 7427 3a20 636f 6e74 6163 742c  ntact': contact,
-0002fc30: 0a20 2020 2020 2020 2020 2020 2027 6c6f  .            'lo
-0002fc40: 6361 7469 6f6e 273a 206c 6f63 6174 696f  cation': locatio
-0002fc50: 6e2c 0a20 2020 2020 2020 2020 2020 2027  n,.            '
-0002fc60: 7469 6d65 7a6f 6e65 273a 2074 696d 657a  timezone': timez
-0002fc70: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-0002fc80: 2027 646e 735f 7365 7276 6572 7327 3a20   'dns_servers': 
-0002fc90: 646e 735f 7365 7276 6572 732c 0a20 2020  dns_servers,.   
-0002fca0: 2020 2020 2020 2020 2027 6e74 705f 7365           'ntp_se
-0002fcb0: 7276 6572 7327 3a20 6e74 705f 7365 7276  rvers': ntp_serv
-0002fcc0: 6572 732c 0a20 2020 2020 2020 2020 2020  ers,.           
-0002fcd0: 2027 6164 6d69 6e5f 7573 6572 6e61 6d65   'admin_username
-0002fce0: 273a 2061 646d 696e 5f75 7365 722c 0a20  ': admin_user,. 
-0002fcf0: 2020 2020 2020 2020 2020 2027 6164 6d69             'admi
-0002fd00: 6e5f 7061 7373 776f 7264 273a 2061 646d  n_password': adm
-0002fd10: 696e 5f70 6173 730a 2020 2020 2020 2020  in_pass.        
-0002fd20: 7d0a 2020 2020 2020 2020 6966 206d 676d  }.        if mgm
-0002fd30: 745f 7672 6620 6973 206e 6f74 204e 6f6e  t_vrf is not Non
-0002fd40: 653a 0a20 2020 2020 2020 2020 2020 206a  e:.            j
-0002fd50: 736f 6e5f 6461 7461 5b22 7672 6622 5d20  son_data["vrf"] 
-0002fd60: 3d20 226d 676d 7422 2069 6620 6d67 6d74  = "mgmt" if mgmt
-0002fd70: 5f76 7266 2065 6c73 6520 2264 6566 6175  _vrf else "defau
-0002fd80: 6c74 220a 2020 2020 2020 2020 656c 6966  lt".        elif
-0002fd90: 2064 6e73 5f73 6572 7665 7273 206f 7220   dns_servers or 
-0002fda0: 6e74 705f 7365 7276 6572 733a 0a20 2020  ntp_servers:.   
-0002fdb0: 2020 2020 2020 2020 206a 736f 6e5f 6461           json_da
-0002fdc0: 7461 5b22 7672 6622 5d20 3d20 2264 6566  ta["vrf"] = "def
-0002fdd0: 6175 6c74 220a 0a20 2020 2020 2020 2069  ault"..        i
-0002fde0: 6620 6c65 6e28 5b78 2066 6f72 2078 2069  f len([x for x i
-0002fdf0: 6e20 5b61 646d 696e 5f75 7365 722c 2061  n [admin_user, a
-0002fe00: 646d 696e 5f70 6173 735d 2069 6620 7820  dmin_pass] if x 
-0002fe10: 6973 206e 6f74 204e 6f6e 655d 2920 3d3d  is not None]) ==
-0002fe20: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
-0002fe30: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
-0002fe40: 2822 4966 2065 6974 6865 7220 6164 6d69  ("If either admi
-0002fe50: 6e5f 7573 6572 206f 7220 6164 6d69 6e5f  n_user or admin_
-0002fe60: 7061 7373 2061 7265 2062 696e 6720 7570  pass are bing up
-0002fe70: 6461 7465 642c 202a 626f 7468 2a20 7368  dated, *both* sh
-0002fe80: 6f75 6c64 2062 6520 7072 6f76 6964 6564  ould be provided
-0002fe90: 2e22 290a 0a20 2020 2020 2020 2069 6620  .")..        if 
-0002fea0: 6c65 6e28 5b78 2066 6f72 2078 2069 6e20  len([x for x in 
-0002feb0: 5b73 6572 6961 6c2c 2067 726f 7570 5d20  [serial, group] 
-0002fec0: 6966 2078 2069 7320 6e6f 7420 4e6f 6e65  if x is not None
-0002fed0: 5d29 203d 3d20 323a 0a20 2020 2020 2020  ]) == 2:.       
-0002fee0: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
-0002fef0: 4572 726f 7228 2270 726f 7669 6465 2073  Error("provide s
-0002ff00: 6572 6961 6c20 746f 2075 7064 6174 6520  erial to update 
-0002ff10: 6465 7669 6365 206c 6576 656c 2070 726f  device level pro
-0002ff20: 7065 7274 6965 732c 206f 7220 6772 6f75  perties, or grou
-0002ff30: 7020 746f 2075 7064 6174 6520 6174 2074  p to update at t
-0002ff40: 6865 2067 726f 7570 206c 6576 656c 2e20  he group level. 
-0002ff50: 2050 726f 7669 6469 6e67 2062 6f74 6820   Providing both 
-0002ff60: 6973 2069 6e76 616c 6964 2e22 290a 0a20  is invalid.").. 
-0002ff70: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
-0002ff80: 203d 2075 7469 6c73 2e73 7472 6970 5f6e   = utils.strip_n
-0002ff90: 6f6e 6528 6a73 6f6e 5f64 6174 612c 2073  one(json_data, s
-0002ffa0: 7472 6970 5f65 6d70 7479 5f6f 626a 3d54  trip_empty_obj=T
-0002ffb0: 7275 6529 0a0a 2020 2020 2020 2020 7265  rue)..        re
-0002ffc0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0002ffd0: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-0002ffe0: 6174 613d 6a73 6f6e 5f64 6174 612c 2070  ata=json_data, p
-0002fff0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
-00030000: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-00030010: 5f6f 7370 665f 6172 6561 280a 2020 2020  _ospf_area(.    
-00030020: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00030030: 2020 6465 7669 6365 3a20 7374 722c 0a20    device: str,. 
-00030040: 2020 2020 2020 206d 6172 6b65 723a 2073         marker: s
-00030050: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-00030060: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
-00030070: 3130 302c 0a20 2020 2029 202d 3e20 5265  100,.    ) -> Re
-00030080: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00030090: 2222 224c 6973 7420 4f53 5046 2041 7265  """List OSPF Are
-000300a0: 6120 496e 666f 726d 6174 696f 6e2e 0a0a  a Information...
-000300b0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-000300c0: 2020 2020 2020 2020 2020 6465 7669 6365            device
-000300d0: 2028 7374 7229 3a20 4465 7669 6365 2073   (str): Device s
-000300e0: 6572 6961 6c20 6e75 6d62 6572 0a20 2020  erial number.   
-000300f0: 2020 2020 2020 2020 206d 6172 6b65 7220           marker 
-00030100: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00030110: 204f 7061 7175 6520 6861 6e64 6c65 2074   Opaque handle t
-00030120: 6f20 6665 7463 6820 6e65 7874 2070 6167  o fetch next pag
-00030130: 650a 2020 2020 2020 2020 2020 2020 6c69  e.            li
-00030140: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
-00030150: 616c 293a 2070 6167 6520 7369 7a65 2044  al): page size D
-00030160: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
-00030170: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00030180: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-00030190: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-000301a0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-000301b0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-000301c0: 2020 2020 2020 2075 726c 203d 2022 2f61         url = "/a
-000301d0: 7069 2f72 6f75 7469 6e67 2f76 312f 6f73  pi/routing/v1/os
-000301e0: 7066 2f61 7265 6122 0a0a 2020 2020 2020  pf/area"..      
-000301f0: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
-00030200: 2020 2020 2020 2020 2027 6465 7669 6365           'device
-00030210: 273a 2064 6576 6963 652c 0a20 2020 2020  ': device,.     
-00030220: 2020 2020 2020 2027 6d61 726b 6572 273a         'marker':
-00030230: 206d 6172 6b65 722c 0a20 2020 2020 2020   marker,.       
-00030240: 2020 2020 2027 6c69 6d69 7427 3a20 6c69       'limit': li
-00030250: 6d69 740a 2020 2020 2020 2020 7d0a 0a20  mit.        }.. 
-00030260: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00030270: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-00030280: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
-00030290: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-000302a0: 6765 745f 6f73 7066 5f69 6e74 6572 6661  get_ospf_interfa
-000302b0: 6365 280a 2020 2020 2020 2020 7365 6c66  ce(.        self
-000302c0: 2c0a 2020 2020 2020 2020 6465 7669 6365  ,.        device
-000302d0: 3a20 7374 722c 0a20 2020 2020 2020 206d  : str,.        m
-000302e0: 6172 6b65 723a 2073 7472 203d 204e 6f6e  arker: str = Non
-000302f0: 652c 0a20 2020 2020 2020 206c 696d 6974  e,.        limit
-00030300: 3a20 696e 7420 3d20 3130 302c 0a20 2020  : int = 100,.   
-00030310: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-00030320: 2020 2020 2020 2020 2222 224c 6973 7420          """List 
-00030330: 4f53 5046 2049 6e74 6572 6661 6365 2049  OSPF Interface I
-00030340: 6e66 6f72 6d61 7469 6f6e 2e0a 0a20 2020  nformation...   
-00030350: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00030360: 2020 2020 2020 2064 6576 6963 6520 2873         device (s
-00030370: 7472 293a 2044 6576 6963 6520 7365 7269  tr): Device seri
-00030380: 616c 206e 756d 6265 720a 2020 2020 2020  al number.      
-00030390: 2020 2020 2020 6d61 726b 6572 2028 7374        marker (st
-000303a0: 722c 206f 7074 696f 6e61 6c29 3a20 4f70  r, optional): Op
-000303b0: 6171 7565 2068 616e 646c 6520 746f 2066  aque handle to f
-000303c0: 6574 6368 206e 6578 7420 7061 6765 0a20  etch next page. 
-000303d0: 2020 2020 2020 2020 2020 206c 696d 6974             limit
-000303e0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-000303f0: 3a20 7061 6765 2073 697a 6520 4465 6661  : page size Defa
-00030400: 756c 7473 2074 6f20 3130 302e 0a0a 2020  ults to 100...  
-00030410: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-00030420: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-00030430: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-00030440: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-00030450: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00030460: 2020 2020 7572 6c20 3d20 222f 6170 692f      url = "/api/
-00030470: 726f 7574 696e 672f 7631 2f6f 7370 662f  routing/v1/ospf/
-00030480: 696e 7465 7266 6163 6522 0a0a 2020 2020  interface"..    
-00030490: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
-000304a0: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
-000304b0: 6365 273a 2064 6576 6963 652c 0a20 2020  ce': device,.   
-000304c0: 2020 2020 2020 2020 2027 6d61 726b 6572           'marker
-000304d0: 273a 206d 6172 6b65 722c 0a20 2020 2020  ': marker,.     
-000304e0: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
-000304f0: 6c69 6d69 740a 2020 2020 2020 2020 7d0a  limit.        }.
-00030500: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00030510: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-00030520: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-00030530: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
-00030540: 6620 6765 745f 6f73 7066 5f6e 6569 6768  f get_ospf_neigh
-00030550: 626f 7228 0a20 2020 2020 2020 2073 656c  bor(.        sel
-00030560: 662c 0a20 2020 2020 2020 2064 6576 6963  f,.        devic
-00030570: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
-00030580: 6d61 726b 6572 3a20 7374 7220 3d20 4e6f  marker: str = No
-00030590: 6e65 2c0a 2020 2020 2020 2020 6c69 6d69  ne,.        limi
-000305a0: 743a 2069 6e74 203d 2031 3030 2c0a 2020  t: int = 100,.  
-000305b0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-000305c0: 0a20 2020 2020 2020 2022 2222 4c69 7374  .        """List
-000305d0: 204f 5350 4620 6e65 6967 6862 6f72 2049   OSPF neighbor I
-000305e0: 6e66 6f72 6d61 7469 6f6e 2e0a 0a20 2020  nformation...   
-000305f0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00030600: 2020 2020 2020 2064 6576 6963 6520 2873         device (s
-00030610: 7472 293a 2044 6576 6963 6520 7365 7269  tr): Device seri
-00030620: 616c 206e 756d 6265 720a 2020 2020 2020  al number.      
-00030630: 2020 2020 2020 6d61 726b 6572 2028 7374        marker (st
-00030640: 722c 206f 7074 696f 6e61 6c29 3a20 4f70  r, optional): Op
-00030650: 6171 7565 2068 616e 646c 6520 746f 2066  aque handle to f
-00030660: 6574 6368 206e 6578 7420 7061 6765 0a20  etch next page. 
-00030670: 2020 2020 2020 2020 2020 206c 696d 6974             limit
-00030680: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00030690: 3a20 7061 6765 2073 697a 6520 4465 6661  : page size Defa
-000306a0: 756c 7473 2074 6f20 3130 302e 0a0a 2020  ults to 100...  
-000306b0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-000306c0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-000306d0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-000306e0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-000306f0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00030700: 2020 2020 7572 6c20 3d20 222f 6170 692f      url = "/api/
-00030710: 726f 7574 696e 672f 7631 2f6f 7370 662f  routing/v1/ospf/
-00030720: 6e65 6967 6862 6f72 220a 0a20 2020 2020  neighbor"..     
-00030730: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-00030740: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
-00030750: 6527 3a20 6465 7669 6365 2c0a 2020 2020  e': device,.    
-00030760: 2020 2020 2020 2020 276d 6172 6b65 7227          'marker'
-00030770: 3a20 6d61 726b 6572 2c0a 2020 2020 2020  : marker,.      
-00030780: 2020 2020 2020 276c 696d 6974 273a 206c        'limit': l
-00030790: 696d 6974 0a20 2020 2020 2020 207d 0a0a  imit.        }..
-000307a0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-000307b0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-000307c0: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-000307d0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-000307e0: 2067 6574 5f6f 7370 665f 6461 7461 6261   get_ospf_databa
-000307f0: 7365 280a 2020 2020 2020 2020 7365 6c66  se(.        self
-00030800: 2c0a 2020 2020 2020 2020 6465 7669 6365  ,.        device
-00030810: 3a20 7374 722c 0a20 2020 2020 2020 206d  : str,.        m
-00030820: 6172 6b65 723a 2073 7472 203d 204e 6f6e  arker: str = Non
-00030830: 652c 0a20 2020 2020 2020 206c 696d 6974  e,.        limit
-00030840: 3a20 696e 7420 3d20 3130 302c 0a20 2020  : int = 100,.   
-00030850: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-00030860: 2020 2020 2020 2020 2222 224c 6973 7420          """List 
-00030870: 4f53 5046 204c 696e 6b20 5374 6174 6520  OSPF Link State 
-00030880: 4461 7461 6261 7365 2049 6e66 6f72 6d61  Database Informa
-00030890: 7469 6f6e 2e0a 0a20 2020 2020 2020 2041  tion...        A
-000308a0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-000308b0: 2064 6576 6963 6520 2873 7472 293a 2044   device (str): D
-000308c0: 6576 6963 6520 7365 7269 616c 206e 756d  evice serial num
-000308d0: 6265 720a 2020 2020 2020 2020 2020 2020  ber.            
-000308e0: 6d61 726b 6572 2028 7374 722c 206f 7074  marker (str, opt
-000308f0: 696f 6e61 6c29 3a20 4f70 6171 7565 2068  ional): Opaque h
-00030900: 616e 646c 6520 746f 2066 6574 6368 206e  andle to fetch n
-00030910: 6578 7420 7061 6765 0a20 2020 2020 2020  ext page.       
-00030920: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
-00030930: 206f 7074 696f 6e61 6c29 3a20 7061 6765   optional): page
-00030940: 2073 697a 6520 4465 6661 756c 7473 2074   size Defaults t
-00030950: 6f20 3130 302e 0a0a 2020 2020 2020 2020  o 100...        
-00030960: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-00030970: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00030980: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00030990: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-000309a0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-000309b0: 6c20 3d20 222f 6170 692f 726f 7574 696e  l = "/api/routin
-000309c0: 672f 7631 2f6f 7370 662f 6461 7461 6261  g/v1/ospf/databa
-000309d0: 7365 220a 0a20 2020 2020 2020 2070 6172  se"..        par
-000309e0: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
-000309f0: 2020 2020 2764 6576 6963 6527 3a20 6465      'device': de
-00030a00: 7669 6365 2c0a 2020 2020 2020 2020 2020  vice,.          
-00030a10: 2020 276d 6172 6b65 7227 3a20 6d61 726b    'marker': mark
-00030a20: 6572 2c0a 2020 2020 2020 2020 2020 2020  er,.            
-00030a30: 276c 696d 6974 273a 206c 696d 6974 0a20  'limit': limit. 
-00030a40: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-00030a50: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00030a60: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-00030a70: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-00030a80: 2023 202f 2f20 2d2d 204e 6f74 2075 7365   # // -- Not use
-00030a90: 6420 6279 2063 6f6d 6d61 6e64 7320 7965  d by commands ye
-00030aa0: 742e 2020 756e 646f 6375 6d65 6e74 6564  t.  undocumented
-00030ab0: 206b 6d73 2061 7069 202d 2d20 2f2f 0a20   kms api -- //. 
-00030ac0: 2020 2061 7379 6e63 2064 6566 206b 6d73     async def kms
-00030ad0: 5f67 6574 5f73 796e 6365 645f 6170 7328  _get_synced_aps(
-00030ae0: 7365 6c66 2c20 6d61 633a 2073 7472 2920  self, mac: str) 
-00030af0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00030b00: 2020 2020 2075 726c 203d 2066 222f 6b65       url = f"/ke
-00030b10: 796d 676d 742f 7631 2f73 796e 6365 6461  ymgmt/v1/synceda
-00030b20: 706c 6973 742f 7b6d 6163 7d22 0a20 2020  plist/{mac}".   
-00030b30: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00030b40: 7420 7365 6c66 2e67 6574 2875 726c 290a  t self.get(url).
-00030b50: 0a20 2020 2061 7379 6e63 2064 6566 206b  .    async def k
-00030b60: 6d73 5f67 6574 5f63 6c69 656e 745f 7265  ms_get_client_re
-00030b70: 636f 7264 2873 656c 662c 206d 6163 3a20  cord(self, mac: 
-00030b80: 7374 7229 202d 3e20 5265 7370 6f6e 7365  str) -> Response
-00030b90: 3a0a 2020 2020 2020 2020 7572 6c20 3d20  :.        url = 
-00030ba0: 6622 2f6b 6579 6d67 6d74 2f76 312f 6b65  f"/keymgmt/v1/ke
-00030bb0: 7963 6163 6865 2f7b 6d61 637d 220a 2020  ycache/{mac}".  
-00030bc0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-00030bd0: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
-00030be0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00030bf0: 6b6d 735f 6765 745f 6861 7368 2873 656c  kms_get_hash(sel
-00030c00: 6629 202d 3e20 5265 7370 6f6e 7365 3a0a  f) -> Response:.
-00030c10: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-00030c20: 2f6b 6579 6d67 6d74 2f76 312f 6b65 7968  /keymgmt/v1/keyh
-00030c30: 6173 6822 0a20 2020 2020 2020 2072 6574  ash".        ret
-00030c40: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-00030c50: 6574 2875 726c 290a 0a20 2020 2061 7379  et(url)..    asy
-00030c60: 6e63 2064 6566 206b 6d73 5f67 6574 5f61  nc def kms_get_a
-00030c70: 705f 7374 6174 6528 7365 6c66 2c20 7365  p_state(self, se
-00030c80: 7269 616c 3a20 7374 7229 202d 3e20 5265  rial: str) -> Re
-00030c90: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00030ca0: 7572 6c20 3d20 6622 2f6b 6579 6d67 6d74  url = f"/keymgmt
-00030cb0: 2f76 312f 5374 6174 732f 6170 2f7b 7365  /v1/Stats/ap/{se
-00030cc0: 7269 616c 7d22 0a20 2020 2020 2020 2072  rial}".        r
-00030cd0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00030ce0: 2e67 6574 2875 726c 290a 0a20 2020 2023  .get(url)..    #
-00030cf0: 2042 6164 2065 6e64 706f 696e 7420 5552   Bad endpoint UR
-00030d00: 4c20 3430 340a 2020 2020 6173 796e 6320  L 404.    async 
-00030d10: 6465 6620 6b6d 735f 6765 745f 6865 616c  def kms_get_heal
-00030d20: 7468 2873 656c 6629 202d 3e20 5265 7370  th(self) -> Resp
-00030d30: 6f6e 7365 3a0a 2020 2020 2020 2020 7572  onse:.        ur
-00030d40: 6c20 3d20 222f 6b65 796d 676d 742f 7631  l = "/keymgmt/v1
-00030d50: 2f68 6561 6c74 6822 0a20 2020 2020 2020  /health".       
-00030d60: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00030d70: 6c66 2e67 6574 2875 726c 290a 0a69 6620  lf.get(url)..if 
-00030d80: 5f5f 6e61 6d65 5f5f 203d 3d20 225f 5f6d  __name__ == "__m
-00030d90: 6169 6e5f 5f22 3a0a 2020 2020 7061 7373  ain__":.    pass
-00030da0: 0a                                       .
+00024e40: 2020 2020 2273 6572 7669 6365 7322 3a20      "services": 
+00024e50: 7574 696c 732e 6c69 7374 6966 7928 645b  utils.listify(d[
+00024e60: 226c 6963 656e 7365 225d 292c 0a20 2020  "license"]),.   
+00024e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024e80: 2020 2020 2022 7365 7269 616c 7322 3a20       "serials": 
+00024e90: 7574 696c 732e 6c69 7374 6966 7928 5f73  utils.listify(_s
+00024ea0: 6572 6961 6c29 0a20 2020 2020 2020 2020  erial).         
+00024eb0: 2020 2020 2020 2020 2020 207d 0a20 2020             }.   
+00024ec0: 2020 2020 2020 2020 206c 6963 656e 7365           license
+00024ed0: 5f6b 7761 7267 7320 3d20 6c69 7374 285f  _kwargs = list(_
+00024ee0: 6c69 635f 6b77 6172 6773 2e76 616c 7565  lic_kwargs.value
+00024ef0: 7328 2929 0a0a 2020 2020 2020 2020 2020  s())..          
+00024f00: 2020 2320 6c69 6365 6e73 655f 6172 6773    # license_args
+00024f10: 203d 205b 5b5d 2c20 5b5d 5d0a 2020 2020   = [[], []].    
+00024f20: 2020 2020 2020 2020 2320 6279 5f73 6572          # by_ser
+00024f30: 203d 207b 645b 2273 6572 6961 6c5f 6e75   = {d["serial_nu
+00024f40: 6d22 5d3a 2075 7469 6c73 2e6c 6973 7469  m"]: utils.listi
+00024f50: 6679 2864 2e67 6574 2822 6c69 6365 6e73  fy(d.get("licens
+00024f60: 6522 2929 2066 6f72 2064 2069 6e20 6465  e")) for d in de
+00024f70: 7669 6365 5f6c 6973 7420 6966 2064 2e67  vice_list if d.g
+00024f80: 6574 2822 6c69 6365 6e73 6522 297d 0a20  et("license")}. 
+00024f90: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
+00024fa0: 4f20 6d6f 7374 2065 6666 6963 6965 6e74  O most efficient
+00024fb0: 2070 6169 7269 6e67 206f 6620 706f 7373   pairing of poss
+00024fc0: 6962 6c65 206c 6963 2f64 6576 2066 6f72  ible lic/dev for
+00024fd0: 2066 6577 6573 7420 6361 6c6c 0a20 2020   fewest call.   
+00024fe0: 2020 2020 2020 2020 2023 2054 4f44 4f20           # TODO 
+00024ff0: 6c69 6365 6e73 6520 7669 6120 6c69 7374  license via list
+00025000: 206e 6f74 2069 6d70 6c65 6d65 6e74 6564   not implemented
+00025010: 2079 6574 2e0a 0a20 2020 2020 2020 2065   yet...        e
+00025020: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00025030: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+00025040: 7228 226d 6163 5f61 6464 7265 7373 2061  r("mac_address a
+00025050: 6e64 2073 6572 6961 6c5f 6e75 6d20 6f72  nd serial_num or
+00025060: 2064 6576 6963 655f 6c69 7374 2069 7320   device_list is 
+00025070: 7265 7175 6972 6564 2229 0a0a 2020 2020  required")..    
+00025080: 2020 2020 2320 5065 7266 6f72 6d20 4150      # Perform AP
+00025090: 4920 6361 6c6c 2873 2920 746f 2043 656e  I call(s) to Cen
+000250a0: 7472 616c 2041 5049 2047 570a 2020 2020  tral API GW.    
+000250b0: 2020 2020 2320 544f 444f 2062 7265 616b      # TODO break
+000250c0: 206f 7574 2074 6865 2061 6464 2064 6576   out the add dev
+000250d0: 6963 6520 6361 6c6c 2069 6e74 6f20 6974  ice call into it
+000250e0: 2773 206f 776e 206d 6574 686f 642e 0a20  's own method.. 
+000250f0: 2020 2020 2020 2069 6620 746f 5f67 726f         if to_gro
+00025100: 7570 206f 7220 6c69 6365 6e73 655f 6b77  up or license_kw
+00025110: 6172 6773 3a0a 2020 2020 2020 2020 2020  args:.          
+00025120: 2020 2320 4164 6420 6465 7669 6365 7320    # Add devices 
+00025130: 746f 2063 656e 7472 616c 2e20 2031 2041  to central.  1 A
+00025140: 5049 2063 616c 6c20 666f 7220 3120 6f72  PI call for 1 or
+00025150: 206d 616e 7920 6465 7669 6365 732e 0a20   many devices.. 
+00025160: 2020 2020 2020 2020 2020 2062 7220 3d20             br = 
+00025170: 7365 6c66 2e42 6174 6368 5265 7175 6573  self.BatchReques
+00025180: 740a 2020 2020 2020 2020 2020 2020 7265  t.            re
+00025190: 7173 203d 205b 0a20 2020 2020 2020 2020  qs = [.         
+000251a0: 2020 2020 2020 2062 7228 7365 6c66 2e70         br(self.p
+000251b0: 6f73 742c 2075 726c 2c20 6a73 6f6e 5f64  ost, url, json_d
+000251c0: 6174 613d 6a73 6f6e 5f64 6174 6129 2c0a  ata=json_data),.
+000251d0: 2020 2020 2020 2020 2020 2020 5d0a 2020              ].  
+000251e0: 2020 2020 2020 2020 2020 2320 4173 7369            # Assi
+000251f0: 676e 2064 6576 6963 6573 2074 6f20 7072  gn devices to pr
+00025200: 652d 7072 6f76 6973 696f 6e65 6420 6772  e-provisioned gr
+00025210: 6f75 702e 2020 3120 4150 4920 6361 6c6c  oup.  1 API call
+00025220: 2070 6572 2067 726f 7570 0a20 2020 2020   per group.     
+00025230: 2020 2020 2020 2023 2054 4f44 4f20 7465         # TODO te
+00025240: 7374 2074 6861 7420 7468 6973 2069 7320  st that this is 
+00025250: 3120 4150 4920 6361 6c6c 2070 6572 2067  1 API call per g
+00025260: 726f 7570 2e0a 2020 2020 2020 2020 2020  roup..          
+00025270: 2020 6966 2074 6f5f 6772 6f75 703a 0a20    if to_group:. 
+00025280: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+00025290: 726f 7570 5f72 6571 7320 3d20 5b62 7228  roup_reqs = [br(
+000252a0: 7365 6c66 2e70 7265 7072 6f76 6973 696f  self.preprovisio
+000252b0: 6e5f 6465 7669 6365 5f74 6f5f 6772 6f75  n_device_to_grou
+000252c0: 702c 2028 672c 2064 6576 7329 2920 666f  p, (g, devs)) fo
+000252d0: 7220 672c 2064 6576 7320 696e 2074 6f5f  r g, devs in to_
+000252e0: 6772 6f75 702e 6974 656d 7328 295d 0a20  group.items()]. 
+000252f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00025300: 6571 7320 3d20 5b2a 7265 7173 2c20 2a67  eqs = [*reqs, *g
+00025310: 726f 7570 5f72 6571 735d 0a0a 2020 2020  roup_reqs]..    
+00025320: 2020 2020 2020 2020 2320 544f 444f 2059          # TODO Y
+00025330: 6f75 2063 616e 2061 6464 2074 6865 2064  ou can add the d
+00025340: 6576 6963 6520 746f 2061 2073 6974 6520  evice to a site 
+00025350: 6166 7465 7220 6974 2773 2062 6565 6e20  after it's been 
+00025360: 7072 652d 6173 7369 676e 6564 0a20 2020  pre-assigned.   
+00025370: 2020 2020 2020 2020 2023 2069 6620 746f           # if to
+00025380: 5f73 6974 653a 0a20 2020 2020 2020 2020  _site:.         
+00025390: 2020 2023 2020 2020 2073 6974 655f 7265     #     site_re
+000253a0: 7173 203d 205b 6272 2873 656c 662e 6d6f  qs = [br(self.mo
+000253b0: 7665 5f64 6576 6963 6573 5f74 6f5f 7369  ve_devices_to_si
+000253c0: 7465 2c20 2873 2c20 6465 7673 2c20 2267  te, (s, devs, "g
+000253d0: 7722 2929 2066 6f72 2073 2c20 6465 7673  w")) for s, devs
+000253e0: 2069 6e20 746f 5f73 6974 652e 6974 656d   in to_site.item
+000253f0: 7328 295d 0a20 2020 2020 2020 2020 2020  s()].           
+00025400: 2023 2020 2020 2072 6571 7320 3d20 5b2a   #     reqs = [*
+00025410: 7265 7173 2c20 2a73 6974 655f 7265 7173  reqs, *site_reqs
+00025420: 5d0a 0a20 2020 2020 2020 2020 2020 2023  ]..            #
+00025430: 2041 7373 6967 6e20 6c69 6365 6e73 6520   Assign license 
+00025440: 746f 2064 6576 6963 6573 2e20 2031 2041  to devices.  1 A
+00025450: 5049 2063 616c 6c20 666f 7220 616c 6c20  PI call for all 
+00025460: 6465 7669 6365 7320 7769 7468 2073 616d  devices with sam
+00025470: 6520 636f 6d62 696e 6174 696f 6e20 6f66  e combination of
+00025480: 206c 6963 656e 7365 730a 2020 2020 2020   licenses.      
+00025490: 2020 2020 2020 6966 206c 6963 656e 7365        if license
+000254a0: 5f6b 7761 7267 733a 0a20 2020 2020 2020  _kwargs:.       
+000254b0: 2020 2020 2020 2020 206c 6963 5f72 6571           lic_req
+000254c0: 7320 3d20 5b62 7228 7365 6c66 2e61 7373  s = [br(self.ass
+000254d0: 6967 6e5f 6c69 6365 6e73 6573 2c20 2a2a  ign_licenses, **
+000254e0: 6b77 6172 6773 2920 666f 7220 6b77 6172  kwargs) for kwar
+000254f0: 6773 2069 6e20 6c69 6365 6e73 655f 6b77  gs in license_kw
+00025500: 6172 6773 5d0a 2020 2020 2020 2020 2020  args].          
+00025510: 2020 2020 2020 7265 7173 203d 205b 2a72        reqs = [*r
+00025520: 6571 732c 202a 6c69 635f 7265 7173 5d0a  eqs, *lic_reqs].
+00025530: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00025540: 7572 6e20 6177 6169 7420 7365 6c66 2e5f  urn await self._
+00025550: 6261 7463 685f 7265 7175 6573 7428 7265  batch_request(re
+00025560: 7173 2c20 636f 6e74 696e 7565 5f6f 6e5f  qs, continue_on_
+00025570: 6661 696c 3d54 7275 6529 0a20 2020 2020  fail=True).     
+00025580: 2020 2023 2065 6c69 6620 746f 5f73 6974     # elif to_sit
+00025590: 653a 0a20 2020 2020 2020 2023 2020 2020  e:.        #    
+000255a0: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+000255b0: 7228 2253 6974 6520 6361 6e20 6f6e 6c79  r("Site can only
+000255c0: 2062 6520 7072 652d 6173 7369 676e 6564   be pre-assigned
+000255d0: 2069 6620 6465 7669 6365 2069 7320 7072   if device is pr
+000255e0: 652d 7072 6f76 6973 696f 6e65 6420 746f  e-provisioned to
+000255f0: 2061 2067 726f 7570 2229 0a20 2020 2020   a group").     
+00025600: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00025610: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+00025620: 7420 7365 6c66 2e70 6f73 7428 7572 6c2c  t self.post(url,
+00025630: 206a 736f 6e5f 6461 7461 3d6a 736f 6e5f   json_data=json_
+00025640: 6461 7461 290a 0a20 2020 2023 2054 4f44  data)..    # TOD
+00025650: 4f20 6d61 7962 6520 6865 6c70 6572 206d  O maybe helper m
+00025660: 6574 686f 6420 746f 2064 656c 6574 655f  ethod to delete_
+00025670: 6465 7669 6365 2074 6861 7420 6361 6c6c  device that call
+00025680: 7320 7468 6573 650a 2020 2020 6173 796e  s these.    asyn
+00025690: 6320 6465 6620 6465 6c65 7465 5f67 6174  c def delete_gat
+000256a0: 6577 6179 280a 2020 2020 2020 2020 7365  eway(.        se
+000256b0: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
+000256c0: 616c 3a20 7374 722c 0a20 2020 2029 202d  al: str,.    ) -
+000256d0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+000256e0: 2020 2020 2222 2244 656c 6574 6520 4761      """Delete Ga
+000256f0: 7465 7761 792e 0a0a 2020 2020 2020 2020  teway...        
+00025700: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+00025710: 2020 7365 7269 616c 2028 7374 7229 3a20    serial (str): 
+00025720: 5365 7269 616c 204e 756d 6265 7220 6f66  Serial Number of
+00025730: 2047 6174 6577 6179 2074 6f20 6265 2064   Gateway to be d
+00025740: 656c 6574 6564 0a0a 2020 2020 2020 2020  eleted..        
+00025750: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00025760: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00025770: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00025780: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00025790: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+000257a0: 6c20 3d20 6622 2f6d 6f6e 6974 6f72 696e  l = f"/monitorin
+000257b0: 672f 7631 2f67 6174 6577 6179 732f 7b73  g/v1/gateways/{s
+000257c0: 6572 6961 6c7d 220a 0a20 2020 2020 2020  erial}"..       
+000257d0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+000257e0: 6c66 2e64 656c 6574 6528 7572 6c29 0a0a  lf.delete(url)..
+000257f0: 2020 2020 6173 796e 6320 6465 6620 6465      async def de
+00025800: 6c65 7465 5f73 7769 7463 6828 0a20 2020  lete_switch(.   
+00025810: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00025820: 2020 2073 6572 6961 6c3a 2073 7472 2c0a     serial: str,.
+00025830: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+00025840: 653a 0a20 2020 2020 2020 2022 2222 4465  e:.        """De
+00025850: 6c65 7465 2053 7769 7463 682e 0a0a 2020  lete Switch...  
+00025860: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00025870: 2020 2020 2020 2020 7365 7269 616c 2028          serial (
+00025880: 7374 7229 3a20 5365 7269 616c 206e 756d  str): Serial num
+00025890: 6265 7220 6f66 2073 7769 7463 6820 746f  ber of switch to
+000258a0: 2062 6520 6465 6c65 7465 640a 0a20 2020   be deleted..   
+000258b0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+000258c0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+000258d0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+000258e0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+000258f0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00025900: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
+00025910: 746f 7269 6e67 2f76 312f 7377 6974 6368  toring/v1/switch
+00025920: 6573 2f7b 7365 7269 616c 7d22 0a0a 2020  es/{serial}"..  
+00025930: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00025940: 6974 2073 656c 662e 6465 6c65 7465 2875  it self.delete(u
+00025950: 726c 290a 0a20 2020 2061 7379 6e63 2064  rl)..    async d
+00025960: 6566 2064 656c 6574 655f 6170 280a 2020  ef delete_ap(.  
+00025970: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00025980: 2020 2020 7365 7269 616c 3a20 7374 722c      serial: str,
+00025990: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+000259a0: 7365 3a0a 2020 2020 2020 2020 2222 2244  se:.        """D
+000259b0: 656c 6574 6520 4150 2e0a 0a20 2020 2020  elete AP...     
+000259c0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+000259d0: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
+000259e0: 293a 2053 6572 6961 6c20 4e75 6d62 6572  ): Serial Number
+000259f0: 206f 6620 4150 2074 6f20 6265 2064 656c   of AP to be del
+00025a00: 6574 6564 0a0a 2020 2020 2020 2020 5265  eted..        Re
+00025a10: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00025a20: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00025a30: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00025a40: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00025a50: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00025a60: 3d20 6622 2f6d 6f6e 6974 6f72 696e 672f  = f"/monitoring/
+00025a70: 7631 2f61 7073 2f7b 7365 7269 616c 7d22  v1/aps/{serial}"
+00025a80: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00025a90: 2061 7761 6974 2073 656c 662e 6465 6c65   await self.dele
+00025aa0: 7465 2875 726c 290a 0a20 2020 2023 2054  te(url)..    # T
+00025ab0: 4f44 4f20 6d61 7920 7265 6d6f 7665 2074  ODO may remove t
+00025ac0: 6869 7320 776f 756c 6420 7368 6f77 2074  his would show t
+00025ad0: 6865 2064 6576 6963 6520 696e 2074 6865  he device in the
+00025ae0: 2067 726f 7570 2c20 6275 7420 6469 646e   group, but didn
+00025af0: 2774 2062 6568 6176 6520 6173 2065 7870  't behave as exp
+00025b00: 6563 7465 6420 2864 6576 6963 6520 7761  ected (device wa
+00025b10: 7320 6e6f 7420 696e 2064 6576 6963 6520  s not in device 
+00025b20: 6c69 7374 290a 2020 2020 6173 796e 6320  list).    async 
+00025b30: 6465 6620 6173 7369 676e 5f64 6576 6963  def assign_devic
+00025b40: 6573 5f74 6f5f 6772 6f75 7028 7365 6c66  es_to_group(self
+00025b50: 2c20 2067 726f 7570 3a20 7374 722c 2073  ,  group: str, s
+00025b60: 6572 6961 6c5f 6e75 6d73 3a20 556e 696f  erial_nums: Unio
+00025b70: 6e5b 4c69 7374 5b73 7472 5d2c 2073 7472  n[List[str], str
+00025b80: 5d29 202d 3e20 5265 7370 6f6e 7365 3a0a  ]) -> Response:.
+00025b90: 2020 2020 2020 2020 2222 2241 7373 6967          """Assig
+00025ba0: 6e20 6465 7669 6365 7320 746f 2070 7265  n devices to pre
+00025bb0: 2d70 726f 7669 7369 6f6e 6564 2067 726f  -provisioned gro
+00025bc0: 7570 2e0a 0a20 2020 2020 2020 202f 2f20  up...        // 
+00025bd0: 5573 6564 2069 6e64 6972 6563 746c 7920  Used indirectly 
+00025be0: 6279 2061 6464 2064 6576 6963 6520 2877  by add device (w
+00025bf0: 6865 6e20 6772 6f75 7020 6f70 7469 6f6e  hen group option
+00025c00: 2070 726f 7669 6465 6429 202f 2f0a 0a20   provided) //.. 
+00025c10: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00025c20: 2020 2020 2020 2020 2067 726f 7570 2028           group (
+00025c30: 7374 7229 3a20 4772 6f75 7020 6e61 6d65  str): Group name
+00025c40: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
+00025c50: 6961 6c73 2028 4c69 7374 5b73 7472 5d7c  ials (List[str]|
+00025c60: 7374 7229 3a20 4465 7669 6365 2073 6572  str): Device ser
+00025c70: 6961 6c20 6e75 6d62 6572 206f 7220 6c69  ial number or li
+00025c80: 7374 206f 6620 6465 7669 6365 2073 6572  st of device ser
+00025c90: 6961 6c20 6e75 6d62 6572 732e 0a0a 2020  ial numbers...  
+00025ca0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00025cb0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+00025cc0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+00025cd0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+00025ce0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00025cf0: 2020 2020 7572 6c20 3d20 222f 6465 7669      url = "/devi
+00025d00: 6365 5f6d 616e 6167 656d 656e 742f 7631  ce_management/v1
+00025d10: 2f67 726f 7570 2f61 7373 6967 6e22 0a20  /group/assign". 
+00025d20: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
+00025d30: 6d73 203d 2075 7469 6c73 2e6c 6973 7469  ms = utils.listi
+00025d40: 6679 2873 6572 6961 6c5f 6e75 6d73 290a  fy(serial_nums).
+00025d50: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
+00025d60: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
+00025d70: 2020 2027 7365 7269 616c 7327 3a20 7365     'serials': se
+00025d80: 7269 616c 5f6e 756d 732c 0a20 2020 2020  rial_nums,.     
+00025d90: 2020 2020 2020 2027 6772 6f75 7027 3a20         'group': 
+00025da0: 6772 6f75 700a 2020 2020 2020 2020 7d0a  group.        }.
+00025db0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00025dc0: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
+00025dd0: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+00025de0: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
+00025df0: 7379 6e63 2064 6566 2070 7265 7072 6f76  sync def preprov
+00025e00: 6973 696f 6e5f 6465 7669 6365 5f74 6f5f  ision_device_to_
+00025e10: 6772 6f75 7028 0a20 2020 2020 2020 2073  group(.        s
+00025e20: 656c 662c 0a20 2020 2020 2020 2067 726f  elf,.        gro
+00025e30: 7570 5f6e 616d 653a 2073 7472 2c0a 2020  up_name: str,.  
+00025e40: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
+00025e50: 733a 204c 6973 745b 7374 725d 207c 2073  s: List[str] | s
+00025e60: 7472 2c0a 2020 2020 2020 2020 7465 6e61  tr,.        tena
+00025e70: 6e74 5f69 643a 2073 7472 203d 204e 6f6e  nt_id: str = Non
+00025e80: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
+00025e90: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00025ea0: 2250 7265 2050 726f 7669 7369 6f6e 2061  "Pre Provision a
+00025eb0: 2067 726f 7570 2074 6f20 7468 6520 6465   group to the de
+00025ec0: 7669 6365 2e0a 0a20 2020 2020 2020 2041  vice...        A
+00025ed0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00025ee0: 2064 6576 6963 655f 6964 2028 4c69 7374   device_id (List
+00025ef0: 5b73 7472 5d29 3a20 6465 7669 6365 5f69  [str]): device_i
+00025f00: 640a 2020 2020 2020 2020 2020 2020 6772  d.            gr
+00025f10: 6f75 705f 6e61 6d65 2028 7374 7229 3a20  oup_name (str): 
+00025f20: 4772 6f75 7020 6e61 6d65 0a20 2020 2020  Group name.     
+00025f30: 2020 2020 2020 2074 656e 616e 745f 6964         tenant_id
+00025f40: 2028 7374 7229 3a20 5465 6e61 6e74 2069   (str): Tenant i
+00025f50: 642c 2028 6f6e 6c79 2061 7070 6c69 6361  d, (only applica
+00025f60: 626c 6520 7769 7468 204d 5350 206d 6f64  ble with MSP mod
+00025f70: 6529 0a0a 2020 2020 2020 2020 5265 7475  e)..        Retu
+00025f80: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00025f90: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00025fa0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00025fb0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00025fc0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00025fd0: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
+00025fe0: 7631 2f70 7265 6173 7369 676e 220a 0a20  v1/preassign".. 
+00025ff0: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
+00026000: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00026010: 2027 6465 7669 6365 5f69 6427 3a20 7365   'device_id': se
+00026020: 7269 616c 5f6e 756d 732c 0a20 2020 2020  rial_nums,.     
+00026030: 2020 2020 2020 2027 6772 6f75 705f 6e61         'group_na
+00026040: 6d65 273a 2067 726f 7570 5f6e 616d 652c  me': group_name,
+00026050: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+00026060: 2020 2020 6966 2074 656e 616e 745f 6964      if tenant_id
+00026070: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+00026080: 2020 2020 2020 2020 2020 6a73 6f6e 5f64            json_d
+00026090: 6174 615b 2274 656e 616e 745f 6964 225d  ata["tenant_id"]
+000260a0: 203d 2073 7472 2874 656e 616e 745f 6964   = str(tenant_id
+000260b0: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
+000260c0: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
+000260d0: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
+000260e0: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
+000260f0: 2023 2054 4f44 4f20 7665 7269 6679 2074   # TODO verify t
+00026100: 7970 652d 6869 6e74 2066 6f72 2064 6576  ype-hint for dev
+00026110: 6963 655f 6c69 7374 2069 7320 7468 6520  ice_list is the 
+00026120: 7269 6768 7420 7761 7920 746f 2064 6f20  right way to do 
+00026130: 7468 6174 2e0a 2020 2020 6173 796e 6320  that..    async 
+00026140: 6465 6620 7665 7269 6679 5f64 6576 6963  def verify_devic
+00026150: 655f 6164 6469 7469 6f6e 280a 2020 2020  e_addition(.    
+00026160: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00026170: 2020 7365 7269 616c 5f6e 756d 3a20 7374    serial_num: st
+00026180: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00026190: 2020 6d61 635f 6164 6472 6573 733a 2073    mac_address: s
+000261a0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+000261b0: 2020 2064 6576 6963 655f 6c69 7374 3a20     device_list: 
+000261c0: 4c69 7374 5b44 6963 745b 4c69 7465 7261  List[Dict[Litera
+000261d0: 6c5b 226d 6163 5f61 6464 7265 7373 222c  l["mac_address",
+000261e0: 2022 7365 7269 616c 5f6e 756d 225d 2c20   "serial_num"], 
+000261f0: 7374 725d 5d20 3d20 5b5d 0a20 2020 2029  str]] = [].    )
+00026200: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+00026210: 2020 2020 2020 2222 2256 6572 6966 7920        """Verify 
+00026220: 4465 7669 6365 2041 6464 6974 696f 6e0a  Device Addition.
+00026230: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+00026240: 2020 2020 2020 2020 2020 2073 6572 6961             seria
+00026250: 6c5f 6e75 6d20 2873 7472 2c20 6f70 7469  l_num (str, opti
+00026260: 6f6e 616c 293a 2053 6572 6961 6c20 4e75  onal): Serial Nu
+00026270: 6d62 6572 206f 6620 6465 7669 6365 2074  mber of device t
+00026280: 6f20 7665 7269 6679 2e20 4465 6661 756c  o verify. Defaul
+00026290: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
+000262a0: 2020 2020 2020 2020 6d61 635f 6164 6472          mac_addr
+000262b0: 6573 7320 2873 7472 2c20 6f70 7469 6f6e  ess (str, option
+000262c0: 616c 293a 204d 6163 2041 6464 7265 7373  al): Mac Address
+000262d0: 206f 6620 6465 7669 6365 2074 6f20 7665   of device to ve
+000262e0: 7269 6679 2e20 4465 6661 756c 7473 2074  rify. Defaults t
+000262f0: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+00026300: 2020 2020 6465 7669 6365 5f6c 6973 7420      device_list 
+00026310: 284c 6973 745b 4469 6374 5b4c 6974 6572  (List[Dict[Liter
+00026320: 616c 5b2c 206f 7074 696f 6e61 6c29 3a20  al[, optional): 
+00026330: 6465 7669 6365 5f6c 6973 7420 6c69 7374  device_list list
+00026340: 206f 6620 6469 6374 7320 7769 7468 0a20   of dicts with. 
+00026350: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00026360: 7365 7269 616c 5f6e 756d 2220 616e 6420  serial_num" and 
+00026370: 226d 6163 5f61 6464 7265 7373 2220 666f  "mac_address" fo
+00026380: 7220 6561 6368 2064 6576 6963 6520 746f  r each device to
+00026390: 2076 6572 6966 792e 2044 6566 6175 6c74   verify. Default
+000263a0: 7320 746f 204e 6f6e 652e 0a0a 2020 2020  s to None...    
+000263b0: 2020 2020 4d75 7374 2070 726f 7669 6465      Must provide
+000263c0: 2073 6572 6961 6c5f 6e75 6d20 616e 6420   serial_num and 
+000263d0: 6d61 635f 6164 6472 6573 7320 666f 7220  mac_address for 
+000263e0: 6561 6368 2064 6576 6963 6520 6569 7468  each device eith
+000263f0: 6572 2076 6961 206b 6579 776f 7264 2061  er via keyword a
+00026400: 7267 756d 656e 7420 6f72 206c 6973 742e  rgument or list.
+00026410: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00026420: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+00026430: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+00026440: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+00026450: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00026460: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+00026470: 706c 6174 666f 726d 2f64 6576 6963 655f  platform/device_
+00026480: 696e 7665 6e74 6f72 792f 7631 2f64 6576  inventory/v1/dev
+00026490: 6963 6573 2f76 6572 6966 7922 0a20 2020  ices/verify".   
+000264a0: 2020 2020 2069 6620 7365 7269 616c 5f6e       if serial_n
+000264b0: 756d 2061 6e64 206d 6163 5f61 6464 7265  um and mac_addre
+000264c0: 7373 3a0a 2020 2020 2020 2020 2020 2020  ss:.            
+000264d0: 6465 7669 6365 5f6c 6973 7420 2b3d 207b  device_list += {
+000264e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000264f0: 2022 7365 7269 616c 5f6e 756d 223a 2073   "serial_num": s
+00026500: 6572 6961 6c5f 6e75 6d2c 0a20 2020 2020  erial_num,.     
+00026510: 2020 2020 2020 2020 2020 2022 6d61 635f             "mac_
+00026520: 6164 6472 6573 7322 3a20 6d61 635f 6164  address": mac_ad
+00026530: 6472 6573 732c 0a20 2020 2020 2020 2020  dress,.         
+00026540: 2020 207d 0a0a 2020 2020 2020 2020 6966     }..        if
+00026550: 206e 6f74 2064 6576 6963 655f 6c69 7374   not device_list
+00026560: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+00026570: 6973 6520 5661 6c75 6545 7272 6f72 280a  ise ValueError(.
+00026580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026590: 2249 6e76 616c 6964 2070 6172 616d 6574  "Invalid paramet
+000265a0: 6572 7320 6578 7065 6374 696e 6720 7365  ers expecting se
+000265b0: 7269 616c 5f6e 756d 2061 6e64 206d 6163  rial_num and mac
+000265c0: 5f61 6464 7265 7373 2066 6f72 2065 6163  _address for eac
+000265d0: 6820 6465 7669 6365 2022 0a20 2020 2020  h device ".     
+000265e0: 2020 2020 2020 2020 2020 2022 6569 7468             "eith
+000265f0: 6572 2076 6961 206b 6579 776f 7264 2061  er via keyword a
+00026600: 7267 756d 656e 7420 6f72 204c 6973 745b  rgument or List[
+00026610: 6469 6374 5d2e 220a 2020 2020 2020 2020  dict].".        
+00026620: 2020 2020 290a 0a20 2020 2020 2020 2072      )..        r
+00026630: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00026640: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
+00026650: 6461 7461 3d64 6576 6963 655f 6c69 7374  data=device_list
+00026660: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+00026670: 2075 706c 6f61 645f 6365 7274 6966 6963   upload_certific
+00026680: 6174 6528 0a20 2020 2020 2020 2073 656c  ate(.        sel
+00026690: 662c 0a20 2020 2020 2020 2070 6173 7370  f,.        passp
+000266a0: 6872 6173 653a 2073 7472 203d 2022 222c  hrase: str = "",
+000266b0: 0a20 2020 2020 2020 2063 6572 745f 6669  .        cert_fi
+000266c0: 6c65 3a20 556e 696f 6e5b 7374 722c 2050  le: Union[str, P
+000266d0: 6174 685d 203d 204e 6f6e 652c 0a20 2020  ath] = None,.   
+000266e0: 2020 2020 2063 6572 745f 6e61 6d65 3a20       cert_name: 
+000266f0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00026700: 2020 2020 6365 7274 5f66 6f72 6d61 743a      cert_format:
+00026710: 204c 6974 6572 616c 5b22 5045 4d22 2c20   Literal["PEM", 
+00026720: 2244 4552 222c 2022 504b 4353 3132 225d  "DER", "PKCS12"]
+00026730: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00026740: 2063 6572 745f 6461 7461 3a20 7374 7220   cert_data: str 
+00026750: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00026760: 7365 7276 6572 5f63 6572 743a 2062 6f6f  server_cert: boo
+00026770: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
+00026780: 2020 2063 615f 6365 7274 3a20 626f 6f6c     ca_cert: bool
+00026790: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
+000267a0: 2020 6372 6c3a 2062 6f6f 6c20 3d20 4661    crl: bool = Fa
+000267b0: 6c73 652c 0a20 2020 2020 2020 2069 6e74  lse,.        int
+000267c0: 5f63 615f 6365 7274 3a20 626f 6f6c 203d  _ca_cert: bool =
+000267d0: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
+000267e0: 6f63 7370 5f72 6573 705f 6365 7274 3a20  ocsp_resp_cert: 
+000267f0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+00026800: 2020 2020 2020 6f63 7370 5f73 6967 6e65        ocsp_signe
+00026810: 725f 6365 7274 3a20 626f 6f6c 203d 2046  r_cert: bool = F
+00026820: 616c 7365 2c0a 2020 2020 2020 2020 7373  alse,.        ss
+00026830: 685f 7075 625f 6b65 793a 2062 6f6f 6c20  h_pub_key: bool 
+00026840: 3d20 4661 6c73 652c 0a20 2020 2029 202d  = False,.    ) -
+00026850: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00026860: 2020 2020 2222 2255 706c 6f61 6420 6120      """Upload a 
+00026870: 6365 7274 6966 6963 6174 652e 0a0a 2020  certificate...  
+00026880: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00026890: 2020 2020 2020 2020 7061 7373 7068 7261          passphra
+000268a0: 7365 2028 7374 7229 3a20 7061 7373 7068  se (str): passph
+000268b0: 7261 7365 0a20 2020 2020 2020 2020 2020  rase.           
+000268c0: 2063 6572 745f 6669 6c65 2028 5061 7468   cert_file (Path
+000268d0: 7c73 7472 2c20 6f70 7469 6f6e 616c 293a  |str, optional):
+000268e0: 2043 6572 7420 6669 6c65 2074 6f20 7570   Cert file to up
+000268f0: 6c6f 6164 2c20 6966 2066 696c 6520 6973  load, if file is
+00026900: 2070 726f 7669 6465 6420 6365 7274 5f6e   provided cert_n
+00026910: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
+00026920: 2020 2020 616e 6420 6365 7274 5f66 6f72      and cert_for
+00026930: 6d61 7420 7769 6c6c 2062 6520 6465 7269  mat will be deri
+00026940: 7665 6420 6672 6f6d 2066 696c 6520 6e61  ved from file na
+00026950: 6d65 202f 2065 7874 656e 7369 6f6e 2c20  me / extension, 
+00026960: 756e 6c65 7373 2074 686f 7365 2070 6172  unless those par
+00026970: 616d 730a 2020 2020 2020 2020 2020 2020  ams.            
+00026980: 2020 2020 6172 6520 616c 736f 2070 726f      are also pro
+00026990: 7669 6465 642e 0a20 2020 2020 2020 2020  vided..         
+000269a0: 2020 2063 6572 745f 6e61 6d65 2028 7374     cert_name (st
+000269b0: 722c 206f 7074 696f 6e61 6c29 3a20 5468  r, optional): Th
+000269c0: 6520 6e61 6d65 206f 6620 7468 6520 6365  e name of the ce
+000269d0: 7274 6966 6963 6174 652e 0a20 2020 2020  rtificate..     
+000269e0: 2020 2020 2020 2063 6572 745f 666f 726d         cert_form
+000269f0: 6174 2028 4c69 7465 7261 6c5b 2250 454d  at (Literal["PEM
+00026a00: 222c 2022 4445 5222 2c20 2250 4b43 5331  ", "DER", "PKCS1
+00026a10: 3222 5d2c 206f 7074 696f 6e61 6c29 3a20  2"], optional): 
+00026a20: 6365 7274 5f66 6f72 6d61 7420 2056 616c  cert_format  Val
+00026a30: 6964 2056 616c 7565 733a 2050 454d 2c20  id Values: PEM, 
+00026a40: 4445 522c 2050 4b43 5331 320a 2020 2020  DER, PKCS12.    
+00026a50: 2020 2020 2020 2020 6365 7274 5f64 6174          cert_dat
+00026a60: 6120 2873 7472 2c20 6f70 7469 6f6e 616c  a (str, optional
+00026a70: 293a 2043 6572 7469 6669 6361 7465 2063  ): Certificate c
+00026a80: 6f6e 7465 6e74 2065 6e63 6f64 6564 2069  ontent encoded i
+00026a90: 6e20 6261 7365 3634 2066 6f72 2061 6c6c  n base64 for all
+00026aa0: 2066 6f72 6d61 7420 6365 7274 6966 6963   format certific
+00026ab0: 6174 6573 2e0a 2020 2020 2020 2020 2020  ates..          
+00026ac0: 2020 7365 7276 6572 5f63 6572 7420 2862    server_cert (b
+00026ad0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+00026ae0: 5365 7420 746f 2054 7275 6520 6966 2063  Set to True if c
+00026af0: 6572 7420 6973 2061 2073 6572 7665 7220  ert is a server 
+00026b00: 6365 7274 6966 6963 6174 652e 2044 6566  certificate. Def
+00026b10: 6175 6c74 7320 746f 2046 616c 7365 2e0a  aults to False..
+00026b20: 2020 2020 2020 2020 2020 2020 6361 5f63              ca_c
+00026b30: 6572 7420 2862 6f6f 6c2c 206f 7074 696f  ert (bool, optio
+00026b40: 6e61 6c29 3a20 5365 7420 746f 2054 7275  nal): Set to Tru
+00026b50: 6520 6966 2063 6572 7420 6973 2061 2043  e if cert is a C
+00026b60: 4120 4365 7274 6966 6963 6174 652e 2044  A Certificate. D
+00026b70: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
+00026b80: 2e0a 2020 2020 2020 2020 2020 2020 6372  ..            cr
+00026b90: 6c20 2862 6f6f 6c2c 206f 7074 696f 6e61  l (bool, optiona
+00026ba0: 6c29 3a20 5365 7420 746f 2054 7275 6520  l): Set to True 
+00026bb0: 6966 2064 6174 6120 6973 2061 2063 6572  if data is a cer
+00026bc0: 7469 6669 6361 7465 2072 6576 6f63 6174  tificate revocat
+00026bd0: 696f 6e20 6c69 7374 2e20 4465 6661 756c  ion list. Defaul
+00026be0: 7473 2074 6f20 4661 6c73 652e 0a20 2020  ts to False..   
+00026bf0: 2020 2020 2020 2020 2069 6e74 5f63 615f           int_ca_
+00026c00: 6365 7274 2028 626f 6f6c 2c20 6f70 7469  cert (bool, opti
+00026c10: 6f6e 616c 293a 2053 6574 2074 6f20 5472  onal): Set to Tr
+00026c20: 7565 2069 6620 6365 7274 6966 6963 6174  ue if certificat
+00026c30: 6520 6973 2061 6e20 696e 7465 726d 6564  e is an intermed
+00026c40: 6961 7465 2043 4120 6365 7274 2e20 4465  iate CA cert. De
+00026c50: 6661 756c 7473 2074 6f20 4661 6c73 652e  faults to False.
+00026c60: 0a20 2020 2020 2020 2020 2020 206f 6373  .            ocs
+00026c70: 705f 7265 7370 5f63 6572 7420 2862 6f6f  p_resp_cert (boo
+00026c80: 6c2c 206f 7074 696f 6e61 6c29 3a20 5365  l, optional): Se
+00026c90: 7420 746f 2054 7275 6520 6966 2063 6572  t to True if cer
+00026ca0: 7469 6669 6361 7465 2069 7320 616e 204f  tificate is an O
+00026cb0: 4353 5020 7265 7370 6f6e 6465 7220 6365  CSP responder ce
+00026cc0: 7274 2e20 4465 6661 756c 7473 2074 6f20  rt. Defaults to 
+00026cd0: 4661 6c73 652e 0a20 2020 2020 2020 2020  False..         
+00026ce0: 2020 206f 6373 705f 7369 676e 6572 5f63     ocsp_signer_c
+00026cf0: 6572 7420 2862 6f6f 6c2c 206f 7074 696f  ert (bool, optio
+00026d00: 6e61 6c29 3a20 5365 7420 746f 2054 7275  nal): Set to Tru
+00026d10: 6520 6966 2063 6572 7469 6669 6361 7465  e if certificate
+00026d20: 2069 7320 616e 204f 4353 5020 7369 676e   is an OCSP sign
+00026d30: 6572 2063 6572 742e 2044 6566 6175 6c74  er cert. Default
+00026d40: 7320 746f 2046 616c 7365 2e0a 2020 2020  s to False..    
+00026d50: 2020 2020 2020 2020 7373 685f 7075 625f          ssh_pub_
+00026d60: 6b65 7920 2862 6f6f 6c2c 206f 7074 696f  key (bool, optio
+00026d70: 6e61 6c29 3a20 5365 7420 746f 2054 7275  nal): Set to Tru
+00026d80: 6520 6966 2063 6572 7469 6669 6361 7465  e if certificate
+00026d90: 2069 7320 616e 2053 5348 2050 7562 206b   is an SSH Pub k
+00026da0: 6579 2e20 4465 6661 756c 7473 2074 6f20  ey. Defaults to 
+00026db0: 4661 6c73 652e 0a20 2020 2020 2020 2020  False..         
+00026dc0: 2020 2020 2020 2073 7368 5f70 7562 5f6b         ssh_pub_k
+00026dd0: 6579 206e 6565 6473 2074 6f20 6265 2069  ey needs to be i
+00026de0: 6e20 5045 4d20 666f 726d 6174 2c20 7373  n PEM format, ss
+00026df0: 682d 7273 6120 6973 206e 6f74 2073 7570  h-rsa is not sup
+00026e00: 706f 7274 6564 2e0a 0a20 2020 2020 2020  ported...       
+00026e10: 2052 6169 7365 733a 0a20 2020 2020 2020   Raises:.       
+00026e20: 2020 2020 2056 616c 7565 4572 726f 723a       ValueError:
+00026e30: 2052 6169 7365 6420 6966 2069 6e76 616c   Raised if inval
+00026e40: 6964 2063 6f6d 6269 6e61 7469 6f6e 206f  id combination o
+00026e50: 6620 6172 6775 6d65 6e74 7320 6973 2070  f arguments is p
+00026e60: 726f 7669 6465 642e 0a0a 2020 2020 2020  rovided...      
+00026e70: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00026e80: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00026e90: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00026ea0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00026eb0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00026ec0: 2320 4150 492d 464c 4157 2041 5049 206d  # API-FLAW API m
+00026ed0: 6574 686f 642c 2050 5542 4c49 435f 4345  ethod, PUBLIC_CE
+00026ee0: 5254 2069 7320 6e6f 7420 6163 6365 7074  RT is not accept
+00026ef0: 6564 0a20 2020 2020 2020 2075 726c 203d  ed.        url =
+00026f00: 2022 2f63 6f6e 6669 6775 7261 7469 6f6e   "/configuration
+00026f10: 2f76 312f 6365 7274 6966 6963 6174 6573  /v1/certificates
+00026f20: 220a 2020 2020 2020 2020 7661 6c69 645f  ".        valid_
+00026f30: 7479 7065 7320 3d20 5b0a 2020 2020 2020  types = [.      
+00026f40: 2020 2020 2020 2253 4552 5645 525f 4345        "SERVER_CE
+00026f50: 5254 222c 0a20 2020 2020 2020 2020 2020  RT",.           
+00026f60: 2022 4341 5f43 4552 5422 2c0a 2020 2020   "CA_CERT",.    
+00026f70: 2020 2020 2020 2020 2243 524c 222c 0a20          "CRL",. 
+00026f80: 2020 2020 2020 2020 2020 2022 494e 5445             "INTE
+00026f90: 524d 4544 4941 5445 5f43 4122 2c0a 2020  RMEDIATE_CA",.  
+00026fa0: 2020 2020 2020 2020 2020 224f 4353 505f            "OCSP_
+00026fb0: 5245 5350 4f4e 4445 525f 4345 5254 222c  RESPONDER_CERT",
+00026fc0: 0a20 2020 2020 2020 2020 2020 2022 4f43  .            "OC
+00026fd0: 5350 5f53 4947 4e45 525f 4345 5254 222c  SP_SIGNER_CERT",
+00026fe0: 0a20 2020 2020 2020 2020 2020 2022 5055  .            "PU
+00026ff0: 424c 4943 5f43 4552 5422 0a20 2020 2020  BLIC_CERT".     
+00027000: 2020 205d 0a20 2020 2020 2020 2074 7970     ].        typ
+00027010: 655f 7661 7273 203d 205b 7365 7276 6572  e_vars = [server
+00027020: 5f63 6572 742c 2063 615f 6365 7274 2c20  _cert, ca_cert, 
+00027030: 6372 6c2c 2069 6e74 5f63 615f 6365 7274  crl, int_ca_cert
+00027040: 2c20 6f63 7370 5f72 6573 705f 6365 7274  , ocsp_resp_cert
+00027050: 2c20 6f63 7370 5f73 6967 6e65 725f 6365  , ocsp_signer_ce
+00027060: 7274 2c20 7373 685f 7075 625f 6b65 795d  rt, ssh_pub_key]
+00027070: 0a20 2020 2020 2020 2069 6620 7479 7065  .        if type
+00027080: 5f76 6172 732e 636f 756e 7428 5472 7565  _vars.count(True
+00027090: 2920 3e20 313a 0a20 2020 2020 2020 2020  ) > 1:.         
+000270a0: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
+000270b0: 726f 7228 2250 726f 7669 6465 6420 636f  ror("Provided co
+000270c0: 6e66 6c69 6374 696e 6720 6365 7274 6966  nflicting certif
+000270d0: 6963 6174 6520 7479 7065 732c 206f 6e6c  icate types, onl
+000270e0: 7920 3120 7368 6f75 6c64 2062 6520 7365  y 1 should be se
+000270f0: 7420 746f 2054 7275 652e 2229 0a20 2020  t to True.").   
+00027100: 2020 2020 2065 6c69 6620 616c 6c28 5b6e       elif all([n
+00027110: 6f74 2062 6f6f 6c28 7661 7229 2066 6f72  ot bool(var) for
+00027120: 2076 6172 2069 6e20 7479 7065 5f76 6172   var in type_var
+00027130: 735d 293a 0a20 2020 2020 2020 2020 2020  s]):.           
+00027140: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+00027150: 7228 224e 6f20 6365 7274 5f74 7970 6520  r("No cert_type 
+00027160: 7072 6f76 6964 6564 2c20 6f6e 6520 6f66  provided, one of
+00027170: 2074 6865 2063 6572 745f 7479 7065 7320   the cert_types 
+00027180: 7368 6f75 6c64 2062 6520 7365 7420 746f  should be set to
+00027190: 2054 7275 6522 290a 0a20 2020 2020 2020   True")..       
+000271a0: 2069 6620 6365 7274 5f66 6f72 6d61 7420   if cert_format 
+000271b0: 616e 6420 6365 7274 5f66 6f72 6d61 742e  and cert_format.
+000271c0: 7570 7065 7228 2920 6e6f 7420 696e 205b  upper() not in [
+000271d0: 2250 454d 222c 2022 4445 5222 2c20 2250  "PEM", "DER", "P
+000271e0: 4b43 5331 3222 5d3a 0a20 2020 2020 2020  KCS12"]:.       
+000271f0: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
+00027200: 4572 726f 7228 6622 496e 7661 6c69 6420  Error(f"Invalid 
+00027210: 6365 7274 5f66 6f72 6d61 7420 7b63 6572  cert_format {cer
+00027220: 745f 666f 726d 6174 7d2c 2076 616c 6964  t_format}, valid
+00027230: 2076 616c 7565 7320 6172 6520 2750 454d   values are 'PEM
+00027240: 272c 2027 4445 5227 2c20 2750 4b43 5331  ', 'DER', 'PKCS1
+00027250: 3227 2229 0a20 2020 2020 2020 2065 6c69  2'").        eli
+00027260: 6620 6e6f 7420 6365 7274 5f66 6f72 6d61  f not cert_forma
+00027270: 7420 616e 6420 6e6f 7420 6365 7274 5f66  t and not cert_f
+00027280: 696c 653a 0a20 2020 2020 2020 2020 2020  ile:.           
+00027290: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+000272a0: 7228 2263 6572 745f 666f 726d 6174 2069  r("cert_format i
+000272b0: 7320 7265 7175 6972 6564 2077 6865 6e20  s required when 
+000272c0: 6e6f 7420 7072 6f76 6964 696e 6720 6365  not providing ce
+000272d0: 7274 6966 6963 6174 6520 7669 6120 6669  rtificate via fi
+000272e0: 6c65 2e22 290a 0a20 2020 2020 2020 2069  le.")..        i
+000272f0: 6620 6e6f 7420 6365 7274 5f64 6174 6120  f not cert_data 
+00027300: 616e 6420 6e6f 7420 6365 7274 5f66 696c  and not cert_fil
+00027310: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00027320: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
+00027330: 224f 6e65 206f 6620 6365 7274 5f66 696c  "One of cert_fil
+00027340: 6520 6f72 2063 6572 745f 6461 7461 2073  e or cert_data s
+00027350: 686f 756c 6420 6265 2070 726f 7669 6465  hould be provide
+00027360: 6422 290a 2020 2020 2020 2020 656c 6966  d").        elif
+00027370: 2063 6572 745f 6461 7461 2061 6e64 2063   cert_data and c
+00027380: 6572 745f 6669 6c65 3a0a 2020 2020 2020  ert_file:.      
+00027390: 2020 2020 2020 7261 6973 6520 5661 6c75        raise Valu
+000273a0: 6545 7272 6f72 2822 4f6e 6c79 206f 6e65  eError("Only one
+000273b0: 206f 6620 6365 7274 5f66 696c 6520 616e   of cert_file an
+000273c0: 6420 6365 7274 5f64 6174 6120 7368 6f75  d cert_data shou
+000273d0: 6c64 2062 6520 7072 6f76 6964 6564 2229  ld be provided")
+000273e0: 0a0a 2020 2020 2020 2020 666f 7220 6365  ..        for ce
+000273f0: 7274 5f74 7970 652c 2076 6172 2069 6e20  rt_type, var in 
+00027400: 7a69 7028 7661 6c69 645f 7479 7065 732c  zip(valid_types,
+00027410: 2074 7970 655f 7661 7273 293a 0a20 2020   type_vars):.   
+00027420: 2020 2020 2020 2020 2069 6620 7661 723a           if var:
+00027430: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00027440: 2062 7265 616b 0a0a 2020 2020 2020 2020   break..        
+00027450: 6966 2063 6572 745f 6669 6c65 3a0a 2020  if cert_file:.  
+00027460: 2020 2020 2020 2020 2020 6365 7274 5f66            cert_f
+00027470: 696c 6520 3d20 5061 7468 2863 6572 745f  ile = Path(cert_
+00027480: 6669 6c65 2920 6966 206e 6f74 2069 7369  file) if not isi
+00027490: 6e73 7461 6e63 6528 6365 7274 5f66 696c  nstance(cert_fil
+000274a0: 652c 2050 6174 6829 2065 6c73 6520 6365  e, Path) else ce
+000274b0: 7274 5f66 696c 650a 2020 2020 2020 2020  rt_file.        
+000274c0: 2020 2020 6365 7274 5f6e 616d 6520 3d20      cert_name = 
+000274d0: 6365 7274 5f6e 616d 6520 6f72 2063 6572  cert_name or cer
+000274e0: 745f 6669 6c65 2e73 7465 6d0a 2020 2020  t_file.stem.    
+000274f0: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
+00027500: 6572 745f 666f 726d 6174 3a0a 2020 2020  ert_format:.    
+00027510: 2020 2020 2020 2020 2020 2020 6966 2063              if c
+00027520: 6572 745f 6669 6c65 2e73 7566 6669 782e  ert_file.suffix.
+00027530: 6c6f 7765 7228 2920 696e 205b 222e 7066  lower() in [".pf
+00027540: 7822 2c20 222e 7031 3222 5d3a 0a20 2020  x", ".p12"]:.   
+00027550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027560: 2063 6572 745f 666f 726d 6174 203d 2022   cert_format = "
+00027570: 504b 4353 3132 220a 2020 2020 2020 2020  PKCS12".        
+00027580: 2020 2020 2020 2020 656c 6966 2063 6572          elif cer
+00027590: 745f 6669 6c65 2e73 7566 6669 782e 6c6f  t_file.suffix.lo
+000275a0: 7765 7228 2920 696e 205b 222e 7065 6d22  wer() in [".pem"
+000275b0: 2c20 222e 6365 7222 5d3a 0a20 2020 2020  , ".cer"]:.     
+000275c0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+000275d0: 6572 745f 666f 726d 6174 203d 2022 5045  ert_format = "PE
+000275e0: 4d22 0a20 2020 2020 2020 2020 2020 2020  M".             
+000275f0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00027600: 2020 2020 2020 2020 2020 2020 2023 2054               # T
+00027610: 4f44 4f20 6465 7465 726d 696e 6520 666f  ODO determine fo
+00027620: 726d 6174 2075 7369 6e67 2063 7279 7074  rmat using crypt
+00027630: 6f67 7261 7068 7920 6c69 620a 2020 2020  ography lib.    
+00027640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027650: 6365 7274 5f66 6f72 6d61 7420 3d20 2244  cert_format = "D
+00027660: 4552 220a 2020 2020 2020 2020 2020 2020  ER".            
+00027670: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00027680: 2020 2020 2020 6365 7274 5f66 6f72 6d61        cert_forma
+00027690: 7420 3d20 6365 7274 5f66 6f72 6d61 742e  t = cert_format.
+000276a0: 7570 7065 7228 290a 0a20 2020 2020 2020  upper()..       
+000276b0: 2020 2020 2063 6572 745f 6461 7461 203d       cert_data =
+000276c0: 2063 6572 745f 6669 6c65 2e72 6561 645f   cert_file.read_
+000276d0: 7465 7874 2829 0a0a 2020 2020 2020 2020  text()..        
+000276e0: 6365 7274 5f62 7974 6573 203d 2063 6572  cert_bytes = cer
+000276f0: 745f 6461 7461 2e65 6e63 6f64 6528 2275  t_data.encode("u
+00027700: 7466 2d38 2229 0a20 2020 2020 2020 2063  tf-8").        c
+00027710: 6572 745f 6236 3420 3d20 6261 7365 3634  ert_b64 = base64
+00027720: 2e62 3634 656e 636f 6465 2863 6572 745f  .b64encode(cert_
+00027730: 6279 7465 7329 2e64 6563 6f64 6528 2275  bytes).decode("u
+00027740: 7466 2d38 2229 0a0a 2020 2020 2020 2020  tf-8")..        
+00027750: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
+00027760: 2020 2020 2020 2020 2020 2763 6572 745f            'cert_
+00027770: 6e61 6d65 273a 2063 6572 745f 6e61 6d65  name': cert_name
+00027780: 2c0a 2020 2020 2020 2020 2020 2020 2763  ,.            'c
+00027790: 6572 745f 7479 7065 273a 2063 6572 745f  ert_type': cert_
+000277a0: 7479 7065 2c0a 2020 2020 2020 2020 2020  type,.          
+000277b0: 2020 2763 6572 745f 666f 726d 6174 273a    'cert_format':
+000277c0: 2063 6572 745f 666f 726d 6174 2c0a 2020   cert_format,.  
+000277d0: 2020 2020 2020 2020 2020 2770 6173 7370            'passp
+000277e0: 6872 6173 6527 3a20 7061 7373 7068 7261  hrase': passphra
+000277f0: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
+00027800: 2763 6572 745f 6461 7461 273a 2063 6572  'cert_data': cer
+00027810: 745f 6236 340a 2020 2020 2020 2020 7d0a  t_b64.        }.
+00027820: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00027830: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
+00027840: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+00027850: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
+00027860: 7379 6e63 2064 6566 2067 6574 5f73 7562  sync def get_sub
+00027870: 7363 7269 7074 696f 6e73 280a 2020 2020  scriptions(.    
+00027880: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00027890: 2020 6c69 6365 6e73 655f 7479 7065 3a20    license_type: 
+000278a0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+000278b0: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
+000278c0: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
+000278d0: 6974 3a20 696e 7420 3d20 3130 3030 2c20  it: int = 1000, 
+000278e0: 2023 2044 6f65 736e 2774 2061 7070 6561   # Doesn't appea
+000278f0: 7220 746f 2068 6176 6520 6d61 782c 2061  r to have max, a
+00027900: 6c6c 6f77 6564 2031 306b 206c 696d 6974  llowed 10k limit
+00027910: 2069 6e20 7377 6167 6765 720a 2020 2020   in swagger.    
+00027920: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00027930: 2020 2020 2020 2022 2222 4765 7420 7573         """Get us
+00027940: 6572 2073 7562 7363 7269 7074 696f 6e20  er subscription 
+00027950: 6b65 7973 2e0a 0a20 2020 2020 2020 2041  keys...        A
+00027960: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00027970: 206c 6963 656e 7365 5f74 7970 6520 2873   license_type (s
+00027980: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
+00027990: 7570 706f 7274 7320 4261 7369 632c 2053  upports Basic, S
+000279a0: 6572 7669 6365 2054 6f6b 656e 2061 6e64  ervice Token and
+000279b0: 204d 756c 7469 2054 6965 7220 6c69 6365   Multi Tier lice
+000279c0: 6e73 696e 670a 2020 2020 2020 2020 2020  nsing.          
+000279d0: 2020 2020 2020 7479 7065 7320 6173 2077        types as w
+000279e0: 656c 6c0a 2020 2020 2020 2020 2020 2020  ell.            
+000279f0: 6f66 6673 6574 2028 696e 742c 206f 7074  offset (int, opt
+00027a00: 696f 6e61 6c29 3a20 6f66 6673 6574 206f  ional): offset o
+00027a10: 7220 7061 6765 206e 756d 6265 7220 4465  r page number De
+00027a20: 6661 756c 7473 2074 6f20 302e 0a20 2020  faults to 0..   
+00027a30: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
+00027a40: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+00027a50: 4e75 6d62 6572 206f 6620 7375 6273 6372  Number of subscr
+00027a60: 6970 7469 6f6e 7320 746f 2067 6574 2044  iptions to get D
+00027a70: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
+00027a80: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00027a90: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00027aa0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+00027ab0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+00027ac0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00027ad0: 2020 2020 2020 2075 726c 203d 2022 2f70         url = "/p
+00027ae0: 6c61 7466 6f72 6d2f 6c69 6365 6e73 696e  latform/licensin
+00027af0: 672f 7631 2f73 7562 7363 7269 7074 696f  g/v1/subscriptio
+00027b00: 6e73 220a 0a20 2020 2020 2020 2070 6172  ns"..        par
+00027b10: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
+00027b20: 2020 2020 276c 6963 656e 7365 5f74 7970      'license_typ
+00027b30: 6527 3a20 6c69 6365 6e73 655f 7479 7065  e': license_type
+00027b40: 2c0a 2020 2020 2020 2020 2020 2020 276f  ,.            'o
+00027b50: 6666 7365 7427 3a20 6f66 6673 6574 2c0a  ffset': offset,.
+00027b60: 2020 2020 2020 2020 2020 2020 276c 696d              'lim
+00027b70: 6974 273a 206c 696d 6974 0a20 2020 2020  it': limit.     
+00027b80: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
+00027b90: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00027ba0: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
+00027bb0: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
+00027bc0: 6e63 2064 6566 2067 6574 5f73 7562 7363  nc def get_subsc
+00027bd0: 7269 7074 696f 6e5f 7374 6174 7328 0a20  ription_stats(. 
+00027be0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00027bf0: 2020 2020 206c 6963 656e 7365 5f74 7970       license_typ
+00027c00: 653a 2073 7472 203d 2027 616c 6c27 2c0a  e: str = 'all',.
+00027c10: 2020 2020 2020 2020 7365 7276 6963 653a          service:
+00027c20: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00027c30: 2020 2020 2061 7070 5f6f 6e6c 795f 7374       app_only_st
+00027c40: 6174 733a 2062 6f6f 6c20 3d20 4e6f 6e65  ats: bool = None
+00027c50: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+00027c60: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+00027c70: 4765 7420 7375 6273 6372 6970 7469 6f6e  Get subscription
+00027c80: 2073 7461 7473 2e0a 0a20 2020 2020 2020   stats...       
+00027c90: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+00027ca0: 2020 206c 6963 656e 7365 5f74 7970 6520     license_type 
+00027cb0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00027cc0: 2053 7570 706f 7274 7320 6261 7369 632f   Supports basic/
+00027cd0: 7370 6563 6961 6c2f 616c 6c2e 0a20 2020  special/all..   
+00027ce0: 2020 2020 2020 2020 2020 2020 2073 7065               spe
+00027cf0: 6369 616c 202d 2077 696c 6c20 6665 7463  cial - will fetc
+00027d00: 6820 7468 6520 7374 6174 6973 7469 6373  h the statistics
+00027d10: 206f 6620 7370 6563 6961 6c20 6365 6e74   of special cent
+00027d20: 7261 6c20 7365 7276 6963 6573 206c 696b  ral services lik
+00027d30: 6520 7072 6573 656e 6365 0a20 2020 2020  e presence.     
+00027d40: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00027d50: 6e61 6c79 7469 6373 2870 6129 2c20 7563  nalytics(pa), uc
+00027d60: 632c 2063 6c61 7269 7479 2065 7463 2e0a  c, clarity etc..
+00027d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027d80: 6261 7369 6320 2d20 7769 6c6c 2066 6574  basic - will fet
+00027d90: 6368 2074 6865 2073 7461 7469 7374 6963  ch the statistic
+00027da0: 7320 6f66 2064 6576 6963 6520 6d61 6e61  s of device mana
+00027db0: 6765 6d65 6e74 2073 6572 7669 6365 206c  gement service l
+00027dc0: 6963 656e 7365 732e 0a20 2020 2020 2020  icenses..       
+00027dd0: 2020 2020 2020 2020 2061 6c6c 202d 2077           all - w
+00027de0: 696c 6c20 6665 7463 6820 626f 7468 206f  ill fetch both o
+00027df0: 6620 7468 6573 6520 6c69 6365 6e73 6520  f these license 
+00027e00: 7479 7065 732e 0a0a 2020 2020 2020 2020  types...        
+00027e10: 2020 2020 2020 2020 416c 736f 2073 7570          Also sup
+00027e20: 706f 7274 7320 6d75 6c74 6920 7469 6572  ports multi tier
+00027e30: 206c 6963 656e 7365 2074 7970 6573 2073   license types s
+00027e40: 7563 6820 666f 756e 6461 7469 6f6e 5f61  uch foundation_a
+00027e50: 702c 2061 6476 616e 6365 645f 7377 6974  p, advanced_swit
+00027e60: 6368 5f36 3330 302c 0a20 2020 2020 2020  ch_6300,.       
+00027e70: 2020 2020 2020 2020 2066 6f75 6e64 6174           foundat
+00027e80: 696f 6e5f 3730 5858 2065 7463 2e0a 0a20  ion_70XX etc... 
+00027e90: 2020 2020 2020 2020 2020 2073 6572 7669             servi
+00027ea0: 6365 2028 7374 722c 206f 7074 696f 6e61  ce (str, optiona
+00027eb0: 6c29 3a20 5365 7276 6963 6520 7479 7065  l): Service type
+00027ec0: 3a20 7061 2f70 612c 636c 6172 6974 792c  : pa/pa,clarity,
+00027ed0: 666f 756e 6461 7469 6f6e 5f61 702c 0a20  foundation_ap,. 
+00027ee0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00027ef0: 6476 616e 6365 645f 7377 6974 6368 5f36  dvanced_switch_6
+00027f00: 3330 302c 2066 6f75 6e64 6174 696f 6e5f  300, foundation_
+00027f10: 3730 5858 2020 6574 632e 0a20 2020 2020  70XX  etc..     
+00027f20: 2020 2020 2020 2061 7070 5f6f 6e6c 795f         app_only_
+00027f30: 7374 6174 7320 2862 6f6f 6c2c 206f 7074  stats (bool, opt
+00027f40: 696f 6e61 6c29 3a20 4966 2076 616c 7565  ional): If value
+00027f50: 2069 7320 5472 7565 2c20 7374 6174 7320   is True, stats 
+00027f60: 6f6e 6c79 2066 6f72 2074 6865 2063 7572  only for the cur
+00027f70: 7265 6e74 0a20 2020 2020 2020 2020 2020  rent.           
+00027f80: 2020 2020 2061 7070 6c69 6361 7469 6f6e       application
+00027f90: 2072 6574 7572 6e65 6420 7261 7468 6572   returned rather
+00027fa0: 2074 6861 6e20 676c 6f62 616c 2073 7461   than global sta
+00027fb0: 7473 0a0a 2020 2020 2020 2020 5265 7475  ts..        Retu
+00027fc0: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00027fd0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00027fe0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00027ff0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00028000: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00028010: 222f 706c 6174 666f 726d 2f6c 6963 656e  "/platform/licen
+00028020: 7369 6e67 2f76 312f 7375 6273 6372 6970  sing/v1/subscrip
+00028030: 7469 6f6e 732f 7374 6174 7322 0a0a 2020  tions/stats"..  
+00028040: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+00028050: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
+00028060: 6365 6e73 655f 7479 7065 273a 206c 6963  cense_type': lic
+00028070: 656e 7365 5f74 7970 652c 0a20 2020 2020  ense_type,.     
+00028080: 2020 2020 2020 2027 7365 7276 6963 6527         'service'
+00028090: 3a20 7365 7276 6963 652c 0a20 2020 2020  : service,.     
+000280a0: 2020 2020 2020 2027 6170 705f 6f6e 6c79         'app_only
+000280b0: 5f73 7461 7473 273a 2061 7070 5f6f 6e6c  _stats': app_onl
+000280c0: 795f 7374 6174 730a 2020 2020 2020 2020  y_stats.        
+000280d0: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+000280e0: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+000280f0: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
+00028100: 616d 7329 0a0a 2020 2020 2320 4150 492d  ams)..    # API-
+00028110: 4e4f 5445 3a20 6772 6162 7320 416c 6c20  NOTE: grabs All 
+00028120: 7661 6c69 6420 6c69 6365 6e73 6520 7479  valid license ty
+00028130: 7065 732c 2064 6973 706c 6179 206e 616d  pes, display nam
+00028140: 6573 2e2e 2e0a 2020 2020 6173 796e 6320  es....    async 
+00028150: 6465 6620 6765 745f 7365 7276 6963 6573  def get_services
+00028160: 5f63 6f6e 6669 6728 0a20 2020 2020 2020  _config(.       
+00028170: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
+00028180: 6572 7669 6365 5f63 6174 6567 6f72 793a  ervice_category:
+00028190: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+000281a0: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
+000281b0: 3a20 7374 7220 3d20 4e6f 6e65 0a20 2020  : str = None.   
+000281c0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+000281d0: 2020 2020 2020 2020 2222 2247 6574 2073          """Get s
+000281e0: 6572 7669 6365 7320 6c69 6365 6e73 696e  ervices licensin
+000281f0: 6720 636f 6e66 6967 2e0a 0a20 2020 2020  g config...     
+00028200: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00028210: 2020 2020 2073 6572 7669 6365 5f63 6174       service_cat
+00028220: 6567 6f72 7920 2873 7472 2c20 6f70 7469  egory (str, opti
+00028230: 6f6e 616c 293a 2053 6572 7669 6365 2063  onal): Service c
+00028240: 6174 6567 6f72 7920 2d20 646d 2f6e 6574  ategory - dm/net
+00028250: 776f 726b 0a20 2020 2020 2020 2020 2020  work.           
+00028260: 2064 6576 6963 655f 7479 7065 2028 7374   device_type (st
+00028270: 722c 206f 7074 696f 6e61 6c29 3a20 4465  r, optional): De
+00028280: 7669 6365 2054 7970 6520 2d20 6961 702f  vice Type - iap/
+00028290: 6361 702f 7377 6974 6368 2f62 6f63 2f63  cap/switch/boc/c
+000282a0: 6f6e 7472 6f6c 6c65 720a 0a20 2020 2020  ontroller..     
+000282b0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+000282c0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+000282d0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+000282e0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+000282f0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00028300: 2075 726c 203d 2022 2f70 6c61 7466 6f72   url = "/platfor
+00028310: 6d2f 6c69 6365 6e73 696e 672f 7631 2f73  m/licensing/v1/s
+00028320: 6572 7669 6365 732f 636f 6e66 6967 220a  ervices/config".
+00028330: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
+00028340: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+00028350: 2773 6572 7669 6365 5f63 6174 6567 6f72  'service_categor
+00028360: 7927 3a20 7365 7276 6963 655f 6361 7465  y': service_cate
+00028370: 676f 7279 2c0a 2020 2020 2020 2020 2020  gory,.          
+00028380: 2020 2764 6576 6963 655f 7479 7065 273a    'device_type':
+00028390: 2064 6576 6963 655f 7479 7065 0a20 2020   device_type.   
+000283a0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+000283b0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+000283c0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
+000283d0: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
+000283e0: 7379 6e63 2064 6566 2061 7373 6967 6e5f  sync def assign_
+000283f0: 6c69 6365 6e73 6573 2873 656c 662c 2073  licenses(self, s
+00028400: 6572 6961 6c73 3a20 556e 696f 6e5b 7374  erials: Union[st
+00028410: 722c 204c 6973 745b 7374 725d 5d2c 2073  r, List[str]], s
+00028420: 6572 7669 6365 733a 2055 6e69 6f6e 5b73  ervices: Union[s
+00028430: 7472 2c20 4c69 7374 5b73 7472 5d5d 2920  tr, List[str]]) 
+00028440: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00028450: 2020 2020 2022 2222 4173 7369 676e 2073       """Assign s
+00028460: 7562 7363 7269 7074 696f 6e20 746f 2061  ubscription to a
+00028470: 2064 6576 6963 652e 0a0a 2020 2020 2020   device...      
+00028480: 2020 2f2f 2055 7365 6420 696e 6469 7265    // Used indire
+00028490: 6374 6c79 2062 7920 6164 6420 6465 7669  ctly by add devi
+000284a0: 6365 2077 6865 6e20 2d2d 6c69 6365 6e73  ce when --licens
+000284b0: 6520 3c6c 6963 656e 7365 3e20 6973 2070  e <license> is p
+000284c0: 726f 7669 6465 6420 616e 6420 6261 7463  rovided and batc
+000284d0: 6820 6164 6420 6465 7669 6365 7320 7769  h add devices wi
+000284e0: 7468 206c 6963 656e 7365 202f 2f0a 0a20  th license //.. 
+000284f0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00028500: 2020 2020 2020 2020 2073 6572 6961 6c73           serials
+00028510: 2028 7374 7220 7c20 4c69 7374 5b73 7472   (str | List[str
+00028520: 5d29 3a20 4c69 7374 206f 6620 7365 7269  ]): List of seri
+00028530: 616c 206e 756d 6265 7220 6f66 2064 6576  al number of dev
+00028540: 6963 652e 0a20 2020 2020 2020 2020 2020  ice..           
+00028550: 2073 6572 7669 6365 7320 2873 7472 207c   services (str |
+00028560: 204c 6973 745b 7374 725d 293a 204c 6973   List[str]): Lis
+00028570: 7420 6f66 2073 6572 7669 6365 206e 616d  t of service nam
+00028580: 6573 2e20 4361 6c6c 2073 6572 7669 6365  es. Call service
+00028590: 732f 636f 6e66 6967 2041 5049 2074 6f20  s/config API to 
+000285a0: 6765 7420 7468 6520 6c69 7374 206f 660a  get the list of.
+000285b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000285c0: 7661 6c69 6420 7365 7276 6963 6520 6e61  valid service na
+000285d0: 6d65 732e 0a0a 2020 2020 2020 2020 5265  mes...        Re
+000285e0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+000285f0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00028600: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00028610: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00028620: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00028630: 3d20 222f 706c 6174 666f 726d 2f6c 6963  = "/platform/lic
+00028640: 656e 7369 6e67 2f76 312f 7375 6273 6372  ensing/v1/subscr
+00028650: 6970 7469 6f6e 732f 6173 7369 676e 220a  iptions/assign".
+00028660: 2020 2020 2020 2020 7365 7269 616c 7320          serials 
+00028670: 3d20 7574 696c 732e 6c69 7374 6966 7928  = utils.listify(
+00028680: 7365 7269 616c 7329 0a20 2020 2020 2020  serials).       
+00028690: 2073 6572 7669 6365 7320 3d20 7574 696c   services = util
+000286a0: 732e 6c69 7374 6966 7928 7365 7276 6963  s.listify(servic
+000286b0: 6573 290a 0a20 2020 2020 2020 206a 736f  es)..        jso
+000286c0: 6e5f 6461 7461 203d 207b 0a20 2020 2020  n_data = {.     
+000286d0: 2020 2020 2020 2027 7365 7269 616c 7327         'serials'
+000286e0: 3a20 7365 7269 616c 732c 0a20 2020 2020  : serials,.     
+000286f0: 2020 2020 2020 2027 7365 7276 6963 6573         'services
+00028700: 273a 2073 6572 7669 6365 730a 2020 2020  ': services.    
+00028710: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+00028720: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00028730: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
+00028740: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
+00028750: 0a20 2020 2061 7379 6e63 2064 6566 2075  .    async def u
+00028760: 6e61 7373 6967 6e5f 6c69 6365 6e73 6573  nassign_licenses
+00028770: 2873 656c 662c 2073 6572 6961 6c73 3a20  (self, serials: 
+00028780: 556e 696f 6e5b 7374 722c 204c 6973 745b  Union[str, List[
+00028790: 7374 725d 5d2c 2073 6572 7669 6365 733a  str]], services:
+000287a0: 2055 6e69 6f6e 5b73 7472 2c20 4c69 7374   Union[str, List
+000287b0: 5b73 7472 5d5d 2920 2d3e 2052 6573 706f  [str]]) -> Respo
+000287c0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+000287d0: 556e 6173 7369 676e 2073 7562 7363 7269  Unassign subscri
+000287e0: 7074 696f 6e28 7329 2066 726f 6d20 6465  ption(s) from de
+000287f0: 7669 6365 2873 292e 0a0a 2020 2020 2020  vice(s)...      
+00028800: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00028810: 2020 2020 7365 7269 616c 7320 2873 7472      serials (str
+00028820: 207c 204c 6973 745b 7374 725d 293a 204c   | List[str]): L
+00028830: 6973 7420 6f66 2073 6572 6961 6c20 6e75  ist of serial nu
+00028840: 6d62 6572 206f 6620 6465 7669 6365 2e0a  mber of device..
+00028850: 2020 2020 2020 2020 2020 2020 7365 7276              serv
+00028860: 6963 6573 2028 7374 7220 7c20 4c69 7374  ices (str | List
+00028870: 5b73 7472 5d29 3a20 4c69 7374 206f 6620  [str]): List of 
+00028880: 7365 7276 6963 6520 6e61 6d65 732e 2043  service names. C
+00028890: 616c 6c20 7365 7276 6963 6573 2f63 6f6e  all services/con
+000288a0: 6669 6720 4150 4920 746f 2067 6574 2074  fig API to get t
+000288b0: 6865 206c 6973 7420 6f66 0a20 2020 2020  he list of.     
+000288c0: 2020 2020 2020 2020 2020 2076 616c 6964             valid
+000288d0: 2073 6572 7669 6365 206e 616d 6573 2e0a   service names..
+000288e0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+000288f0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00028900: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+00028910: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+00028920: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00028930: 2020 2020 2020 2075 726c 203d 2022 2f70         url = "/p
+00028940: 6c61 7466 6f72 6d2f 6c69 6365 6e73 696e  latform/licensin
+00028950: 672f 7631 2f73 7562 7363 7269 7074 696f  g/v1/subscriptio
+00028960: 6e73 2f75 6e61 7373 6967 6e22 0a20 2020  ns/unassign".   
+00028970: 2020 2020 2073 6572 6961 6c73 203d 2075       serials = u
+00028980: 7469 6c73 2e6c 6973 7469 6679 2873 6572  tils.listify(ser
+00028990: 6961 6c73 290a 2020 2020 2020 2020 7365  ials).        se
+000289a0: 7276 6963 6573 203d 2075 7469 6c73 2e6c  rvices = utils.l
+000289b0: 6973 7469 6679 2873 6572 7669 6365 7329  istify(services)
+000289c0: 0a0a 2020 2020 2020 2020 6a73 6f6e 5f64  ..        json_d
+000289d0: 6174 6120 3d20 7b0a 2020 2020 2020 2020  ata = {.        
+000289e0: 2020 2020 2773 6572 6961 6c73 273a 2073      'serials': s
+000289f0: 6572 6961 6c73 2c0a 2020 2020 2020 2020  erials,.        
+00028a00: 2020 2020 2773 6572 7669 6365 7327 3a20      'services': 
+00028a10: 7365 7276 6963 6573 0a20 2020 2020 2020  services.       
+00028a20: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
+00028a30: 726e 2061 7761 6974 2073 656c 662e 706f  rn await self.po
+00028a40: 7374 2875 726c 2c20 6a73 6f6e 5f64 6174  st(url, json_dat
+00028a50: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
+00028a60: 2020 2320 544f 444f 2062 7569 6c64 2061    # TODO build a
+00028a70: 6767 7265 6761 746f 7220 746f 2072 756e  ggregator to run
+00028a80: 2072 6570 6f72 7420 7368 6f77 696e 6720   report showing 
+00028a90: 726f 6775 6573 2f69 6e74 6572 6665 7269  rogues/interferi
+00028aa0: 6e67 2f6e 6569 6768 626f 7273 0a20 2020  ng/neighbors.   
+00028ab0: 2023 2061 7379 6e63 2064 6566 2077 6964   # async def wid
+00028ac0: 735f 6765 745f 616c 6c28 7365 6c66 293a  s_get_all(self):
+00028ad0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+00028ae0: 7769 6473 5f67 6574 5f72 6f67 7565 5f61  wids_get_rogue_a
+00028af0: 7073 280a 2020 2020 2020 2020 7365 6c66  ps(.        self
+00028b00: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
+00028b10: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
+00028b20: 652c 0a20 2020 2020 2020 206c 6162 656c  e,.        label
+00028b30: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
+00028b40: 6e65 2c0a 2020 2020 2020 2020 7369 7465  ne,.        site
+00028b50: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
+00028b60: 6e65 2c0a 2020 2020 2020 2020 7374 6172  ne,.        star
+00028b70: 743a 2069 6e74 203d 204e 6f6e 652c 0a20  t: int = None,. 
+00028b80: 2020 2020 2020 2065 6e64 3a20 696e 7420         end: int 
+00028b90: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00028ba0: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
+00028bb0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6672  None,.        fr
+00028bc0: 6f6d 5f74 696d 6573 7461 6d70 3a20 696e  om_timestamp: in
+00028bd0: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
+00028be0: 2020 746f 5f74 696d 6573 7461 6d70 3a20    to_timestamp: 
+00028bf0: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
+00028c00: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
+00028c10: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
+00028c20: 6974 3a20 696e 7420 3d20 3130 300a 2020  it: int = 100.  
+00028c30: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+00028c40: 0a20 2020 2020 2020 2022 2222 4c69 7374  .        """List
+00028c50: 2052 6f67 7565 2041 5073 2e0a 0a20 2020   Rogue APs...   
+00028c60: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00028c70: 2020 2020 2020 2067 726f 7570 2028 4c69         group (Li
+00028c80: 7374 5b73 7472 5d2c 206f 7074 696f 6e61  st[str], optiona
+00028c90: 6c29 3a20 4c69 7374 206f 6620 6772 6f75  l): List of grou
+00028ca0: 7020 6e61 6d65 730a 2020 2020 2020 2020  p names.        
+00028cb0: 2020 2020 6c61 6265 6c20 284c 6973 745b      label (List[
+00028cc0: 7374 725d 2c20 6f70 7469 6f6e 616c 293a  str], optional):
+00028cd0: 204c 6973 7420 6f66 206c 6162 656c 206e   List of label n
+00028ce0: 616d 6573 0a20 2020 2020 2020 2020 2020  ames.           
+00028cf0: 2073 6974 6520 284c 6973 745b 7374 725d   site (List[str]
+00028d00: 2c20 6f70 7469 6f6e 616c 293a 204c 6973  , optional): Lis
+00028d10: 7420 6f66 2073 6974 6520 6e61 6d65 730a  t of site names.
+00028d20: 2020 2020 2020 2020 2020 2020 7374 6172              star
+00028d30: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
+00028d40: 293a 204e 6565 6420 696e 666f 726d 6174  ): Need informat
+00028d50: 696f 6e20 6672 6f6d 2074 6869 7320 7469  ion from this ti
+00028d60: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
+00028d70: 6d70 2069 7320 6570 6f63 6820 696e 0a20  mp is epoch in. 
+00028d80: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00028d90: 696c 6c69 7365 636f 6e64 732e 2044 6566  illiseconds. Def
+00028da0: 6175 6c74 2069 7320 6375 7272 656e 7420  ault is current 
+00028db0: 7469 6d65 7374 616d 7020 6d69 6e75 7320  timestamp minus 
+00028dc0: 3320 686f 7572 730a 2020 2020 2020 2020  3 hours.        
+00028dd0: 2020 2020 656e 6420 2869 6e74 2c20 6f70      end (int, op
+00028de0: 7469 6f6e 616c 293a 204e 6565 6420 696e  tional): Need in
+00028df0: 666f 726d 6174 696f 6e20 746f 2074 6869  formation to thi
+00028e00: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
+00028e10: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
+00028e20: 696e 0a20 2020 2020 2020 2020 2020 2020  in.             
+00028e30: 2020 206d 696c 6c69 7365 636f 6e64 732e     milliseconds.
+00028e40: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
+00028e50: 656e 7420 7469 6d65 7374 616d 700a 2020  ent timestamp.  
+00028e60: 2020 2020 2020 2020 2020 7377 6172 6d5f            swarm_
+00028e70: 6964 2028 7374 722c 206f 7074 696f 6e61  id (str, optiona
+00028e80: 6c29 3a20 4669 6c74 6572 2062 7920 5377  l): Filter by Sw
+00028e90: 6172 6d20 4944 0a20 2020 2020 2020 2020  arm ID.         
+00028ea0: 2020 2066 726f 6d5f 7469 6d65 7374 616d     from_timestam
+00028eb0: 7020 2869 6e74 2c20 6f70 7469 6f6e 616c  p (int, optional
+00028ec0: 293a 2054 6869 7320 7061 7261 6d65 7465  ): This paramete
+00028ed0: 7220 7375 7065 7263 6564 6573 2073 7461  r supercedes sta
+00028ee0: 7274 2070 6172 616d 6574 6572 2e20 4e65  rt parameter. Ne
+00028ef0: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
+00028f00: 2020 2069 6e66 6f72 6d61 7469 6f6e 2066     information f
+00028f10: 726f 6d20 7468 6973 2074 696d 6573 7461  rom this timesta
+00028f20: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
+00028f30: 2065 706f 6368 2069 6e20 7365 636f 6e64   epoch in second
+00028f40: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
+00028f50: 7272 656e 740a 2020 2020 2020 2020 2020  rrent.          
+00028f60: 2020 2020 2020 5554 4320 7469 6d65 7374        UTC timest
+00028f70: 616d 7020 6d69 6e75 7320 3320 686f 7572  amp minus 3 hour
+00028f80: 730a 2020 2020 2020 2020 2020 2020 746f  s.            to
+00028f90: 5f74 696d 6573 7461 6d70 2028 696e 742c  _timestamp (int,
+00028fa0: 206f 7074 696f 6e61 6c29 3a20 5468 6973   optional): This
+00028fb0: 2070 6172 616d 6574 6572 2073 7570 6572   parameter super
+00028fc0: 6365 6465 7320 656e 6420 7061 7261 6d65  cedes end parame
+00028fd0: 7465 722e 204e 6565 6420 696e 666f 726d  ter. Need inform
+00028fe0: 6174 696f 6e0a 2020 2020 2020 2020 2020  ation.          
+00028ff0: 2020 2020 2020 746f 2074 6869 7320 7469        to this ti
+00029000: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
+00029010: 6d70 2069 7320 6570 6f63 6820 696e 2073  mp is epoch in s
+00029020: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
+00029030: 6973 2063 7572 7265 6e74 2055 5443 2074  is current UTC t
+00029040: 696d 6573 7461 6d70 0a20 2020 2020 2020  imestamp.       
+00029050: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
+00029060: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
+00029070: 696e 6174 696f 6e20 6f66 6673 6574 2028  ination offset (
+00029080: 6465 6661 756c 7420 3d20 3029 2044 6566  default = 0) Def
+00029090: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
+000290a0: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
+000290b0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2070  nt, optional): p
+000290c0: 6167 696e 6174 696f 6e20 7369 7a65 2028  agination size (
+000290d0: 6465 6661 756c 7420 3d20 3130 3029 2044  default = 100) D
+000290e0: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
+000290f0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00029100: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00029110: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+00029120: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+00029130: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00029140: 2020 2020 2020 2075 726c 203d 2022 2f72         url = "/r
+00029150: 6170 6964 732f 7631 2f72 6f67 7565 5f61  apids/v1/rogue_a
+00029160: 7073 220a 0a20 2020 2020 2020 2070 6172  ps"..        par
+00029170: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
+00029180: 2020 2020 2767 726f 7570 273a 2067 726f      'group': gro
+00029190: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
+000291a0: 276c 6162 656c 273a 206c 6162 656c 2c0a  'label': label,.
+000291b0: 2020 2020 2020 2020 2020 2020 2773 6974              'sit
+000291c0: 6527 3a20 7369 7465 2c0a 2020 2020 2020  e': site,.      
+000291d0: 2020 2020 2020 2773 7461 7274 273a 2073        'start': s
+000291e0: 7461 7274 2c0a 2020 2020 2020 2020 2020  tart,.          
+000291f0: 2020 2765 6e64 273a 2065 6e64 2c0a 2020    'end': end,.  
+00029200: 2020 2020 2020 2020 2020 2773 7761 726d            'swarm
+00029210: 5f69 6427 3a20 7377 6172 6d5f 6964 2c0a  _id': swarm_id,.
+00029220: 2020 2020 2020 2020 2020 2020 2766 726f              'fro
+00029230: 6d5f 7469 6d65 7374 616d 7027 3a20 6672  m_timestamp': fr
+00029240: 6f6d 5f74 696d 6573 7461 6d70 2c0a 2020  om_timestamp,.  
+00029250: 2020 2020 2020 2020 2020 2774 6f5f 7469            'to_ti
+00029260: 6d65 7374 616d 7027 3a20 746f 5f74 696d  mestamp': to_tim
+00029270: 6573 7461 6d70 2c0a 2020 2020 2020 2020  estamp,.        
+00029280: 2020 2020 276f 6666 7365 7427 3a20 6f66      'offset': of
+00029290: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
+000292a0: 2020 276c 696d 6974 273a 206c 696d 6974    'limit': limit
+000292b0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+000292c0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+000292d0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+000292e0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+000292f0: 2020 2061 7379 6e63 2064 6566 2077 6964     async def wid
+00029300: 735f 6765 745f 696e 7465 7266 6572 696e  s_get_interferin
+00029310: 675f 6170 7328 0a20 2020 2020 2020 2073  g_aps(.        s
+00029320: 656c 662c 0a20 2020 2020 2020 2067 726f  elf,.        gro
+00029330: 7570 3a20 4c69 7374 5b73 7472 5d20 3d20  up: List[str] = 
+00029340: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c61  None,.        la
+00029350: 6265 6c3a 204c 6973 745b 7374 725d 203d  bel: List[str] =
+00029360: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+00029370: 6974 653a 204c 6973 745b 7374 725d 203d  ite: List[str] =
+00029380: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+00029390: 7461 7274 3a20 696e 7420 3d20 4e6f 6e65  tart: int = None
+000293a0: 2c0a 2020 2020 2020 2020 656e 643a 2069  ,.        end: i
+000293b0: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+000293c0: 2020 2073 7761 726d 5f69 643a 2073 7472     swarm_id: str
+000293d0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+000293e0: 2066 726f 6d5f 7469 6d65 7374 616d 703a   from_timestamp:
+000293f0: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
+00029400: 2020 2020 2074 6f5f 7469 6d65 7374 616d       to_timestam
+00029410: 703a 2069 6e74 203d 204e 6f6e 652c 0a20  p: int = None,. 
+00029420: 2020 2020 2020 206f 6666 7365 743a 2069         offset: i
+00029430: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
+00029440: 6c69 6d69 743a 2069 6e74 203d 2031 3030  limit: int = 100
+00029450: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+00029460: 7365 3a0a 2020 2020 2020 2020 2222 224c  se:.        """L
+00029470: 6973 7420 496e 7465 7266 6572 696e 6720  ist Interfering 
+00029480: 4150 732e 0a0a 2020 2020 2020 2020 4172  APs...        Ar
+00029490: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+000294a0: 6772 6f75 7020 284c 6973 745b 7374 725d  group (List[str]
+000294b0: 2c20 6f70 7469 6f6e 616c 293a 204c 6973  , optional): Lis
+000294c0: 7420 6f66 2067 726f 7570 206e 616d 6573  t of group names
+000294d0: 0a20 2020 2020 2020 2020 2020 206c 6162  .            lab
+000294e0: 656c 2028 4c69 7374 5b73 7472 5d2c 206f  el (List[str], o
+000294f0: 7074 696f 6e61 6c29 3a20 4c69 7374 206f  ptional): List o
+00029500: 6620 6c61 6265 6c20 6e61 6d65 730a 2020  f label names.  
+00029510: 2020 2020 2020 2020 2020 7369 7465 2028            site (
+00029520: 4c69 7374 5b73 7472 5d2c 206f 7074 696f  List[str], optio
+00029530: 6e61 6c29 3a20 4c69 7374 206f 6620 7369  nal): List of si
+00029540: 7465 206e 616d 6573 0a20 2020 2020 2020  te names.       
+00029550: 2020 2020 2073 7461 7274 2028 696e 742c       start (int,
+00029560: 206f 7074 696f 6e61 6c29 3a20 4e65 6564   optional): Need
+00029570: 2069 6e66 6f72 6d61 7469 6f6e 2066 726f   information fro
+00029580: 6d20 7468 6973 2074 696d 6573 7461 6d70  m this timestamp
+00029590: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
+000295a0: 706f 6368 2069 6e0a 2020 2020 2020 2020  poch in.        
+000295b0: 2020 2020 2020 2020 6d69 6c6c 6973 6563          millisec
+000295c0: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
+000295d0: 2063 7572 7265 6e74 2074 696d 6573 7461   current timesta
+000295e0: 6d70 206d 696e 7573 2033 2068 6f75 7273  mp minus 3 hours
+000295f0: 0a20 2020 2020 2020 2020 2020 2065 6e64  .            end
+00029600: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+00029610: 3a20 4e65 6564 2069 6e66 6f72 6d61 7469  : Need informati
+00029620: 6f6e 2074 6f20 7468 6973 2074 696d 6573  on to this times
+00029630: 7461 6d70 2e20 5469 6d65 7374 616d 7020  tamp. Timestamp 
+00029640: 6973 2065 706f 6368 2069 6e0a 2020 2020  is epoch in.    
+00029650: 2020 2020 2020 2020 2020 2020 6d69 6c6c              mill
+00029660: 6973 6563 6f6e 6473 2e20 4465 6661 756c  iseconds. Defaul
+00029670: 7420 6973 2063 7572 7265 6e74 2074 696d  t is current tim
+00029680: 6573 7461 6d70 0a20 2020 2020 2020 2020  estamp.         
+00029690: 2020 2073 7761 726d 5f69 6420 2873 7472     swarm_id (str
+000296a0: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+000296b0: 7465 7220 6279 2053 7761 726d 2049 440a  ter by Swarm ID.
+000296c0: 2020 2020 2020 2020 2020 2020 6672 6f6d              from
+000296d0: 5f74 696d 6573 7461 6d70 2028 696e 742c  _timestamp (int,
+000296e0: 206f 7074 696f 6e61 6c29 3a20 5468 6973   optional): This
+000296f0: 2070 6172 616d 6574 6572 2073 7570 6572   parameter super
+00029700: 6365 6465 7320 7374 6172 7420 7061 7261  cedes start para
+00029710: 6d65 7465 722e 204e 6565 640a 2020 2020  meter. Need.    
+00029720: 2020 2020 2020 2020 2020 2020 696e 666f              info
+00029730: 726d 6174 696f 6e20 6672 6f6d 2074 6869  rmation from thi
+00029740: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
+00029750: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
+00029760: 696e 2073 6563 6f6e 6473 2e20 4465 6661  in seconds. Defa
+00029770: 756c 7420 6973 2063 7572 7265 6e74 0a20  ult is current. 
+00029780: 2020 2020 2020 2020 2020 2020 2020 2055                 U
+00029790: 5443 2074 696d 6573 7461 6d70 206d 696e  TC timestamp min
+000297a0: 7573 2033 2068 6f75 7273 0a20 2020 2020  us 3 hours.     
+000297b0: 2020 2020 2020 2074 6f5f 7469 6d65 7374         to_timest
+000297c0: 616d 7020 2869 6e74 2c20 6f70 7469 6f6e  amp (int, option
+000297d0: 616c 293a 2054 6869 7320 7061 7261 6d65  al): This parame
+000297e0: 7465 7220 7375 7065 7263 6564 6573 2065  ter supercedes e
+000297f0: 6e64 2070 6172 616d 6574 6572 2e20 4e65  nd parameter. Ne
+00029800: 6564 2069 6e66 6f72 6d61 7469 6f6e 0a20  ed information. 
+00029810: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00029820: 6f20 7468 6973 2074 696d 6573 7461 6d70  o this timestamp
+00029830: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
+00029840: 706f 6368 2069 6e20 7365 636f 6e64 732e  poch in seconds.
+00029850: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
+00029860: 656e 7420 5554 4320 7469 6d65 7374 616d  ent UTC timestam
+00029870: 700a 2020 2020 2020 2020 2020 2020 6f66  p.            of
+00029880: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+00029890: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+000298a0: 206f 6666 7365 7420 2864 6566 6175 6c74   offset (default
+000298b0: 203d 2030 2920 4465 6661 756c 7473 2074   = 0) Defaults t
+000298c0: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
+000298d0: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+000298e0: 696f 6e61 6c29 3a20 7061 6769 6e61 7469  ional): paginati
+000298f0: 6f6e 2073 697a 6520 2864 6566 6175 6c74  on size (default
+00029900: 203d 2031 3030 2920 4465 6661 756c 7473   = 100) Defaults
+00029910: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
+00029920: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00029930: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00029940: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00029950: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00029960: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00029970: 7572 6c20 3d20 222f 7261 7069 6473 2f76  url = "/rapids/v
+00029980: 312f 696e 7465 7266 6572 696e 675f 6170  1/interfering_ap
+00029990: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
+000299a0: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
+000299b0: 2020 2027 6772 6f75 7027 3a20 6772 6f75     'group': grou
+000299c0: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
+000299d0: 6c61 6265 6c27 3a20 6c61 6265 6c2c 0a20  label': label,. 
+000299e0: 2020 2020 2020 2020 2020 2027 7369 7465             'site
+000299f0: 273a 2073 6974 652c 0a20 2020 2020 2020  ': site,.       
+00029a00: 2020 2020 2027 7374 6172 7427 3a20 7374       'start': st
+00029a10: 6172 742c 0a20 2020 2020 2020 2020 2020  art,.           
+00029a20: 2027 656e 6427 3a20 656e 642c 0a20 2020   'end': end,.   
+00029a30: 2020 2020 2020 2020 2027 7377 6172 6d5f           'swarm_
+00029a40: 6964 273a 2073 7761 726d 5f69 642c 0a20  id': swarm_id,. 
+00029a50: 2020 2020 2020 2020 2020 2027 6672 6f6d             'from
+00029a60: 5f74 696d 6573 7461 6d70 273a 2066 726f  _timestamp': fro
+00029a70: 6d5f 7469 6d65 7374 616d 702c 0a20 2020  m_timestamp,.   
+00029a80: 2020 2020 2020 2020 2027 746f 5f74 696d           'to_tim
+00029a90: 6573 7461 6d70 273a 2074 6f5f 7469 6d65  estamp': to_time
+00029aa0: 7374 616d 702c 0a20 2020 2020 2020 2020  stamp,.         
+00029ab0: 2020 2027 6f66 6673 6574 273a 206f 6666     'offset': off
+00029ac0: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
+00029ad0: 2027 6c69 6d69 7427 3a20 6c69 6d69 740a   'limit': limit.
+00029ae0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+00029af0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00029b00: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+00029b10: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+00029b20: 2020 6173 796e 6320 6465 6620 7769 6473    async def wids
+00029b30: 5f67 6574 5f73 7573 7065 6374 5f61 7073  _get_suspect_aps
+00029b40: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+00029b50: 2020 2020 2020 2020 6772 6f75 703a 204c          group: L
+00029b60: 6973 745b 7374 725d 203d 204e 6f6e 652c  ist[str] = None,
+00029b70: 0a20 2020 2020 2020 206c 6162 656c 3a20  .        label: 
+00029b80: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
+00029b90: 2c0a 2020 2020 2020 2020 7369 7465 3a20  ,.        site: 
+00029ba0: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
+00029bb0: 2c0a 2020 2020 2020 2020 7374 6172 743a  ,.        start:
+00029bc0: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
+00029bd0: 2020 2020 2065 6e64 3a20 696e 7420 3d20       end: int = 
+00029be0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7377  None,.        sw
+00029bf0: 6172 6d5f 6964 3a20 7374 7220 3d20 4e6f  arm_id: str = No
+00029c00: 6e65 2c0a 2020 2020 2020 2020 6672 6f6d  ne,.        from
+00029c10: 5f74 696d 6573 7461 6d70 3a20 696e 7420  _timestamp: int 
+00029c20: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00029c30: 746f 5f74 696d 6573 7461 6d70 3a20 696e  to_timestamp: in
+00029c40: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
+00029c50: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
+00029c60: 302c 0a20 2020 2020 2020 206c 696d 6974  0,.        limit
+00029c70: 3a20 696e 7420 3d20 3130 300a 2020 2020  : int = 100.    
+00029c80: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00029c90: 2020 2020 2020 2022 2222 4c69 7374 2073         """List s
+00029ca0: 7573 7065 6374 2041 5073 2e0a 0a20 2020  uspect APs...   
+00029cb0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00029cc0: 2020 2020 2020 2067 726f 7570 2028 4c69         group (Li
+00029cd0: 7374 5b73 7472 5d2c 206f 7074 696f 6e61  st[str], optiona
+00029ce0: 6c29 3a20 4c69 7374 206f 6620 6772 6f75  l): List of grou
+00029cf0: 7020 6e61 6d65 730a 2020 2020 2020 2020  p names.        
+00029d00: 2020 2020 6c61 6265 6c20 284c 6973 745b      label (List[
+00029d10: 7374 725d 2c20 6f70 7469 6f6e 616c 293a  str], optional):
+00029d20: 204c 6973 7420 6f66 206c 6162 656c 206e   List of label n
+00029d30: 616d 6573 0a20 2020 2020 2020 2020 2020  ames.           
+00029d40: 2073 6974 6520 284c 6973 745b 7374 725d   site (List[str]
+00029d50: 2c20 6f70 7469 6f6e 616c 293a 204c 6973  , optional): Lis
+00029d60: 7420 6f66 2073 6974 6520 6e61 6d65 730a  t of site names.
+00029d70: 2020 2020 2020 2020 2020 2020 7374 6172              star
+00029d80: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
+00029d90: 293a 204e 6565 6420 696e 666f 726d 6174  ): Need informat
+00029da0: 696f 6e20 6672 6f6d 2074 6869 7320 7469  ion from this ti
+00029db0: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
+00029dc0: 6d70 2069 7320 6570 6f63 6820 696e 0a20  mp is epoch in. 
+00029dd0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00029de0: 696c 6c69 7365 636f 6e64 732e 2044 6566  illiseconds. Def
+00029df0: 6175 6c74 2069 7320 6375 7272 656e 7420  ault is current 
+00029e00: 7469 6d65 7374 616d 7020 6d69 6e75 7320  timestamp minus 
+00029e10: 3320 686f 7572 730a 2020 2020 2020 2020  3 hours.        
+00029e20: 2020 2020 656e 6420 2869 6e74 2c20 6f70      end (int, op
+00029e30: 7469 6f6e 616c 293a 204e 6565 6420 696e  tional): Need in
+00029e40: 666f 726d 6174 696f 6e20 746f 2074 6869  formation to thi
+00029e50: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
+00029e60: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
+00029e70: 696e 0a20 2020 2020 2020 2020 2020 2020  in.             
+00029e80: 2020 206d 696c 6c69 7365 636f 6e64 732e     milliseconds.
+00029e90: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
+00029ea0: 656e 7420 7469 6d65 7374 616d 700a 2020  ent timestamp.  
+00029eb0: 2020 2020 2020 2020 2020 7377 6172 6d5f            swarm_
+00029ec0: 6964 2028 7374 722c 206f 7074 696f 6e61  id (str, optiona
+00029ed0: 6c29 3a20 4669 6c74 6572 2062 7920 5377  l): Filter by Sw
+00029ee0: 6172 6d20 4944 0a20 2020 2020 2020 2020  arm ID.         
+00029ef0: 2020 2066 726f 6d5f 7469 6d65 7374 616d     from_timestam
+00029f00: 7020 2869 6e74 2c20 6f70 7469 6f6e 616c  p (int, optional
+00029f10: 293a 2054 6869 7320 7061 7261 6d65 7465  ): This paramete
+00029f20: 7220 7375 7065 7263 6564 6573 2073 7461  r supercedes sta
+00029f30: 7274 2070 6172 616d 6574 6572 2e20 4e65  rt parameter. Ne
+00029f40: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
+00029f50: 2020 2069 6e66 6f72 6d61 7469 6f6e 2066     information f
+00029f60: 726f 6d20 7468 6973 2074 696d 6573 7461  rom this timesta
+00029f70: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
+00029f80: 2065 706f 6368 2069 6e20 7365 636f 6e64   epoch in second
+00029f90: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
+00029fa0: 7272 656e 740a 2020 2020 2020 2020 2020  rrent.          
+00029fb0: 2020 2020 2020 5554 4320 7469 6d65 7374        UTC timest
+00029fc0: 616d 7020 6d69 6e75 7320 3320 686f 7572  amp minus 3 hour
+00029fd0: 730a 2020 2020 2020 2020 2020 2020 746f  s.            to
+00029fe0: 5f74 696d 6573 7461 6d70 2028 696e 742c  _timestamp (int,
+00029ff0: 206f 7074 696f 6e61 6c29 3a20 5468 6973   optional): This
+0002a000: 2070 6172 616d 6574 6572 2073 7570 6572   parameter super
+0002a010: 6365 6465 7320 656e 6420 7061 7261 6d65  cedes end parame
+0002a020: 7465 722e 204e 6565 6420 696e 666f 726d  ter. Need inform
+0002a030: 6174 696f 6e0a 2020 2020 2020 2020 2020  ation.          
+0002a040: 2020 2020 2020 746f 2074 6869 7320 7469        to this ti
+0002a050: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
+0002a060: 6d70 2069 7320 6570 6f63 6820 696e 2073  mp is epoch in s
+0002a070: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
+0002a080: 6973 2063 7572 7265 6e74 2055 5443 2074  is current UTC t
+0002a090: 696d 6573 7461 6d70 0a20 2020 2020 2020  imestamp.       
+0002a0a0: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
+0002a0b0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
+0002a0c0: 696e 6174 696f 6e20 6f66 6673 6574 2028  ination offset (
+0002a0d0: 6465 6661 756c 7420 3d20 3029 2044 6566  default = 0) Def
+0002a0e0: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
+0002a0f0: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
+0002a100: 6e74 2c20 6f70 7469 6f6e 616c 293a 2070  nt, optional): p
+0002a110: 6167 696e 6174 696f 6e20 7369 7a65 2028  agination size (
+0002a120: 6465 6661 756c 7420 3d20 3130 3029 2044  default = 100) D
+0002a130: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
+0002a140: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+0002a150: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+0002a160: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+0002a170: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+0002a180: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+0002a190: 2020 2020 2020 2075 726c 203d 2022 2f72         url = "/r
+0002a1a0: 6170 6964 732f 7631 2f73 7573 7065 6374  apids/v1/suspect
+0002a1b0: 5f61 7073 220a 0a20 2020 2020 2020 2070  _aps"..        p
+0002a1c0: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+0002a1d0: 2020 2020 2020 2767 726f 7570 273a 2067        'group': g
+0002a1e0: 726f 7570 2c0a 2020 2020 2020 2020 2020  roup,.          
+0002a1f0: 2020 276c 6162 656c 273a 206c 6162 656c    'label': label
+0002a200: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+0002a210: 6974 6527 3a20 7369 7465 2c0a 2020 2020  ite': site,.    
+0002a220: 2020 2020 2020 2020 2773 7461 7274 273a          'start':
+0002a230: 2073 7461 7274 2c0a 2020 2020 2020 2020   start,.        
+0002a240: 2020 2020 2765 6e64 273a 2065 6e64 2c0a      'end': end,.
+0002a250: 2020 2020 2020 2020 2020 2020 2773 7761              'swa
+0002a260: 726d 5f69 6427 3a20 7377 6172 6d5f 6964  rm_id': swarm_id
+0002a270: 2c0a 2020 2020 2020 2020 2020 2020 2766  ,.            'f
+0002a280: 726f 6d5f 7469 6d65 7374 616d 7027 3a20  rom_timestamp': 
+0002a290: 6672 6f6d 5f74 696d 6573 7461 6d70 2c0a  from_timestamp,.
+0002a2a0: 2020 2020 2020 2020 2020 2020 2774 6f5f              'to_
+0002a2b0: 7469 6d65 7374 616d 7027 3a20 746f 5f74  timestamp': to_t
+0002a2c0: 696d 6573 7461 6d70 2c0a 2020 2020 2020  imestamp,.      
+0002a2d0: 2020 2020 2020 276f 6666 7365 7427 3a20        'offset': 
+0002a2e0: 6f66 6673 6574 2c0a 2020 2020 2020 2020  offset,.        
+0002a2f0: 2020 2020 276c 696d 6974 273a 206c 696d      'limit': lim
+0002a300: 6974 0a20 2020 2020 2020 207d 0a0a 2020  it.        }..  
+0002a310: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0002a320: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+0002a330: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+0002a340: 0a20 2020 2061 7379 6e63 2064 6566 2077  .    async def w
+0002a350: 6964 735f 6765 745f 6e65 6967 6862 6f72  ids_get_neighbor
+0002a360: 5f61 7073 280a 2020 2020 2020 2020 7365  _aps(.        se
+0002a370: 6c66 2c0a 2020 2020 2020 2020 6772 6f75  lf,.        grou
+0002a380: 703a 204c 6973 745b 7374 725d 203d 204e  p: List[str] = N
+0002a390: 6f6e 652c 0a20 2020 2020 2020 206c 6162  one,.        lab
+0002a3a0: 656c 3a20 4c69 7374 5b73 7472 5d20 3d20  el: List[str] = 
+0002a3b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7369  None,.        si
+0002a3c0: 7465 3a20 4c69 7374 5b73 7472 5d20 3d20  te: List[str] = 
+0002a3d0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7374  None,.        st
+0002a3e0: 6172 743a 2069 6e74 203d 204e 6f6e 652c  art: int = None,
+0002a3f0: 0a20 2020 2020 2020 2065 6e64 3a20 696e  .        end: in
+0002a400: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
+0002a410: 2020 7377 6172 6d5f 6964 3a20 7374 7220    swarm_id: str 
+0002a420: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0002a430: 6672 6f6d 5f74 696d 6573 7461 6d70 3a20  from_timestamp: 
+0002a440: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
+0002a450: 2020 2020 746f 5f74 696d 6573 7461 6d70      to_timestamp
+0002a460: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
+0002a470: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
+0002a480: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
+0002a490: 696d 6974 3a20 696e 7420 3d20 3130 300a  imit: int = 100.
+0002a4a0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+0002a4b0: 653a 0a20 2020 2020 2020 2022 2222 4c69  e:.        """Li
+0002a4c0: 7374 206e 6569 6768 626f 7220 4150 732e  st neighbor APs.
+0002a4d0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0002a4e0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+0002a4f0: 7020 284c 6973 745b 7374 725d 2c20 6f70  p (List[str], op
+0002a500: 7469 6f6e 616c 293a 204c 6973 7420 6f66  tional): List of
+0002a510: 2067 726f 7570 206e 616d 6573 0a20 2020   group names.   
+0002a520: 2020 2020 2020 2020 206c 6162 656c 2028           label (
+0002a530: 4c69 7374 5b73 7472 5d2c 206f 7074 696f  List[str], optio
+0002a540: 6e61 6c29 3a20 4c69 7374 206f 6620 6c61  nal): List of la
+0002a550: 6265 6c20 6e61 6d65 730a 2020 2020 2020  bel names.      
+0002a560: 2020 2020 2020 7369 7465 2028 4c69 7374        site (List
+0002a570: 5b73 7472 5d2c 206f 7074 696f 6e61 6c29  [str], optional)
+0002a580: 3a20 4c69 7374 206f 6620 7369 7465 206e  : List of site n
+0002a590: 616d 6573 0a20 2020 2020 2020 2020 2020  ames.           
+0002a5a0: 2073 7461 7274 2028 696e 742c 206f 7074   start (int, opt
+0002a5b0: 696f 6e61 6c29 3a20 4e65 6564 2069 6e66  ional): Need inf
+0002a5c0: 6f72 6d61 7469 6f6e 2066 726f 6d20 7468  ormation from th
+0002a5d0: 6973 2074 696d 6573 7461 6d70 2e20 5469  is timestamp. Ti
+0002a5e0: 6d65 7374 616d 7020 6973 2065 706f 6368  mestamp is epoch
+0002a5f0: 2069 6e0a 2020 2020 2020 2020 2020 2020   in.            
+0002a600: 2020 2020 6d69 6c6c 6973 6563 6f6e 6473      milliseconds
+0002a610: 2e20 4465 6661 756c 7420 6973 2063 7572  . Default is cur
+0002a620: 7265 6e74 2074 696d 6573 7461 6d70 206d  rent timestamp m
+0002a630: 696e 7573 2033 2068 6f75 7273 0a20 2020  inus 3 hours.   
+0002a640: 2020 2020 2020 2020 2065 6e64 2028 696e           end (in
+0002a650: 742c 206f 7074 696f 6e61 6c29 3a20 4e65  t, optional): Ne
+0002a660: 6564 2069 6e66 6f72 6d61 7469 6f6e 2074  ed information t
+0002a670: 6f20 7468 6973 2074 696d 6573 7461 6d70  o this timestamp
+0002a680: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
+0002a690: 706f 6368 2069 6e0a 2020 2020 2020 2020  poch in.        
+0002a6a0: 2020 2020 2020 2020 6d69 6c6c 6973 6563          millisec
+0002a6b0: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
+0002a6c0: 2063 7572 7265 6e74 2074 696d 6573 7461   current timesta
+0002a6d0: 6d70 0a20 2020 2020 2020 2020 2020 2073  mp.            s
+0002a6e0: 7761 726d 5f69 6420 2873 7472 2c20 6f70  warm_id (str, op
+0002a6f0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+0002a700: 6279 2053 7761 726d 2049 440a 2020 2020  by Swarm ID.    
+0002a710: 2020 2020 2020 2020 6672 6f6d 5f74 696d          from_tim
+0002a720: 6573 7461 6d70 2028 696e 742c 206f 7074  estamp (int, opt
+0002a730: 696f 6e61 6c29 3a20 5468 6973 2070 6172  ional): This par
+0002a740: 616d 6574 6572 2073 7570 6572 6365 6465  ameter supercede
+0002a750: 7320 7374 6172 7420 7061 7261 6d65 7465  s start paramete
+0002a760: 722e 204e 6565 640a 2020 2020 2020 2020  r. Need.        
+0002a770: 2020 2020 2020 2020 696e 666f 726d 6174          informat
+0002a780: 696f 6e20 6672 6f6d 2074 6869 7320 7469  ion from this ti
+0002a790: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
+0002a7a0: 6d70 2069 7320 6570 6f63 6820 696e 2073  mp is epoch in s
+0002a7b0: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
+0002a7c0: 6973 2063 7572 7265 6e74 0a20 2020 2020  is current.     
+0002a7d0: 2020 2020 2020 2020 2020 2055 5443 2074             UTC t
+0002a7e0: 696d 6573 7461 6d70 206d 696e 7573 2033  imestamp minus 3
+0002a7f0: 2068 6f75 7273 0a20 2020 2020 2020 2020   hours.         
+0002a800: 2020 2074 6f5f 7469 6d65 7374 616d 7020     to_timestamp 
+0002a810: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+0002a820: 2054 6869 7320 7061 7261 6d65 7465 7220   This parameter 
+0002a830: 7375 7065 7263 6564 6573 2065 6e64 2070  supercedes end p
+0002a840: 6172 616d 6574 6572 2e20 4e65 6564 2069  arameter. Need i
+0002a850: 6e66 6f72 6d61 7469 6f6e 0a20 2020 2020  nformation.     
+0002a860: 2020 2020 2020 2020 2020 2074 6f20 7468             to th
+0002a870: 6973 2074 696d 6573 7461 6d70 2e20 5469  is timestamp. Ti
+0002a880: 6d65 7374 616d 7020 6973 2065 706f 6368  mestamp is epoch
+0002a890: 2069 6e20 7365 636f 6e64 732e 2044 6566   in seconds. Def
+0002a8a0: 6175 6c74 2069 7320 6375 7272 656e 7420  ault is current 
+0002a8b0: 5554 4320 7469 6d65 7374 616d 700a 2020  UTC timestamp.  
+0002a8c0: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
+0002a8d0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0002a8e0: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
+0002a8f0: 7365 7420 2864 6566 6175 6c74 203d 2030  set (default = 0
+0002a900: 2920 4465 6661 756c 7473 2074 6f20 302e  ) Defaults to 0.
+0002a910: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
+0002a920: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
+0002a930: 6c29 3a20 7061 6769 6e61 7469 6f6e 2073  l): pagination s
+0002a940: 697a 6520 2864 6566 6175 6c74 203d 2031  ize (default = 1
+0002a950: 3030 2920 4465 6661 756c 7473 2074 6f20  00) Defaults to 
+0002a960: 3130 302e 0a0a 2020 2020 2020 2020 5265  100...        Re
+0002a970: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+0002a980: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+0002a990: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+0002a9a0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+0002a9b0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+0002a9c0: 3d20 222f 7261 7069 6473 2f76 312f 6e65  = "/rapids/v1/ne
+0002a9d0: 6967 6862 6f72 5f61 7073 220a 0a20 2020  ighbor_aps"..   
+0002a9e0: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+0002a9f0: 2020 2020 2020 2020 2020 2020 2767 726f              'gro
+0002aa00: 7570 273a 2067 726f 7570 2c0a 2020 2020  up': group,.    
+0002aa10: 2020 2020 2020 2020 276c 6162 656c 273a          'label':
+0002aa20: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
+0002aa30: 2020 2020 2773 6974 6527 3a20 7369 7465      'site': site
+0002aa40: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+0002aa50: 7461 7274 273a 2073 7461 7274 2c0a 2020  tart': start,.  
+0002aa60: 2020 2020 2020 2020 2020 2765 6e64 273a            'end':
+0002aa70: 2065 6e64 2c0a 2020 2020 2020 2020 2020   end,.          
+0002aa80: 2020 2773 7761 726d 5f69 6427 3a20 7377    'swarm_id': sw
+0002aa90: 6172 6d5f 6964 2c0a 2020 2020 2020 2020  arm_id,.        
+0002aaa0: 2020 2020 2766 726f 6d5f 7469 6d65 7374      'from_timest
+0002aab0: 616d 7027 3a20 6672 6f6d 5f74 696d 6573  amp': from_times
+0002aac0: 7461 6d70 2c0a 2020 2020 2020 2020 2020  tamp,.          
+0002aad0: 2020 2774 6f5f 7469 6d65 7374 616d 7027    'to_timestamp'
+0002aae0: 3a20 746f 5f74 696d 6573 7461 6d70 2c0a  : to_timestamp,.
+0002aaf0: 2020 2020 2020 2020 2020 2020 276f 6666              'off
+0002ab00: 7365 7427 3a20 6f66 6673 6574 2c0a 2020  set': offset,.  
+0002ab10: 2020 2020 2020 2020 2020 276c 696d 6974            'limit
+0002ab20: 273a 206c 696d 6974 0a20 2020 2020 2020  ': limit.       
+0002ab30: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
+0002ab40: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+0002ab50: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
+0002ab60: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
+0002ab70: 2064 6566 2077 6964 735f 6765 745f 616c   def wids_get_al
+0002ab80: 6c28 0a20 2020 2020 2020 2073 656c 662c  l(.        self,
+0002ab90: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
+0002aba0: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
+0002abb0: 2c0a 2020 2020 2020 2020 6c61 6265 6c3a  ,.        label:
+0002abc0: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
+0002abd0: 652c 0a20 2020 2020 2020 2073 6974 653a  e,.        site:
+0002abe0: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
+0002abf0: 652c 0a20 2020 2020 2020 2073 7461 7274  e,.        start
+0002ac00: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
+0002ac10: 2020 2020 2020 656e 643a 2069 6e74 203d        end: int =
+0002ac20: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+0002ac30: 7761 726d 5f69 643a 2073 7472 203d 204e  warm_id: str = N
+0002ac40: 6f6e 652c 0a20 2020 2020 2020 2066 726f  one,.        fro
+0002ac50: 6d5f 7469 6d65 7374 616d 703a 2069 6e74  m_timestamp: int
+0002ac60: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002ac70: 2074 6f5f 7469 6d65 7374 616d 703a 2069   to_timestamp: i
+0002ac80: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+0002ac90: 2020 206f 6666 7365 743a 2069 6e74 203d     offset: int =
+0002aca0: 2030 2c0a 2020 2020 2020 2020 6c69 6d69   0,.        limi
+0002acb0: 743a 2069 6e74 203d 2031 3030 0a20 2020  t: int = 100.   
+0002acc0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+0002acd0: 2020 2020 2020 2020 2222 224c 6973 7420          """List 
+0002ace0: 616c 6c20 7769 6473 2063 6c61 7373 6966  all wids classif
+0002acf0: 6963 6174 696f 6e73 2e0a 0a20 2020 2020  ications...     
+0002ad00: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+0002ad10: 2020 2020 2067 726f 7570 2028 4c69 7374       group (List
+0002ad20: 5b73 7472 5d2c 206f 7074 696f 6e61 6c29  [str], optional)
+0002ad30: 3a20 4c69 7374 206f 6620 6772 6f75 7020  : List of group 
+0002ad40: 6e61 6d65 730a 2020 2020 2020 2020 2020  names.          
+0002ad50: 2020 6c61 6265 6c20 284c 6973 745b 7374    label (List[st
+0002ad60: 725d 2c20 6f70 7469 6f6e 616c 293a 204c  r], optional): L
+0002ad70: 6973 7420 6f66 206c 6162 656c 206e 616d  ist of label nam
+0002ad80: 6573 0a20 2020 2020 2020 2020 2020 2073  es.            s
+0002ad90: 6974 6520 284c 6973 745b 7374 725d 2c20  ite (List[str], 
+0002ada0: 6f70 7469 6f6e 616c 293a 204c 6973 7420  optional): List 
+0002adb0: 6f66 2073 6974 6520 6e61 6d65 730a 2020  of site names.  
+0002adc0: 2020 2020 2020 2020 2020 7374 6172 7420            start 
+0002add0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+0002ade0: 204e 6565 6420 696e 666f 726d 6174 696f   Need informatio
+0002adf0: 6e20 6672 6f6d 2074 6869 7320 7469 6d65  n from this time
+0002ae00: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
+0002ae10: 2069 7320 6570 6f63 6820 696e 0a20 2020   is epoch in.   
+0002ae20: 2020 2020 2020 2020 2020 2020 206d 696c               mil
+0002ae30: 6c69 7365 636f 6e64 732e 2044 6566 6175  liseconds. Defau
+0002ae40: 6c74 2069 7320 6375 7272 656e 7420 7469  lt is current ti
+0002ae50: 6d65 7374 616d 7020 6d69 6e75 7320 3320  mestamp minus 3 
+0002ae60: 686f 7572 730a 2020 2020 2020 2020 2020  hours.          
+0002ae70: 2020 656e 6420 2869 6e74 2c20 6f70 7469    end (int, opti
+0002ae80: 6f6e 616c 293a 204e 6565 6420 696e 666f  onal): Need info
+0002ae90: 726d 6174 696f 6e20 746f 2074 6869 7320  rmation to this 
+0002aea0: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
+0002aeb0: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
+0002aec0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002aed0: 206d 696c 6c69 7365 636f 6e64 732e 2044   milliseconds. D
+0002aee0: 6566 6175 6c74 2069 7320 6375 7272 656e  efault is curren
+0002aef0: 7420 7469 6d65 7374 616d 700a 2020 2020  t timestamp.    
+0002af00: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
+0002af10: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0002af20: 3a20 4669 6c74 6572 2062 7920 5377 6172  : Filter by Swar
+0002af30: 6d20 4944 0a20 2020 2020 2020 2020 2020  m ID.           
+0002af40: 2066 726f 6d5f 7469 6d65 7374 616d 7020   from_timestamp 
+0002af50: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+0002af60: 2054 6869 7320 7061 7261 6d65 7465 7220   This parameter 
+0002af70: 7375 7065 7263 6564 6573 2073 7461 7274  supercedes start
+0002af80: 2070 6172 616d 6574 6572 2e20 4e65 6564   parameter. Need
+0002af90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002afa0: 2069 6e66 6f72 6d61 7469 6f6e 2066 726f   information fro
+0002afb0: 6d20 7468 6973 2074 696d 6573 7461 6d70  m this timestamp
+0002afc0: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
+0002afd0: 706f 6368 2069 6e20 7365 636f 6e64 732e  poch in seconds.
+0002afe0: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
+0002aff0: 656e 740a 2020 2020 2020 2020 2020 2020  ent.            
+0002b000: 2020 2020 5554 4320 7469 6d65 7374 616d      UTC timestam
+0002b010: 7020 6d69 6e75 7320 3320 686f 7572 730a  p minus 3 hours.
+0002b020: 2020 2020 2020 2020 2020 2020 746f 5f74              to_t
+0002b030: 696d 6573 7461 6d70 2028 696e 742c 206f  imestamp (int, o
+0002b040: 7074 696f 6e61 6c29 3a20 5468 6973 2070  ptional): This p
+0002b050: 6172 616d 6574 6572 2073 7570 6572 6365  arameter superce
+0002b060: 6465 7320 656e 6420 7061 7261 6d65 7465  des end paramete
+0002b070: 722e 204e 6565 6420 696e 666f 726d 6174  r. Need informat
+0002b080: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
+0002b090: 2020 2020 746f 2074 6869 7320 7469 6d65      to this time
+0002b0a0: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
+0002b0b0: 2069 7320 6570 6f63 6820 696e 2073 6563   is epoch in sec
+0002b0c0: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
+0002b0d0: 2063 7572 7265 6e74 2055 5443 2074 696d   current UTC tim
+0002b0e0: 6573 7461 6d70 0a20 2020 2020 2020 2020  estamp.         
+0002b0f0: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
+0002b100: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
+0002b110: 6174 696f 6e20 6f66 6673 6574 2028 6465  ation offset (de
+0002b120: 6661 756c 7420 3d20 3029 2044 6566 6175  fault = 0) Defau
+0002b130: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
+0002b140: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
+0002b150: 2c20 6f70 7469 6f6e 616c 293a 2070 6167  , optional): pag
+0002b160: 696e 6174 696f 6e20 7369 7a65 2028 6465  ination size (de
+0002b170: 6661 756c 7420 3d20 3130 3029 2044 6566  fault = 100) Def
+0002b180: 6175 6c74 7320 746f 2031 3030 2e0a 0a20  aults to 100... 
+0002b190: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+0002b1a0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+0002b1b0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+0002b1c0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+0002b1d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0002b1e0: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+0002b1f0: 2020 2020 2020 2020 2020 2020 2767 726f              'gro
+0002b200: 7570 273a 2067 726f 7570 2c0a 2020 2020  up': group,.    
+0002b210: 2020 2020 2020 2020 276c 6162 656c 273a          'label':
+0002b220: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
+0002b230: 2020 2020 2773 6974 6527 3a20 7369 7465      'site': site
+0002b240: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+0002b250: 7461 7274 273a 2073 7461 7274 2c0a 2020  tart': start,.  
+0002b260: 2020 2020 2020 2020 2020 2765 6e64 273a            'end':
+0002b270: 2065 6e64 2c0a 2020 2020 2020 2020 2020   end,.          
+0002b280: 2020 2773 7761 726d 5f69 6427 3a20 7377    'swarm_id': sw
+0002b290: 6172 6d5f 6964 2c0a 2020 2020 2020 2020  arm_id,.        
+0002b2a0: 2020 2020 2766 726f 6d5f 7469 6d65 7374      'from_timest
+0002b2b0: 616d 7027 3a20 6672 6f6d 5f74 696d 6573  amp': from_times
+0002b2c0: 7461 6d70 2c0a 2020 2020 2020 2020 2020  tamp,.          
+0002b2d0: 2020 2774 6f5f 7469 6d65 7374 616d 7027    'to_timestamp'
+0002b2e0: 3a20 746f 5f74 696d 6573 7461 6d70 2c0a  : to_timestamp,.
+0002b2f0: 2020 2020 2020 2020 2020 2020 276f 6666              'off
+0002b300: 7365 7427 3a20 6f66 6673 6574 2c0a 2020  set': offset,.  
+0002b310: 2020 2020 2020 2020 2020 276c 696d 6974            'limit
+0002b320: 273a 206c 696d 6974 0a20 2020 2020 2020  ': limit.       
+0002b330: 207d 0a0a 2020 2020 2020 2020 6272 203d   }..        br =
+0002b340: 2073 656c 662e 4261 7463 6852 6571 7565   self.BatchReque
+0002b350: 7374 0a20 2020 2020 2020 2066 756e 6373  st.        funcs
+0002b360: 203d 205b 0a20 2020 2020 2020 2020 2020   = [.           
+0002b370: 2073 656c 662e 7769 6473 5f67 6574 5f69   self.wids_get_i
+0002b380: 6e74 6572 6665 7269 6e67 5f61 7073 2c0a  nterfering_aps,.
+0002b390: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0002b3a0: 2e77 6964 735f 6765 745f 6e65 6967 6862  .wids_get_neighb
+0002b3b0: 6f72 5f61 7073 2c0a 2020 2020 2020 2020  or_aps,.        
+0002b3c0: 2020 2020 7365 6c66 2e77 6964 735f 6765      self.wids_ge
+0002b3d0: 745f 7375 7370 6563 745f 6170 732c 0a20  t_suspect_aps,. 
+0002b3e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0002b3f0: 7769 6473 5f67 6574 5f72 6f67 7565 5f61  wids_get_rogue_a
+0002b400: 7073 2c0a 2020 2020 2020 2020 5d0a 0a20  ps,.        ].. 
+0002b410: 2020 2020 2020 2062 6174 6368 5f72 6571         batch_req
+0002b420: 203d 205b 0a20 2020 2020 2020 2020 2020   = [.           
+0002b430: 2062 7228 662c 202a 2a70 6172 616d 7329   br(f, **params)
+0002b440: 2066 6f72 2066 2069 6e20 6675 6e63 730a   for f in funcs.
+0002b450: 2020 2020 2020 2020 5d0a 0a20 2020 2020          ]..     
+0002b460: 2020 2062 6174 6368 5f72 6573 203d 2061     batch_res = a
+0002b470: 7761 6974 2073 656c 662e 5f62 6174 6368  wait self._batch
+0002b480: 5f72 6571 7565 7374 2862 6174 6368 5f72  _request(batch_r
+0002b490: 6571 290a 2020 2020 2020 2020 7265 7370  eq).        resp
+0002b4a0: 203d 2062 6174 6368 5f72 6573 5b2d 315d   = batch_res[-1]
+0002b4b0: 0a20 2020 2020 2020 206f 6b5f 7265 7320  .        ok_res 
+0002b4c0: 3d20 5b69 6478 2066 6f72 2069 6478 2c20  = [idx for idx, 
+0002b4d0: 7265 7320 696e 2065 6e75 6d65 7261 7465  res in enumerate
+0002b4e0: 2862 6174 6368 5f72 6573 2920 6966 2072  (batch_res) if r
+0002b4f0: 6573 2e6f 6b5d 0a20 2020 2020 2020 2069  es.ok].        i
+0002b500: 6620 6e6f 7420 6c65 6e28 6f6b 5f72 6573  f not len(ok_res
+0002b510: 2920 3d3d 206c 656e 2866 756e 6373 293a  ) == len(funcs):
+0002b520: 0a20 2020 2020 2020 2020 2020 2066 6169  .            fai
+0002b530: 6c65 6420 3d20 5b78 2066 6f72 2078 2069  led = [x for x i
+0002b540: 6e20 7261 6e67 6528 302c 206c 656e 2866  n range(0, len(f
+0002b550: 756e 6373 2929 2069 6620 7820 6e6f 7420  uncs)) if x not 
+0002b560: 696e 206f 6b5f 7265 735d 0a20 2020 2020  in ok_res].     
+0002b570: 2020 2020 2020 2066 6f72 2066 2069 6e20         for f in 
+0002b580: 6661 696c 6564 3a0a 2020 2020 2020 2020  failed:.        
+0002b590: 2020 2020 2020 2020 6966 2066 2069 6e20          if f in 
+0002b5a0: 7261 6e67 6528 302c 206c 656e 2862 6174  range(0, len(bat
+0002b5b0: 6368 5f72 6573 2929 3a0a 2020 2020 2020  ch_res)):.      
+0002b5c0: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
+0002b5d0: 672e 6572 726f 7228 6622 7b62 6174 6368  g.error(f"{batch
+0002b5e0: 5f72 6573 5b66 5d2e 6d65 7468 6f64 7d20  _res[f].method} 
+0002b5f0: 7b62 6174 6368 5f72 6573 5b66 5d2e 7572  {batch_res[f].ur
+0002b600: 6c2e 7061 7468 7d20 5265 7475 726e 6564  l.path} Returned
+0002b610: 2045 7272 6f72 2053 7461 7475 7320 7b62   Error Status {b
+0002b620: 6174 6368 5f72 6573 5b66 5d2e 7374 6174  atch_res[f].stat
+0002b630: 7573 7d2e 207b 6261 7463 685f 7265 735b  us}. {batch_res[
+0002b640: 665d 2e6f 7574 7075 7420 6f72 2062 6174  f].output or bat
+0002b650: 6368 5f72 6573 5b66 5d2e 6572 726f 727d  ch_res[f].error}
+0002b660: 222c 2073 686f 773d 5472 7565 290a 2020  ", show=True).  
+0002b670: 2020 2020 2020 7261 775f 6b65 7973 203d        raw_keys =
+0002b680: 205b 2269 6e74 6572 6665 7269 6e67 5f61   ["interfering_a
+0002b690: 7073 222c 2022 6e65 6967 6862 6f72 5f61  ps", "neighbor_a
+0002b6a0: 7073 222c 2022 7375 7370 6563 745f 6170  ps", "suspect_ap
+0002b6b0: 7322 5d0a 2020 2020 2020 2020 7265 7370  s"].        resp
+0002b6c0: 2e72 6177 203d 207b 2272 6f67 7565 5f61  .raw = {"rogue_a
+0002b6d0: 7073 223a 2072 6573 702e 7261 772e 6765  ps": resp.raw.ge
+0002b6e0: 7428 2272 6f67 7565 5f61 7073 222c 205b  t("rogue_aps", [
+0002b6f0: 5d29 2c20 225f 636f 756e 7473 223a 207b  ]), "_counts": {
+0002b700: 2272 6f67 7565 7322 3a20 7265 7370 2e72  "rogues": resp.r
+0002b710: 6177 2e67 6574 2822 746f 7461 6c22 297d  aw.get("total")}
+0002b720: 7d0a 2020 2020 2020 2020 666f 7220 6964  }.        for id
+0002b730: 782c 206b 6579 2069 6e20 656e 756d 6572  x, key in enumer
+0002b740: 6174 6528 7261 775f 6b65 7973 293a 0a20  ate(raw_keys):. 
+0002b750: 2020 2020 2020 2020 2020 2069 6620 6964             if id
+0002b760: 7820 696e 206f 6b5f 7265 733a 0a20 2020  x in ok_res:.   
+0002b770: 2020 2020 2020 2020 2020 2020 2072 6573               res
+0002b780: 702e 7261 7720 3d20 7b2a 2a72 6573 702e  p.raw = {**resp.
+0002b790: 7261 772c 202a 2a7b 6b65 793a 2062 6174  raw, **{key: bat
+0002b7a0: 6368 5f72 6573 5b69 6478 5d2e 7261 772e  ch_res[idx].raw.
+0002b7b0: 6765 7428 6b65 792c 205b 5d29 7d7d 0a20  get(key, [])}}. 
+0002b7c0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0002b7d0: 6573 702e 7261 775b 225f 636f 756e 7473  esp.raw["_counts
+0002b7e0: 225d 5b6b 6579 2e72 7374 7269 7028 225f  "][key.rstrip("_
+0002b7f0: 6170 7322 295d 203d 2062 6174 6368 5f72  aps")] = batch_r
+0002b800: 6573 5b69 6478 5d2e 7261 772e 6765 7428  es[idx].raw.get(
+0002b810: 2274 6f74 616c 2229 0a20 2020 2020 2020  "total").       
+0002b820: 2020 2020 2020 2020 2072 6573 702e 6f75           resp.ou
+0002b830: 7470 7574 203d 205b 2a72 6573 702e 6f75  tput = [*resp.ou
+0002b840: 7470 7574 2c20 2a62 6174 6368 5f72 6573  tput, *batch_res
+0002b850: 5b69 6478 5d2e 6f75 7470 7574 5d0a 2020  [idx].output].  
+0002b860: 2020 2020 2020 2320 7265 7370 2e6f 7574        # resp.out
+0002b870: 7075 7420 3d20 5b2a 7265 7370 2e6f 7574  put = [*resp.out
+0002b880: 7075 742c 202a 6261 7463 685f 7265 735b  put, *batch_res[
+0002b890: 305d 2e6f 7574 7075 742c 202a 6261 7463  0].output, *batc
+0002b8a0: 685f 7265 735b 315d 2e6f 7574 7075 742c  h_res[1].output,
+0002b8b0: 202a 6261 7463 685f 7265 735b 325d 2e6f   *batch_res[2].o
+0002b8c0: 7574 7075 745d 0a20 2020 2020 2020 2074  utput].        t
+0002b8d0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+0002b8e0: 7265 7370 2e6f 7574 7075 7420 3d20 5b6d  resp.output = [m
+0002b8f0: 6f64 656c 732e 5749 4453 282a 2a64 292e  odels.WIDS(**d).
+0002b900: 6469 6374 2829 2066 6f72 2064 2069 6e20  dict() for d in 
+0002b910: 7265 7370 2e6f 7574 7075 745d 0a20 2020  resp.output].   
+0002b920: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+0002b930: 7074 696f 6e20 6173 2065 3a0a 2020 2020  ption as e:.    
+0002b940: 2020 2020 2020 2020 6c6f 672e 7761 726e          log.warn
+0002b950: 696e 6728 6622 6465 7620 6e6f 7465 2e20  ing(f"dev note. 
+0002b960: 7079 6461 6e74 6963 2063 6f6e 7665 7273  pydantic convers
+0002b970: 696f 6e20 6469 6420 6e6f 7420 776f 726b  ion did not work
+0002b980: 222c 2073 686f 773d 5472 7565 290a 0a20  ", show=True).. 
+0002b990: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
+0002b9a0: 7370 0a0a 0a20 2020 2061 7379 6e63 2064  sp...    async d
+0002b9b0: 6566 2067 6574 5f61 6c65 7274 7328 0a20  ef get_alerts(. 
+0002b9c0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0002b9d0: 2020 2020 2063 7573 746f 6d65 725f 6964       customer_id
+0002b9e0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0002b9f0: 2020 2020 2020 6772 6f75 703a 2073 7472        group: str
+0002ba00: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002ba10: 206c 6162 656c 3a20 7374 7220 3d20 4e6f   label: str = No
+0002ba20: 6e65 2c0a 2020 2020 2020 2020 7365 7269  ne,.        seri
+0002ba30: 616c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  al: str = None,.
+0002ba40: 2020 2020 2020 2020 7369 7465 3a20 7374          site: st
+0002ba50: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0002ba60: 2020 6672 6f6d 5f74 733a 2069 6e74 203d    from_ts: int =
+0002ba70: 204e 6f6e 652c 0a20 2020 2020 2020 2074   None,.        t
+0002ba80: 6f5f 7473 3a20 696e 7420 3d20 4e6f 6e65  o_ts: int = None
+0002ba90: 2c0a 2020 2020 2020 2020 7365 7665 7269  ,.        severi
+0002baa0: 7479 3a20 7374 7220 3d20 4e6f 6e65 2c0a  ty: str = None,.
+0002bab0: 2020 2020 2020 2020 7479 7065 3a20 7374          type: st
+0002bac0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0002bad0: 2020 7365 6172 6368 3a20 7374 7220 3d20    search: str = 
+0002bae0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2320  None,.        # 
+0002baf0: 6361 6c63 756c 6174 655f 746f 7461 6c3a  calculate_total:
+0002bb00: 2062 6f6f 6c20 3d20 4661 6c73 652c 2020   bool = False,  
+0002bb10: 2320 446f 6573 6e27 7420 6170 7065 6172  # Doesn't appear
+0002bb20: 2074 6f20 696d 7061 6374 2061 6c77 6179   to impact alway
+0002bb30: 7320 7265 7475 726e 7320 746f 7461 6c0a  s returns total.
+0002bb40: 2020 2020 2020 2020 6163 6b3a 2062 6f6f          ack: boo
+0002bb50: 6c20 3d20 4e6f 6e65 2c0a 2020 2020 2020  l = None,.      
+0002bb60: 2020 6669 656c 6473 3a20 7374 7220 3d20    fields: str = 
+0002bb70: 4e6f 6e65 2c0a 2020 2020 2020 2020 6f66  None,.        of
+0002bb80: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
+0002bb90: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
+0002bba0: 7420 3d20 3130 3030 2c0a 2020 2020 2920  t = 1000,.    ) 
+0002bbb0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+0002bbc0: 2020 2020 2022 2222 5b63 656e 7472 616c       """[central
+0002bbd0: 5d20 4c69 7374 204e 6f74 6966 6963 6174  ] List Notificat
+0002bbe0: 696f 6e73 2f41 6c65 7274 732e 2020 5265  ions/Alerts.  Re
+0002bbf0: 7475 726e 7320 3120 6461 7920 6279 2064  turns 1 day by d
+0002bc00: 6566 6175 6c74 2e0a 0a20 2020 2020 2020  efault...       
+0002bc10: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+0002bc20: 2020 2063 7573 746f 6d65 725f 6964 2028     customer_id (
+0002bc30: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0002bc40: 4d53 5020 7573 6572 2063 616e 2066 696c  MSP user can fil
+0002bc50: 7465 7220 6e6f 7469 6669 6361 7469 6f6e  ter notification
+0002bc60: 7320 6261 7365 6420 6f6e 2063 7573 746f  s based on custo
+0002bc70: 6d65 7220 6964 0a20 2020 2020 2020 2020  mer id.         
+0002bc80: 2020 2067 726f 7570 2028 7374 722c 206f     group (str, o
+0002bc90: 7074 696f 6e61 6c29 3a20 5573 6564 2074  ptional): Used t
+0002bca0: 6f20 6669 6c74 6572 2074 6865 206e 6f74  o filter the not
+0002bcb0: 6966 6963 6174 696f 6e20 7479 7065 7320  ification types 
+0002bcc0: 6261 7365 6420 6f6e 2067 726f 7570 206e  based on group n
+0002bcd0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
+0002bce0: 6c61 6265 6c20 2873 7472 2c20 6f70 7469  label (str, opti
+0002bcf0: 6f6e 616c 293a 2055 7365 6420 746f 2066  onal): Used to f
+0002bd00: 696c 7465 7220 7468 6520 6e6f 7469 6669  ilter the notifi
+0002bd10: 6361 7469 6f6e 2074 7970 6573 2062 6173  cation types bas
+0002bd20: 6564 206f 6e20 4c61 6265 6c20 6e61 6d65  ed on Label name
+0002bd30: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
+0002bd40: 6961 6c20 2873 7472 2c20 6f70 7469 6f6e  ial (str, option
+0002bd50: 616c 293a 2055 7365 6420 746f 2066 696c  al): Used to fil
+0002bd60: 7465 7220 7468 6520 7265 7375 6c74 2062  ter the result b
+0002bd70: 6173 6564 206f 6e20 7365 7269 616c 206e  ased on serial n
+0002bd80: 756d 6265 7220 6f66 2074 6865 2064 6576  umber of the dev
+0002bd90: 6963 650a 2020 2020 2020 2020 2020 2020  ice.            
+0002bda0: 7369 7465 2028 7374 722c 206f 7074 696f  site (str, optio
+0002bdb0: 6e61 6c29 3a20 5573 6564 2074 6f20 6669  nal): Used to fi
+0002bdc0: 6c74 6572 2074 6865 206e 6f74 6966 6963  lter the notific
+0002bdd0: 6174 696f 6e20 7479 7065 7320 6261 7365  ation types base
+0002bde0: 6420 6f6e 2053 6974 6520 6e61 6d65 0a20  d on Site name. 
+0002bdf0: 2020 2020 2020 2020 2020 2066 726f 6d5f             from_
+0002be00: 7473 2028 696e 742c 206f 7074 696f 6e61  ts (int, optiona
+0002be10: 6c29 3a20 3129 7374 6172 7420 6f66 2064  l): 1)start of d
+0002be20: 7572 6174 696f 6e20 7769 7468 696e 2077  uration within w
+0002be30: 6869 6368 2061 6c65 7274 7320 6172 6520  hich alerts are 
+0002be40: 7261 6973 6564 0a20 2020 2020 2020 2020  raised.         
+0002be50: 2020 2020 2020 2032 2964 6573 6372 6962         2)describ
+0002be60: 6564 2075 7369 6e67 2055 6e69 7820 4570  ed using Unix Ep
+0002be70: 6f63 6820 7469 6d65 2069 6e20 7365 636f  och time in seco
+0002be80: 6e64 7320 2044 6566 6175 6c74 2033 3020  nds  Default 30 
+0002be90: 6461 7973 2028 6d61 7820 3930 290a 2020  days (max 90).  
+0002bea0: 2020 2020 2020 2020 2020 746f 5f74 7320            to_ts 
+0002beb0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+0002bec0: 2031 2965 6e64 206f 6620 6475 7261 7469   1)end of durati
+0002bed0: 6f6e 2077 6974 6869 6e20 7768 6963 6820  on within which 
+0002bee0: 616c 6572 7473 2061 7265 2072 6169 7365  alerts are raise
+0002bef0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+0002bf00: 2020 3229 6465 7363 7269 6265 6420 7573    2)described us
+0002bf10: 696e 6720 556e 6978 2045 706f 6368 2074  ing Unix Epoch t
+0002bf20: 696d 6520 696e 2073 6563 6f6e 6473 0a20  ime in seconds. 
+0002bf30: 2020 2020 2020 2020 2020 2073 6576 6572             sever
+0002bf40: 6974 7920 2873 7472 2c20 6f70 7469 6f6e  ity (str, option
+0002bf50: 616c 293a 2055 7365 6420 746f 2066 696c  al): Used to fil
+0002bf60: 7465 7220 7468 6520 6e6f 7469 6669 6361  ter the notifica
+0002bf70: 7469 6f6e 2074 7970 6573 2062 6173 6564  tion types based
+0002bf80: 206f 6e20 7365 7665 7269 7479 0a20 2020   on severity.   
+0002bf90: 2020 2020 2020 2020 2074 7970 6520 2873           type (s
+0002bfa0: 7472 2c20 6f70 7469 6f6e 616c 293a 2055  tr, optional): U
+0002bfb0: 7365 6420 746f 2066 696c 7465 7220 7468  sed to filter th
+0002bfc0: 6520 6e6f 7469 6669 6361 7469 6f6e 2074  e notification t
+0002bfd0: 7970 6573 2062 6173 6564 206f 6e20 6e6f  ypes based on no
+0002bfe0: 7469 6669 6361 7469 6f6e 2074 7970 650a  tification type.
+0002bff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c000: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
+0002c010: 2073 6561 7263 6820 2873 7472 2c20 6f70   search (str, op
+0002c020: 7469 6f6e 616c 293a 2074 6572 6d20 7573  tional): term us
+0002c030: 6564 2074 6f20 7365 6172 6368 2069 6e20  ed to search in 
+0002c040: 6e61 6d65 2c20 6361 7465 676f 7279 206f  name, category o
+0002c050: 6620 7468 6520 616c 6572 740a 2020 2020  f the alert.    
+0002c060: 2020 2020 2020 2020 6361 6c63 756c 6174          calculat
+0002c070: 655f 746f 7461 6c20 2862 6f6f 6c2c 206f  e_total (bool, o
+0002c080: 7074 696f 6e61 6c29 3a20 5768 6574 6865  ptional): Whethe
+0002c090: 7220 746f 2063 6f75 6e74 2074 6f74 616c  r to count total
+0002c0a0: 2069 7465 6d73 2069 6e20 7468 6520 7265   items in the re
+0002c0b0: 7370 6f6e 7365 0a20 2020 2020 2020 2020  sponse.         
+0002c0c0: 2020 2061 636b 2028 626f 6f6c 2c20 6f70     ack (bool, op
+0002c0d0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+0002c0e0: 6163 6b6e 6f77 6c65 6467 6564 206f 7220  acknowledged or 
+0002c0f0: 756e 6163 6b6e 6f77 6c65 6467 6564 206e  unacknowledged n
+0002c100: 6f74 6966 6963 6174 696f 6e73 2e20 5768  otifications. Wh
+0002c110: 656e 2071 7565 7279 0a20 2020 2020 2020  en query.       
+0002c120: 2020 2020 2020 2020 2070 6172 616d 6574           paramet
+0002c130: 6572 2069 7320 6e6f 7420 7370 6563 6966  er is not specif
+0002c140: 6965 642c 2062 6f74 6820 6163 6b6e 6f77  ied, both acknow
+0002c150: 6c65 6467 6564 2061 6e64 2075 6e61 636b  ledged and unack
+0002c160: 6e6f 776c 6564 6765 6420 6e6f 7469 6669  nowledged notifi
+0002c170: 6361 7469 6f6e 7320 6172 650a 2020 2020  cations are.    
+0002c180: 2020 2020 2020 2020 2020 2020 696e 636c              incl
+0002c190: 7564 6564 0a20 2020 2020 2020 2020 2020  uded.           
+0002c1a0: 2066 6965 6c64 7320 2873 7472 2c20 6f70   fields (str, op
+0002c1b0: 7469 6f6e 616c 293a 2043 6f6d 6d61 2073  tional): Comma s
+0002c1c0: 6570 6172 6174 6564 206c 6973 7420 6f66  eparated list of
+0002c1d0: 2066 6965 6c64 7320 746f 2062 6520 7265   fields to be re
+0002c1e0: 7475 726e 6564 0a20 2020 2020 2020 2020  turned.         
+0002c1f0: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
+0002c200: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
+0002c210: 6174 696f 6e20 6f66 6673 6574 2044 6566  ation offset Def
+0002c220: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
+0002c230: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
+0002c240: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
+0002c250: 6167 696e 6174 696f 6e20 6c69 6d69 742e  agination limit.
+0002c260: 2044 6566 6175 6c74 2069 7320 3130 3020   Default is 100 
+0002c270: 616e 6420 6d61 7820 6973 2031 3030 3020  and max is 1000 
+0002c280: 4465 6661 756c 7473 2074 6f20 3530 302e  Defaults to 500.
+0002c290: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+0002c2a0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+0002c2b0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+0002c2c0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+0002c2d0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+0002c2e0: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+0002c2f0: 6365 6e74 7261 6c2f 7631 2f6e 6f74 6966  central/v1/notif
+0002c300: 6963 6174 696f 6e73 220a 0a20 2020 2020  ications"..     
+0002c310: 2020 2069 6620 6e6f 7420 6672 6f6d 5f74     if not from_t
+0002c320: 733a 0a20 2020 2020 2020 2020 2020 2066  s:.            f
+0002c330: 726f 6d5f 7473 203d 2069 6e74 2864 6174  rom_ts = int(dat
+0002c340: 6574 696d 652e 7469 6d65 7374 616d 7028  etime.timestamp(
+0002c350: 6461 7465 7469 6d65 2e74 6f64 6179 2829  datetime.today()
+0002c360: 202d 2074 696d 6564 656c 7461 2864 6179   - timedelta(day
+0002c370: 733d 3129 2929 0a20 2020 2020 2020 2069  s=1))).        i
+0002c380: 6620 6163 6b20 696e 205b 5472 7565 2c20  f ack in [True, 
+0002c390: 4661 6c73 655d 3a0a 2020 2020 2020 2020  False]:.        
+0002c3a0: 2020 2020 6163 6b20 3d20 7374 7228 6163      ack = str(ac
+0002c3b0: 6b29 2e6c 6f77 6572 2829 0a0a 2020 2020  k).lower()..    
+0002c3c0: 2020 2020 6966 2074 6f5f 7473 2061 6e64      if to_ts and
+0002c3d0: 2074 6f5f 7473 203c 3d20 6672 6f6d 5f74   to_ts <= from_t
+0002c3e0: 733a 0a20 2020 2020 2020 2020 2020 2072  s:.            r
+0002c3f0: 6574 7572 6e20 5265 7370 6f6e 7365 2865  eturn Response(e
+0002c400: 7272 6f72 3d66 2254 6f20 7469 6d65 7374  rror=f"To timest
+0002c410: 616d 7020 287b 746f 5f74 737d 2920 6361  amp ({to_ts}) ca
+0002c420: 6e20 6e6f 7420 6265 206c 6573 7320 7468  n not be less th
+0002c430: 616e 2066 726f 6d20 7469 6d65 7374 616d  an from timestam
+0002c440: 7020 287b 6672 6f6d 5f74 737d 2922 290a  p ({from_ts})").
+0002c450: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
+0002c460: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0002c470: 2763 7573 746f 6d65 725f 6964 273a 2063  'customer_id': c
+0002c480: 7573 746f 6d65 725f 6964 2c0a 2020 2020  ustomer_id,.    
+0002c490: 2020 2020 2020 2020 2767 726f 7570 273a          'group':
+0002c4a0: 2067 726f 7570 2c0a 2020 2020 2020 2020   group,.        
+0002c4b0: 2020 2020 276c 6162 656c 273a 206c 6162      'label': lab
+0002c4c0: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
+0002c4d0: 2773 6572 6961 6c27 3a20 7365 7269 616c  'serial': serial
+0002c4e0: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+0002c4f0: 6974 6527 3a20 7369 7465 2c0a 2020 2020  ite': site,.    
+0002c500: 2020 2020 2020 2020 2766 726f 6d5f 7469          'from_ti
+0002c510: 6d65 7374 616d 7027 3a20 6672 6f6d 5f74  mestamp': from_t
+0002c520: 732c 0a20 2020 2020 2020 2020 2020 2027  s,.            '
+0002c530: 746f 5f74 696d 6573 7461 6d70 273a 2074  to_timestamp': t
+0002c540: 6f5f 7473 2c0a 2020 2020 2020 2020 2020  o_ts,.          
+0002c550: 2020 2773 6576 6572 6974 7927 3a20 7365    'severity': se
+0002c560: 7665 7269 7479 2c0a 2020 2020 2020 2020  verity,.        
+0002c570: 2020 2020 2773 6561 7263 6827 3a20 7365      'search': se
+0002c580: 6172 6368 2c0a 2020 2020 2020 2020 2020  arch,.          
+0002c590: 2020 2320 2763 616c 6375 6c61 7465 5f74    # 'calculate_t
+0002c5a0: 6f74 616c 273a 2073 7472 2863 616c 6375  otal': str(calcu
+0002c5b0: 6c61 7465 5f74 6f74 616c 292c 0a20 2020  late_total),.   
+0002c5c0: 2020 2020 2020 2020 2027 7479 7065 273a           'type':
+0002c5d0: 2074 7970 652c 0a20 2020 2020 2020 2020   type,.         
+0002c5e0: 2020 2027 6163 6b27 3a20 6163 6b2c 0a20     'ack': ack,. 
+0002c5f0: 2020 2020 2020 2020 2020 2027 6669 656c             'fiel
+0002c600: 6473 273a 2066 6965 6c64 732c 0a20 2020  ds': fields,.   
+0002c610: 2020 2020 2020 2020 2027 6f66 6673 6574           'offset
+0002c620: 273a 206f 6666 7365 742c 0a20 2020 2020  ': offset,.     
+0002c630: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
+0002c640: 6c69 6d69 742c 0a20 2020 2020 2020 207d  limit,.        }
+0002c650: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0002c660: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
+0002c670: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
+0002c680: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
+0002c690: 6566 2063 656e 7472 616c 5f61 636b 6e6f  ef central_ackno
+0002c6a0: 776c 6564 6765 5f6e 6f74 6966 6963 6174  wledge_notificat
+0002c6b0: 696f 6e73 280a 2020 2020 2020 2020 7365  ions(.        se
+0002c6c0: 6c66 2c0a 2020 2020 2020 2020 4e6f 4e61  lf,.        NoNa
+0002c6d0: 6d65 3a20 4c69 7374 5b73 7472 5d20 3d20  me: List[str] = 
+0002c6e0: 4e6f 6e65 2c0a 2020 2020 2920 2d3e 2052  None,.    ) -> R
+0002c6f0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0002c700: 2022 2222 4163 6b6e 6f77 6c65 6467 6520   """Acknowledge 
+0002c710: 4e6f 7469 6669 6361 7469 6f6e 7320 6279  Notifications by
+0002c720: 2049 4420 4c69 7374 202f 2041 6c6c 2e0a   ID List / All..
+0002c730: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0002c740: 2020 2020 2020 2020 2020 204e 6f4e 616d             NoNam
+0002c750: 6520 284c 6973 745b 7374 725d 2c20 6f70  e (List[str], op
+0002c760: 7469 6f6e 616c 293a 2041 636b 6e6f 776c  tional): Acknowl
+0002c770: 6564 6765 206e 6f74 6966 6963 6174 696f  edge notificatio
+0002c780: 6e73 0a0a 2020 2020 2020 2020 5265 7475  ns..        Retu
+0002c790: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+0002c7a0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+0002c7b0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+0002c7c0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+0002c7d0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+0002c7e0: 222f 6365 6e74 7261 6c2f 7631 2f6e 6f74  "/central/v1/not
+0002c7f0: 6966 6963 6174 696f 6e73 220a 0a20 2020  ifications"..   
+0002c800: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+0002c810: 7420 7365 6c66 2e70 6f73 7428 7572 6c29  t self.post(url)
+0002c820: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+0002c830: 6765 745f 6170 5f63 6f6e 6669 6728 0a20  get_ap_config(. 
+0002c840: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0002c850: 2020 2020 2067 726f 7570 5f73 7761 726d       group_swarm
+0002c860: 6964 3a20 7374 722c 0a20 2020 2020 2020  id: str,.       
+0002c870: 2076 6572 7369 6f6e 3a20 7374 7220 3d20   version: str = 
+0002c880: 4e6f 6e65 2c0a 2020 2020 2920 2d3e 2052  None,.    ) -> R
+0002c890: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0002c8a0: 2022 2222 4765 7420 4150 2047 726f 7570   """Get AP Group
+0002c8b0: 204c 6576 656c 2063 6f6e 6669 6775 7261   Level configura
+0002c8c0: 7469 6f6e 2066 6f72 2055 4920 6772 6f75  tion for UI grou
+0002c8d0: 702e 0a0a 2020 2020 2020 2020 2f2f 2055  p...        // U
+0002c8e0: 7365 6420 6279 2073 686f 7720 636f 6e66  sed by show conf
+0002c8f0: 6967 203c 4150 204d 4143 2066 6f72 2041  ig <AP MAC for A
+0002c900: 4f53 3130 2041 503e 202f 2f0a 0a20 2020  OS10 AP> //..   
+0002c910: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+0002c920: 2020 2020 2020 2067 726f 7570 5f73 7761         group_swa
+0002c930: 726d 6964 2028 7374 7229 3a20 4772 6f75  rmid (str): Grou
+0002c940: 7020 6e61 6d65 206f 6620 7468 6520 6772  p name of the gr
+0002c950: 6f75 7020 6f72 2067 7569 6420 6f66 2074  oup or guid of t
+0002c960: 6865 2073 7761 726d 2e0a 2020 2020 2020  he swarm..      
+0002c970: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
+0002c980: 653a 4772 6f75 705f 3120 6f72 2036 6135  e:Group_1 or 6a5
+0002c990: 6431 3233 6230 3166 3934 3431 3830 3632  d123b01f94418062
+0002c9a0: 3434 6561 3665 3032 3366 6162 3538 3431  44ea6e023fab5841
+0002c9b0: 6237 3763 3832 3861 3038 3566 3034 662e  b77c828a085f04f.
+0002c9c0: 0a20 2020 2020 2020 2020 2020 2076 6572  .            ver
+0002c9d0: 7369 6f6e 2028 7374 722c 206f 7074 696f  sion (str, optio
+0002c9e0: 6e61 6c29 3a20 5665 7273 696f 6e20 6f66  nal): Version of
+0002c9f0: 2041 502e 0a0a 2020 2020 2020 2020 5265   AP...        Re
+0002ca00: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+0002ca10: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+0002ca20: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+0002ca30: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+0002ca40: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+0002ca50: 3d20 6622 2f63 6f6e 6669 6775 7261 7469  = f"/configurati
+0002ca60: 6f6e 2f76 312f 6170 5f63 6c69 2f7b 6772  on/v1/ap_cli/{gr
+0002ca70: 6f75 705f 7377 6172 6d69 647d 220a 0a20  oup_swarmid}".. 
+0002ca80: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+0002ca90: 7b0a 2020 2020 2020 2020 2020 2020 2776  {.            'v
+0002caa0: 6572 7369 6f6e 273a 2076 6572 7369 6f6e  ersion': version
+0002cab0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+0002cac0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+0002cad0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+0002cae0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+0002caf0: 2020 2061 7379 6e63 2064 6566 2072 6570     async def rep
+0002cb00: 6c61 6365 5f61 705f 636f 6e66 6967 280a  lace_ap_config(.
+0002cb10: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+0002cb20: 2020 2020 2020 6772 6f75 705f 6e61 6d65        group_name
+0002cb30: 5f6f 725f 6775 6964 3a20 7374 722c 0a20  _or_guid: str,. 
+0002cb40: 2020 2020 2020 2063 6c69 733a 204c 6973         clis: Lis
+0002cb50: 745b 7374 725d 2c0a 2020 2020 2920 2d3e  t[str],.    ) ->
+0002cb60: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+0002cb70: 2020 2022 2222 5265 706c 6163 6520 4150     """Replace AP
+0002cb80: 2047 726f 7570 204c 6576 656c 2063 6f6e   Group Level con
+0002cb90: 6669 6775 7261 7469 6f6e 2066 6f72 2055  figuration for U
+0002cba0: 4920 6772 6f75 702e 0a0a 2020 2020 2020  I group...      
+0002cbb0: 2020 5365 6e64 2041 5020 636f 6e66 6967    Send AP config
+0002cbc0: 7572 6174 696f 6e20 696e 2043 4c49 2066  uration in CLI f
+0002cbd0: 6f72 6d61 7420 6173 2061 206c 6973 7420  ormat as a list 
+0002cbe0: 6f66 2073 7472 696e 6773 2077 6865 7265  of strings where
+0002cbf0: 2065 6163 6820 6974 656d 2069 6e20 7468   each item in th
+0002cc00: 6520 6c69 7374 2069 730a 2020 2020 2020  e list is.      
+0002cc10: 2020 6120 6c69 6e65 2066 726f 6d20 7468    a line from th
+0002cc20: 6520 636f 6e66 6967 2e20 2052 6571 7569  e config.  Requi
+0002cc30: 7265 7320 616c 6c20 6c69 6e65 7320 6f66  res all lines of
+0002cc40: 2074 6865 2063 6f6e 6669 672c 206e 6f74   the config, not
+0002cc50: 2061 2070 6172 7469 616c 2075 7064 6174   a partial updat
+0002cc60: 652e 0a0a 2020 2020 2020 2020 4172 6773  e...        Args
+0002cc70: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
+0002cc80: 6f75 705f 6e61 6d65 5f6f 725f 6775 6964  oup_name_or_guid
+0002cc90: 2028 7374 7229 3a20 4772 6f75 7020 6e61   (str): Group na
+0002cca0: 6d65 206f 6620 7468 6520 6772 6f75 7020  me of the group 
+0002ccb0: 6f72 2067 7569 6420 6f66 2074 6865 2073  or guid of the s
+0002ccc0: 7761 726d 2e0a 2020 2020 2020 2020 2020  warm..          
+0002ccd0: 2020 2020 2020 4578 616d 706c 653a 4772        Example:Gr
+0002cce0: 6f75 705f 3120 6f72 2036 6135 6431 3233  oup_1 or 6a5d123
+0002ccf0: 6230 3166 3934 3431 3830 3632 3434 6561  b01f9441806244ea
+0002cd00: 3665 3032 3366 6162 3538 3431 6237 3763  6e023fab5841b77c
+0002cd10: 3832 3861 3038 3566 3034 662e 0a20 2020  828a085f04f..   
+0002cd20: 2020 2020 2020 2020 2063 6c69 7320 284c           clis (L
+0002cd30: 6973 745b 7374 725d 293a 2057 686f 6c65  ist[str]): Whole
+0002cd40: 2063 6f6e 6669 6775 7261 7469 6f6e 204c   configuration L
+0002cd50: 6973 7420 696e 2043 4c49 2066 6f72 6d61  ist in CLI forma
+0002cd60: 742e 0a0a 2020 2020 2020 2020 5265 7475  t...        Retu
+0002cd70: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+0002cd80: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+0002cd90: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+0002cda0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+0002cdb0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+0002cdc0: 6622 2f63 6f6e 6669 6775 7261 7469 6f6e  f"/configuration
+0002cdd0: 2f76 312f 6170 5f63 6c69 2f7b 6772 6f75  /v1/ap_cli/{grou
+0002cde0: 705f 6e61 6d65 5f6f 725f 6775 6964 7d22  p_name_or_guid}"
+0002cdf0: 0a0a 2020 2020 2020 2020 6a73 6f6e 5f64  ..        json_d
+0002ce00: 6174 6120 3d20 7b0a 2020 2020 2020 2020  ata = {.        
+0002ce10: 2020 2020 2763 6c69 7327 3a20 636c 6973      'clis': clis
+0002ce20: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+0002ce30: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+0002ce40: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
+0002ce50: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
+0002ce60: 6174 6129 0a0a 2020 2020 6173 796e 6320  ata)..    async 
+0002ce70: 6465 6620 6765 745f 7065 725f 6170 5f63  def get_per_ap_c
+0002ce80: 6f6e 6669 6728 0a20 2020 2020 2020 2073  onfig(.        s
+0002ce90: 656c 662c 0a20 2020 2020 2020 2073 6572  elf,.        ser
+0002cea0: 6961 6c3a 2073 7472 2c0a 2020 2020 2920  ial: str,.    ) 
+0002ceb0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+0002cec0: 2020 2020 2022 2222 4765 7420 7065 7220       """Get per 
+0002ced0: 4150 2073 6574 7469 6e67 2e0a 0a20 2020  AP setting...   
+0002cee0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+0002cef0: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
+0002cf00: 7472 293a 2053 6572 6961 6c20 4e75 6d62  tr): Serial Numb
+0002cf10: 6572 206f 6620 4150 0a0a 2020 2020 2020  er of AP..      
+0002cf20: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0002cf30: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0002cf40: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0002cf50: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+0002cf60: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0002cf70: 7572 6c20 3d20 6622 2f63 6f6e 6669 6775  url = f"/configu
+0002cf80: 7261 7469 6f6e 2f76 312f 6170 5f73 6574  ration/v1/ap_set
+0002cf90: 7469 6e67 735f 636c 692f 7b73 6572 6961  tings_cli/{seria
+0002cfa0: 6c7d 220a 0a20 2020 2020 2020 2072 6574  l}"..        ret
+0002cfb0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+0002cfc0: 6574 2875 726c 290a 0a20 2020 2061 7379  et(url)..    asy
+0002cfd0: 6e63 2064 6566 2072 6570 6c61 6365 5f70  nc def replace_p
+0002cfe0: 6572 5f61 705f 636f 6e66 6967 280a 2020  er_ap_config(.  
+0002cff0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+0002d000: 2020 2020 7365 7269 616c 3a20 7374 722c      serial: str,
+0002d010: 0a20 2020 2020 2020 2063 6c69 733a 204c  .        clis: L
+0002d020: 6973 745b 7374 725d 2c0a 2020 2020 2920  ist[str],.    ) 
+0002d030: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+0002d040: 2020 2020 2022 2222 5265 706c 6163 6520       """Replace 
+0002d050: 7065 7220 4150 2073 6574 7469 6e67 2e0a  per AP setting..
+0002d060: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0002d070: 2020 2020 2020 2020 2020 2073 6572 6961             seria
+0002d080: 6c20 2873 7472 293a 2053 6572 6961 6c20  l (str): Serial 
+0002d090: 4e75 6d62 6572 206f 6620 4150 0a20 2020  Number of AP.   
+0002d0a0: 2020 2020 2020 2020 2063 6c69 7320 284c           clis (L
+0002d0b0: 6973 745b 7374 725d 293a 2041 6c6c 2070  ist[str]): All p
+0002d0c0: 6572 2041 5020 7365 7474 696e 6720 4c69  er AP setting Li
+0002d0d0: 7374 2069 6e20 434c 4920 666f 726d 6174  st in CLI format
+0002d0e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d0f0: 204d 7573 7420 7072 6f76 6964 6520 616c   Must provide al
+0002d100: 6c20 7065 7220 4150 2073 6574 7469 6e67  l per AP setting
+0002d110: 732c 206e 6f74 2070 6172 7469 616c 0a0a  s, not partial..
+0002d120: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+0002d130: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+0002d140: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+0002d150: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+0002d160: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+0002d170: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
+0002d180: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
+0002d190: 6170 5f73 6574 7469 6e67 735f 636c 692f  ap_settings_cli/
+0002d1a0: 7b73 6572 6961 6c7d 220a 0a20 2020 2020  {serial}"..     
+0002d1b0: 2020 206a 736f 6e5f 6461 7461 203d 207b     json_data = {
+0002d1c0: 0a20 2020 2020 2020 2020 2020 2027 636c  .            'cl
+0002d1d0: 6973 273a 2063 6c69 730a 2020 2020 2020  is': clis.      
+0002d1e0: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+0002d1f0: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+0002d200: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
+0002d210: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
+0002d220: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+0002d230: 5f62 7261 6368 5f68 6561 6c74 6828 0a20  _brach_health(. 
+0002d240: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0002d250: 2020 2020 206e 616d 653a 2073 7472 203d       name: str =
+0002d260: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
+0002d270: 6f6c 756d 6e3a 2069 6e74 203d 204e 6f6e  olumn: int = Non
+0002d280: 652c 0a20 2020 2020 2020 2072 6576 6572  e,.        rever
+0002d290: 7365 3a20 626f 6f6c 203d 2046 616c 7365  se: bool = False
+0002d2a0: 2c0a 2020 2020 2020 2020 6669 6c74 6572  ,.        filter
+0002d2b0: 733a 2064 6963 7420 3d20 7b7d 2c0a 2020  s: dict = {},.  
+0002d2c0: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
+0002d2d0: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
+0002d2e0: 696d 6974 3a20 696e 7420 3d20 3130 302c  imit: int = 100,
+0002d2f0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+0002d300: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
+0002d310: 6574 2064 6174 6120 666f 7220 616c 6c20  et data for all 
+0002d320: 7369 7465 732e 0a0a 2020 2020 2020 2020  sites...        
+0002d330: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+0002d340: 2020 6e61 6d65 2028 7374 722c 206f 7074    name (str, opt
+0002d350: 696f 6e61 6c29 3a20 7369 7465 202f 206c  ional): site / l
+0002d360: 6162 656c 206e 616d 6520 6f72 2070 6172  abel name or par
+0002d370: 7420 6f66 2069 7473 206e 616d 650a 2020  t of its name.  
+0002d380: 2020 2020 2020 2020 2020 636f 6c75 6d6e            column
+0002d390: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0002d3a0: 3a20 436f 6c75 6d6e 2074 6f20 736f 7274  : Column to sort
+0002d3b0: 206f 6e0a 2020 2020 2020 2020 2020 2020   on.            
+0002d3c0: 7265 7665 7273 6520 2862 6f6f 6c2c 206f  reverse (bool, o
+0002d3d0: 7074 696f 6e61 6c29 3a20 536f 7274 2069  ptional): Sort i
+0002d3e0: 6e20 7265 7665 7273 6520 6f72 6465 723a  n reverse order:
+0002d3f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d400: 202a 2061 7363 202d 2041 7363 656e 6469   * asc - Ascendi
+0002d410: 6e67 2c20 6672 6f6d 2041 2074 6f20 5a2e  ng, from A to Z.
+0002d420: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d430: 202a 2064 6573 6320 2d20 4465 7363 656e   * desc - Descen
+0002d440: 6469 6e67 2c20 6672 6f6d 205a 2074 6f20  ding, from Z to 
+0002d450: 412e 0a20 2020 2020 2020 2020 2020 2020  A..             
+0002d460: 2020 2056 616c 6964 2056 616c 7565 733a     Valid Values:
+0002d470: 2061 7363 2c20 6465 7363 0a20 2020 2020   asc, desc.     
+0002d480: 2020 2020 2020 2066 696c 7465 7273 2028         filters (
+0002d490: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0002d4a0: 5369 7465 2074 6872 6573 686f 6c64 730a  Site thresholds.
+0002d4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d4c0: 2a20 416c 6c20 7072 6f70 6572 7469 6573  * All properties
+0002d4d0: 206f 6620 6120 7369 7465 2063 616e 2062   of a site can b
+0002d4e0: 6520 7573 6564 2061 7320 6669 6c74 6572  e used as filter
+0002d4f0: 2070 6172 616d 6574 6572 7320 7769 7468   parameters with
+0002d500: 2061 2074 6872 6573 686f 6c64 0a20 2020   a threshold.   
+0002d510: 2020 2020 2020 2020 2020 2020 202a 2054               * T
+0002d520: 6865 2072 616e 6765 2066 696c 7465 7273  he range filters
+0002d530: 2063 616e 2062 6520 636f 6d62 696e 6564   can be combined
+0002d540: 2077 6974 6820 7468 6520 636f 6c75 6d6e   with the column
+0002d550: 206e 616d 6573 2077 6974 6820 225c 5f5f   names with "\__
+0002d560: 2220 2023 206e 6f71 610a 2020 2020 2020  "  # noqa.      
+0002d570: 2020 2020 2020 2020 2020 2a20 466f 7220            * For 
+0002d580: 6567 2e20 2f73 6974 653f 6465 7669 6365  eg. /site?device
+0002d590: 5f64 6f77 6e5c 5f5f 6774 3d30 202d 204c  _down\__gt=0 - L
+0002d5a0: 6973 7473 2061 6c6c 2073 6974 6573 2074  ists all sites t
+0002d5b0: 6861 7420 6861 7665 206d 6f72 6520 7468  hat have more th
+0002d5c0: 616e 2031 2064 6576 6963 6520 696e 2020  an 1 device in  
+0002d5d0: 2320 6e6f 7161 0a20 2020 2020 2020 2020  # noqa.         
+0002d5e0: 2020 2020 2020 2064 6f77 6e20 7374 6174         down stat
+0002d5f0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0002d600: 2020 2a20 466f 7220 6567 2e20 2f73 6974    * For eg. /sit
+0002d610: 653f 7761 6e5f 7570 6c69 6e6b 735f 646f  e?wan_uplinks_do
+0002d620: 776e 5c5f 5f6c 743d 3120 2d20 4c69 7374  wn\__lt=1 - List
+0002d630: 7320 616c 6c20 7369 7465 7320 7468 6174  s all sites that
+0002d640: 2068 6176 6520 6c65 7373 2074 6861 6e20   have less than 
+0002d650: 3120 7761 6e20 2023 206e 6f71 610a 2020  1 wan  # noqa.  
+0002d660: 2020 2020 2020 2020 2020 2020 2020 696e                in
+0002d670: 2064 6f77 6e20 7374 6174 650a 2020 2020   down state.    
+0002d680: 2020 2020 2020 2020 2020 2020 2a20 466f              * Fo
+0002d690: 7220 6567 2e20 2f73 6974 653f 6465 7669  r eg. /site?devi
+0002d6a0: 6365 5f75 705f 5f67 743d 3126 6465 7669  ce_up__gt=1&devi
+0002d6b0: 6365 5f75 705c 5f5f 6c74 3d31 3020 2d20  ce_up\__lt=10 - 
+0002d6c0: 4c69 7374 7320 616c 6c20 7369 7465 7320  Lists all sites 
+0002d6d0: 7468 6174 2068 6176 6520 312d 3130 2020  that have 1-10  
+0002d6e0: 2320 6e6f 7161 0a20 2020 2020 2020 2020  # noqa.         
+0002d6f0: 2020 2020 2020 2064 6576 6963 6573 2069         devices i
+0002d700: 6e20 7570 2073 7461 7465 0a20 2020 2020  n up state.     
+0002d710: 2020 2020 2020 2020 2020 2056 616c 6964             Valid
+0002d720: 2056 616c 7565 733a 2067 7420 2028 4772   Values: gt  (Gr
+0002d730: 6561 7465 7220 7468 616e 292c 206c 7420  eater than), lt 
+0002d740: 2028 4c65 7373 2074 6861 6e29 2c20 6774   (Less than), gt
+0002d750: 6520 2847 7265 6174 6572 2074 6861 6e20  e (Greater than 
+0002d760: 6f72 2065 7175 616c 2074 6f29 2c0a 2020  or equal to),.  
+0002d770: 2020 2020 2020 2020 2020 2020 2020 6c74                lt
+0002d780: 6520 284c 6573 7320 7468 616e 206f 7220  e (Less than or 
+0002d790: 6571 7561 6c20 746f 290a 2020 2020 2020  equal to).      
+0002d7a0: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
+0002d7b0: 742c 206f 7074 696f 6e61 6c29 3a20 7061  t, optional): pa
+0002d7c0: 6769 6e61 7469 6f6e 2073 7461 7274 2069  gination start i
+0002d7d0: 6e64 6578 2044 6566 6175 6c74 7320 746f  ndex Defaults to
+0002d7e0: 2030 2e0a 2020 2020 2020 2020 2020 2020   0..            
+0002d7f0: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
+0002d800: 6f6e 616c 293a 2070 6167 696e 6174 696f  onal): paginatio
+0002d810: 6e20 7369 7a65 2044 6566 6175 6c74 7320  n size Defaults 
+0002d820: 746f 2031 3030 2e0a 0a20 2020 2020 2020  to 100...       
+0002d830: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+0002d840: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+0002d850: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+0002d860: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+0002d870: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+0002d880: 726c 203d 2022 2f62 7261 6e63 6868 6561  rl = "/branchhea
+0002d890: 6c74 682f 7631 2f73 6974 6522 0a0a 2020  lth/v1/site"..  
+0002d8a0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+0002d8b0: 0a20 2020 2020 2020 2020 2020 2022 6e61  .            "na
+0002d8c0: 6d65 223a 206e 616d 652c 0a20 2020 2020  me": name,.     
+0002d8d0: 2020 2020 2020 2023 2022 636f 6c75 6d6e         # "column
+0002d8e0: 223a 2063 6f6c 756d 6e2c 0a20 2020 2020  ": column,.     
+0002d8f0: 2020 2020 2020 2022 6f72 6465 7222 3a20         "order": 
+0002d900: 2261 7363 2220 6966 206e 6f74 2072 6576  "asc" if not rev
+0002d910: 6572 7365 2065 6c73 6520 2264 6573 6322  erse else "desc"
+0002d920: 2c0a 2020 2020 2020 2020 2020 2020 2320  ,.            # 
+0002d930: 2277 616e 5f74 756e 6e65 6c73 5f64 6f77  "wan_tunnels_dow
+0002d940: 6e5c 5f5f 6774 223a 2022 3022 2c0a 2020  n\__gt": "0",.  
+0002d950: 2020 2020 2020 2020 2020 2320 2277 616e            # "wan
+0002d960: 5f75 706c 696e 6b73 5f64 6f77 6e5c 5f5f  _uplinks_down\__
+0002d970: 6774 223a 2022 3022 2c0a 2020 2020 2020  gt": "0",.      
+0002d980: 2020 2020 2020 2320 2a2a 6669 6c74 6572        # **filter
+0002d990: 732c 0a20 2020 2020 2020 2020 2020 2022  s,.            "
+0002d9a0: 6f66 6673 6574 223a 206f 6666 7365 742c  offset": offset,
+0002d9b0: 0a20 2020 2020 2020 2020 2020 2022 6c69  .            "li
+0002d9c0: 6d69 7422 3a20 6c69 6d69 742c 0a20 2020  mit": limit,.   
+0002d9d0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+0002d9e0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+0002d9f0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
+0002da00: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
+0002da10: 7379 6e63 2064 6566 2067 6574 5f61 7263  sync def get_arc
+0002da20: 6869 7665 645f 6465 7669 6365 7328 0a20  hived_devices(. 
+0002da30: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0002da40: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
+0002da50: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
+0002da60: 6d69 743a 2069 6e74 203d 2031 3030 2c0a  mit: int = 100,.
+0002da70: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+0002da80: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+0002da90: 7420 4172 6368 6976 6564 2064 6576 6963  t Archived devic
+0002daa0: 6573 2066 726f 6d20 6465 7669 6365 2069  es from device i
+0002dab0: 6e76 656e 746f 7279 2e0a 0a20 2020 2020  nventory...     
+0002dac0: 2020 202f 2f20 5573 6564 2062 7920 7368     // Used by sh
+0002dad0: 6f77 2061 7263 6869 7665 6420 2f2f 0a0a  ow archived //..
+0002dae0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+0002daf0: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
+0002db00: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0002db10: 3a20 6f66 6673 6574 206f 7220 7061 6765  : offset or page
+0002db20: 206e 756d 6265 7220 4465 6661 756c 7473   number Defaults
+0002db30: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
+0002db40: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
+0002db50: 7074 696f 6e61 6c29 3a20 4e75 6d62 6572  ptional): Number
+0002db60: 206f 6620 6465 7669 6365 7320 746f 2067   of devices to g
+0002db70: 6574 2044 6566 6175 6c74 7320 746f 2031  et Defaults to 1
+0002db80: 3030 2e0a 0a20 2020 2020 2020 2052 6574  00...        Ret
+0002db90: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0002dba0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0002dbb0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0002dbc0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0002dbd0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+0002dbe0: 2022 2f70 6c61 7466 6f72 6d2f 6465 7669   "/platform/devi
+0002dbf0: 6365 5f69 6e76 656e 746f 7279 2f76 312f  ce_inventory/v1/
+0002dc00: 6465 7669 6365 732f 6172 6368 6976 6522  devices/archive"
+0002dc10: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
+0002dc20: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+0002dc30: 2027 6f66 6673 6574 273a 206f 6666 7365   'offset': offse
+0002dc40: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
+0002dc50: 6c69 6d69 7427 3a20 6c69 6d69 740a 2020  limit': limit.  
+0002dc60: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+0002dc70: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0002dc80: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
+0002dc90: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
+0002dca0: 6173 796e 6320 6465 6620 6172 6368 6976  async def archiv
+0002dcb0: 655f 6465 7669 6365 7328 0a20 2020 2020  e_devices(.     
+0002dcc0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0002dcd0: 2073 6572 6961 6c73 3a20 4c69 7374 5b73   serials: List[s
+0002dce0: 7472 5d2c 0a20 2020 2029 202d 3e20 5265  tr],.    ) -> Re
+0002dcf0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+0002dd00: 2222 2241 7263 6869 7665 2064 6576 6963  """Archive devic
+0002dd10: 6573 2075 7369 6e67 2053 6572 6961 6c20  es using Serial 
+0002dd20: 6c69 7374 2e0a 0a20 2020 2020 2020 202f  list...        /
+0002dd30: 2f20 5573 6564 2062 7920 6172 6368 6976  / Used by archiv
+0002dd40: 6520 6465 7620 2e2e 2e20 2f2f 0a0a 2020  e dev ... //..  
+0002dd50: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+0002dd60: 2020 2020 2020 2020 7365 7269 616c 7320          serials 
+0002dd70: 284c 6973 745b 7374 725d 293a 2073 6572  (List[str]): ser
+0002dd80: 6961 6c73 0a0a 2020 2020 2020 2020 5265  ials..        Re
+0002dd90: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+0002dda0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+0002ddb0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+0002ddc0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+0002ddd0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+0002dde0: 3d20 222f 706c 6174 666f 726d 2f64 6576  = "/platform/dev
+0002ddf0: 6963 655f 696e 7665 6e74 6f72 792f 7631  ice_inventory/v1
+0002de00: 2f64 6576 6963 6573 2f61 7263 6869 7665  /devices/archive
+0002de10: 220a 0a20 2020 2020 2020 206a 736f 6e5f  "..        json_
+0002de20: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
+0002de30: 2020 2020 2027 7365 7269 616c 7327 3a20       'serials': 
+0002de40: 7574 696c 732e 6c69 7374 6966 7928 7365  utils.listify(se
+0002de50: 7269 616c 7329 0a20 2020 2020 2020 207d  rials).        }
+0002de60: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0002de70: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
+0002de80: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
+0002de90: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
+0002dea0: 2320 4150 492d 4e4f 5445 2063 656e 636c  # API-NOTE cencl
+0002deb0: 6920 7265 6d6f 7665 2061 7263 6869 7665  i remove archive
+0002dec0: 205b 6465 7669 6365 735d 0a20 2020 2061   [devices].    a
+0002ded0: 7379 6e63 2064 6566 2075 6e61 7263 6869  sync def unarchi
+0002dee0: 7665 5f64 6576 6963 6573 280a 2020 2020  ve_devices(.    
+0002def0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+0002df00: 2020 7365 7269 616c 733a 204c 6973 745b    serials: List[
+0002df10: 7374 725d 2c0a 2020 2020 2920 2d3e 2052  str],.    ) -> R
+0002df20: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0002df30: 2022 2222 556e 6172 6368 6976 6520 6465   """Unarchive de
+0002df40: 7669 6365 7320 7573 696e 6720 5365 7269  vices using Seri
+0002df50: 616c 206c 6973 742e 0a0a 2020 2020 2020  al list...      
+0002df60: 2020 2f2f 2055 7365 6420 6279 2075 6e61    // Used by una
+0002df70: 7263 6869 7665 2064 6576 202e 2e2e 202f  rchive dev ... /
+0002df80: 2f0a 0a20 2020 2020 2020 2041 7267 733a  /..        Args:
+0002df90: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
+0002dfa0: 6961 6c73 2028 4c69 7374 5b73 7472 5d29  ials (List[str])
+0002dfb0: 3a20 7365 7269 616c 730a 0a20 2020 2020  : serials..     
+0002dfc0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+0002dfd0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+0002dfe0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+0002dff0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+0002e000: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0002e010: 2075 726c 203d 2022 2f70 6c61 7466 6f72   url = "/platfor
+0002e020: 6d2f 6465 7669 6365 5f69 6e76 656e 746f  m/device_invento
+0002e030: 7279 2f76 312f 6465 7669 6365 732f 756e  ry/v1/devices/un
+0002e040: 6172 6368 6976 6522 0a0a 2020 2020 2020  archive"..      
+0002e050: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
+0002e060: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
+0002e070: 6961 6c73 273a 2075 7469 6c73 2e6c 6973  ials': utils.lis
+0002e080: 7469 6679 2873 6572 6961 6c73 290a 2020  tify(serials).  
+0002e090: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+0002e0a0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0002e0b0: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
+0002e0c0: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
+0002e0d0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+0002e0e0: 2067 6574 5f70 6f72 7461 6c73 280a 2020   get_portals(.  
+0002e0f0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+0002e100: 2020 2020 736f 7274 3a20 7374 7220 3d20      sort: str = 
+0002e110: 272b 6e61 6d65 272c 0a20 2020 2020 2020  '+name',.       
+0002e120: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
+0002e130: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
+0002e140: 2069 6e74 203d 2031 3030 2c0a 2020 2020   int = 100,.    
+0002e150: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+0002e160: 2020 2020 2020 2022 2222 4765 7420 616c         """Get al
+0002e170: 6c20 706f 7274 616c 7320 7769 7468 206c  l portals with l
+0002e180: 696d 6974 6564 2064 6174 612e 0a0a 2020  imited data...  
+0002e190: 2020 2020 2020 2f2f 2055 7365 6420 6279        // Used by
+0002e1a0: 2073 686f 7720 706f 7274 616c 7320 2e2e   show portals ..
+0002e1b0: 2e20 2f2f 0a0a 2020 2020 2020 2020 4172  . //..        Ar
+0002e1c0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+0002e1d0: 736f 7274 2028 7374 722c 206f 7074 696f  sort (str, optio
+0002e1e0: 6e61 6c29 3a20 2b20 6973 2066 6f72 2061  nal): + is for a
+0002e1f0: 7363 656e 6469 6e67 2020 616e 6420 2d20  scending  and - 
+0002e200: 666f 7220 6465 7363 656e 6469 6e67 206f  for descending o
+0002e210: 7264 6572 202c 2073 6f72 7473 2062 7920  rder , sorts by 
+0002e220: 6e61 6d65 2066 6f72 206e 6f77 0a20 2020  name for now.   
+0002e230: 2020 2020 2020 2020 2020 2020 2056 616c               Val
+0002e240: 6964 2056 616c 7565 733a 202b 6e61 6d65  id Values: +name
+0002e250: 2c20 2d6e 616d 650a 2020 2020 2020 2020  , -name.        
+0002e260: 2020 2020 6f66 6673 6574 2028 696e 742c      offset (int,
+0002e270: 206f 7074 696f 6e61 6c29 3a20 5374 6172   optional): Star
+0002e280: 7469 6e67 2069 6e64 6578 206f 6620 656c  ting index of el
+0002e290: 656d 656e 7420 666f 7220 6120 7061 6769  ement for a pagi
+0002e2a0: 6e61 7465 6420 7175 6572 7920 4465 6661  nated query Defa
+0002e2b0: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
+0002e2c0: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
+0002e2d0: 742c 206f 7074 696f 6e61 6c29 3a20 4e75  t, optional): Nu
+0002e2e0: 6d62 6572 206f 6620 6974 656d 7320 7265  mber of items re
+0002e2f0: 7175 6972 6564 2070 6572 2071 7565 7279  quired per query
+0002e300: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
+0002e310: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+0002e320: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0002e330: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+0002e340: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+0002e350: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+0002e360: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+0002e370: 2f67 7565 7374 2f76 312f 706f 7274 616c  /guest/v1/portal
+0002e380: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
+0002e390: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
+0002e3a0: 2020 2027 736f 7274 273a 2073 6f72 742c     'sort': sort,
+0002e3b0: 0a20 2020 2020 2020 2020 2020 2027 6f66  .            'of
+0002e3c0: 6673 6574 273a 206f 6666 7365 742c 0a20  fset': offset,. 
+0002e3d0: 2020 2020 2020 2020 2020 2027 6c69 6d69             'limi
+0002e3e0: 7427 3a20 6c69 6d69 740a 2020 2020 2020  t': limit.      
+0002e3f0: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+0002e400: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+0002e410: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+0002e420: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+0002e430: 6320 6465 6620 6765 745f 7669 7369 746f  c def get_visito
+0002e440: 7273 280a 2020 2020 2020 2020 7365 6c66  rs(.        self
+0002e450: 2c0a 2020 2020 2020 2020 706f 7274 616c  ,.        portal
+0002e460: 5f69 643a 2073 7472 2c0a 2020 2020 2020  _id: str,.      
+0002e470: 2020 736f 7274 3a20 7374 7220 3d20 272b    sort: str = '+
+0002e480: 6e61 6d65 272c 0a20 2020 2020 2020 2066  name',.        f
+0002e490: 696c 7465 725f 6279 3a20 7374 7220 3d20  ilter_by: str = 
+0002e4a0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6669  None,.        fi
+0002e4b0: 6c74 6572 5f76 616c 7565 3a20 7374 7220  lter_value: str 
+0002e4c0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0002e4d0: 6f66 6673 6574 3a20 696e 7420 3d20 302c  offset: int = 0,
+0002e4e0: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
+0002e4f0: 696e 7420 3d20 3130 302c 0a20 2020 2029  int = 100,.    )
+0002e500: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+0002e510: 2020 2020 2020 2222 2247 6574 2061 6c6c        """Get all
+0002e520: 2076 6973 6974 6f72 7320 6372 6561 7465   visitors create
+0002e530: 6420 6167 6169 6e73 7420 6120 706f 7274  d against a port
+0002e540: 616c 2e0a 0a20 2020 2020 2020 2041 7267  al...        Arg
+0002e550: 733a 0a20 2020 2020 2020 2020 2020 2070  s:.            p
+0002e560: 6f72 7461 6c5f 6964 2028 7374 7229 3a20  ortal_id (str): 
+0002e570: 506f 7274 616c 2049 4420 6f66 2074 6865  Portal ID of the
+0002e580: 2073 706c 6173 6820 7061 6765 0a20 2020   splash page.   
+0002e590: 2020 2020 2020 2020 2073 6f72 7420 2873           sort (s
+0002e5a0: 7472 2c20 6f70 7469 6f6e 616c 293a 202b  tr, optional): +
+0002e5b0: 2069 7320 666f 7220 6173 6365 6e64 696e   is for ascendin
+0002e5c0: 6720 2061 6e64 202d 2066 6f72 2064 6573  g  and - for des
+0002e5d0: 6365 6e64 696e 6720 6f72 6465 7220 2c20  cending order , 
+0002e5e0: 736f 7274 7320 6279 206e 616d 6520 666f  sorts by name fo
+0002e5f0: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
+0002e600: 2020 6e6f 7720 2056 616c 6964 2056 616c    now  Valid Val
+0002e610: 7565 733a 202b 6e61 6d65 2c20 2d6e 616d  ues: +name, -nam
+0002e620: 650a 2020 2020 2020 2020 2020 2020 6669  e.            fi
+0002e630: 6c74 6572 5f62 7920 2873 7472 2c20 6f70  lter_by (str, op
+0002e640: 7469 6f6e 616c 293a 2066 696c 7465 7220  tional): filter 
+0002e650: 6279 2065 6d61 696c 206f 7220 6e61 6d65  by email or name
+0002e660: 2020 5661 6c69 6420 5661 6c75 6573 3a20    Valid Values: 
+0002e670: 6e61 6d65 2c20 656d 6169 6c0a 2020 2020  name, email.    
+0002e680: 2020 2020 2020 2020 6669 6c74 6572 5f76          filter_v
+0002e690: 616c 7565 2028 7374 722c 206f 7074 696f  alue (str, optio
+0002e6a0: 6e61 6c29 3a20 6669 6c74 6572 2076 616c  nal): filter val
+0002e6b0: 7565 0a20 2020 2020 2020 2020 2020 206f  ue.            o
+0002e6c0: 6666 7365 7420 2869 6e74 2c20 6f70 7469  ffset (int, opti
+0002e6d0: 6f6e 616c 293a 2053 7461 7274 696e 6720  onal): Starting 
+0002e6e0: 696e 6465 7820 6f66 2065 6c65 6d65 6e74  index of element
+0002e6f0: 2066 6f72 2061 2070 6167 696e 6174 6564   for a paginated
+0002e700: 2071 7565 7279 2044 6566 6175 6c74 7320   query Defaults 
+0002e710: 746f 2030 2e0a 2020 2020 2020 2020 2020  to 0..          
+0002e720: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
+0002e730: 7469 6f6e 616c 293a 204e 756d 6265 7220  tional): Number 
+0002e740: 6f66 2069 7465 6d73 2072 6571 7569 7265  of items require
+0002e750: 6420 7065 7220 7175 6572 7920 4465 6661  d per query Defa
+0002e760: 756c 7473 2074 6f20 3130 302e 0a0a 2020  ults to 100...  
+0002e770: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0002e780: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0002e790: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0002e7a0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0002e7b0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0002e7c0: 2020 2020 7572 6c20 3d20 6622 2f67 7565      url = f"/gue
+0002e7d0: 7374 2f76 312f 706f 7274 616c 732f 7b70  st/v1/portals/{p
+0002e7e0: 6f72 7461 6c5f 6964 7d2f 7669 7369 746f  ortal_id}/visito
+0002e7f0: 7273 220a 0a20 2020 2020 2020 2070 6172  rs"..        par
+0002e800: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
+0002e810: 2020 2020 2773 6f72 7427 3a20 736f 7274      'sort': sort
+0002e820: 2c0a 2020 2020 2020 2020 2020 2020 2766  ,.            'f
+0002e830: 696c 7465 725f 6279 273a 2066 696c 7465  ilter_by': filte
+0002e840: 725f 6279 2c0a 2020 2020 2020 2020 2020  r_by,.          
+0002e850: 2020 2766 696c 7465 725f 7661 6c75 6527    'filter_value'
+0002e860: 3a20 6669 6c74 6572 5f76 616c 7565 2c0a  : filter_value,.
+0002e870: 2020 2020 2020 2020 2020 2020 276f 6666              'off
+0002e880: 7365 7427 3a20 6f66 6673 6574 2c0a 2020  set': offset,.  
+0002e890: 2020 2020 2020 2020 2020 276c 696d 6974            'limit
+0002e8a0: 273a 206c 696d 6974 0a20 2020 2020 2020  ': limit.       
+0002e8b0: 207d 0a20 2020 2020 2020 2070 6172 616d   }.        param
+0002e8c0: 7320 3d20 7574 696c 732e 7374 7269 705f  s = utils.strip_
+0002e8d0: 6e6f 6e65 2870 6172 616d 7329 0a0a 2020  none(params)..  
+0002e8e0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0002e8f0: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+0002e900: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+0002e910: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+0002e920: 6164 645f 7669 7369 746f 7228 0a20 2020  add_visitor(.   
+0002e930: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+0002e940: 2020 2070 6f72 7461 6c5f 6964 3a20 7374     portal_id: st
+0002e950: 722c 0a20 2020 2020 2020 206e 616d 653a  r,.        name:
+0002e960: 2073 7472 2c0a 2020 2020 2020 2020 2320   str,.        # 
+0002e970: 6964 3a20 7374 722c 0a20 2020 2020 2020  id: str,.       
+0002e980: 2070 6173 7377 6f72 643a 2073 7472 203d   password: str =
+0002e990: 204e 6f6e 652c 0a20 2020 2020 2020 202a   None,.        *
+0002e9a0: 2c0a 2020 2020 2020 2020 636f 6d70 616e  ,.        compan
+0002e9b0: 795f 6e61 6d65 3a20 7374 7220 3d20 4e6f  y_name: str = No
+0002e9c0: 6e65 2c0a 2020 2020 2020 2020 7068 6f6e  ne,.        phon
+0002e9d0: 653a 2073 7472 207c 204e 6f6e 6520 3d20  e: str | None = 
+0002e9e0: 4e6f 6e65 2c0a 2020 2020 2020 2020 656d  None,.        em
+0002e9f0: 6169 6c3a 2073 7472 207c 204e 6f6e 6520  ail: str | None 
+0002ea00: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0002ea10: 7661 6c69 645f 666f 7265 7665 723a 2062  valid_forever: b
+0002ea20: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
+0002ea30: 2020 2020 2076 616c 6964 5f64 6179 733a       valid_days:
+0002ea40: 2069 6e74 203d 2033 2c0a 2020 2020 2020   int = 3,.      
+0002ea50: 2020 7661 6c69 645f 686f 7572 733a 2069    valid_hours: i
+0002ea60: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
+0002ea70: 7661 6c69 645f 6d69 6e75 7465 733a 2069  valid_minutes: i
+0002ea80: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
+0002ea90: 6e6f 7469 6679 3a20 626f 6f6c 207c 204e  notify: bool | N
+0002eaa0: 6f6e 6520 3d20 4e6f 6e65 2c0a 2020 2020  one = None,.    
+0002eab0: 2020 2020 6e6f 7469 6679 5f74 6f3a 2063      notify_to: c
+0002eac0: 6f6e 7374 616e 7473 2e4e 6f74 6966 7954  onstants.NotifyT
+0002ead0: 6f41 7267 7320 7c20 4e6f 6e65 203d 204e  oArgs | None = N
+0002eae0: 6f6e 652c 0a20 2020 2020 2020 2069 735f  one,.        is_
+0002eaf0: 656e 6162 6c65 643a 2062 6f6f 6c20 3d20  enabled: bool = 
+0002eb00: 5472 7565 2c0a 2020 2020 2020 2020 2320  True,.        # 
+0002eb10: 7374 6174 7573 3a20 626f 6f6c 2c0a 2020  status: bool,.  
+0002eb20: 2020 2020 2020 2320 6372 6561 7465 645f        # created_
+0002eb30: 6174 3a20 7374 722c 0a20 2020 2020 2020  at: str,.       
+0002eb40: 2023 2065 7870 6972 655f 6174 3a20 7374   # expire_at: st
+0002eb50: 722c 0a20 2020 2029 202d 3e20 5265 7370  r,.    ) -> Resp
+0002eb60: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+0002eb70: 2243 7265 6174 6520 6120 6e65 7720 6775  "Create a new gu
+0002eb80: 6573 7420 7669 7369 746f 7220 6f66 2061  est visitor of a
+0002eb90: 2070 6f72 7461 6c2e 0a0a 2020 2020 2020   portal...      
+0002eba0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+0002ebb0: 2020 2020 706f 7274 616c 5f69 6420 2873      portal_id (s
+0002ebc0: 7472 293a 2050 6f72 7461 6c20 4944 206f  tr): Portal ID o
+0002ebd0: 6620 7468 6520 7370 6c61 7368 2070 6167  f the splash pag
+0002ebe0: 650a 2020 2020 2020 2020 2020 2020 6e61  e.            na
+0002ebf0: 6d65 2028 7374 7229 3a20 5669 7369 746f  me (str): Visito
+0002ec00: 7220 6163 636f 756e 7420 6e61 6d65 0a20  r account name. 
+0002ec10: 2020 2020 2020 2020 2020 2070 6173 7377             passw
+0002ec20: 6f72 6420 2873 7472 293a 2050 6173 7377  ord (str): Passw
+0002ec30: 6f72 640a 2020 2020 2020 2020 2020 2020  ord.            
+0002ec40: 636f 6d70 616e 795f 6e61 6d65 2028 7374  company_name (st
+0002ec50: 7229 3a20 436f 6d70 616e 7920 6e61 6d65  r): Company name
+0002ec60: 206f 6620 7468 6520 7669 7369 746f 720a   of the visitor.
+0002ec70: 2020 2020 2020 2020 2020 2020 7068 6f6e              phon
+0002ec80: 6520 2873 7472 293a 2050 686f 6e65 206e  e (str): Phone n
+0002ec90: 756d 6265 7220 6f66 2074 6865 2076 6973  umber of the vis
+0002eca0: 6974 6f72 3b20 466f 726d 6174 205b 2b43  itor; Format [+C
+0002ecb0: 6f75 6e74 7279 436f 6465 5d5b 5068 6f6e  ountryCode][Phon
+0002ecc0: 654e 756d 6265 725d 0a20 2020 2020 2020  eNumber].       
+0002ecd0: 2020 2020 2065 6d61 696c 2028 7374 7229       email (str)
+0002ece0: 3a20 456d 6169 6c20 6164 6472 6573 7320  : Email address 
+0002ecf0: 6f66 2074 6865 2076 6973 6974 6f72 0a20  of the visitor. 
+0002ed00: 2020 2020 2020 2020 2020 2076 616c 6964             valid
+0002ed10: 5f66 6f72 6576 6572 2028 626f 6f6c 293a  _forever (bool):
+0002ed20: 2056 6973 6974 6f72 2061 6363 6f75 6e74   Visitor account
+0002ed30: 2077 696c 6c20 6e6f 7420 6578 7069 7265   will not expire
+0002ed40: 2077 6865 6e20 7468 6973 2069 7320 7365   when this is se
+0002ed50: 7420 746f 2074 7275 650a 2020 2020 2020  t to true.      
+0002ed60: 2020 2020 2020 7661 6c69 645f 6461 7973        valid_days
+0002ed70: 2028 696e 7429 3a20 4163 636f 756e 7420   (int): Account 
+0002ed80: 7661 6c69 6469 7479 2069 6e20 6461 7973  validity in days
+0002ed90: 0a20 2020 2020 2020 2020 2020 2076 616c  .            val
+0002eda0: 6964 5f68 6f75 7273 2028 696e 7429 3a20  id_hours (int): 
+0002edb0: 4163 636f 756e 7420 7661 6c69 6469 7479  Account validity
+0002edc0: 2069 6e20 686f 7572 730a 2020 2020 2020   in hours.      
+0002edd0: 2020 2020 2020 7661 6c69 645f 6d69 6e75        valid_minu
+0002ede0: 7465 7320 2869 6e74 293a 2041 6363 6f75  tes (int): Accou
+0002edf0: 6e74 2076 616c 6964 6974 7920 696e 206d  nt validity in m
+0002ee00: 696e 7574 6573 0a20 2020 2020 2020 2020  inutes.         
+0002ee10: 2020 206e 6f74 6966 7920 2862 6f6f 6c29     notify (bool)
+0002ee20: 3a20 466c 6167 2074 6f20 6e6f 7469 6679  : Flag to notify
+0002ee30: 2074 6865 2070 6173 7377 6f72 6420 7669   the password vi
+0002ee40: 6120 656d 6169 6c20 6f72 206e 756d 6265  a email or numbe
+0002ee50: 720a 2020 2020 2020 2020 2020 2020 6e6f  r.            no
+0002ee60: 7469 6679 5f74 6f20 2873 7472 293a 204e  tify_to (str): N
+0002ee70: 6f74 6966 7920 746f 2065 6d61 696c 206f  otify to email o
+0002ee80: 7220 7068 6f6e 652e 2044 6566 7561 6c74  r phone. Defualt
+0002ee90: 2069 7320 7068 6f6e 6520 7768 656e 2069   is phone when i
+0002eea0: 7420 6973 2070 726f 7669 6465 640a 2020  t is provided.  
+0002eeb0: 2020 2020 2020 2020 2020 2020 2020 6f74                ot
+0002eec0: 6865 7277 6973 6520 656d 6169 6c2e 2020  herwise email.  
+0002eed0: 5661 6c69 6420 5661 6c75 6573 3a20 656d  Valid Values: em
+0002eee0: 6169 6c2c 2070 686f 6e65 0a20 2020 2020  ail, phone.     
+0002eef0: 2020 2020 2020 2069 735f 656e 6162 6c65         is_enable
+0002ef00: 6420 2862 6f6f 6c29 3a20 456e 6162 6c65  d (bool): Enable
+0002ef10: 206f 7220 6469 7361 626c 6520 7468 6520   or disable the 
+0002ef20: 7669 7369 746f 7220 6163 636f 756e 740a  visitor account.
+0002ef30: 2020 2020 2020 2020 2020 2020 2320 6964              # id
+0002ef40: 2028 7374 7229 3a20 4e41 2066 6f72 2076   (str): NA for v
+0002ef50: 6973 6974 6f72 2070 6f73 742f 7075 7420  isitor post/put 
+0002ef60: 6d65 7468 6f64 2e20 4944 206f 6620 7468  method. ID of th
+0002ef70: 6520 7669 7369 746f 720a 2020 2020 2020  e visitor.      
+0002ef80: 2020 2020 2020 2320 7374 6174 7573 2028        # status (
+0002ef90: 626f 6f6c 293a 2054 6869 7320 6669 656c  bool): This fiel
+0002efa0: 6420 7072 6f76 6964 6573 2073 7461 7475  d provides statu
+0002efb0: 7320 6f66 2074 6865 2061 6363 6f75 6e74  s of the account
+0002efc0: 2e20 5265 7475 726e 7320 7472 7565 2077  . Returns true w
+0002efd0: 6865 6e20 656e 6162 6c65 6420 616e 640a  hen enabled and.
+0002efe0: 2020 2020 2020 2020 2020 2020 2320 2020              #   
+0002eff0: 2020 6e6f 7420 6578 7069 7265 642e 204e    not expired. N
+0002f000: 4120 666f 7220 7669 7369 746f 7220 706f  A for visitor po
+0002f010: 7374 2f70 7574 206d 6574 686f 642e 2054  st/put method. T
+0002f020: 6869 7320 6973 206f 7074 696f 6e61 6c20  his is optional 
+0002f030: 6669 656c 6473 2e0a 2020 2020 2020 2020  fields..        
+0002f040: 2020 2020 2320 6372 6561 7465 645f 6174      # created_at
+0002f050: 2028 7374 7229 3a20 5468 6973 2066 6965   (str): This fie
+0002f060: 6c64 2069 6e64 6963 6174 6573 2074 6865  ld indicates the
+0002f070: 2063 7265 6174 6564 2064 6174 6520 7469   created date ti
+0002f080: 6d65 7374 616d 7020 7661 6c75 652e 2049  mestamp value. I
+0002f090: 7420 6973 2067 656e 6572 6174 6564 0a20  t is generated. 
+0002f0a0: 2020 2020 2020 2020 2020 2023 2020 2020             #    
+0002f0b0: 2077 6869 6c65 2063 7265 6174 696e 6720   while creating 
+0002f0c0: 7669 7369 746f 722e 204e 4120 666f 7220  visitor. NA for 
+0002f0d0: 7669 7369 746f 7220 706f 7374 2f70 7574  visitor post/put
+0002f0e0: 206d 6574 686f 642e 2054 6869 7320 6973   method. This is
+0002f0f0: 206f 7074 696f 6e61 6c20 6669 656c 642e   optional field.
+0002f100: 0a20 2020 2020 2020 2020 2020 2023 2065  .            # e
+0002f110: 7870 6972 655f 6174 2028 7374 7229 3a20  xpire_at (str): 
+0002f120: 5468 6973 2066 6965 6c64 2069 6e64 6963  This field indic
+0002f130: 6174 6573 2065 7870 6972 7920 7469 6d65  ates expiry time
+0002f140: 2074 696d 6573 7461 6d70 2076 616c 7565   timestamp value
+0002f150: 2e20 4974 2069 7320 6765 6e65 7261 7465  . It is generate
+0002f160: 6420 6261 7365 640a 2020 2020 2020 2020  d based.        
+0002f170: 2020 2020 2320 2020 2020 6f6e 2074 6865      #     on the
+0002f180: 2076 616c 6964 5f74 696c 6c20 7661 6c75   valid_till valu
+0002f190: 6520 616e 6420 6372 6561 7465 645f 6174  e and created_at
+0002f1a0: 2074 696d 652e 204e 4120 666f 7220 7669   time. NA for vi
+0002f1b0: 7369 746f 7220 706f 7374 2f70 7574 206d  sitor post/put m
+0002f1c0: 6574 686f 642e 2054 6869 7320 6973 0a20  ethod. This is. 
+0002f1d0: 2020 2020 2020 2020 2020 2023 2020 2020             #    
+0002f1e0: 206f 7074 696f 6e61 6c20 6669 656c 640a   optional field.
+0002f1f0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+0002f200: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+0002f210: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+0002f220: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+0002f230: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+0002f240: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+0002f250: 6775 6573 742f 7631 2f70 6f72 7461 6c73  guest/v1/portals
+0002f260: 2f7b 706f 7274 616c 5f69 647d 2f76 6973  /{portal_id}/vis
+0002f270: 6974 6f72 7322 0a0a 2020 2020 2020 2020  itors"..        
+0002f280: 7573 6572 5f64 6174 6120 3d20 7b0a 2020  user_data = {.  
+0002f290: 2020 2020 2020 2020 2020 2770 686f 6e65            'phone
+0002f2a0: 273a 2070 686f 6e65 2c0a 2020 2020 2020  ': phone,.      
+0002f2b0: 2020 2020 2020 2765 6d61 696c 273a 2065        'email': e
+0002f2c0: 6d61 696c 0a20 2020 2020 2020 207d 0a20  mail.        }. 
+0002f2d0: 2020 2020 2020 2023 2041 5049 2072 6571         # API req
+0002f2e0: 7569 7265 7320 7068 6f6e 6520 616e 6420  uires phone and 
+0002f2f0: 656d 6169 6c2c 2062 7574 2061 6c6c 6f77  email, but allow
+0002f300: 7320 4e6f 6e65 2f6e 756c 6c20 6173 2076  s None/null as v
+0002f310: 616c 7565 2064 6570 656e 6469 6e67 206f  alue depending o
+0002f320: 6e20 686f 7720 706f 7274 616c 2069 7320  n how portal is 
+0002f330: 636f 6e66 6967 7572 6564 0a20 2020 2020  configured.     
+0002f340: 2020 2023 2075 7365 725f 6461 7461 203d     # user_data =
+0002f350: 2075 7469 6c73 2e73 7472 6970 5f6e 6f6e   utils.strip_non
+0002f360: 6528 7573 6572 5f64 6174 6129 0a0a 2020  e(user_data)..  
+0002f370: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
+0002f380: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0002f390: 276e 616d 6527 3a20 6e61 6d65 2c0a 2020  'name': name,.  
+0002f3a0: 2020 2020 2020 2020 2020 2763 6f6d 7061            'compa
+0002f3b0: 6e79 5f6e 616d 6527 3a20 636f 6d70 616e  ny_name': compan
+0002f3c0: 795f 6e61 6d65 2c0a 2020 2020 2020 2020  y_name,.        
+0002f3d0: 2020 2020 2769 735f 656e 6162 6c65 6427      'is_enabled'
+0002f3e0: 3a20 6973 5f65 6e61 626c 6564 2c0a 2020  : is_enabled,.  
+0002f3f0: 2020 2020 2020 2020 2020 2776 616c 6964            'valid
+0002f400: 5f74 696c 6c5f 6e6f 5f6c 696d 6974 273a  _till_no_limit':
+0002f410: 2076 616c 6964 5f66 6f72 6576 6572 2c0a   valid_forever,.
+0002f420: 2020 2020 2020 2020 2020 2020 2776 616c              'val
+0002f430: 6964 5f74 696c 6c5f 6461 7973 273a 2076  id_till_days': v
+0002f440: 616c 6964 5f64 6179 732c 0a20 2020 2020  alid_days,.     
+0002f450: 2020 2020 2020 2027 7661 6c69 645f 7469         'valid_ti
+0002f460: 6c6c 5f68 6f75 7273 273a 2076 616c 6964  ll_hours': valid
+0002f470: 5f68 6f75 7273 2c0a 2020 2020 2020 2020  _hours,.        
+0002f480: 2020 2020 2776 616c 6964 5f74 696c 6c5f      'valid_till_
+0002f490: 6d69 6e75 7465 7327 3a20 7661 6c69 645f  minutes': valid_
+0002f4a0: 6d69 6e75 7465 732c 0a20 2020 2020 2020  minutes,.       
+0002f4b0: 2020 2020 2027 6e6f 7469 6679 273a 206e       'notify': n
+0002f4c0: 6f74 6966 792c 0a20 2020 2020 2020 2020  otify,.         
+0002f4d0: 2020 2027 6e6f 7469 6679 5f74 6f27 3a20     'notify_to': 
+0002f4e0: 6e6f 7469 6679 5f74 6f2c 0a20 2020 2020  notify_to,.     
+0002f4f0: 2020 2020 2020 2027 7061 7373 776f 7264         'password
+0002f500: 273a 2070 6173 7377 6f72 640a 2020 2020  ': password.    
+0002f510: 2020 2020 7d0a 2020 2020 2020 2020 6a73      }.        js
+0002f520: 6f6e 5f64 6174 6120 3d20 7574 696c 732e  on_data = utils.
+0002f530: 7374 7269 705f 6e6f 6e65 286a 736f 6e5f  strip_none(json_
+0002f540: 6461 7461 290a 2020 2020 2020 2020 6966  data).        if
+0002f550: 2075 7365 725f 6461 7461 3a0a 2020 2020   user_data:.    
+0002f560: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
+0002f570: 615b 2275 7365 7222 5d20 3d20 7573 6572  a["user"] = user
+0002f580: 5f64 6174 610a 0a20 2020 2020 2020 2072  _data..        r
+0002f590: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+0002f5a0: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
+0002f5b0: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
+0002f5c0: 0a20 2020 2023 2054 4f44 4f20 7661 6c69  .    # TODO vali
+0002f5d0: 6461 7465 2049 5020 6164 6472 6573 7320  date IP address 
+0002f5e0: 666f 726d 6174 0a20 2020 2061 7379 6e63  format.    async
+0002f5f0: 2064 6566 2075 7064 6174 655f 6378 5f70   def update_cx_p
+0002f600: 726f 7065 7274 6965 7328 0a20 2020 2020  roperties(.     
+0002f610: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0002f620: 202a 2c0a 2020 2020 2020 2020 7365 7269   *,.        seri
+0002f630: 616c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  al: str = None,.
+0002f640: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
+0002f650: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0002f660: 2020 206e 616d 653a 2073 7472 203d 204e     name: str = N
+0002f670: 6f6e 652c 0a20 2020 2020 2020 2063 6f6e  one,.        con
+0002f680: 7461 6374 3a20 7374 7220 3d20 4e6f 6e65  tact: str = None
+0002f690: 2c0a 2020 2020 2020 2020 6c6f 6361 7469  ,.        locati
+0002f6a0: 6f6e 3a20 7374 7220 3d20 4e6f 6e65 2c0a  on: str = None,.
+0002f6b0: 2020 2020 2020 2020 7469 6d65 7a6f 6e65          timezone
+0002f6c0: 3a20 636f 6e73 7461 6e74 732e 545a 4442  : constants.TZDB
+0002f6d0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002f6e0: 206d 676d 745f 7672 663a 2062 6f6f 6c20   mgmt_vrf: bool 
+0002f6f0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0002f700: 646e 735f 7365 7276 6572 733a 204c 6973  dns_servers: Lis
+0002f710: 745b 7374 725d 203d 205b 5d2c 0a20 2020  t[str] = [],.   
+0002f720: 2020 2020 206e 7470 5f73 6572 7665 7273       ntp_servers
+0002f730: 3a20 4c69 7374 5b73 7472 5d20 3d20 5b5d  : List[str] = []
+0002f740: 2c0a 2020 2020 2020 2020 6164 6d69 6e5f  ,.        admin_
+0002f750: 7573 6572 3a20 7374 7220 3d20 4e6f 6e65  user: str = None
+0002f760: 2c0a 2020 2020 2020 2020 6164 6d69 6e5f  ,.        admin_
+0002f770: 7061 7373 3a20 7374 7220 3d20 4e6f 6e65  pass: str = None
+0002f780: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+0002f790: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+0002f7a0: 5570 6461 7465 2050 726f 7065 7274 6965  Update Propertie
+0002f7b0: 7320 2841 7275 6261 4f53 2d43 5829 2e0a  s (ArubaOS-CX)..
+0002f7c0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0002f7d0: 2020 2020 2020 2020 2020 2073 6572 6961             seria
+0002f7e0: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
+0002f7f0: 293a 2044 6576 6963 6520 7365 7269 616c  ): Device serial
+0002f800: 206e 756d 6265 722e 0a20 2020 2020 2020   number..       
+0002f810: 2020 2020 2020 2020 204d 616e 6461 746f           Mandato
+0002f820: 7279 2066 6f72 2064 6576 6963 6520 6c65  ry for device le
+0002f830: 7665 6c20 636f 6e66 6967 7572 6174 696f  vel configuratio
+0002f840: 6e2e 0a20 2020 2020 2020 2020 2020 2020  n..             
+0002f850: 2020 2031 2061 6e64 206f 6e6c 7920 3120     1 and only 1 
+0002f860: 6f66 2073 6572 6961 6c20 6f72 2067 726f  of serial or gro
+0002f870: 7570 2061 7265 2072 6571 7569 7265 640a  up are required.
+0002f880: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+0002f890: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
+0002f8a0: 293a 2047 726f 7570 206e 616d 652e 0a20  ): Group name.. 
+0002f8b0: 2020 2020 2020 2020 2020 2020 2020 204d                 M
+0002f8c0: 616e 6461 746f 7279 2066 6f72 2067 726f  andatory for gro
+0002f8d0: 7570 206c 6576 656c 2063 6f6e 6669 6775  up level configu
+0002f8e0: 7261 7469 6f6e 2e0a 2020 2020 2020 2020  ration..        
+0002f8f0: 2020 2020 2020 2020 3120 616e 6420 6f6e          1 and on
+0002f900: 6c79 2031 206f 6620 7365 7269 616c 206f  ly 1 of serial o
+0002f910: 7220 6772 6f75 7020 6172 6520 7265 7175  r group are requ
+0002f920: 6972 6564 0a20 2020 2020 2020 2020 2020  ired.           
+0002f930: 206e 616d 6520 2873 7472 293a 204f 6e6c   name (str): Onl
+0002f940: 7920 636f 6e66 6967 7572 6162 6c65 2061  y configurable a
+0002f950: 7420 6465 7669 6365 2d6c 6576 656c 2e0a  t device-level..
+0002f960: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
+0002f970: 6163 7420 2873 7472 293a 2050 6174 7465  act (str): Patte
+0002f980: 726e 3a20 225e 5b5e 223f 5d2a 2422 0a20  rn: "^[^"?]*$". 
+0002f990: 2020 2020 2020 2020 2020 206c 6f63 6174             locat
+0002f9a0: 696f 6e20 2873 7472 293a 2050 6174 7465  ion (str): Patte
+0002f9b0: 726e 3a20 225e 5b5e 223f 5d2a 2422 0a20  rn: "^[^"?]*$". 
+0002f9c0: 2020 2020 2020 2020 2020 2074 696d 657a             timez
+0002f9d0: 6f6e 6520 2873 7472 293a 2074 696d 657a  one (str): timez
+0002f9e0: 6f6e 6520 2056 616c 6964 2056 616c 7565  one  Valid Value
+0002f9f0: 733a 2075 7365 2074 7a20 6461 7461 6261  s: use tz databa
+0002fa00: 7365 2066 6f72 6d61 7420 6c69 6b65 2022  se format like "
+0002fa10: 416d 6572 6963 612f 4368 6963 6167 6f22  America/Chicago"
+0002fa20: 0a20 2020 2020 2020 2020 2020 206d 676d  .            mgm
+0002fa30: 745f 7672 6620 2862 6f6f 6c29 3a20 5573  t_vrf (bool): Us
+0002fa40: 6520 6d67 6d74 2056 5246 2c20 696e 6469  e mgmt VRF, indi
+0002fa50: 6361 7465 7320 5652 4620 666f 7220 646e  cates VRF for dn
+0002fa60: 735f 7365 7276 6572 7320 616e 6420 6e74  s_servers and nt
+0002fa70: 705f 7365 7276 6572 732c 2069 6620 4661  p_servers, if Fa
+0002fa80: 6c73 6520 6f72 206e 6f74 2070 726f 7669  lse or not provi
+0002fa90: 6465 6420 6465 6661 756c 7420 5652 4620  ded default VRF 
+0002faa0: 6973 2075 7365 642e 0a20 2020 2020 2020  is used..       
+0002fab0: 2020 2020 2064 6e73 5f73 6572 7665 7273       dns_servers
+0002fac0: 2028 4c69 7374 5b73 7472 5d29 3a20 6970   (List[str]): ip
+0002fad0: 7634 2f69 7076 3620 6164 6472 6573 730a  v4/ipv6 address.
+0002fae0: 2020 2020 2020 2020 2020 2020 6e74 705f              ntp_
+0002faf0: 7365 7276 6572 7320 284c 6973 745b 7374  servers (List[st
+0002fb00: 725d 293a 2069 7076 342f 6970 7636 2061  r]): ipv4/ipv6 a
+0002fb10: 6464 7265 7373 0a20 2020 2020 2020 2020  ddress.         
+0002fb20: 2020 2061 646d 696e 5f75 7365 7220 2873     admin_user (s
+0002fb30: 7472 293a 206c 6f63 616c 2061 646d 696e  tr): local admin
+0002fb40: 2075 7365 720a 2020 2020 2020 2020 2020   user.          
+0002fb50: 2020 6164 6d69 6e5f 7061 7373 2028 7374    admin_pass (st
+0002fb60: 7229 3a20 6c6f 6361 6c20 6164 6d69 6e20  r): local admin 
+0002fb70: 7061 7373 776f 7264 0a0a 2020 2020 2020  password..      
+0002fb80: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0002fb90: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0002fba0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0002fbb0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+0002fbc0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0002fbd0: 7572 6c20 3d20 222f 636f 6e66 6967 7572  url = "/configur
+0002fbe0: 6174 696f 6e2f 7631 2f73 7769 7463 682f  ation/v1/switch/
+0002fbf0: 6378 2f70 726f 7065 7274 6965 7322 0a0a  cx/properties"..
+0002fc00: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+0002fc10: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+0002fc20: 6465 7669 6365 5f73 6572 6961 6c27 3a20  device_serial': 
+0002fc30: 7365 7269 616c 2c0a 2020 2020 2020 2020  serial,.        
+0002fc40: 2020 2020 2767 726f 7570 5f6e 616d 6527      'group_name'
+0002fc50: 3a20 6772 6f75 700a 2020 2020 2020 2020  : group.        
+0002fc60: 7d0a 0a20 2020 2020 2020 206a 736f 6e5f  }..        json_
+0002fc70: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
+0002fc80: 2020 2020 2027 6e61 6d65 273a 206e 616d       'name': nam
+0002fc90: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+0002fca0: 636f 6e74 6163 7427 3a20 636f 6e74 6163  contact': contac
+0002fcb0: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
+0002fcc0: 6c6f 6361 7469 6f6e 273a 206c 6f63 6174  location': locat
+0002fcd0: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
+0002fce0: 2027 7469 6d65 7a6f 6e65 273a 2074 696d   'timezone': tim
+0002fcf0: 657a 6f6e 652c 0a20 2020 2020 2020 2020  ezone,.         
+0002fd00: 2020 2027 646e 735f 7365 7276 6572 7327     'dns_servers'
+0002fd10: 3a20 646e 735f 7365 7276 6572 732c 0a20  : dns_servers,. 
+0002fd20: 2020 2020 2020 2020 2020 2027 6e74 705f             'ntp_
+0002fd30: 7365 7276 6572 7327 3a20 6e74 705f 7365  servers': ntp_se
+0002fd40: 7276 6572 732c 0a20 2020 2020 2020 2020  rvers,.         
+0002fd50: 2020 2027 6164 6d69 6e5f 7573 6572 6e61     'admin_userna
+0002fd60: 6d65 273a 2061 646d 696e 5f75 7365 722c  me': admin_user,
+0002fd70: 0a20 2020 2020 2020 2020 2020 2027 6164  .            'ad
+0002fd80: 6d69 6e5f 7061 7373 776f 7264 273a 2061  min_password': a
+0002fd90: 646d 696e 5f70 6173 730a 2020 2020 2020  dmin_pass.      
+0002fda0: 2020 7d0a 2020 2020 2020 2020 6966 206d    }.        if m
+0002fdb0: 676d 745f 7672 6620 6973 206e 6f74 204e  gmt_vrf is not N
+0002fdc0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0002fdd0: 206a 736f 6e5f 6461 7461 5b22 7672 6622   json_data["vrf"
+0002fde0: 5d20 3d20 226d 676d 7422 2069 6620 6d67  ] = "mgmt" if mg
+0002fdf0: 6d74 5f76 7266 2065 6c73 6520 2264 6566  mt_vrf else "def
+0002fe00: 6175 6c74 220a 2020 2020 2020 2020 656c  ault".        el
+0002fe10: 6966 2064 6e73 5f73 6572 7665 7273 206f  if dns_servers o
+0002fe20: 7220 6e74 705f 7365 7276 6572 733a 0a20  r ntp_servers:. 
+0002fe30: 2020 2020 2020 2020 2020 206a 736f 6e5f             json_
+0002fe40: 6461 7461 5b22 7672 6622 5d20 3d20 2264  data["vrf"] = "d
+0002fe50: 6566 6175 6c74 220a 0a20 2020 2020 2020  efault"..       
+0002fe60: 2069 6620 6c65 6e28 5b78 2066 6f72 2078   if len([x for x
+0002fe70: 2069 6e20 5b61 646d 696e 5f75 7365 722c   in [admin_user,
+0002fe80: 2061 646d 696e 5f70 6173 735d 2069 6620   admin_pass] if 
+0002fe90: 7820 6973 206e 6f74 204e 6f6e 655d 2920  x is not None]) 
+0002fea0: 3d3d 2031 3a0a 2020 2020 2020 2020 2020  == 1:.          
+0002feb0: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
+0002fec0: 6f72 2822 4966 2065 6974 6865 7220 6164  or("If either ad
+0002fed0: 6d69 6e5f 7573 6572 206f 7220 6164 6d69  min_user or admi
+0002fee0: 6e5f 7061 7373 2061 7265 2062 696e 6720  n_pass are bing 
+0002fef0: 7570 6461 7465 642c 202a 626f 7468 2a20  updated, *both* 
+0002ff00: 7368 6f75 6c64 2062 6520 7072 6f76 6964  should be provid
+0002ff10: 6564 2e22 290a 0a20 2020 2020 2020 2069  ed.")..        i
+0002ff20: 6620 6c65 6e28 5b78 2066 6f72 2078 2069  f len([x for x i
+0002ff30: 6e20 5b73 6572 6961 6c2c 2067 726f 7570  n [serial, group
+0002ff40: 5d20 6966 2078 2069 7320 6e6f 7420 4e6f  ] if x is not No
+0002ff50: 6e65 5d29 203d 3d20 323a 0a20 2020 2020  ne]) == 2:.     
+0002ff60: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
+0002ff70: 7565 4572 726f 7228 2270 726f 7669 6465  ueError("provide
+0002ff80: 2073 6572 6961 6c20 746f 2075 7064 6174   serial to updat
+0002ff90: 6520 6465 7669 6365 206c 6576 656c 2070  e device level p
+0002ffa0: 726f 7065 7274 6965 732c 206f 7220 6772  roperties, or gr
+0002ffb0: 6f75 7020 746f 2075 7064 6174 6520 6174  oup to update at
+0002ffc0: 2074 6865 2067 726f 7570 206c 6576 656c   the group level
+0002ffd0: 2e20 2050 726f 7669 6469 6e67 2062 6f74  .  Providing bot
+0002ffe0: 6820 6973 2069 6e76 616c 6964 2e22 290a  h is invalid.").
+0002fff0: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
+00030000: 7461 203d 2075 7469 6c73 2e73 7472 6970  ta = utils.strip
+00030010: 5f6e 6f6e 6528 6a73 6f6e 5f64 6174 612c  _none(json_data,
+00030020: 2073 7472 6970 5f65 6d70 7479 5f6f 626a   strip_empty_obj
+00030030: 3d54 7275 6529 0a0a 2020 2020 2020 2020  =True)..        
+00030040: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+00030050: 662e 706f 7374 2875 726c 2c20 6a73 6f6e  f.post(url, json
+00030060: 5f64 6174 613d 6a73 6f6e 5f64 6174 612c  _data=json_data,
+00030070: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+00030080: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+00030090: 6574 5f6f 7370 665f 6172 6561 280a 2020  et_ospf_area(.  
+000300a0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+000300b0: 2020 2020 6465 7669 6365 3a20 7374 722c      device: str,
+000300c0: 0a20 2020 2020 2020 206d 6172 6b65 723a  .        marker:
+000300d0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+000300e0: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
+000300f0: 3d20 3130 302c 0a20 2020 2029 202d 3e20  = 100,.    ) -> 
+00030100: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00030110: 2020 2222 224c 6973 7420 4f53 5046 2041    """List OSPF A
+00030120: 7265 6120 496e 666f 726d 6174 696f 6e2e  rea Information.
+00030130: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+00030140: 2020 2020 2020 2020 2020 2020 6465 7669              devi
+00030150: 6365 2028 7374 7229 3a20 4465 7669 6365  ce (str): Device
+00030160: 2073 6572 6961 6c20 6e75 6d62 6572 0a20   serial number. 
+00030170: 2020 2020 2020 2020 2020 206d 6172 6b65             marke
+00030180: 7220 2873 7472 2c20 6f70 7469 6f6e 616c  r (str, optional
+00030190: 293a 204f 7061 7175 6520 6861 6e64 6c65  ): Opaque handle
+000301a0: 2074 6f20 6665 7463 6820 6e65 7874 2070   to fetch next p
+000301b0: 6167 650a 2020 2020 2020 2020 2020 2020  age.            
+000301c0: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
+000301d0: 6f6e 616c 293a 2070 6167 6520 7369 7a65  onal): page size
+000301e0: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
+000301f0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00030200: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00030210: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+00030220: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+00030230: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+00030240: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00030250: 2f61 7069 2f72 6f75 7469 6e67 2f76 312f  /api/routing/v1/
+00030260: 6f73 7066 2f61 7265 6122 0a0a 2020 2020  ospf/area"..    
+00030270: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
+00030280: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
+00030290: 6365 273a 2064 6576 6963 652c 0a20 2020  ce': device,.   
+000302a0: 2020 2020 2020 2020 2027 6d61 726b 6572           'marker
+000302b0: 273a 206d 6172 6b65 722c 0a20 2020 2020  ': marker,.     
+000302c0: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
+000302d0: 6c69 6d69 740a 2020 2020 2020 2020 7d0a  limit.        }.
+000302e0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000302f0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+00030300: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
+00030310: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
+00030320: 6620 6765 745f 6f73 7066 5f69 6e74 6572  f get_ospf_inter
+00030330: 6661 6365 280a 2020 2020 2020 2020 7365  face(.        se
+00030340: 6c66 2c0a 2020 2020 2020 2020 6465 7669  lf,.        devi
+00030350: 6365 3a20 7374 722c 0a20 2020 2020 2020  ce: str,.       
+00030360: 206d 6172 6b65 723a 2073 7472 203d 204e   marker: str = N
+00030370: 6f6e 652c 0a20 2020 2020 2020 206c 696d  one,.        lim
+00030380: 6974 3a20 696e 7420 3d20 3130 302c 0a20  it: int = 100,. 
+00030390: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+000303a0: 3a0a 2020 2020 2020 2020 2222 224c 6973  :.        """Lis
+000303b0: 7420 4f53 5046 2049 6e74 6572 6661 6365  t OSPF Interface
+000303c0: 2049 6e66 6f72 6d61 7469 6f6e 2e0a 0a20   Information... 
+000303d0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+000303e0: 2020 2020 2020 2020 2064 6576 6963 6520           device 
+000303f0: 2873 7472 293a 2044 6576 6963 6520 7365  (str): Device se
+00030400: 7269 616c 206e 756d 6265 720a 2020 2020  rial number.    
+00030410: 2020 2020 2020 2020 6d61 726b 6572 2028          marker (
+00030420: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00030430: 4f70 6171 7565 2068 616e 646c 6520 746f  Opaque handle to
+00030440: 2066 6574 6368 206e 6578 7420 7061 6765   fetch next page
+00030450: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
+00030460: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
+00030470: 6c29 3a20 7061 6765 2073 697a 6520 4465  l): page size De
+00030480: 6661 756c 7473 2074 6f20 3130 302e 0a0a  faults to 100...
+00030490: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+000304a0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+000304b0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+000304c0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+000304d0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+000304e0: 2020 2020 2020 7572 6c20 3d20 222f 6170        url = "/ap
+000304f0: 692f 726f 7574 696e 672f 7631 2f6f 7370  i/routing/v1/osp
+00030500: 662f 696e 7465 7266 6163 6522 0a0a 2020  f/interface"..  
+00030510: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+00030520: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
+00030530: 7669 6365 273a 2064 6576 6963 652c 0a20  vice': device,. 
+00030540: 2020 2020 2020 2020 2020 2027 6d61 726b             'mark
+00030550: 6572 273a 206d 6172 6b65 722c 0a20 2020  er': marker,.   
+00030560: 2020 2020 2020 2020 2027 6c69 6d69 7427           'limit'
+00030570: 3a20 6c69 6d69 740a 2020 2020 2020 2020  : limit.        
+00030580: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+00030590: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+000305a0: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
+000305b0: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
+000305c0: 6465 6620 6765 745f 6f73 7066 5f6e 6569  def get_ospf_nei
+000305d0: 6768 626f 7228 0a20 2020 2020 2020 2073  ghbor(.        s
+000305e0: 656c 662c 0a20 2020 2020 2020 2064 6576  elf,.        dev
+000305f0: 6963 653a 2073 7472 2c0a 2020 2020 2020  ice: str,.      
+00030600: 2020 6d61 726b 6572 3a20 7374 7220 3d20    marker: str = 
+00030610: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c69  None,.        li
+00030620: 6d69 743a 2069 6e74 203d 2031 3030 2c0a  mit: int = 100,.
+00030630: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+00030640: 653a 0a20 2020 2020 2020 2022 2222 4c69  e:.        """Li
+00030650: 7374 204f 5350 4620 6e65 6967 6862 6f72  st OSPF neighbor
+00030660: 2049 6e66 6f72 6d61 7469 6f6e 2e0a 0a20   Information... 
+00030670: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00030680: 2020 2020 2020 2020 2064 6576 6963 6520           device 
+00030690: 2873 7472 293a 2044 6576 6963 6520 7365  (str): Device se
+000306a0: 7269 616c 206e 756d 6265 720a 2020 2020  rial number.    
+000306b0: 2020 2020 2020 2020 6d61 726b 6572 2028          marker (
+000306c0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+000306d0: 4f70 6171 7565 2068 616e 646c 6520 746f  Opaque handle to
+000306e0: 2066 6574 6368 206e 6578 7420 7061 6765   fetch next page
+000306f0: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
+00030700: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
+00030710: 6c29 3a20 7061 6765 2073 697a 6520 4465  l): page size De
+00030720: 6661 756c 7473 2074 6f20 3130 302e 0a0a  faults to 100...
+00030730: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00030740: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00030750: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00030760: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00030770: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00030780: 2020 2020 2020 7572 6c20 3d20 222f 6170        url = "/ap
+00030790: 692f 726f 7574 696e 672f 7631 2f6f 7370  i/routing/v1/osp
+000307a0: 662f 6e65 6967 6862 6f72 220a 0a20 2020  f/neighbor"..   
+000307b0: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+000307c0: 2020 2020 2020 2020 2020 2020 2764 6576              'dev
+000307d0: 6963 6527 3a20 6465 7669 6365 2c0a 2020  ice': device,.  
+000307e0: 2020 2020 2020 2020 2020 276d 6172 6b65            'marke
+000307f0: 7227 3a20 6d61 726b 6572 2c0a 2020 2020  r': marker,.    
+00030800: 2020 2020 2020 2020 276c 696d 6974 273a          'limit':
+00030810: 206c 696d 6974 0a20 2020 2020 2020 207d   limit.        }
+00030820: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00030830: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
+00030840: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
+00030850: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
+00030860: 6566 2067 6574 5f6f 7370 665f 6461 7461  ef get_ospf_data
+00030870: 6261 7365 280a 2020 2020 2020 2020 7365  base(.        se
+00030880: 6c66 2c0a 2020 2020 2020 2020 6465 7669  lf,.        devi
+00030890: 6365 3a20 7374 722c 0a20 2020 2020 2020  ce: str,.       
+000308a0: 206d 6172 6b65 723a 2073 7472 203d 204e   marker: str = N
+000308b0: 6f6e 652c 0a20 2020 2020 2020 206c 696d  one,.        lim
+000308c0: 6974 3a20 696e 7420 3d20 3130 302c 0a20  it: int = 100,. 
+000308d0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+000308e0: 3a0a 2020 2020 2020 2020 2222 224c 6973  :.        """Lis
+000308f0: 7420 4f53 5046 204c 696e 6b20 5374 6174  t OSPF Link Stat
+00030900: 6520 4461 7461 6261 7365 2049 6e66 6f72  e Database Infor
+00030910: 6d61 7469 6f6e 2e0a 0a20 2020 2020 2020  mation...       
+00030920: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+00030930: 2020 2064 6576 6963 6520 2873 7472 293a     device (str):
+00030940: 2044 6576 6963 6520 7365 7269 616c 206e   Device serial n
+00030950: 756d 6265 720a 2020 2020 2020 2020 2020  umber.          
+00030960: 2020 6d61 726b 6572 2028 7374 722c 206f    marker (str, o
+00030970: 7074 696f 6e61 6c29 3a20 4f70 6171 7565  ptional): Opaque
+00030980: 2068 616e 646c 6520 746f 2066 6574 6368   handle to fetch
+00030990: 206e 6578 7420 7061 6765 0a20 2020 2020   next page.     
+000309a0: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
+000309b0: 742c 206f 7074 696f 6e61 6c29 3a20 7061  t, optional): pa
+000309c0: 6765 2073 697a 6520 4465 6661 756c 7473  ge size Defaults
+000309d0: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
+000309e0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+000309f0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00030a00: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00030a10: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00030a20: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00030a30: 7572 6c20 3d20 222f 6170 692f 726f 7574  url = "/api/rout
+00030a40: 696e 672f 7631 2f6f 7370 662f 6461 7461  ing/v1/ospf/data
+00030a50: 6261 7365 220a 0a20 2020 2020 2020 2070  base"..        p
+00030a60: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+00030a70: 2020 2020 2020 2764 6576 6963 6527 3a20        'device': 
+00030a80: 6465 7669 6365 2c0a 2020 2020 2020 2020  device,.        
+00030a90: 2020 2020 276d 6172 6b65 7227 3a20 6d61      'marker': ma
+00030aa0: 726b 6572 2c0a 2020 2020 2020 2020 2020  rker,.          
+00030ab0: 2020 276c 696d 6974 273a 206c 696d 6974    'limit': limit
+00030ac0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+00030ad0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00030ae0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+00030af0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+00030b00: 2020 2023 202f 2f20 2d2d 204e 6f74 2075     # // -- Not u
+00030b10: 7365 6420 6279 2063 6f6d 6d61 6e64 7320  sed by commands 
+00030b20: 7965 742e 2020 756e 646f 6375 6d65 6e74  yet.  undocument
+00030b30: 6564 206b 6d73 2061 7069 202d 2d20 2f2f  ed kms api -- //
+00030b40: 0a20 2020 2061 7379 6e63 2064 6566 206b  .    async def k
+00030b50: 6d73 5f67 6574 5f73 796e 6365 645f 6170  ms_get_synced_ap
+00030b60: 7328 7365 6c66 2c20 6d61 633a 2073 7472  s(self, mac: str
+00030b70: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00030b80: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+00030b90: 6b65 796d 676d 742f 7631 2f73 796e 6365  keymgmt/v1/synce
+00030ba0: 6461 706c 6973 742f 7b6d 6163 7d22 0a20  daplist/{mac}". 
+00030bb0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+00030bc0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+00030bd0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+00030be0: 206b 6d73 5f67 6574 5f63 6c69 656e 745f   kms_get_client_
+00030bf0: 7265 636f 7264 2873 656c 662c 206d 6163  record(self, mac
+00030c00: 3a20 7374 7229 202d 3e20 5265 7370 6f6e  : str) -> Respon
+00030c10: 7365 3a0a 2020 2020 2020 2020 7572 6c20  se:.        url 
+00030c20: 3d20 6622 2f6b 6579 6d67 6d74 2f76 312f  = f"/keymgmt/v1/
+00030c30: 6b65 7963 6163 6865 2f7b 6d61 637d 220a  keycache/{mac}".
+00030c40: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+00030c50: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+00030c60: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
+00030c70: 6620 6b6d 735f 6765 745f 6861 7368 2873  f kms_get_hash(s
+00030c80: 656c 6629 202d 3e20 5265 7370 6f6e 7365  elf) -> Response
+00030c90: 3a0a 2020 2020 2020 2020 7572 6c20 3d20  :.        url = 
+00030ca0: 6622 2f6b 6579 6d67 6d74 2f76 312f 6b65  f"/keymgmt/v1/ke
+00030cb0: 7968 6173 6822 0a20 2020 2020 2020 2072  yhash".        r
+00030cc0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00030cd0: 2e67 6574 2875 726c 290a 0a20 2020 2061  .get(url)..    a
+00030ce0: 7379 6e63 2064 6566 206b 6d73 5f67 6574  sync def kms_get
+00030cf0: 5f61 705f 7374 6174 6528 7365 6c66 2c20  _ap_state(self, 
+00030d00: 7365 7269 616c 3a20 7374 7229 202d 3e20  serial: str) -> 
+00030d10: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00030d20: 2020 7572 6c20 3d20 6622 2f6b 6579 6d67    url = f"/keymg
+00030d30: 6d74 2f76 312f 5374 6174 732f 6170 2f7b  mt/v1/Stats/ap/{
+00030d40: 7365 7269 616c 7d22 0a20 2020 2020 2020  serial}".       
+00030d50: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+00030d60: 6c66 2e67 6574 2875 726c 290a 0a20 2020  lf.get(url)..   
+00030d70: 2023 2042 6164 2065 6e64 706f 696e 7420   # Bad endpoint 
+00030d80: 5552 4c20 3430 340a 2020 2020 6173 796e  URL 404.    asyn
+00030d90: 6320 6465 6620 6b6d 735f 6765 745f 6865  c def kms_get_he
+00030da0: 616c 7468 2873 656c 6629 202d 3e20 5265  alth(self) -> Re
+00030db0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00030dc0: 7572 6c20 3d20 222f 6b65 796d 676d 742f  url = "/keymgmt/
+00030dd0: 7631 2f68 6561 6c74 6822 0a20 2020 2020  v1/health".     
+00030de0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00030df0: 7365 6c66 2e67 6574 2875 726c 290a 0a69  self.get(url)..i
+00030e00: 6620 5f5f 6e61 6d65 5f5f 203d 3d20 225f  f __name__ == "_
+00030e10: 5f6d 6169 6e5f 5f22 3a0a 2020 2020 7061  _main__":.    pa
+00030e20: 7373 0a                                  ss.
```

### Comparing `centralcli-1.3/centralcli/cleaner.py` & `centralcli-1.4/centralcli/cleaner.py`

 * *Files 2% similar despite different names*

```diff
@@ -15,20 +15,20 @@
 import pendulum
 from rich.console import Console
 from rich.markup import escape
 import ipaddress
 
 # Detect if called from pypi installed package or via cloned github repo (development)
 try:
-    from centralcli import constants, utils
+    from centralcli import constants, utils, log
 except (ImportError, ModuleNotFoundError) as e:
     pkg_dir = Path(__file__).absolute().parent
     if pkg_dir.name == "centralcli":
         sys.path.insert(0, str(pkg_dir.parent))
-        from centralcli import constants, utils
+        from centralcli import constants, utils, log
     else:
         print(pkg_dir.parts)
         raise e
 
 from centralcli.constants import DevTypes
 
 def epoch_convert(func):
@@ -59,16 +59,16 @@
 
 @epoch_convert
 def _duration_words(secs: Union[int, str]) -> str:
     return pendulum.duration(seconds=int(secs)).in_words()
 
 
 @epoch_convert
-def _time_diff_words(epoch: float) -> str:
-    return pendulum.from_timestamp(epoch, tz="local").diff_for_humans()
+def _time_diff_words(epoch: float | None) -> str:
+    return "" if epoch is None else pendulum.from_timestamp(epoch, tz="local").diff_for_humans()
 
 
 @epoch_convert
 def _log_timestamp(epoch: float) -> str:
     return pendulum.from_timestamp(epoch, tz="local").format("MMM DD h:mm:ss A")
 
 
@@ -431,15 +431,34 @@
     }
     for key in strip_keys:
         if key in data:
             del data[key]
     if verbose:
         data["connected device"] = _unlist(strip_no_value([_connected]))
     else:
-        data["connected device"] = f"{_connected['name']} ({_connected['type']})"
+        # More work than is prob warranted by if the device name includes the type, and the adjacent characters are
+        # not alpha then we don't append the type.  So an ap with a name of Zrm-655-ap will not have (AP) appended
+        # but Zrm-655-nap would have it appended
+        data["connected device"] = f"{_connected['name']}"
+        add_type = False
+        if _connected['type'].lower() in _connected['name'].lower():
+            t: str = _connected['type'].lower()
+            n: str = _connected['name'].lower()
+            for idx in set([n.find(t), n.rfind(t)]):
+                _start = idx
+                _end = _start + len(t)
+                _prev = None if _start == 0 else _start - 1
+                _next = None if _end + 1 > len(n) else _end + 1
+                if (_prev and n[_prev].isalpha()) or (_next and n[_next].isalpha()):
+                    add_type = True
+        else:
+            add_type = True
+
+        if add_type:
+            data["connected device"] = f"{data['connected device']} ({_connected['type']})"
 
     return data
 
 
 def get_clients(
     data: List[dict],
     verbose: bool = False,
@@ -478,15 +497,14 @@
             "connected device",
             "gateway",
             "site",
             "group_name",
             "last_connection_time",
         ]
         if data and all([isinstance(d, dict) for d in data]):
-            # all_keys = set([k for d in data for k in d])
             data = [
                 dict(
                     short_value(
                         k,
                         f"wired ({data[idx].get('interface_port', '?')})" if d.get(k) == "NA" and k == "network" else d.get(k),
                     )
                     for k in _sort_keys
```

### Comparing `centralcli-1.3/centralcli/cli.py` & `centralcli-1.4/centralcli/cli.py`

 * *Files 2% similar despite different names*

```diff
@@ -7,67 +7,69 @@
 from enum import Enum
 from pathlib import Path
 from time import sleep
 from typing import List
 
 from rich import print
 from rich.console import Console
+import pkg_resources
 
 try:
     import psutil
     hook_enabled = True
 except (ImportError, ModuleNotFoundError):
     hook_enabled = False
 
 import typer
 
 # Detect if called from pypi installed package or via cloned github repo (development)
 try:
     from centralcli import (cli, cliadd, clibatch, clicaas, cliclone, clidel,
                             clirefresh, clishow, clitest, cliupdate, cliupgrade,
-                            clitshoot, cliassign, cliunassign, models, cleaner, Response, config, log, utils)
+                            clitshoot, cliassign, cliunassign, clirename, models, cleaner, Response, config, log, utils)
 except (ImportError, ModuleNotFoundError) as e:
     pkg_dir = Path(__file__).absolute().parent
     if pkg_dir.name == "centralcli":
         sys.path.insert(0, str(pkg_dir.parent))
         from centralcli import (cli, cliadd, clibatch, clicaas, cliclone, clidel,
                                 clirefresh, clishow, clitest, cliupdate, cliupgrade,
-                                clitshoot, cliassign, cliunassign, models, cleaner, Response, config, log, utils)
+                                clitshoot, cliassign, cliunassign, clirename, models, cleaner, Response, config, log, utils)
     else:
         print(pkg_dir.parts)
         raise e
 
 from centralcli.central import CentralApi  # noqa
 from centralcli.cache import CentralObject
 from centralcli.constants import (
     BlinkArgs, BounceArgs, IdenMetaVars,
-    KickArgs, LicenseTypes, RenameArgs, StartArgs
+    KickArgs, LicenseTypes, StartArgs
 )
 
 iden = IdenMetaVars()
 
 CONTEXT_SETTINGS = {
     # "token_normalize_func": lambda x: cli.normalize_tokens(x),
     "help_option_names": ["?", "--help"]
 }
 
-app = typer.Typer(context_settings=CONTEXT_SETTINGS)
+app = typer.Typer(context_settings=CONTEXT_SETTINGS, rich_markup_mode="rich")
 app.add_typer(clishow.app, name="show",)
 app.add_typer(clidel.app, name="delete",)
 app.add_typer(cliadd.app, name="add",)
 app.add_typer(cliassign.app, name="assign",)
 app.add_typer(cliunassign.app, name="unassign",)
 app.add_typer(cliclone.app, name="clone",)
 app.add_typer(cliupdate.app, name="update",)
 app.add_typer(cliupgrade.app, name="upgrade",)
 app.add_typer(clibatch.app, name="batch",)
 app.add_typer(clicaas.app, name="caas", hidden=True,)
 app.add_typer(clirefresh.app, name="refresh",)
 app.add_typer(clitest.app, name="test",)
 app.add_typer(clitshoot.app, name="tshoot",)
+app.add_typer(clirename.app, name="rename",)
 
 
 @app.command(
     help="Move device(s) to a defined group and/or site.",
 )
 def move(
     device: List[str, ] = typer.Argument(None, metavar=iden.dev_many, autocompletion=cli.cache.dev_kwarg_completion),
@@ -459,53 +461,14 @@
                                 autocompletion=cli.cache.account_completion),
 ) -> None:
     dev = cli.cache.get_dev_identifier(device)
     resp = cli.central.request(cli.central.send_command_to_device, dev.serial, 'config_sync')
     cli.display_results(resp, tablefmt="action")
 
 
-# XXX Doesn't actually appear to be valid for any group rename
-# TODO non batch rename AP
-@app.command(help="Rename an Access Point", hidden=False)
-def rename(
-    what: RenameArgs = typer.Argument(...,),
-    group_ap: str = typer.Argument(..., metavar=f"AP{iden.dev}", autocompletion=cli.cache.dev_kwarg_completion),
-    new_name: str = typer.Argument(...),
-    yes: bool = typer.Option(False, "-Y", help="Bypass confirmation prompts - Assume Yes"),
-    yes_: bool = typer.Option(False, "-y", hidden=True),
-    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
-    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
-    account: str = typer.Option("central_info",
-                                envvar="ARUBACLI_ACCOUNT",
-                                help="The Aruba Central Account to use (must be defined in the config)",
-                                autocompletion=cli.cache.account_completion),
-) -> None:
-    yes = yes_ if yes_ else yes
-    if what == "group":
-        group_ap = cli.cache.get_group_identifier(group_ap)
-        print(f"Please Confirm: rename group [red]{group_ap.name}[/red] -> [bright_green]{new_name}[/bright_green]")
-        if yes or typer.confirm("proceed?", abort=True):
-            resp = cli.central.request(cli.central.update_group_name, group_ap.name, new_name)
-
-            # API-FLAW Doesn't actually appear to be valid for any group type
-            if not resp and "group already has AOS_10X version set" in resp.output.get("description", ""):
-                resp.output["description"] = f"{group_ap.name} is an AOS_10X group, " \
-                    "rename only supported on AOS_8X groups. Use clone."
-
-            cli.display_results(resp, tablefmt="action")
-
-    elif what == "ap":
-        group_ap = cli.cache.get_dev_identifier(group_ap, dev_type="ap")
-        print(f"Please Confirm: rename ap [bright_red]{group_ap.name}[/] -> [bright_green]{new_name}[/]")
-        print("    [italic]Will result in 2 API calls[/italic]\n")
-        if yes or typer.confirm("Proceed?", abort=True):
-            resp = cli.central.request(cli.central.update_ap_settings, group_ap.serial, new_name)
-            cli.display_results(resp, tablefmt="action")
-
-
 # TODO cache show clients get details for client make this easier
 # currently requires the serial of the device the client is connected to
 @app.command(help="Disconnect a WLAN client",)
 def kick(
     device: str = typer.Argument(
         ...,
         metavar=f"CONNECTED_DEVICE{iden.dev}",
@@ -808,16 +771,18 @@
     cli.display_results(data=final_config.splitlines(), outfile=outfile)
 
 
 
 
 def all_commands_callback(ctx: typer.Context, update_cache: bool):
     if not ctx.resilient_parsing:
-        account, debug, debugv, default, update_cache = None, None, None, None, None
+        version, account, debug, debugv, default, update_cache = None, None, None, None, None, None
         for idx, arg in enumerate(sys.argv):
+            if arg in ["-v", "-V", "--version"]:
+                version = True
             if arg == "--debug":
                 debug = True
             if arg == "--debugv":
                 debugv = True
             elif arg == "-d":
                 default = True
             elif arg == "--account" and "-d" not in sys.argv:
@@ -829,14 +794,17 @@
                     default = True
                 if "U" in arg:
                     update_cache = True
 
         account = account or os.environ.get("ARUBACLI_ACCOUNT")
         debug = debug or os.environ.get("ARUBACLI_DEBUG", False)
 
+        if version:
+            cli.version_callback(ctx)
+            raise typer.Exit(0)
         if default:
             default = cli.default_callback(ctx, True)
         # elif account:
         else:
             cli.account_name_callback(ctx, account=account)
 
         if debug:
@@ -847,17 +815,21 @@
         if update_cache:
             cli.cache(refresh=True)
             _ = sys.argv.pop(sys.argv.index("-U"))
             # TODO can do cache update here once update is removed from all commands
             pass
 
 
+# TODO See if possible to do all 3 version options as one typer.Option (--version -v -V)
 @app.callback()
 def callback(
     # ctx: typer.Context,``
+    version: bool = typer.Option(False, "--version", is_flag=True, help="Show current cencli version, and latest available version."),
+    _version: bool = typer.Option(False, "-V", is_flag=True, help="Show current cencli version, and latest available version.", case_sensitive=False, hidden=False),
+    __version: bool = typer.Option(False, "-v", is_flag=True, hidden=True),
     debug: bool = typer.Option(False, "--debug", is_flag=True, envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
                             #    callback=all_commands_callback),
     debugv: bool = typer.Option(False, "--debugv", is_flag=True, help="Enable Verbose Debug Logging",),
                             #    callback=all_commands_callback),
     default: bool = typer.Option(
         False,
         "-d",
```

### Comparing `centralcli-1.3/centralcli/cliadd.py` & `centralcli-1.4/centralcli/cliadd.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/cliassign.py` & `centralcli-1.4/centralcli/cliassign.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/clibatch.py` & `centralcli-1.4/centralcli/clibatch.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/clicaas.py` & `centralcli-1.4/centralcli/clicaas.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/cliclone.py` & `centralcli-1.4/centralcli/cliclone.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/clicommon.py` & `centralcli-1.4/centralcli/clicommon.py`

 * *Files 5% similar despite different names*

```diff
@@ -5,14 +5,17 @@
 import sys
 import time
 from typing import Dict, List, Literal, Union, Tuple
 from pathlib import Path
 from rich.console import Console
 from rich import print
 import json
+import pkg_resources
+import os
+from render import rich_capture
 
 
 # Detect if called from pypi installed package or via cloned github repo (development)
 try:
     from centralcli import config, log, utils, Cache, Response, render
 except (ImportError, ModuleNotFoundError) as e:
     pkg_dir = Path(__file__).absolute().parent
@@ -48,15 +51,20 @@
         def __repr__(self) -> str:
             return str(self)
 
         def __str__(self) -> str:
             if self.msg and hasattr(self, self.msg):
                 return getattr(self, self.msg)
             else:
-                return self.initial
+                return self.initial if not os.environ.get("ARUBACLI_ACCOUNT") else self.envvar
+
+        @property
+        def envvar(self):
+            envvar_msg = f'Using Account: [cyan]{self.account}[/] [italic]based on env var[/] [dark_green]ARUBACLI_ACCOUNT[/]'
+            return rich_capture(envvar_msg)
 
         @property
         def initial(self):
             acct_clr = f"{typer.style(self.account, fg='cyan')}"
             return (
                 f"{typer.style(f'Using Account: {acct_clr}.', fg='magenta')}  "
                 f"{typer.style(f'Account setting is sticky.  ', fg='red', blink=True)}"
@@ -159,14 +167,36 @@
                         f"{typer.style('WARNING:', fg='yellow')} "
                         f"'central_info' is not defined in the config.  This is the default when not overridden by\n"
                         f"--account parameter or ARUBACLI_ACCOUNT environment variable."
                     )
 
             raise typer.Exit(code=1)
 
+    def version_callback(self, ctx: typer.Context | None = None,):
+        if ctx is not None and ctx.resilient_parsing:  # tab completion, return without validating
+            return
+
+        current = pkg_resources.get_distribution('centralcli').version
+        resp = self.central.request(self.central.get, "https://pypi.org/pypi/centralcli/json")
+        latest = max(resp.output["releases"])
+        if not resp:
+            print(current)
+        else:
+            msg = "[bold bright_green]centralcli[/] "
+            msg += 'A CLI app for interacting with Aruba Central Cloud Management Platform.\n'
+            msg += f'Brought to you by [cyan]{resp.output["info"]["author"]}[/]\n\n'
+            msg += "\n".join([f'  {k}: [cyan]{v}[/]' for k, v in resp.output["info"]["project_urls"].items()])
+            msg += f'\n\nVersion: {current}'
+            if current == latest:
+                msg += " [italic green3]You are on the latest version.[reset]"
+            else:
+                msg += f'\nLatest Available Version: {latest}'
+
+            print(msg)
+
     @staticmethod
     def default_callback(ctx: typer.Context, default: bool):
         if ctx.resilient_parsing:  # tab completion, return without validating
             return
 
         if default and config.sticky_account_file.is_file():
             typer.secho(" Using default central account", fg="bright_green")
@@ -399,15 +429,15 @@
             cleaner (callable, optional): The Cleaner function to use.
         """
         if resp is not None:
             resp = utils.listify(resp)
 
             # update caption with rate limit
             if resp[-1].rl:
-                rl_str = f"[italic dark_olive_green2]{resp[-1].rl}[/]".lstrip()
+                rl_str = f"[reset][italic dark_olive_green2]{resp[-1].rl}[/]".lstrip()
                 caption = f"{caption}\n  {rl_str}" if caption else f"  {rl_str}"
 
             for idx, r in enumerate(resp):
                 # Multi request url line (example below)
                 # Request 1 [POST: /platform/device_inventory/v1/devices]
                 #  Response:
                 m_colors = {
@@ -416,15 +446,15 @@
                     "PATCH": "dark_orange3",
                     "PUT": "dark_orange3",
                     "POST": "dark_orange3"
                 }
                 fg = "bright_green" if r else "red"
                 conditions = [len(resp) > 1, tablefmt in ["action", "raw"], r.ok and not r.output]
                 if any(conditions):
-                    _url = r.url if not hasattr(r.url, "raw_path_qs") else r.url.path
+                    _url = r.url if not hasattr(r.url, "path") else r.url.path
                     m_color = m_colors.get(r.method, "reset")
                     print(
                         f"Request {idx + 1} [[{m_color}]{r.method}[reset]: "
                         f"[cyan]{_url}[/cyan]]\n [fg]Response[reset]:"
                     )
 
                 if self.raw_out:
```

### Comparing `centralcli-1.3/centralcli/clidel.py` & `centralcli-1.4/centralcli/clidel.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/clirefresh.py` & `centralcli-1.4/centralcli/clirefresh.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/clishow.py` & `centralcli-1.4/centralcli/clishow.py`

 * *Files 2% similar despite different names*

```diff
@@ -45,17 +45,17 @@
 tty = utils.tty
 iden_meta = IdenMetaVars()
 
 def _build_caption(resp: Response, *, inventory: bool = False) -> str:
     dev_types = set([t.get("type", "NOTYPE") for t in resp.output])
     _cnt_str = ", ".join([f'[bright_green]{_type}[/]: [cyan]{[t.get("type", "ERR") for t in resp.output].count(_type)}[/]' for _type in dev_types])
     caption = "  [cyan]Show all[/cyan] displays fields common to all device types. "
-    caption = f"[reset]Counts: {_cnt_str}\n{caption}To see all columns for a given device use [cyan]show <DEVICE TYPE>[/cyan]\n"
+    caption = f"[reset]Counts: {_cnt_str}\n{caption}To see all columns for a given device use [cyan]show <DEVICE TYPE>[/cyan]"
     if inventory:
-        caption = f"{caption}  [italic dark_olive_green2]verbose listing, devices lacking name/ip are in the inventory, but have not connected to central.[/]"
+        caption = f"{caption}\n  [italic green3]verbose listing, devices lacking name/ip are in the inventory, but have not connected to central.[/]"
     return caption
 
 def show_devices(
     dev_type: str, *args, include_inventory: bool = False, serial: str = None, outfile: Path = None, update_cache: bool = False, group: str = None,
     status: str = None, state: str = None, label: Union[str, List[str]] = None, pub_ip: str = None, do_clients: bool = False,
     do_stats: bool = False, sort_by: str = None, pager: bool = False, do_json: bool = False, do_csv: bool = False,
     do_yaml: bool = False, do_table: bool = False
@@ -870,57 +870,81 @@
 
     tablefmt = cli.get_format(do_json=do_json, do_csv=do_csv, do_yaml=do_yaml)
     cli.display_results(resp, tablefmt=tablefmt, title="labels", pager=pager, outfile=outfile)
 
 
 @app.command(short_help="Show sites/details")
 def sites(
-    site: str = typer.Argument(None, metavar=iden_meta.site, autocompletion=cli.cache.site_completion),
-    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", show_default=False),
-    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", show_default=False),
-    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", show_default=False),
-    do_table: bool = typer.Option(False, "--table", help="Output in table format", show_default=False),
-    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True),
-    sort_by: SortSiteOptions = typer.Option(None, "--sort"),
+    site: str = typer.Argument(None, metavar=iden_meta.site, autocompletion=cli.cache.site_completion, show_default=False),
+    count_state: bool = typer.Option(False, "-s", show_default=False, help="Calculate # of sites per state"),
+    count_country: bool = typer.Option(False, "-c", show_default=False, help="Calculate # of sites per country"),
+    sort_by: SortSiteOptions = typer.Option("name", "--sort",),
     reverse: bool = typer.Option(False, "-r", help="Reverse output order", show_default=False,),
-    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output"),
+    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", show_default=False, rich_help_panel="Formatting"),
+    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", show_default=False, rich_help_panel="Formatting"),
+    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", show_default=False, rich_help_panel="Formatting"),
+    do_table: bool = typer.Option(False, "--table", help="Output in table format", show_default=False, rich_help_panel="Formatting"),
+    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, show_default=False, rich_help_panel="Common Options"),
+    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output", rich_help_panel="Common Options"),
     update_cache: bool = typer.Option(False, "-U", hidden=True),  # Force Update of cli.cache for testing
-    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
-    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
+    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False, rich_help_panel="Common Options"),
+    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging", rich_help_panel="Common Options"),
     account: str = typer.Option(
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
         autocompletion=cli.cache.account_completion,
+        rich_help_panel="Common Options",
     ),
 ):
     central = cli.central
+    sort_by = None if sort_by == "name" else sort_by  # Default sort from endpoint is by name
 
     site = None if site and site.lower() == "all" else site
     if not site:
         if central.get_all_sites not in cli.cache.updated:
             resp = asyncio.run(cli.cache.update_site_db())
         else:
             resp = cli.cache.responses.site
     else:
         site = cli.cache.get_site_identifier(site)
         resp = central.request(central.get_site_details, site.id)
 
+    caption = "" if not resp.ok else f'Total Sites: [green3]{resp.raw.get("total", len(resp.output))}[/]'
+    counts, count_caption = {}, None
+    if resp.ok:
+        for do, field in zip([count_state, count_country], ["state", "country"]):
+            if do:
+                _cnt_list = [site[field] for site in resp.output if site[field]]
+                _cnt_dict = {
+                    item: _cnt_list.count(item) for item in set(_cnt_list)
+                }
+                counts = {**counts, **_cnt_dict}
+
+            if counts:
+                count_caption = ", ".join([f'{k}: [cyan]{v}[/]' for k, v in counts.items()])
+    if count_caption:
+        caption = f'[reset]{caption}, {count_caption}[reset][/]'
+
     tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table)
 
     cli.display_results(
         resp,
         tablefmt=tablefmt,
         title="Sites" if not site else f"{site.name} site details",
         pager=pager,
         outfile=outfile,
         sort_by=sort_by,
         reverse=reverse,
+        caption=caption,
     )
 
+    if counts and tablefmt != "rich":
+        print(caption)
+
 
 @app.command(short_help="Show templates/details")
 def templates(
     name: str = typer.Argument(
         None,
         help=f"Template: [name] or Device: {iden_meta.dev}",
         autocompletion=cli.cache.dev_template_completion
@@ -1512,15 +1536,15 @@
             _count_text = f"{len(resp)} Wired Clients."
         elif filter.value == "wireless":
             _count_text = f"{len(resp)} Wireless Clients."
         else:
             _tot = len(resp)
             _wired = len([x for x in resp.output if x["client_type"] == "WIRED"])
             _wireless = len([x for x in resp.output if x["client_type"] == "WIRELESS"])
-            _count_text = f"{_tot} Clients, (Wired: {_wired}, Wireless: {_wireless})."
+            _count_text = f"[reset]Counts: [bright_green]Total[/]: [cyan]{_tot}[/], [bright_green]Wired[/]: [cyan]{_wired}[/], [bright_green]Wireless[/]: [cyan]{_wireless}[/]"
 
     if not verbose2:
         _format = "rich" if not verbose else "yaml"
     else:
         _format = "json"
     tablefmt = cli.get_format(do_json, do_yaml, do_csv, do_table, default=_format)
 
@@ -2409,14 +2433,25 @@
     friendly name and completion for portals coming soon
     """
     resp = cli.central.request(cli.central.get_visitors, portal_id, )
     tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="rich")
     cli.display_results(resp, tablefmt=tablefmt, pager=pager, outfile=outfile, sort_by=sort_by, reverse=reverse)
 
 
+@app.command()
+def version(
+    debug: bool = typer.Option(
+        False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",
+    ),
+) -> None:
+    """Show current cencli version, and latest available version.
+    """
+    cli.version_callback()
+
+
 # @app.command(short_help="Show config", hidden=True)
 def _get_cencli_config(
     default: bool = typer.Option(
         False, "-d",
         is_flag=True,
         help="Use default central account",
         show_default=False,
```

### Comparing `centralcli-1.3/centralcli/clishowbranch.py` & `centralcli-1.4/centralcli/clishowbranch.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/clishowfirmware.py` & `centralcli-1.4/centralcli/clishowfirmware.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/clishowospf.py` & `centralcli-1.4/centralcli/clishowospf.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/clishowwids.py` & `centralcli-1.4/centralcli/clishowwids.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/clitest.py` & `centralcli-1.4/centralcli/clitest.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/clitshoot.py` & `centralcli-1.4/centralcli/clitshoot.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/cliunassign.py` & `centralcli-1.4/centralcli/cliunassign.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/cliupdate.py` & `centralcli-1.4/centralcli/cliupdate.py`

 * *Files 5% similar despite different names*

```diff
@@ -121,15 +121,15 @@
         payload = "\n".join(payload).encode()
 
     # TODO add confirmation message
     _resp = cli.central.request(cli.central.update_existing_template, **kwargs, template=template, payload=payload)
     typer.secho(str(_resp), fg="green" if _resp else "red")
 
 
-@app.command(short_help="Update existing or add new Variables for a device/template")
+@app.command(help="Update existing or add new Variables for a device/template")
 def variables(
     device: str = typer.Argument(..., metavar=iden_meta.dev, autocompletion=cli.cache.dev_completion),
     var_value: List[str] = typer.Argument(..., help="comma seperated list 'variable = value, variable2 = value2'"),
     yes: bool = typer.Option(False, "-Y", help="Bypass confirmation prompts - Assume Yes"),
     yes_: bool = typer.Option(False, "-y", hidden=True),
     debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
     default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False,),
@@ -139,45 +139,47 @@
 ) -> None:
     yes = yes_ if yes_ else yes
     dev = cli.cache.get_dev_identifier(device)
     serial = dev.serial
 
     vars, vals, get_next = [], [], False
     for var in var_value:
+        var = var.rstrip(",")
         if var == '=':
             continue
         if '=' not in var:
             if get_next:
                 vals += [var]
                 get_next = False
             else:
                 vars += [var]
                 get_next = True
         else:
-            _ = var.split('=')
-            vars += _[0]
-            vals += _[1]
+            _ = var.replace(" = ", "=").replace("'", "").strip().split('=')
+            vars += [_[0]]
+            vals += [_[1]]
             get_next = False
 
     if len(vars) != len(vals):
         typer.secho("something went wrong parsing variables.  Unequal length for Variables vs Values")
         raise typer.Exit(1)
 
     var_dict = {k: v for k, v in zip(vars, vals)}
 
-    msg = "Sending Update" if yes else "Please Confirm: Update"
-    typer.secho(f"{msg} {dev.name}|{dev.serial}", fg="cyan")
-    [typer.echo(f'    {k}: {v}') for k, v in var_dict.items()]
-    if yes or typer.confirm(typer.style("Proceed with these values", fg="cyan")):
+    con = Console(emoji=False)
+    msg = "Sending Update" if yes else "Please Confirm: [bright_green]Update[/]"
+    con.print(f"{msg} {dev.rich_help_text}")
+    [con.print(f'    {k}: [bright_green]{v}[/]') for k, v in var_dict.items()]
+    if yes or typer.confirm("\nProceed?", abort=True):
         resp = cli.central.request(
             cli.central.update_device_template_variables,
             serial,
             dev.mac,
             var_dict=var_dict)
-        typer.secho(str(resp), fg="green" if resp else "red")
+        cli.display_results(resp, tablefmt="action")
 
 
 @app.command(
     short_help="Update group properties.",
     help="Update group properties.",
 )
 def group(
@@ -416,75 +418,110 @@
     print("Updating WebHook: [cyan]{}[/cyan] with urls:\n  {}".format(name, '\n  '.join(urls)))
     if yes or typer.confirm("\nProceed?", abort=True):
         resp = cli.central.request(cli.central.update_webhook, wid, name, urls)
 
         cli.display_results(resp, tablefmt="action")
 
 
-@app.command(short_help="Update site details.", help=help_text.update_site)
+@app.command()
 def site(
-    site_name: str = typer.Argument(...),
-    address: str = typer.Argument(None, help="street address, (enclose in quotes)"),
-    city: str = typer.Argument(None,),
+    site_name: str = typer.Argument(..., show_default=False, autocompletion=cli.cache.site_completion, help="[green3]current[/] site name"),
+    address: str = typer.Argument(None, help="street address, [italic green4](enclose in quotes)[/]", show_default=False),
+    city: str = typer.Argument(None, show_default=False),
     state: str = typer.Argument(
         None,
         autocompletion=lambda incomplete: [
         s for s in [
             *list(state_abbrev_to_pretty.keys()),
             *list(state_abbrev_to_pretty.values())
             ]
             if s.lower().startswith(incomplete.lower())
-        ]
+        ],
+        show_default=False
     ),
-    zipcode: int = typer.Argument(None,),
-    country: str = typer.Argument(None,),
-    lat: str = typer.Option(None, metavar="LATITUDE"),
-    lon: str = typer.Option(None, metavar="LONGITUDE"),
+    zipcode: int = typer.Argument(None, show_default=False),
+    country: str = typer.Argument(None, show_default=False),
+    new_name: str = typer.Option(None, show_default=False, help="Change Site Name"),
+    lat: str = typer.Option(None, metavar="LATITUDE", show_default=False),
+    lon: str = typer.Option(None, metavar="LONGITUDE", show_default=False),
     yes: bool = typer.Option(False, "-Y", help="Bypass confirmation prompts - Assume Yes"),
     yes_: bool = typer.Option(False, "-y", hidden=True),
     default: bool = typer.Option(
-        False, "-d", is_flag=True, help="Use default central account", show_default=False
-    ),
-    debug: bool = typer.Option(
-        False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",
+        False, "-d", is_flag=True, help="Use default central account", show_default=False, rich_help_panel="Common Options"
     ),
     account: str = typer.Option(
         "central_info",
         envvar="ARUBACLI_ACCOUNT",
         help="The Aruba Central Account to use (must be defined in the config)",
+        rich_help_panel="Common Options"
+    ),
+    debug: bool = typer.Option(
+        False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging", rich_help_panel="Common Options"
     ),
 ) -> None:
+    """
+    [bright_green]Update details for an existing site.[/]
+
+    Provide [cyan]geo-loc[/] or [cyan]address[/] details, not both.
+    [italic]Google Maps "Plus Codes" are supported for address field.[/]
+
+    If address is provided assoicated geo coordinates are automatically populated.
+    If geo coordinates are provided, any address associated with the site is cleared.
+
+    [italic green3]Wrap Arguments that contain spaces in quotes i.e. "5402 Champions Hill Dr"[/]
+    """
     yes = yes_ if yes_ else yes
 
     site_now = cli.cache.get_site_identifier(site_name)
 
     # These conversions just make the fields match what is used if done via GUI
+    # We also populate Country for US if it's one of the US states/territories
     if state and len(state) == 2:
         state = state_abbrev_to_pretty.get(state, state)
-    if country and country.upper() in ["US", "USA"]:
+        if not country and state in state_abbrev_to_pretty.values():
+            country = "United States"
+    if country and (country.upper() in ["US", "USA"] or "united states" in country.lower()):
         country = "United States"
+    if city and city.endswith(","):
+        city = city.rstrip(",")
 
     kwargs = {
         "address": address,
         "city": city,
         "state": state,
         "zipcode": zipcode if zipcode is None else str(zipcode),
         "country": country,
         "latitude": lat,
         "longitude": lon
     }
     address_fields = {k: v for k, v in kwargs.items() if v}
 
-    print(f"Updating Site: {site_now.rich_help_text}")
+    if not address_fields and not new_name:
+        print(" [red]No Update data provided[/]")
+        print(" [italic]Must provide address data and/or --new-name.")
+        raise typer.Exit(1)
+
+    print(f"Updating Site: {site_now.summary_text}")
     print(" [bright_green]Send the following updates:[reset]")
-    if site_now.name != site_name:
-        print(f"  Change Name [red]{site_now.name}[/] --> [bright_green]{site_name}[/]")
+    rename_only = False
+    if new_name and site_now.name != new_name:
+        # Only provided new name send current address info to endpoint along with new name (name alone not allowed)
+        if not address_fields:  # update requires either address fields or lon/lat even to change the name so send back existing data from cache with new name
+            rename_only = True
+            geo_keys = ["latitude", "longitude"]
+            address_fields = {k: v for k, v in site_now.data.items() if k in kwargs.keys() and k not in geo_keys and v}
+            if not address_fields:
+                address_fields = {k: v for k, v in site_now.data.items() if k in geo_keys and v}
+
+        print(f"  Change Name [red]{site_now.name}[/] --> [bright_green]{new_name}[/]")
+    if rename_only:
+        print("\n [italic green4]current address info being sent as it's required by API to change name[/]")
     _ = [print(f"  {k}: {v}") for k, v in address_fields.items()]
     if yes or typer.confirm(f"\nProceed?", abort=True):
-        resp = cli.central.request(cli.central.update_site, site_now.id, site_name, **address_fields)
+        resp = cli.central.request(cli.central.update_site, site_now.id, new_name or site_now.name, **address_fields)
         cli.display_results(resp, exit_on_fail=True)
         if resp:
             # FIXME  this does a full cache update, not an update based on the change above
             asyncio.run(cli.cache.update_site_db())
 
 
 @app.callback()
```

### Comparing `centralcli-1.3/centralcli/cliupgrade.py` & `centralcli-1.4/centralcli/cliupgrade.py`

 * *Files 3% similar despite different names*

```diff
@@ -24,14 +24,16 @@
 
 iden = IdenMetaVars()
 app = typer.Typer()
 
 # TODO reboot flag Applicable only on MAS, aruba switches and controller since IAP reboots automatically after firmware download.
 # can only specify one of group, swarm_id or serial parameters
 
+# You can only specify one of group, swarm_id or serial parameters
+
 @app.command(short_help="Upgrade firmware on a specific device",)
 def device(
     device: str = typer.Argument(
         ...,
         metavar=iden.dev, show_default=False,
         autocompletion=cli.cache.dev_completion,
     ),
@@ -77,14 +79,16 @@
         ),
         abort=True,
     ):
         resp = cli.central.request(cli.central.upgrade_firmware, scheduled_at=at, serial=dev.serial,
                                    firmware_version=version, reboot=reboot)
         cli.display_results(resp, tablefmt="action")
 
+# TODO individual AOS10 AP can't be upgraded with this, needs to use swarm with serial as swarm_id
+#      Need to automatically do that
 @app.command(short_help="Upgrade firmware by group",)
 def group(
     group: str = typer.Argument(
         ...,
         metavar=iden.group,
         help="Upgrade devices by group",
         autocompletion=cli.cache.group_completion,
@@ -114,17 +118,21 @@
     debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
     default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account",  show_default=False,),
     account: str = typer.Option("central_info",
                                 envvar="ARUBACLI_ACCOUNT",
                                 help="The Aruba Central Account to use (must be defined in the config)",
                                 ),
 ) -> None:
-    if dev_type == "cx":
-        print("[dark_orange]:warning:[/] CX is not currently supported by firmware API endpoint.")
-        raise typer.Exit(1)
+    """Update devices by group.
+
+    Device type must be provided.  For switches you can/should filter to a specific switch model via the --model flag.
+    """
+    # if dev_type == "cx":
+    #     print("[dark_orange]:warning:[/] CX is not currently supported by firmware API endpoint.")
+    #     raise typer.Exit(1)
     yes = yes_ if yes_ else yes
     group = cli.cache.get_group_identifier(group)
     at = None if not at else int(round(at.timestamp()))
 
     ver_msg = [typer.style("Upgrade", fg="cyan")]
     if dev_type:
         if dev_type == "ap":
@@ -163,18 +171,18 @@
             reboot=reboot
         )
         cli.display_results(resp, tablefmt="action")
 
 
 @app.command(short_help="Upgrade firmware for an IAP cluster",)
 def swarm(
-    swarm: str = typer.Argument(
-        None,
-        metavar="[IAP VC NAME|IAP SWARM ID|AP NAME|AP SERIAL|AP MAC]",
-        help="Upgrade firmware on an IAP cluster.  For AP name,serial,mac it will upgrade the cluster that AP belongs to.",
+    device: str = typer.Argument(
+        ...,
+        metavar=iden.dev,
+        help=f"Upgrade will be performed on the cluster the AP belongs to.",
     ),
     version: str = typer.Argument(None, help="Version to upgrade to",),
     at: datetime = typer.Option(
         None,
         help="When to schedule upgrade. format: 'mm/dd/yyyy hh:mm' or 'dd hh:mm' (implies current month) [Default: Now]",
         show_default=False,
         formats=["%m/%d/%Y %H:%M", "%d %H:%M"],
@@ -188,33 +196,35 @@
                                 envvar="ARUBACLI_ACCOUNT",
                                 help="The Aruba Central Account to use (must be defined in the config)",),
 ) -> None:
     yes = yes_ if yes_ else yes
     at = None if not at else int(round(datetime.timestamp(at)))
 
     # swarm = cli.cache.get_swarm_identifier(swarm)
-    class SwarmTemp:  # Temporary until swarm cache built
-        def __init__(self, swarm_id):
-            self.id = swarm_id
-    swarm = SwarmTemp(swarm)
+    # class SwarmTemp:  # Temporary until swarm cache built
+    #     def __init__(self, swarm_id):
+    #         self.id = swarm_id
+    # swarm = SwarmTemp(swarm)
+    dev = cli.cache.get_dev_identifier(device, dev_type="ap")
+    swarm = dev.swarm_id
 
     ver_msg = [typer.style("Upgrade APs in swarm", fg="cyan")]
     if version:
-        _version = [f"to {typer.style('Recommended version', fg='bright_green')}"]
-    else:
         _version = [f"to {typer.style(version, fg='bright_green')}"]
+    else:
+        _version = [f"to {typer.style('Recommended version', fg='bright_green')}"]
     ver_msg += _version
 
     if reboot:
         ver_msg += [typer.style("and reboot?", fg="cyan")]
     ver_msg = " ".join(ver_msg)
 
     if yes or typer.confirm(ver_msg, abort=True):
-        resp = cli.central.request(cli.central.upgrade_firmware, scheduled_at=at, swarm_id=swarm.id, reboot=reboot)
-        cli.display_results(resp)
+        resp = cli.central.request(cli.central.upgrade_firmware, scheduled_at=at, swarm_id=swarm, reboot=reboot, firmware_version=version)
+        cli.display_results(resp, tablefmt="action")
 
 
 @app.callback()
 def callback():
     """
     Upgrade Firmware
     """
```

### Comparing `centralcli-1.3/centralcli/config.py` & `centralcli-1.4/centralcli/config.py`

 * *Files 2% similar despite different names*

```diff
@@ -322,58 +322,48 @@
         return account
 
     def first_run(self) -> str:
         """Method to collect configuration from user when no config file exists.
 
         Returns:
             str|None: The contents of the config file (yaml.safe_dump) or None if
-                user choses to bypass.
+                user chooses to bypass.
         """
         example_link = "https://raw.githubusercontent.com/Pack3tL0ss/central-api-cli/master/config/config.yaml.example"
         # populate example config file
         config_comments = f"\n\n# See Example at link below for all options. \n# {example_link}\n"
         self.dir.mkdir(exist_ok=True)
         print(f"[red]Configuration [/red]{self.file}[red] not found.")
         print(f"[bold cyan]Central API CLI First Run Configuration Wizard.[reset]")
         _clusters = list(CLUSTER_URLS.keys())
         choice = ""
         while True:
             print(
                 "\nEnter [cyan italic]abort[/cyan italic] at any prompt to exit this wizard and create the file manually.\n"
                 f"\nRefer to the example @ \n{example_link}\n\n"
             )
-            # print("Select Your Cluster?")
-            # print(
-            #     f"Please Enter {', '.join(_clusters)}\n"
-            #     "or 'other'."
-            # )
-            valid_clusters = _clusters + ["other"]
 
-            # get base_url
-            # choice = _get_user_input(valid_clusters)
+            valid_clusters = _clusters + ["other"]
             choice = ask("Central Cluster", choices=valid_clusters)
             if choice.lower() == "other":
                 print(f"Provide API gateway URL in the format [cyan]{CLUSTER_URLS['us4']}")
                 choice = ask("API Gateway URL")
                 base_url = choice.rstrip("/")
             else:
                 base_url = CLUSTER_URLS[choice.lower()]
 
             # get common variables
             # TODO pycentral library tokeStoreUtil makes customer_id optional, but load and refresh don't  so we need it here just
             # so the file has the expected name.  Would be nice just to use the format tok_account_name.json
             print(f"\nYour [cyan]customer id[/cyan] can be found by clicking the user icon in the upper right of the Central UI")
             customer_id = ask("customer id")
-            # customer_id = choice
             print(f"\n[cyan]Client ID[reset] and [cyan]Client Secret[reset] can be found after creating Tokens in Central UI -> API Gateway -> System Apps & Tokens")
             print(f"You can double click the field in the table to select then copy, it will copy the entire token even with the token truncated with ...")
             client_id = ask("client id")
-            # client_id = choice
             client_secret = ask("client secret")
-            # client_secret = choice
 
             config_data = {
                 "central_info": {
                     "base_url": base_url,
                     "customer_id": customer_id,
                     "client_id": client_id,
                     "client_secret": client_secret
```

### Comparing `centralcli-1.3/centralcli/constants.py` & `centralcli-1.4/centralcli/constants.py`

 * *Files 0% similar despite different names*

```diff
@@ -265,19 +265,14 @@
 
 class BatchRenameArgs(str, Enum):
     sites = "sites"
     aps = "aps"
     groups = "groups"
 
 
-class RenameArgs(str, Enum):
-    group = "group"
-    ap = "ap"
-
-
 class DhcpArgs(str, Enum):
     clients = "clients"
     server = "server"
 
 
 class LicenseTypes(str, Enum):
     advance_70xx = "advance-70xx"
@@ -350,14 +345,15 @@
         self.group = self.groups = "group"
         self.webhooks = self.webhook = "webhook"
         self.sites = self.site = "site"
 
     def _init_rename(self):
         self.group = self.groups = "group"
         self.ap = self.aps = "ap"
+        self.site = self.sites = "site"
 
     def _init_delete(self):
         self.site = self.sites = "site"
         self.group = self.groups = "group"
         self.certificate = self.certs = self.certificates = self.cert = "certificate"
         self.wlan = self.wlans = "wlan"
         self.webhooks = self.webhook = "webhook"
```

### Comparing `centralcli-1.3/centralcli/logger.py` & `centralcli-1.4/centralcli/logger.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/models.py` & `centralcli-1.4/centralcli/models.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/render.py` & `centralcli-1.4/centralcli/render.py`

 * *Files 14% similar despite different names*

```diff
@@ -280,23 +280,26 @@
         formatted = _do_subtables(outdata)
         [table.add_row(*list(in_dict.values())) for in_dict in formatted]
 
         if title:
             table.title = f'[italic cornflower_blue]{constants.what_to_pretty(title)}'
         if account or caption:
             table.caption_justify = 'left'
-            table.caption = '' if not account else f'[italic dark_olive_green2] Account: {account}'
-            if caption:
-                table.caption = f"[italic dark_olive_green2]{table.caption}  {caption}"
+            table.caption = '' if not account else f'[italic dark_olive_green2] Account: {account}[/]'
+            table.caption = table.caption if not caption else f"{table.caption}  {caption.lstrip()}"
 
         data_header = f"--\n{'Customer ID:':15}{customer_id}\n{'Customer Name:':15} {customer_name}\n--\n"
 
         console.begin_capture()
         console.print(table)
         table_data = console.end_capture()
+
+        # rich is adding empty lines (full of spaces) to output on show clients, not sure why.  This will remove them
+        # it appears they are lines with just ascii formmating, but no real text.
+        table_data = "".join([line for line in str(table_data).splitlines(keepends=True) if typer.unstyle(line).strip()])
         raw_data = typer.unstyle(table_data)
 
         if customer_id:
             raw_data = f"{data_header}{raw_data}"
             table_data = f"{data_header}{table_data}"
 
         return raw_data, table_data
@@ -368,14 +371,15 @@
                             for d in outdata
                         ]
         )
         raw_data = table_data = csv_data if not outdata else f"{','.join([k for k in outdata[0].keys() if k not in CUST_KEYS])}\n{csv_data}\n"
 
     elif tablefmt == "rich":
         raw_data, table_data = rich_output(outdata, title=title, caption=caption, account=account, set_width_cols=set_width_cols, full_cols=full_cols, fold_cols=fold_cols)
+        ...
 
     elif tablefmt == "tabulate":
         raw_data, table_data = tabulate_output(outdata)
 
     else:  # strings output No formatting
         # -- // List[str, ...] \\ --
         if len(outdata) == 1:
@@ -394,7 +398,28 @@
     if _lexer and raw_data:
         table_data = highlight(bytes(raw_data, 'UTF-8'),
                                 _lexer(),
                                 formatters.Terminal256Formatter(style='solarized-dark')
                                 )
 
     return Output(rawdata=raw_data, prettydata=table_data, config=config)
+
+
+def rich_capture(text: str | List[str], emoji: bool = False, **kwargs) -> str:
+    """Accept text or list of text with rich markups and return final colorized text with ascii control chars
+
+    This is temporary as the rich context handler stopped working.  Can revert once fixed upstream
+
+    Args:
+        text (str | List[str]): The text or list of text to capture.
+            If provided as list it will be converted to string (joined with \n)
+
+    Returns:
+        str: text with markups converted to ascii control chars
+    """
+    if isinstance(text, list):
+        "\n".join(text)
+    console = Console(record=True, emoji=emoji, **kwargs)
+    console.begin_capture()
+    console.print(text)
+    out = console.end_capture()
+    return out if len(out.splitlines()) > 1 else out.rstrip("\n")
```

### Comparing `centralcli-1.3/centralcli/response.py` & `centralcli-1.4/centralcli/response.py`

 * *Files 2% similar despite different names*

```diff
@@ -382,15 +382,14 @@
     def aio_session(self, session: ClientSession):
         self._aio_session = session
 
     async def exec_api_call(self, url: str, data: dict = None, json_data: Union[dict, list] = None,
                             method: str = "GET", headers: dict = {}, params: dict = {}, **kwargs) -> Response:
         auth = self.auth
         resp = None
-        # _url = URL(url).with_query({k: v for k, v in params.items() if k in {"offset", "limit"}})
         _url = URL(url).with_query(params)
         _data_msg = ' ' if not url else f' [{_url.path}]'
         run_sfx = '' if self.req_cnt == 1 else f' Request: {self.req_cnt}'
         spin_word = "Collecting" if method == "GET" else "Sending"
         spin_txt_run = f"{spin_word} Data...{run_sfx}"
         spin_txt_retry = ""
         spin_txt_fail = f"{spin_word} Data{_data_msg}"
@@ -400,15 +399,15 @@
                 spin_txt_run = f"{spin_txt_run} {spin_txt_retry}".rstrip()
 
             token_msg = (
                 f"\n    access token: {auth.central_info.get('token', {}).get('access_token', {})}"
                 f"\n    refresh token: {auth.central_info.get('token', {}).get('refresh_token', {})}"
             )
             log.debug(
-                f"Attempt API Call to:{_data_msg}Try: {_ + 1}{token_msg if self.req_cnt == 1 else ''}"
+                f'Attempt API Call to:{_data_msg}Try: {_ + 1}{token_msg if self.req_cnt == 1 and "arubanetworks.com" in url else ""}'
             )
             if config.debugv:
                 call_data = {
                     "method": method,
                     "url": url,
                     "url_params": params,
                     "data": data,
@@ -553,18 +552,18 @@
         Returns:
             Response: CentralAPI Response object
         """
 
         # TODO cleanup, if we do strip_none here can remove from calling funcs.
         params = utils.strip_none(params)
 
-        # Debugging flag to lower paging limit to test paging with smaller chunks.
+        # for debugging can set a smaller limit in config or via --debug-limit flag to test paging
         if params and params.get("limit") and config.limit:
             log.info(f'paging limit being overridden by config: {params.get("limit")} --> {config.limit}')
-            params["limit"] = config.limit  # for debugging can set a smaller limit in config to test paging
+            params["limit"] = config.limit
 
         # allow passing of default kwargs (None) for param/json_data, all keys with None Value are stripped here.
         # supports 2 levels beyond that needs to be done in calling method.
         json_data = utils.strip_none(json_data)
         if json_data:  # strip second nested dict if all keys = NoneType
             y = json_data.copy()
             for k in y:
@@ -805,15 +804,15 @@
 
         Returns:
             List[Response]: List of centralcli.response.Response objects.
         """
         return asyncio.run(self._batch_request(api_calls, continue_on_fail=continue_on_fail))
 
     async def get(self, url, params: dict = {}, headers: dict = None, **kwargs) -> Response:
-        f_url = self.auth.central_info["base_url"] + url
+        f_url = url if url.startswith("http") else self.auth.central_info["base_url"] + url
         params = self.strip_none(params)
         return await self.api_call(f_url, params=params, headers=headers, **kwargs)
 
     async def post(
         self, url, params: dict = {}, payload: dict = None, json_data: Union[dict, list] = None, headers: dict = None, **kwargs
     ) -> Response:
         f_url = self.auth.central_info["base_url"] + url
```

### Comparing `centralcli-1.3/centralcli/static/favicon.ico` & `centralcli-1.4/centralcli/static/favicon.ico`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/strings.py` & `centralcli-1.4/centralcli/strings.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,23 +1,26 @@
 #!/usr/bin/env python3
 # -*- coding: utf-8 -*-
 
 from rich.console import Console
 from centralcli import log
 
+# TODO typer now supports markup_mode="rich" Don't need the help below, can just put the markup in the docstr
+
 # [italic]Also supports a simple list of serial numbers with no header 1 per line.[reset]  # TODO implement this device del
 # TODO document examples and uncomment below.  provide examples for all format/types
 # print("See https://central-api-cli.readthedocs.io for full examples.
 
 
 # TODO build examples for json yaml a master import for all make example the same for add and delete
 # (noting that delete only requires 1 field)
 # provide estimate on number of API calls.
 
 # TODO pass examples through lexer
+
 common_add_delete_end = """
 [italic]Note: Batch add and batch delete operations are designed so the same import file can be used.[/]
 [italic]      The delete operation does not require as many fields, the cli will ignore the fields it does not need.[/]
 """
 
 clibatch_add_devices = f"""
 [italic cyan]cencli batch add devices IMPORT_FILE[/]:
```

### Comparing `centralcli-1.3/centralcli/utils.py` & `centralcli-1.4/centralcli/utils.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/vscodeargs.py` & `centralcli-1.4/centralcli/vscodeargs.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/centralcli/wh_proxy.py` & `centralcli-1.4/centralcli/wh_proxy.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.3/pyproject.toml` & `centralcli-1.4/pyproject.toml`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 [tool.poetry]
 name = "centralcli"
-version = "1.3"
+version = "1.4"
 description = "A CLI for interacting with Aruba Central (Cloud Management Platform).  Facilitates bulk imports, exports, reporting.  A handy tool if you have devices managed by Aruba Central."
 license = "MIT"
 authors = ["Wade Wells (Pack3tL0ss) <wade@consolepi.org>"]
 maintainers = ["Wade Wells (Pack3tL0ss) <wade@consolepi.org>"]
 readme = "README.md"
 repository = "https://github.com/Pack3tL0ss/central-api-cli"
 documentation = "https://central-api-cli.readthedocs.org"
@@ -42,14 +42,17 @@
 asyncio = ">=3"
 rich = ">=10"
 tablib = ">=3"
 jinja2 = "*"
 pydantic = ">=1.9.0"
 click = ">=7.1.2"
 ipaddress = "*"
+fuzzywuzzy = "*"
+levenshtein = "*"
+
 
 # Optional dependencies see tool.poetry.extras
 fastapi = {version = "*", optional = true}
 uvicorn = {version = "*", optional = true}
 psutil = {version = "*", optional = true}
 cchardet = {version = ">=2.1", markers = "platform_system != 'Windows'", optional=true}
 aiodns = {version = ">=1.1", optional = true}
@@ -78,8 +81,8 @@
     "uvicorn",
     "psutil",
 ]
 speedups = [
     "cchardet",
     "aiodns",
     "Brotli",
-]
+]
```

### Comparing `centralcli-1.3/PKG-INFO` & `centralcli-1.4/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: centralcli
-Version: 1.3
+Version: 1.4
 Summary: A CLI for interacting with Aruba Central (Cloud Management Platform).  Facilitates bulk imports, exports, reporting.  A handy tool if you have devices managed by Aruba Central.
 Home-page: https://github.com/Pack3tL0ss/central-api-cli
 License: MIT
 Keywords: cli,Aruba,Aruba Networks,Aruba Central,HPE,API,RESTFUL,REST
 Author: Wade Wells (Pack3tL0ss)
 Author-email: wade@consolepi.org
 Maintainer: Wade Wells (Pack3tL0ss)
@@ -23,17 +23,19 @@
 Requires-Dist: PyYAML (>=6)
 Requires-Dist: aiodns (>=1.1) ; extra == "speedups"
 Requires-Dist: aiohttp (>=3)
 Requires-Dist: asyncio (>=3)
 Requires-Dist: cchardet (>=2.1) ; (platform_system != "Windows") and (extra == "speedups")
 Requires-Dist: click (>=7.1.2)
 Requires-Dist: fastapi ; extra == "hook-proxy"
+Requires-Dist: fuzzywuzzy
 Requires-Dist: halo
 Requires-Dist: ipaddress
 Requires-Dist: jinja2
+Requires-Dist: levenshtein
 Requires-Dist: pendulum (>=2)
 Requires-Dist: psutil ; extra == "hook-proxy"
 Requires-Dist: pycentral (>=0.0.3)
 Requires-Dist: pydantic (>=1.9.0)
 Requires-Dist: pylibyaml (>=0.1.0)
 Requires-Dist: rich (>=10)
 Requires-Dist: shellingham (>=1)
```

