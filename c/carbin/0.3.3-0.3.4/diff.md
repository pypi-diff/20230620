# Comparing `tmp/carbin-0.3.3-py3-none-any.whl.zip` & `tmp/carbin-0.3.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,24 +1,24 @@
-Zip file size: 37555 bytes, number of entries: 22
--rw-rw-r--  2.0 unx      608 b- defN 23-Jun-19 14:37 carbin/__init__.py
+Zip file size: 37575 bytes, number of entries: 22
+-rw-rw-r--  2.0 unx      608 b- defN 23-Jun-20 20:04 carbin/__init__.py
 -rw-rw-r--  2.0 unx     4487 b- defN 23-Jun-19 04:44 carbin/builder.py
--rw-rw-r--  2.0 unx    11425 b- defN 23-Jun-19 12:56 carbin/cli.py
--rw-rw-r--  2.0 unx     5180 b- defN 23-Jun-19 13:11 carbin/creater.py
+-rw-rw-r--  2.0 unx    11561 b- defN 23-Jun-20 20:03 carbin/cli.py
+-rw-rw-r--  2.0 unx     5148 b- defN 23-Jun-20 19:59 carbin/creater.py
 -rw-rw-r--  2.0 unx     4784 b- defN 23-Jun-19 04:42 carbin/package.py
--rw-rw-r--  2.0 unx    21833 b- defN 23-Jun-19 14:16 carbin/prefix.py
+-rw-rw-r--  2.0 unx    21799 b- defN 23-Jun-20 20:03 carbin/prefix.py
 -rw-rw-r--  2.0 unx     2791 b- defN 23-Jun-19 04:42 carbin/types.py
 -rw-rw-r--  2.0 unx    12403 b- defN 23-Jun-19 05:17 carbin/util.py
 -rw-rw-r--  2.0 unx     7513 b- defN 23-May-16 22:05 carbin/cmake/autotools.cmake
 -rw-rw-r--  2.0 unx      512 b- defN 23-May-16 22:05 carbin/cmake/binary.cmake
 -rw-rw-r--  2.0 unx    10396 b- defN 23-Jun-18 16:20 carbin/cmake/boost.cmake
 -rw-rw-r--  2.0 unx     1161 b- defN 23-May-16 22:05 carbin/cmake/header.cmake
 -rw-rw-r--  2.0 unx     6387 b- defN 23-May-16 22:05 carbin/cmake/make.cmake
 -rw-rw-r--  2.0 unx     9225 b- defN 23-May-16 22:05 carbin/cmake/meson.cmake
 -rw-rw-r--  2.0 unx      121 b- defN 23-May-16 22:05 carbin/cmake/subdir.cmake
--rw-rw-r--  2.0 unx    11354 b- defN 23-Jun-19 14:38 carbin-0.3.3.dist-info/LICENSE
--rw-rw-r--  2.0 unx     1329 b- defN 23-Jun-19 14:38 carbin-0.3.3.dist-info/LICENSE.cget
--rw-rw-r--  2.0 unx      300 b- defN 23-Jun-19 14:38 carbin-0.3.3.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Jun-19 14:38 carbin-0.3.3.dist-info/WHEEL
--rw-rw-r--  2.0 unx       42 b- defN 23-Jun-19 14:38 carbin-0.3.3.dist-info/entry_points.txt
--rw-rw-r--  2.0 unx        7 b- defN 23-Jun-19 14:38 carbin-0.3.3.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1723 b- defN 23-Jun-19 14:38 carbin-0.3.3.dist-info/RECORD
-22 files, 113673 bytes uncompressed, 34803 bytes compressed:  69.4%
+-rw-rw-r--  2.0 unx    11354 b- defN 23-Jun-20 20:04 carbin-0.3.4.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     1329 b- defN 23-Jun-20 20:04 carbin-0.3.4.dist-info/LICENSE.cget
+-rw-rw-r--  2.0 unx      279 b- defN 23-Jun-20 20:04 carbin-0.3.4.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Jun-20 20:04 carbin-0.3.4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       43 b- defN 23-Jun-20 20:04 carbin-0.3.4.dist-info/entry_points.txt
+-rw-rw-r--  2.0 unx        7 b- defN 23-Jun-20 20:04 carbin-0.3.4.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     1723 b- defN 23-Jun-20 20:04 carbin-0.3.4.dist-info/RECORD
+22 files, 113723 bytes uncompressed, 34823 bytes compressed:  69.4%
```

## zipnote {}

```diff
@@ -39,29 +39,29 @@
 
 Filename: carbin/cmake/meson.cmake
 Comment: 
 
 Filename: carbin/cmake/subdir.cmake
 Comment: 
 
-Filename: carbin-0.3.3.dist-info/LICENSE
+Filename: carbin-0.3.4.dist-info/LICENSE
 Comment: 
 
-Filename: carbin-0.3.3.dist-info/LICENSE.cget
+Filename: carbin-0.3.4.dist-info/LICENSE.cget
 Comment: 
 
-Filename: carbin-0.3.3.dist-info/METADATA
+Filename: carbin-0.3.4.dist-info/METADATA
 Comment: 
 
-Filename: carbin-0.3.3.dist-info/WHEEL
+Filename: carbin-0.3.4.dist-info/WHEEL
 Comment: 
 
-Filename: carbin-0.3.3.dist-info/entry_points.txt
+Filename: carbin-0.3.4.dist-info/entry_points.txt
 Comment: 
 
-Filename: carbin-0.3.3.dist-info/top_level.txt
+Filename: carbin-0.3.4.dist-info/top_level.txt
 Comment: 
 
-Filename: carbin-0.3.3.dist-info/RECORD
+Filename: carbin-0.3.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## carbin/__init__.py

```diff
@@ -9,8 +9,8 @@
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 #
-__version__ = '0.3.3'
+__version__ = '0.3.4'
```

## carbin/cli.py

```diff
@@ -86,17 +86,21 @@
 @cli.command(name='create')
 @use_prefix
 @click.option('--name', required=True, help="Set cmake template")
 @click.option('--test', is_flag=True, help="Create test Dir")
 @click.option('--examples', is_flag=True, help="Create test Dir")
 @click.option('--benchmark', is_flag=True, help="Create test Dir")
 @click.option('--requirements', is_flag=True, help="Create test Dir")
-def create_command(prefix, name, test, examples, benchmark, requirements):
-    print("create cmd\n")
+@click.option('--upgrade', is_flag=True, help="Create test Dir")
+def create_command(prefix, name, test, examples, benchmark, requirements, upgrade):
     c = Creater(prefix, name, test, examples, benchmark, requirements)
+    if upgrade:
+        c.upgrade_carbin()
+        click.echo('done...')
+        return
     c.create_project()
     click.echo('done...')
 
 
 @cli.command(name='init')
 @use_prefix
 @click.option('-t', '--toolchain', required=False, help="Set cmake toolchain file to use")
```

## carbin/creater.py

```diff
@@ -35,25 +35,28 @@
         if os.path.isfile(f):
             click.echo("Extracting archive {0} ...".format(f))
             util.extract_ar(archive=f, dst=self.top_dir)
         return next(util.get_dirs(self.top_dir))
 
     def create_project(self):
         d = self.fetch()
-        self.copy_main(d)
-        self.deal_src(d)
+        self.copy_project_cmakelist(d)
+        self.deal_src_cmakelist(d)
         self.deal_carbin_cmake(d)
         self.deal_cmake(d)
-        self.deal_carbin_copt(d)
         self.create_example_dir(d)
         self.create_tests_dir(d)
         self.create_benchmark_dir(d)
         self.create_requires_file(d)
 
-    def copy_main(self, d):
+    def upgrade_carbin(self):
+        d = self.fetch()
+        self.deal_carbin_cmake(d)
+
+    def copy_project_cmakelist(self, d):
         p = os.path.join(d, 'CMakeLists.txt')
         fr = open(p, 'r')
         content = fr.read()
         fr.close()
         wc = str.replace(content, "changeme", self.name)
         if not self.test:
             wc = str.replace(wc, "add_subdirectory(tests)", "#add_subdirectory(tests)")
@@ -65,37 +68,33 @@
             wc = str.replace(wc, "add_subdirectory(examples)", "#add_subdirectory(examples)")
 
         dp = 'CMakeLists.txt'
         fw = open(dp, 'w')
         fw.write(wc)
         fw.close()
 
-    def deal_src(self, d):
+    def deal_src_cmakelist(self, d):
         util.mkdir(self.name)
         src = os.path.join(d, 'changeme/CMakeLists.txt')
         util.copy_to(src, self.name)
 
     def deal_carbin_cmake(self, d):
         if os.path.exists('carbin_cmake'):
             shutil.rmtree('carbin_cmake')
         cm = os.path.join(d, 'carbin_cmake')
         util.copy_dir(cm, 'carbin_cmake')
 
+    ########
+    # user's cmake .do not edit
     def deal_cmake(self, d):
         if os.path.exists('cmake'):
             return
         cm = os.path.join(d, 'cmake')
         util.copy_dir(cm, 'cmake')
 
-    def deal_carbin_copt(self, d):
-        if os.path.exists('copts'):
-            shutil.rmtree('copts')
-        cc = os.path.join(d, 'copts')
-        util.copy_dir(cc, 'copts')
-
         if not os.path.exists('conda'):
             cc = os.path.join(d, 'conda')
             util.copy_dir(cc, 'conda')
 
         src = os.path.join(d, 'changeme/CMakeLists.txt')
         util.copy_to(src, self.name)
```

## carbin/prefix.py

```diff
@@ -323,15 +323,14 @@
             for line in f.readlines():
                 if str.endswith(line, '\\\n'):
                     if line.lstrip().startswith('#'):
                         continue
                     cache_line = cache_line + line.strip('\\\n')
                     continue
                 cache_line = cache_line + line
-                print(cache_line)
                 tokens = shlex.split(cache_line, comments=True)
                 cache_line = ""
                 if len(tokens) > 0:
                     pb = parse_pkg_build_tokens(tokens)
                     ps = self.from_file(util.actual_path(pb.file, start), no_recipe=no_recipe) if pb.file else [
                         self.parse_pkg_build(pb, start=start, no_recipe=no_recipe)]
                     for p in ps: yield p
```

## Comparing `carbin-0.3.3.dist-info/LICENSE` & `carbin-0.3.4.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `carbin-0.3.3.dist-info/LICENSE.cget` & `carbin-0.3.4.dist-info/LICENSE.cget`

 * *Files identical despite different names*

## Comparing `carbin-0.3.3.dist-info/RECORD` & `carbin-0.3.4.dist-info/RECORD`

 * *Files 22% similar despite different names*

```diff
@@ -1,22 +1,22 @@
-carbin/__init__.py,sha256=_PYIm3f9lM-iKJ7WD32T0XW3jAXl4XG-85KQEPCWvB8,608
+carbin/__init__.py,sha256=6BmcE4LXlYRo-YQhj56wze-kInzuM0uDzahpUpJgsKQ,608
 carbin/builder.py,sha256=gG7D9hqDE-S_GfROafz2pdfIyB8y8wEwQocNz4NQY-o,4487
-carbin/cli.py,sha256=FpcseE1LzIgLBp03WUz3dYPOl_ZZzvmEiMBEnmHYb9U,11425
-carbin/creater.py,sha256=yaywRSNsJpsJsnI0HNcZa5gNxc5fZ5m8H9cpLn24KUo,5180
+carbin/cli.py,sha256=U-VEjNEp_AKWMHavQPUT9Xxl0OzCkD1XMpr39lmpPSs,11561
+carbin/creater.py,sha256=7sSmGTD-5TGx3Gae8k2nxwUWfYmBPyN6gbqy8A_37yI,5148
 carbin/package.py,sha256=j3DeKkhh9YhWe0i8LvJis1OGLzlBF_RRptvOy_XACnQ,4784
-carbin/prefix.py,sha256=EnJRQ69nG6Kdufc_dQH7U6eN_931g-1DNskZbGgaSdU,21833
+carbin/prefix.py,sha256=gfyEtP3JGMii3T3rZfmhWTKaB_f9Q-SafuKKqZ1vLiw,21799
 carbin/types.py,sha256=YF4e-RDaDO4Y7i8mMTTcS78RnZkCMxRvmhOPruBzljo,2791
 carbin/util.py,sha256=-6SNYfU8IE6NgjSe4VhlzXJfGDh47D63PNi5ERU3ApQ,12403
 carbin/cmake/autotools.cmake,sha256=asyjvKRMFpSlaZMeMP44-hcw0arGWJGTbfujD95Vo5s,7513
 carbin/cmake/binary.cmake,sha256=lwu9TbC9Ni0Zb7KsrPh98RBRD3D2gS6R4V5MWYRkGB0,512
 carbin/cmake/boost.cmake,sha256=lrFDFluYtng6Lyi2O8KpIW8E6YHucnHv7d2CREJmwsA,10396
 carbin/cmake/header.cmake,sha256=CHyFepXmujahMo5QPs703EsfT2YLgK1FDDuv0O4JmRY,1161
 carbin/cmake/make.cmake,sha256=zX7sr2hA7PMsKJ09RyGzrvxZbpW84uOYcuzpCWVQCes,6387
 carbin/cmake/meson.cmake,sha256=bQ5SnqPuPKUaIWmcWCcV2V91MoSeYdRRHQeWP88TzfY,9225
 carbin/cmake/subdir.cmake,sha256=wxpubdxBKoAnjYUV8Mizxq_YymtwPm3iUjN5Dh3YWNU,121
-carbin-0.3.3.dist-info/LICENSE,sha256=pE08QfKFEw9ZOWtsw001axYhKjhuPjzDPHPsKBmGnc0,11354
-carbin-0.3.3.dist-info/LICENSE.cget,sha256=Hrw7tNJFFRfkDA1XBA5aRysckOpv1m8eU3IfqkwWId4,1329
-carbin-0.3.3.dist-info/METADATA,sha256=vAtp80OREPxMcKICD628GdUAn4-3CO-gu4AQGPLBDCs,300
-carbin-0.3.3.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-carbin-0.3.3.dist-info/entry_points.txt,sha256=ibqGDVfvnT2ZzaMDaRB5PgOjVdrprvlsAJLrYTjGgHY,42
-carbin-0.3.3.dist-info/top_level.txt,sha256=qRZoXL__kMXE03dJArRq6hL4sOoXUbeufIL5RjVroV4,7
-carbin-0.3.3.dist-info/RECORD,,
+carbin-0.3.4.dist-info/LICENSE,sha256=pE08QfKFEw9ZOWtsw001axYhKjhuPjzDPHPsKBmGnc0,11354
+carbin-0.3.4.dist-info/LICENSE.cget,sha256=Hrw7tNJFFRfkDA1XBA5aRysckOpv1m8eU3IfqkwWId4,1329
+carbin-0.3.4.dist-info/METADATA,sha256=FI3NiDicheLVwHbZDNagmHklv9n8rNThW0lwN6kWFXc,279
+carbin-0.3.4.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
+carbin-0.3.4.dist-info/entry_points.txt,sha256=WQWtEUmNhF8XeBc9DFSBvdx5zRnnFEhzevEYPS_pWek,43
+carbin-0.3.4.dist-info/top_level.txt,sha256=qRZoXL__kMXE03dJArRq6hL4sOoXUbeufIL5RjVroV4,7
+carbin-0.3.4.dist-info/RECORD,,
```

