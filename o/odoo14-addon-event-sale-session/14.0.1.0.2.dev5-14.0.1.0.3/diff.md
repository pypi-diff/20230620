# Comparing `tmp/odoo14_addon_event_sale_session-14.0.1.0.2.dev5-py3-none-any.whl.zip` & `tmp/odoo14_addon_event_sale_session-14.0.1.0.3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,40 +1,40 @@
-Zip file size: 38833 bytes, number of entries: 38
--rw-r--r--  2.0 unx     2913 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/README.rst
--rw-r--r--  2.0 unx       64 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/__init__.py
--rw-r--r--  2.0 unx      787 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/__manifest__.py
--rw-r--r--  2.0 unx     8425 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/i18n/es.po
--rw-r--r--  2.0 unx     7806 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/i18n/event_sale_session.pot
--rw-r--r--  2.0 unx     8474 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/i18n/it.po
--rw-r--r--  2.0 unx     8652 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/i18n/pt.po
--rw-r--r--  2.0 unx      139 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/models/__init__.py
--rw-r--r--  2.0 unx     1117 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/models/account_move.py
--rw-r--r--  2.0 unx     1397 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/models/event_event.py
--rw-r--r--  2.0 unx      419 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/models/event_registration.py
--rw-r--r--  2.0 unx      982 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/models/event_session.py
--rw-r--r--  2.0 unx     3249 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/models/sale_order.py
--rw-r--r--  2.0 unx       96 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       68 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      250 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/readme/USAGE.rst
--rw-r--r--  2.0 unx       26 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/reports/__init__.py
--rw-r--r--  2.0 unx     1406 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/reports/sale_report.py
--rw-r--r--  2.0 unx     1053 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/reports/sale_report_views.xml
--rw-r--r--  2.0 unx      326 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/security/ir.model.access.csv
--rw-r--r--  2.0 unx     9455 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/static/description/icon.png
--rw-r--r--  2.0 unx    12208 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/static/description/index.html
--rw-r--r--  2.0 unx      962 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/static/src/js/event_configurator_controller.js
--rw-r--r--  2.0 unx       38 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/tests/__init__.py
--rw-r--r--  2.0 unx     5320 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/tests/test_event_sale_session.py
--rw-r--r--  2.0 unx      435 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/views/assets.xml
--rw-r--r--  2.0 unx     1092 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/views/event_session_view.xml
--rw-r--r--  2.0 unx      861 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/views/event_view.xml
--rw-r--r--  2.0 unx     2224 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/views/sale_order_views.xml
--rw-r--r--  2.0 unx       71 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/wizard/__init__.py
--rw-r--r--  2.0 unx      674 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/wizard/event_configurator.py
--rw-r--r--  2.0 unx      907 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/wizard/event_configurator_views.xml
--rw-r--r--  2.0 unx     1054 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/wizard/event_edit_registration.py
--rw-r--r--  2.0 unx      643 b- defN 22-Oct-27 03:14 odoo/addons/event_sale_session/wizard/event_edit_registration.xml
--rw-r--r--  2.0 unx     3493 b- defN 22-Oct-27 03:14 odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 22-Oct-27 03:14 odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 22-Oct-27 03:14 odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     4175 b- defN 22-Oct-27 03:14 odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/RECORD
-38 files, 91358 bytes uncompressed, 31741 bytes compressed:  65.3%
+Zip file size: 38733 bytes, number of entries: 38
+-rw-r--r--  2.0 unx     2913 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/README.rst
+-rw-r--r--  2.0 unx       64 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/__init__.py
+-rw-r--r--  2.0 unx      787 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/__manifest__.py
+-rw-r--r--  2.0 unx     8481 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/i18n/es.po
+-rw-r--r--  2.0 unx     7772 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/i18n/event_sale_session.pot
+-rw-r--r--  2.0 unx     8474 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/i18n/it.po
+-rw-r--r--  2.0 unx     8652 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/i18n/pt.po
+-rw-r--r--  2.0 unx      139 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/models/__init__.py
+-rw-r--r--  2.0 unx     1117 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/models/account_move.py
+-rw-r--r--  2.0 unx     1420 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/models/event_event.py
+-rw-r--r--  2.0 unx      419 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/models/event_registration.py
+-rw-r--r--  2.0 unx      982 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/models/event_session.py
+-rw-r--r--  2.0 unx     2954 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/models/sale_order.py
+-rw-r--r--  2.0 unx       96 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       68 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      250 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/readme/USAGE.rst
+-rw-r--r--  2.0 unx       26 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/reports/__init__.py
+-rw-r--r--  2.0 unx     1406 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/reports/sale_report.py
+-rw-r--r--  2.0 unx     1053 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/reports/sale_report_views.xml
+-rw-r--r--  2.0 unx      326 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/static/description/icon.png
+-rw-r--r--  2.0 unx    12208 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/static/description/index.html
+-rw-r--r--  2.0 unx      962 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/static/src/js/event_configurator_controller.js
+-rw-r--r--  2.0 unx       38 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/tests/__init__.py
+-rw-r--r--  2.0 unx     5241 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/tests/test_event_sale_session.py
+-rw-r--r--  2.0 unx      435 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/views/assets.xml
+-rw-r--r--  2.0 unx     1092 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/views/event_session_view.xml
+-rw-r--r--  2.0 unx      861 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/views/event_view.xml
+-rw-r--r--  2.0 unx     2224 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/views/sale_order_views.xml
+-rw-r--r--  2.0 unx       71 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/wizard/__init__.py
+-rw-r--r--  2.0 unx      674 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/wizard/event_configurator.py
+-rw-r--r--  2.0 unx      907 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/wizard/event_configurator_views.xml
+-rw-r--r--  2.0 unx     1054 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/wizard/event_edit_registration.py
+-rw-r--r--  2.0 unx      643 b- defN 23-Jun-20 14:18 odoo/addons/event_sale_session/wizard/event_edit_registration.xml
+-rw-r--r--  2.0 unx     3488 b- defN 23-Jun-20 14:18 odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-20 14:18 odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-20 14:18 odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4155 b- defN 23-Jun-20 14:18 odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/RECORD
+38 files, 91004 bytes uncompressed, 31681 bytes compressed:  65.2%
```

## zipnote {}

```diff
@@ -96,20 +96,20 @@
 
 Filename: odoo/addons/event_sale_session/wizard/event_edit_registration.py
 Comment: 
 
 Filename: odoo/addons/event_sale_session/wizard/event_edit_registration.xml
 Comment: 
 
-Filename: odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/METADATA
+Filename: odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/WHEEL
+Filename: odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/top_level.txt
+Filename: odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/RECORD
+Filename: odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/event_sale_session/__manifest__.py

```diff
@@ -1,13 +1,13 @@
 # Copyright 2017-19 Tecnativa - David Vidal
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 {
     "name": "Event Sale Sessions",
     "summary": "Sessions sales in events",
-    "version": "14.0.1.0.1",
+    "version": "14.0.1.0.3",
     "author": "Tecnativa, Odoo Community Association (OCA)",
     "license": "AGPL-3",
     "website": "https://github.com/OCA/event",
     "category": "Marketing",
     "depends": ["event_sale", "event_session"],
     "data": [
         "security/ir.model.access.csv",
```

## odoo/addons/event_sale_session/i18n/es.po

```diff
@@ -1,25 +1,23 @@
 # Translation of Odoo Server.
 # This file contains the translation of the following modules:
 # 	* event_sale_session
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Odoo Server 10.0\n"
+"Project-Id-Version: Odoo Server 14.0\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2017-06-14 11:31+0000\n"
-"PO-Revision-Date: 2017-06-14 14:10+0200\n"
-"Last-Translator: David <david.vidal@tecnativa.com>\n"
+"POT-Creation-Date: 2023-06-20 13:22+0000\n"
+"PO-Revision-Date: 2023-06-20 13:22+0000\n"
+"Last-Translator: \n"
 "Language-Team: \n"
-"Language: es\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
+"Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"
-"X-Generator: Poedit 1.8.7.1\n"
 
 #. module: event_sale_session
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_order__registration_ids
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_order_line__registration_ids
 msgid "Attendees"
 msgstr "Asistentes"
 
@@ -36,41 +34,40 @@
 #: model:ir.model.fields,field_description:event_sale_session.field_event_session__display_name
 #: model:ir.model.fields,field_description:event_sale_session.field_registration_editor__display_name
 #: model:ir.model.fields,field_description:event_sale_session.field_registration_editor_line__display_name
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_order__display_name
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_order_line__display_name
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_report__display_name
 msgid "Display Name"
-msgstr ""
+msgstr "Nombre mostrado"
 
 #. module: event_sale_session
 #: model:ir.model,name:event_sale_session.model_registration_editor
 msgid "Edit Attendee Details on Sales Confirmation"
-msgstr ""
+msgstr "Editar detalles del asistente en la confirmación de ventas"
 
 #. module: event_sale_session
 #: model:ir.model,name:event_sale_session.model_registration_editor_line
 msgid "Edit Attendee Line on Sales Confirmation"
-msgstr ""
+msgstr "Editar línea de asistente en confirmación de ventas"
 
 #. module: event_sale_session
 #: model:ir.model,name:event_sale_session.model_event_event
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_order__event_ids
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_report__event_id
 msgid "Event"
 msgstr "Evento"
 
 #. module: event_sale_session
 #: model:ir.model,name:event_sale_session.model_event_event_configurator
 msgid "Event Configurator"
-msgstr ""
+msgstr "Configurador de eventos"
 
 #. module: event_sale_session
 #: model:ir.model,name:event_sale_session.model_event_registration
-#, fuzzy
 msgid "Event Registration"
 msgstr "Sesión"
 
 #. module: event_sale_session
 #: model:ir.model,name:event_sale_session.model_event_session
 msgid "Event session"
 msgstr "Sesión"
@@ -88,51 +85,50 @@
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_report__id
 msgid "ID"
 msgstr ""
 
 #. module: event_sale_session
 #: model:ir.model,name:event_sale_session.model_account_move
 msgid "Journal Entry"
-msgstr ""
+msgstr "Asiento contable"
 
 #. module: event_sale_session
 #: model:ir.model.fields,field_description:event_sale_session.field_account_move____last_update
 #: model:ir.model.fields,field_description:event_sale_session.field_event_event____last_update
 #: model:ir.model.fields,field_description:event_sale_session.field_event_event_configurator____last_update
 #: model:ir.model.fields,field_description:event_sale_session.field_event_registration____last_update
 #: model:ir.model.fields,field_description:event_sale_session.field_event_session____last_update
 #: model:ir.model.fields,field_description:event_sale_session.field_registration_editor____last_update
 #: model:ir.model.fields,field_description:event_sale_session.field_registration_editor_line____last_update
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_order____last_update
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_order_line____last_update
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_report____last_update
 msgid "Last Modified on"
-msgstr ""
+msgstr "Última modificación el"
 
 #. module: event_sale_session
 #: code:addons/event_sale_session/models/sale_order.py:0
-#, fuzzy, python-format
-msgid "Not enough seats. Change quantity or session"
-msgstr "No hay plazas suficientes. Cambia la cantidad o escoge otra sesión."
+#, python-format
+msgid "Not enough seats in session %(session)s. Change quantity or session"
+msgstr "No ha plazas suficientes en la sesión %(session)s. Cambie la cantidad o la sesión"
 
 #. module: event_sale_session
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_report__event_session_count
-#, fuzzy
 msgid "Number of event sessions"
 msgstr "Sesiones de evento totales"
 
 #. module: event_sale_session
 #: model:ir.model,name:event_sale_session.model_sale_report
 msgid "Sales Analysis Report"
-msgstr ""
+msgstr "Informe de análisis de ventas"
 
 #. module: event_sale_session
 #: model:ir.model,name:event_sale_session.model_sale_order
 msgid "Sales Order"
-msgstr ""
+msgstr "Pedido de venta"
 
 #. module: event_sale_session
 #: model:ir.model,name:event_sale_session.model_sale_order_line
 msgid "Sales Order Line"
 msgstr "Línea de pedido de venta"
 
 #. module: event_sale_session
@@ -153,15 +149,15 @@
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_report__session_id
 msgid "Session"
 msgstr "Sesión"
 
 #. module: event_sale_session
 #: model_terms:ir.ui.view,arch_db:event_sale_session.view_event_session_form
 msgid "Ticket"
-msgstr "Ticket"
+msgstr ""
 
 #. module: event_sale_session
 #: model:ir.model.fields,field_description:event_sale_session.field_event_event_configurator__event_sessions_count
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_order_line__event_sessions_count
 msgid "Total event sessions"
 msgstr "Sesiones de evento totales"
 
@@ -181,14 +177,7 @@
 msgid "Unconfirmed order seats"
 msgstr "Plazas en pedidos sin confirmar"
 
 #. module: event_sale_session
 #: model_terms:ir.ui.view,arch_db:event_sale_session.view_event_form
 msgid "Unconfirmed orders seats"
 msgstr "Plazas en pedidos sin confirmar"
-
-#~ msgid "Invoice"
-#~ msgstr "Factura"
-
-#, fuzzy
-#~ msgid "Sale Order"
-#~ msgstr "Pedido de venta"
```

## odoo/addons/event_sale_session/i18n/event_sale_session.pot

```diff
@@ -101,17 +101,16 @@
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_order_line____last_update
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_report____last_update
 msgid "Last Modified on"
 msgstr ""
 
 #. module: event_sale_session
 #: code:addons/event_sale_session/models/sale_order.py:0
-#: code:addons/event_sale_session/models/sale_order.py:0
 #, python-format
-msgid "Not enough seats. Change quantity or session"
+msgid "Not enough seats in session %(session)s. Change quantity or session"
 msgstr ""
 
 #. module: event_sale_session
 #: model:ir.model.fields,field_description:event_sale_session.field_sale_report__event_session_count
 msgid "Number of event sessions"
 msgstr ""
```

## odoo/addons/event_sale_session/models/event_event.py

```diff
@@ -29,15 +29,15 @@
                     event.order_line_ids.filtered(
                         lambda x: x.order_id.state in ("draft", "sent")
                     ).mapped("product_uom_qty")
                 )
             )
 
     def button_open_unconfirmed_event_order(self):
-        action = self.env.ref("sale.action_quotations").read()[0]
+        action = self.env["ir.actions.act_window"]._for_xml_id("sale.action_quotations")
         sales = (
             self.env["sale.order.line"]
             .search([("event_id", "in", self.ids)])
             .mapped("order_id")
             .ids
         )
         action["domain"] = [("id", "in", sales), ("state", "in", ("draft", "sent"))]
```

## odoo/addons/event_sale_session/models/sale_order.py

```diff
@@ -21,24 +21,33 @@
     )
 
     @api.depends("order_line.event_id")
     def _compute_event_ids(self):
         for sale in self:
             sale.event_ids = sale.order_line.event_id
 
-    def _session_seats_available(self):
+    @api.constrains("order_line")
+    def _check_session_seats_available(self):
         """Check if there are lines that could do session overbooking"""
-        sessions = {}
-        for line in self.mapped("order_line").filtered("event_session_seats_limited"):
-            sessions.setdefault(line.session_id, line.event_session_seats_available)
-            sessions[line.session_id] -= line.product_uom_qty
-            # Break if any session can't allocate seats
-            if sessions[line.session_id] < 0:
-                return False
-        return True
+        for order in self:
+            for session in order.order_line.filtered(
+                "event_session_seats_limited"
+            ).session_id:
+                if session.seats_available < sum(
+                    order.order_line.filtered(lambda x: x.session_id == session).mapped(
+                        "product_uom_qty"
+                    )
+                ):
+                    raise ValidationError(
+                        _(
+                            "Not enough seats in session %(session)s. "
+                            "Change quantity or session",
+                            session=session.display_name,
+                        )
+                    )
 
 
 class SaleOrderLine(models.Model):
     _inherit = "sale.order.line"
 
     session_id = fields.Many2one(comodel_name="event.session", string="Session")
     event_sessions_count = fields.Integer(
@@ -59,27 +68,14 @@
     registration_ids = fields.One2many(
         comodel_name="event.registration",
         inverse_name="sale_order_line_id",
         string="Attendees",
         readonly=True,
     )
 
-    @api.onchange("session_id")
-    def onchange_session_id(self):
-        """Don't allow to book seats if there aren't enough"""
-        if not self.order_id._session_seats_available():
-            raise ValidationError(_("Not enough seats. Change quantity or session"))
-
-    @api.onchange("product_uom", "product_uom_qty")
-    def product_uom_change(self):
-        """Don't allow to book seats if there aren't enough"""
-        if not self.order_id._session_seats_available():
-            raise ValidationError(_("Not enough seats. Change quantity or session"))
-        return super().product_uom_change()
-
     @api.onchange("event_id")
     def _onchange_event_id(self):
         """Force default session"""
         if self.event_sessions_count == 1:
             self.session_id = self.event_id.session_ids[0]
         return super()._onchange_event_id()
```

## odoo/addons/event_sale_session/tests/test_event_sale_session.py

```diff
@@ -104,27 +104,27 @@
         with sale_form.order_line.new() as line:
             line.product_id = self.product
             line.event_id = self.event
             line.session_id = self.session
             line.event_ticket_id = self.event.event_ticket_ids[:1]
             line.product_uom_qty = 60
         sale = sale_form.save()
-        self.assertTrue(sale._session_seats_available())
         sale_form = Form(sale)
         with sale_form.order_line.new() as line:
             line.product_id = self.product
             line.event_id = self.event
             line.session_id = self.session
             line.event_ticket_id = self.event.event_ticket_ids[:1]
             line.product_uom_qty = 40
         sale_form.save()
         # We can order up to the limit of 100 for this session
-        self.assertTrue(sale._session_seats_available())
         # If we try to book another seat, an error will raise
+        with sale_form.order_line.edit(1) as line_2:
+            line_2.product_uom_qty += 1
         with self.assertRaises(ValidationError):
-            sale.order_line[1].product_uom_qty += 1
-            sale.order_line[1].product_uom_change()
+            sale_form.save()
         # It's not allowed to overbook in a session with not enough seats
         self.session_alt_1.seats_max = 50
+        with sale_form.order_line.edit(0) as line_1:
+            line_1.session_id = self.session_alt_1
         with self.assertRaises(ValidationError):
-            sale.order_line[0].session_id = self.session_alt_1
-            sale.order_line[0].onchange_session_id()
+            sale_form.save()
```

## Comparing `odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/METADATA` & `odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-event-sale-session
-Version: 14.0.1.0.2.dev5
+Version: 14.0.1.0.3
 Summary: Sessions sales in events
 Home-page: https://github.com/OCA/event
 Author: Tecnativa, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/RECORD` & `odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,38 +1,38 @@
 odoo/addons/event_sale_session/README.rst,sha256=ylAlREHvyvOTZpmMX-Hm9ahB5MaTaLMdHIhCO9EG2WA,2913
 odoo/addons/event_sale_session/__init__.py,sha256=KVj1XzktFAD3kbhLTMx8R-fzu1wLHSZGyj0KmQh5rnc,64
-odoo/addons/event_sale_session/__manifest__.py,sha256=-9CJSfiNsZS_IHchvuRFk54Tw6g9mJgiDdnd7g-wtcs,787
-odoo/addons/event_sale_session/i18n/es.po,sha256=-K8CKUogof0yPby39ZEvigSfEilmRK0gEJcc5LXxVnU,8425
-odoo/addons/event_sale_session/i18n/event_sale_session.pot,sha256=2gYfdNVuyJZk9ie4nkJylewqrdGpdqBm8ibvQ6P3JLE,7806
+odoo/addons/event_sale_session/__manifest__.py,sha256=TGxvSAZ2VAbzWGmeMYAtJ9u69V5CptIqsHckm1Orxug,787
+odoo/addons/event_sale_session/i18n/es.po,sha256=aRA9d3Aa9HQLPhQE0d1OFiVnxzdxPBgsSn1XwGsKsvk,8481
+odoo/addons/event_sale_session/i18n/event_sale_session.pot,sha256=CZ0gC8CvLnK_c_gkgn_JS4Rqiq3OO91ZOOXIdFn5fWs,7772
 odoo/addons/event_sale_session/i18n/it.po,sha256=vTddD3JB0IWIxWD3CXqfZP0a8XUs1km_7saSpOWnvPc,8474
 odoo/addons/event_sale_session/i18n/pt.po,sha256=RUF_jSUz50BuppOr1qtGPqHJUJSvwA4vBa61jMJvQtI,8652
 odoo/addons/event_sale_session/models/__init__.py,sha256=DdYWTYrHYkvmQV2izgN_27x-O150nl332-ED-G-zpxU,139
 odoo/addons/event_sale_session/models/account_move.py,sha256=uyzpdczMGFGby7PWjcm1rGyMZba4AVJ0gvUbV2KuqOA,1117
-odoo/addons/event_sale_session/models/event_event.py,sha256=xJeHanO-qLJV1smJEjpprLwGyKS3JhMzxttmSXG10aQ,1397
+odoo/addons/event_sale_session/models/event_event.py,sha256=Ho7hLpaEh801tmZnUmSRRHTWFSQzGNqRns35zdWA6C4,1420
 odoo/addons/event_sale_session/models/event_registration.py,sha256=fuAUyRnAr1hdieNjY911kR7htJK_pyGyw-QwCmmioH0,419
 odoo/addons/event_sale_session/models/event_session.py,sha256=nJuKT2UrsbqZsmKuEWghucQu5_ieAcB4ZXf1J-X4joc,982
-odoo/addons/event_sale_session/models/sale_order.py,sha256=YE3kvhZ_9eLl0rj0cFnjfHqDFF4ZibDkllatRLP4S4c,3249
+odoo/addons/event_sale_session/models/sale_order.py,sha256=Ur7mkaunjSh5mBzHHaM1JgbCaJYtSLdt_vc86FfczV4,2954
 odoo/addons/event_sale_session/readme/CONTRIBUTORS.rst,sha256=qWODb3SvSoHf5gu0dxpwZ255LM7qURJJSRCguHVyE3M,96
 odoo/addons/event_sale_session/readme/DESCRIPTION.rst,sha256=Et-VejoyrxIVZZ7Ul2GMDz-0XK84v-VvAGENWsOMwiI,68
 odoo/addons/event_sale_session/readme/USAGE.rst,sha256=24vJuLjqw9xTHqcuO1_YUjGzOD1oMmtdjLR1uu3GGWY,250
 odoo/addons/event_sale_session/reports/__init__.py,sha256=ByYRbiCY7uWnvbKwYusgp99HtcOyGnzWogDif_GEsec,26
 odoo/addons/event_sale_session/reports/sale_report.py,sha256=bmQeUohcJgjWwsqnKsY-RKv4-zKDgLqsu5TyDbJDfRk,1406
 odoo/addons/event_sale_session/reports/sale_report_views.xml,sha256=6GuVDNnAsNxohztxS8oQLYi8Ks_kCyW_FSS_QLmSLZ4,1053
 odoo/addons/event_sale_session/security/ir.model.access.csv,sha256=K7u7Kq2O_DrTBbs1w2GvJOl3OFdfqnSmTj0TSdNOgdw,326
 odoo/addons/event_sale_session/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/event_sale_session/static/description/index.html,sha256=XS_8DkEwIsGAO7yXBlpgGxy4vExpOdvKikthCbb-nw8,12208
 odoo/addons/event_sale_session/static/src/js/event_configurator_controller.js,sha256=PeCsSjiEB5QP1jOUfVzagf682r4niNGuCeMBRm6kVq4,962
 odoo/addons/event_sale_session/tests/__init__.py,sha256=cnAFt0IW77EJ34a0-lcfQ4ScbWPj23U3koY4a1qcpk4,38
-odoo/addons/event_sale_session/tests/test_event_sale_session.py,sha256=MtMa7X14mpJwkqraTjIN52FyC8iJ9gHVi-JG5_gunuQ,5320
+odoo/addons/event_sale_session/tests/test_event_sale_session.py,sha256=Oj-65bDG8q3lcSEssANq5rK0Z9YhKNxLaoHSM6JUN8g,5241
 odoo/addons/event_sale_session/views/assets.xml,sha256=z-ZLlDvf3bHfhiYLOW2pzMnVhVbTBdpmf7nKs2KuE1Y,435
 odoo/addons/event_sale_session/views/event_session_view.xml,sha256=-4VhcYgXf9G6ra6LrivWYj84Iy19UGOH21BWnPTN_mE,1092
 odoo/addons/event_sale_session/views/event_view.xml,sha256=wwjdtHq2vDKCWQkA8J-44n6ruZxOaTmbA4Q_gaE2Ycs,861
 odoo/addons/event_sale_session/views/sale_order_views.xml,sha256=hSZmI77VNBRIlTnpaL-QTeAfAUSJJAJD91CCNE3OqoA,2224
 odoo/addons/event_sale_session/wizard/__init__.py,sha256=HdfwgaRT4tuMYMG6N5yMUNEEIlzddTTxjxh7Urus8VI,71
 odoo/addons/event_sale_session/wizard/event_configurator.py,sha256=wu4F2CrZgfFbtdW8-mC2jieD0lVg4JxvUzBOhNF-rs0,674
 odoo/addons/event_sale_session/wizard/event_configurator_views.xml,sha256=AVUqTEyNkIGJVrgvTzzFDDXBmXGYJyB89tQK_fENDVA,907
 odoo/addons/event_sale_session/wizard/event_edit_registration.py,sha256=5uqsw53cpwWpXOo_4P9ZRen8LhkQL9kLZKAqHUac2Zo,1054
 odoo/addons/event_sale_session/wizard/event_edit_registration.xml,sha256=e2xa93zgCQEsduVjnsLsUboCaagopU4Eg_5fJoq52pw,643
-odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/METADATA,sha256=8wAwTxd45LSWBHBBWpdCie87iTiPkD1OB2jHPLac2oM,3493
-odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_event_sale_session-14.0.1.0.2.dev5.dist-info/RECORD,,
+odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/METADATA,sha256=zsi3pIhS3OTP25MHn9OEum1L18v5hX9cpuVAHgqDuC0,3488
+odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_event_sale_session-14.0.1.0.3.dist-info/RECORD,,
```

