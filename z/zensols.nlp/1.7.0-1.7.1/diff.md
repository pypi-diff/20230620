# Comparing `tmp/zensols.nlp-1.7.0-py3-none-any.whl.zip` & `tmp/zensols.nlp-1.7.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,26 +1,26 @@
-Zip file size: 52884 bytes, number of entries: 24
--rw-rw-r--  2.0 unx      131 b- defN 23-Jun-07 19:52 zensols/nlp/__init__.py
--rw-rw-r--  2.0 unx     9404 b- defN 23-Jun-07 19:52 zensols/nlp/combine.py
--rw-rw-r--  2.0 unx     6724 b- defN 23-Jun-07 19:52 zensols/nlp/component.py
--rw-rw-r--  2.0 unx    43376 b- defN 23-Jun-07 19:52 zensols/nlp/container.py
--rw-rw-r--  2.0 unx     1395 b- defN 23-Jun-07 19:52 zensols/nlp/dataframe.py
--rw-rw-r--  2.0 unx     4261 b- defN 23-Jun-07 19:52 zensols/nlp/decorate.py
--rw-rw-r--  2.0 unx     8382 b- defN 23-Jun-07 19:52 zensols/nlp/domain.py
--rw-rw-r--  2.0 unx     6579 b- defN 23-Jun-07 19:52 zensols/nlp/nerscore.py
--rw-rw-r--  2.0 unx    17214 b- defN 23-Jun-07 19:52 zensols/nlp/norm.py
--rw-rw-r--  2.0 unx    27802 b- defN 23-Jun-07 19:52 zensols/nlp/parser.py
--rw-rw-r--  2.0 unx    21290 b- defN 23-Jun-07 19:52 zensols/nlp/score.py
--rw-rw-r--  2.0 unx     5856 b- defN 23-Jun-07 19:52 zensols/nlp/serial.py
--rw-rw-r--  2.0 unx      581 b- defN 23-Jun-07 19:52 zensols/nlp/stemmer.py
--rw-rw-r--  2.0 unx    18295 b- defN 23-Jun-07 19:52 zensols/nlp/tok.py
--rw-r--r--  2.0 unx      398 b- defN 23-Jun-07 19:52 zensols/nlp/resources/component.conf
--rw-r--r--  2.0 unx      659 b- defN 23-Jun-07 19:52 zensols/nlp/resources/decorator.conf
--rw-r--r--  2.0 unx      823 b- defN 23-Jun-07 19:52 zensols/nlp/resources/mapper.conf
--rw-rw-r--  2.0 unx     1328 b- defN 23-Jun-07 19:52 zensols/nlp/resources/obj.conf
--rw-r--r--  2.0 unx     1441 b- defN 23-Jun-07 19:52 zensols/nlp/resources/score.yml
--rw-r--r--  2.0 unx      420 b- defN 23-Jun-07 19:52 zensols/nlp/resources/serial.conf
--rw-rw-r--  2.0 unx     5699 b- defN 23-Jun-07 19:52 zensols.nlp-1.7.0.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Jun-07 19:52 zensols.nlp-1.7.0.dist-info/WHEEL
--rw-rw-r--  2.0 unx       12 b- defN 23-Jun-07 19:52 zensols.nlp-1.7.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1957 b- defN 23-Jun-07 19:52 zensols.nlp-1.7.0.dist-info/RECORD
-24 files, 184119 bytes uncompressed, 49742 bytes compressed:  73.0%
+Zip file size: 53249 bytes, number of entries: 24
+-rw-rw-r--  2.0 unx      131 b- defN 23-Jun-20 10:34 zensols/nlp/__init__.py
+-rw-rw-r--  2.0 unx     9681 b- defN 23-Jun-20 10:34 zensols/nlp/combine.py
+-rw-rw-r--  2.0 unx     6724 b- defN 23-Jun-20 10:34 zensols/nlp/component.py
+-rw-rw-r--  2.0 unx    43376 b- defN 23-Jun-20 10:34 zensols/nlp/container.py
+-rw-rw-r--  2.0 unx     1395 b- defN 23-Jun-20 10:34 zensols/nlp/dataframe.py
+-rw-rw-r--  2.0 unx     4226 b- defN 23-Jun-20 10:34 zensols/nlp/decorate.py
+-rw-rw-r--  2.0 unx     8363 b- defN 23-Jun-20 10:34 zensols/nlp/domain.py
+-rw-rw-r--  2.0 unx     6579 b- defN 23-Jun-20 10:34 zensols/nlp/nerscore.py
+-rw-rw-r--  2.0 unx    17214 b- defN 23-Jun-20 10:34 zensols/nlp/norm.py
+-rw-rw-r--  2.0 unx    27793 b- defN 23-Jun-20 10:34 zensols/nlp/parser.py
+-rw-rw-r--  2.0 unx    21289 b- defN 23-Jun-20 10:34 zensols/nlp/score.py
+-rw-rw-r--  2.0 unx     5856 b- defN 23-Jun-20 10:34 zensols/nlp/serial.py
+-rw-rw-r--  2.0 unx      581 b- defN 23-Jun-20 10:34 zensols/nlp/stemmer.py
+-rw-rw-r--  2.0 unx    18311 b- defN 23-Jun-20 10:34 zensols/nlp/tok.py
+-rw-r--r--  2.0 unx      398 b- defN 23-Jun-20 10:34 zensols/nlp/resources/component.conf
+-rw-r--r--  2.0 unx      897 b- defN 23-Jun-20 10:34 zensols/nlp/resources/decorator.conf
+-rw-r--r--  2.0 unx      823 b- defN 23-Jun-20 10:34 zensols/nlp/resources/mapper.conf
+-rw-rw-r--  2.0 unx     1328 b- defN 23-Jun-20 10:34 zensols/nlp/resources/obj.conf
+-rw-r--r--  2.0 unx     1441 b- defN 23-Jun-20 10:34 zensols/nlp/resources/score.yml
+-rw-r--r--  2.0 unx      420 b- defN 23-Jun-20 10:34 zensols/nlp/resources/serial.conf
+-rw-rw-r--  2.0 unx     6286 b- defN 23-Jun-20 10:34 zensols.nlp-1.7.1.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Jun-20 10:34 zensols.nlp-1.7.1.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       12 b- defN 23-Jun-20 10:34 zensols.nlp-1.7.1.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     1957 b- defN 23-Jun-20 10:34 zensols.nlp-1.7.1.dist-info/RECORD
+24 files, 185173 bytes uncompressed, 50107 bytes compressed:  72.9%
```

## zipnote {}

```diff
@@ -54,20 +54,20 @@
 
 Filename: zensols/nlp/resources/score.yml
 Comment: 
 
 Filename: zensols/nlp/resources/serial.conf
 Comment: 
 
-Filename: zensols.nlp-1.7.0.dist-info/METADATA
+Filename: zensols.nlp-1.7.1.dist-info/METADATA
 Comment: 
 
-Filename: zensols.nlp-1.7.0.dist-info/WHEEL
+Filename: zensols.nlp-1.7.1.dist-info/WHEEL
 Comment: 
 
-Filename: zensols.nlp-1.7.0.dist-info/top_level.txt
+Filename: zensols.nlp-1.7.1.dist-info/top_level.txt
 Comment: 
 
-Filename: zensols.nlp-1.7.0.dist-info/RECORD
+Filename: zensols.nlp-1.7.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## zensols/nlp/combine.py

```diff
@@ -44,14 +44,17 @@
     set.
 
     """
     overwrite_features: List[str] = field(default_factory=list)
     """A list of features to be copied/overwritten in order given in the list.
 
     """
+    overwrite_nones: bool = field(default=False)
+    """Whether to write ``None`` for missing :obj:`overwrite_features`."""
+
     def _validate_features(self, target_tok: FeatureToken,
                            source_tok: FeatureToken,
                            context_container: TokenContainer):
         for f in self.validate_features:
             prim = getattr(target_tok, f)
             rep = getattr(source_tok, f)
             if prim != rep:
@@ -59,14 +62,15 @@
                     f'Mismatch tokens: {target_tok.text}({f}={prim}) ' +
                     f'!= {source_tok.text}({f}={rep}) ' +
                     f'in container: {context_container}')
 
     def _merge_tokens(self, target_tok: FeatureToken,
                       source_tok: FeatureToken,
                       context_container: TokenContainer):
+        overwrite_nones: bool = self.overwrite_nones
         if logger.isEnabledFor(logging.DEBUG):
             logger.debug(f'merging tokens: {source_tok} ({type(source_tok)}) '
                          f'-> {target_tok} ({type(target_tok)})')
         self._validate_features(target_tok, source_tok, context_container)
         for f in self.yield_features:
             targ = target_tok.get_value(f)
             if logger.isEnabledFor(logging.DEBUG):
@@ -76,15 +80,18 @@
                 if logger.isEnabledFor(logging.DEBUG):
                     logger.debug(f'yield feature: {f}, src={src}')
                 if src is not None:
                     if logger.isEnabledFor(logging.DEBUG):
                         logger.debug(f'{src} -> {target_tok.text}.{f}')
                     setattr(target_tok, f, src)
         for f in self.overwrite_features:
-            src = source_tok.get_value(f)
+            if overwrite_nones:
+                src = getattr(source_tok, f)
+            else:
+                src = source_tok.get_value(f)
             if logger.isEnabledFor(logging.DEBUG):
                 logger.debug(f'overwrite feature: {f}, src={src}')
             if src is not None:
                 if logger.isEnabledFor(logging.DEBUG):
                     logger.debug(f'{src} -> {target_tok.text}.{f}')
                 setattr(target_tok, f, src)
```

## zensols/nlp/decorate.py

```diff
@@ -2,15 +2,14 @@
 
 """
 __author__ = 'Paul Landes'
 
 from typing import List, Tuple
 from dataclasses import dataclass, field
 import re
-from spacy.tokens import Span, Doc
 from . import (
     LexicalSpan, FeatureToken, FeatureSentence, FeatureDocument,
     FeatureSentenceDecorator, FeatureDocumentDecorator
 )
 
 
 @dataclass
```

## zensols/nlp/domain.py

```diff
@@ -1,16 +1,13 @@
-from __future__ import annotations
 """Interfaces, contracts and errors.
 
 """
+from __future__ import annotations
 __author__ = 'Paul Landes'
-
-from typing import (
-    Tuple, Union, Optional, ClassVar, Set, Iterable, Sequence, List, Type
-)
+from typing import Tuple, Union, Optional, ClassVar, Set, Iterable, List, Type
 from abc import ABCMeta
 import sys
 from io import TextIOBase
 import textwrap as tw
 from spacy.tokens import Token
 from spacy.tokens import Span
 from spacy.tokens import Doc
```

## zensols/nlp/parser.py

```diff
@@ -1,15 +1,14 @@
-from  __future__ import annotations
 """Parse documents and generate features in an organized taxonomy.
 
 """
+from __future__ import annotations
 __author__ = 'Paul Landes'
-
 from typing import (
-    Tuple, Dict, Any, Sequence, Set, List, Iterable, Type, ClassVar, Union
+    Tuple, Dict, Any, Sequence, Set, List, Iterable, Type, ClassVar
 )
 from dataclasses import dataclass, field
 from abc import abstractmethod, ABCMeta, ABC
 import logging
 import itertools as it
 import sys
 import re
```

## zensols/nlp/score.py

```diff
@@ -1,13 +1,12 @@
-from __future__ import annotations
 """Produces matching scores.
 
 """
+from __future__ import annotations
 __author__ = 'Paul Landes'
-
 from typing import (
     Tuple, Set, Dict, Iterable, List, ClassVar, Union, Optional, Type
 )
 from dataclasses import dataclass, field
 from abc import ABCMeta, ABC, abstractmethod
 import logging
 import sys
```

## zensols/nlp/tok.py

```diff
@@ -27,15 +27,15 @@
     heavy Spacy C data structures and is hard/expensive to pickle.
 
     **Feature note**: features ``i``, ``idx`` and ``i_sent`` are always added
     to features tokens to be able to reconstruct sentences (see
     :meth:`.FeatureDocument.uncombine_sentences`), and alwyas included.
 
     """
-    _DICTABLE_WRITABLE_DESCENDANTS = True
+    _DICTABLE_WRITABLE_DESCENDANTS: ClassVar[bool] = True
     """Use write method."""
 
     REQUIRED_FEATURE_IDS: ClassVar[Set[str]] = frozenset(
         'i idx i_sent norm'.split())
     """Features retained regardless of configuration for basic functionality.
 
     """
```

## zensols/nlp/resources/decorator.conf

```diff
@@ -1,23 +1,28 @@
 # description: parsing decorators
 
 
+# a decorator that splits feature tokens by white space
 [split_token_sentence_decorator]
 class_name = zensols.nlp.decorate.SplitTokenSentenceDecorator
 
+# a decorator that strips whitespace from sentences
 [strip_sentence_decorator]
 class_name = zensols.nlp.decorate.StripSentenceDecorator
 
+# a decorator that strips tokens from sentences
 [filter_token_sentence_decorator]
 class_name = zensols.nlp.decorate.FilterTokenSentenceDecorator
 # remove_stop = False
 # remove_space = False
 # remove_pronouns = False
 # remove_punctuation = False
 # remove_determiners = False
 # remove_empty = False
 
+# removes zero length sentences
 [filter_empty_sentence_decorator]
 class_name = zensols.nlp.decorate.FilterEmptySentenceDocumentDecorator
 
+# updates document indexes and spans on documents
 [update_document_decorator]
 class_name = zensols.nlp.decorate.UpdateDocumentDecorator
```

## Comparing `zensols.nlp-1.7.0.dist-info/METADATA` & `zensols.nlp-1.7.1.dist-info/METADATA`

 * *Files 7% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 Metadata-Version: 2.1
 Name: zensols.nlp
-Version: 1.7.0
+Version: 1.7.1
 Summary: A utility library to assist in parsing natural language text.
 Home-page: https://github.com/plandes/nlparse
-Download-URL: https://github.com/plandes/nlparse/releases/download/v1.7.0/zensols.nlp-1.7.0-py3-none-any.whl
+Download-URL: https://github.com/plandes/nlparse/releases/download/v1.7.1/zensols.nlp-1.7.1-py3-none-any.whl
 Author: Paul Landes
 Author-email: landes@mailc.net
 Keywords: tooling
 Description-Content-Type: text/markdown
 Requires-Dist: spacy (~=3.2.0)
 Requires-Dist: msgpack (>=1.0.0)
 Requires-Dist: msgpack-numpy (>=0.4.7.1)
@@ -34,15 +34,20 @@
 Other features include:
 * [Parse and normalize] a stream of tokens as stop words, punctuation
   filters, up/down casing, porter stemming and [others].
 * [Detached features] that are safe and easy to pickle to disk.
 * Configuration drive parsing and token normalization using [configuration
   factories].
 * Pretty print functionality for easy natural language feature selection.
-
+* A comprehensive [scoring module] including following scoring methods:
+  * [Rouge]
+  * [Bleu]
+  * [SemEval-2013 Task 9.1]
+  * [Levenshtein distance]
+  * Exact match
 
 ## Documentation
 
 * [Framework documentation]
 * [Natural Language Parsing]
 * [List Token Normalizers and Mappers]
 
@@ -160,7 +165,12 @@
 [nltk]: https://www.nltk.org
 [smart-open]: https://pypi.org/project/smart-open/
 [msgpack]: https://msgpack.org
 [porter stemmer]: https://tartarus.org/martin/PorterStemmer/
 
 [configuration factories]: https://plandes.github.io/util/doc/config.html#configuration-factory
 [feature documents]: https://plandes.github.io/nlparse/doc/feature-doc.html
+[scoring module]: https://plandes.github.io/nlparse/api/zensols.nlp.html#zensols-nlp-score
+[Rouge]: https://aclanthology.org/W04-1013
+[Bleu]: https://aclanthology.org/P02-1040
+[SemEval-2013 Task 9.1]: https://web.archive.org/web/20150131105418/https://www.cs.york.ac.uk/semeval-2013/task9/data/uploads/semeval_2013-task-9_1-evaluation-metrics.pdf
+[Levenshtein distance]: https://en.wikipedia.org/wiki/Levenshtein_distance
```

## Comparing `zensols.nlp-1.7.0.dist-info/RECORD` & `zensols.nlp-1.7.1.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -1,24 +1,24 @@
 zensols/nlp/__init__.py,sha256=xtpP6eSU8a_-c-NEYKnLlEN_BTf2EVb2fe139RSfDzA,131
-zensols/nlp/combine.py,sha256=cOYzSsbMr7wUMrJxkhKsS9JVAhrqkYvMfemWJCsDewU,9404
+zensols/nlp/combine.py,sha256=YT-Ga73qGidFyRwf5vWmnoLo-_QriAASdtxcuWq8jc8,9681
 zensols/nlp/component.py,sha256=rRj_NCIbMmbmZvaQSPo04jPDBHOeJYqNtbjS5-2OwGw,6724
 zensols/nlp/container.py,sha256=XPWydC89SX5MSqI-JuzDcXM9DYwrCCj5FZTCF9_GJDU,43376
 zensols/nlp/dataframe.py,sha256=Lue37IquvfVX6_hG_5L2pr-P8KrR0YaUNWQDhjyGg20,1395
-zensols/nlp/decorate.py,sha256=ms6NhFjDXkzz44nuwCEJvl9_K2EBKmB6IjVii7kIp7M,4261
-zensols/nlp/domain.py,sha256=0-rxsEOfqlxdMbLJWdFXHPMjRieu5_YIRfby7viJ8WE,8382
+zensols/nlp/decorate.py,sha256=qUoqbVuaphcIDbMvc07jJFJtZx0wREQ2VTh3h4E08_M,4226
+zensols/nlp/domain.py,sha256=pwzkNbiJT8_beXXj2FYvTLAdbiwRZgxMuodfBM6hfQQ,8363
 zensols/nlp/nerscore.py,sha256=dzm9leret_KCyMAfU2Dj_gbfkpB6b6SlYdajCwvJ31w,6579
 zensols/nlp/norm.py,sha256=GTgZQzmBNNn_ZaxgulGAdhLCcqwzaPDnKgFJnd8jCZk,17214
-zensols/nlp/parser.py,sha256=gvY6wsHnHav_RTrcTnwdR5rEplXQBqPHPDpnhz8GMUo,27802
-zensols/nlp/score.py,sha256=YS4yA4tpPZUYj3_Gb5-vSxExqjwBmYK3xjw4G5zd6q8,21290
+zensols/nlp/parser.py,sha256=L0SJmKDFQzR5LvCNhe5yH_qbtxcscTAhEQunX1pb3u0,27793
+zensols/nlp/score.py,sha256=lx1owBX6Ycq3h4FeENkxfVWLVsShj_RvpujbVsrVDLs,21289
 zensols/nlp/serial.py,sha256=hNmEJXybFw2ICnexBWJ5TWit7tRjBJMLUpWFVSmvvkc,5856
 zensols/nlp/stemmer.py,sha256=ZHIbU5UfzpYI8cMj096EqY_DRSof-EfjWWMN7_bCMMk,581
-zensols/nlp/tok.py,sha256=RHS0LM-3UIp4Ec8wTF8Jp8DSLhzyhUON3bp87xIfTk8,18295
+zensols/nlp/tok.py,sha256=h_8Q15OKdExK04U7ghB-SLj0Hlvc8XCyQYX-SvJy-l8,18311
 zensols/nlp/resources/component.conf,sha256=SU5Yx_pW8olTvOMmVBrWbUCQ1on5D8LvpBJFo48NPsA,398
-zensols/nlp/resources/decorator.conf,sha256=4vyu4BXvplCL8wzxL3dgHgUi7ErBkhUewxQTsBSxvoI,659
+zensols/nlp/resources/decorator.conf,sha256=Ug_w7RB6ZrHkBVG8ji47BmJHoOL7naqjYMncN9U1lpA,897
 zensols/nlp/resources/mapper.conf,sha256=OQtpye4uA8t_woIdUUsWfpM5cZ_2c-ZlYFmaCt9vMtM,823
 zensols/nlp/resources/obj.conf,sha256=vF93wu6kN5uIn7gw5uPZEPX0S6ncW1zbY3HkKygsc-M,1328
 zensols/nlp/resources/score.yml,sha256=wmr2OUrnYZL_T3K9MgyMJho3rHiYXeS3pQuF6t_kOo4,1441
 zensols/nlp/resources/serial.conf,sha256=PfvMIiWvk0dr08YQmCodlcxGdMgaX6AMFzrXIr0mgCw,420
-zensols.nlp-1.7.0.dist-info/METADATA,sha256=FiBk_8fw8XP8ZLRsabKoKfX8zRLjLQZgFr9ANHTB1KA,5699
-zensols.nlp-1.7.0.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-zensols.nlp-1.7.0.dist-info/top_level.txt,sha256=NgD-P1jf-0xvfkWIxho1IVPkpl2JLBaIjIssgP_pkw8,12
-zensols.nlp-1.7.0.dist-info/RECORD,,
+zensols.nlp-1.7.1.dist-info/METADATA,sha256=YkaNBLWIRt9_NBLCTq9BZE6vdZFfdzx0j7hSUQBVHWw,6286
+zensols.nlp-1.7.1.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+zensols.nlp-1.7.1.dist-info/top_level.txt,sha256=NgD-P1jf-0xvfkWIxho1IVPkpl2JLBaIjIssgP_pkw8,12
+zensols.nlp-1.7.1.dist-info/RECORD,,
```

