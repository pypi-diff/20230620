# Comparing `tmp/immoney-0.1.0.tar.gz` & `tmp/immoney-0.2.0.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "immoney-0.1.0.tar", last modified: Thu Sep 15 14:12:29 2022, max compression
+gzip compressed data, was "immoney-0.2.0.tar", last modified: Tue Jun 20 18:43:19 2023, max compression
```

## Comparing `immoney-0.1.0.tar` & `immoney-0.2.0.tar`

### file list

```diff
@@ -1,25 +1,26 @@
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-09-15 14:12:29.877821 immoney-0.1.0/
--rw-r--r--   0 runner    (1001) docker     (121)     1521 2022-09-15 14:12:16.000000 immoney-0.1.0/LICENSE
--rw-r--r--   0 runner    (1001) docker     (121)      252 2022-09-15 14:12:16.000000 immoney-0.1.0/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (121)     5802 2022-09-15 14:12:29.877821 immoney-0.1.0/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (121)     5037 2022-09-15 14:12:16.000000 immoney-0.1.0/README.md
--rw-r--r--   0 runner    (1001) docker     (121)      225 2022-09-15 14:12:16.000000 immoney-0.1.0/pyproject.toml
--rw-r--r--   0 runner    (1001) docker     (121)     2166 2022-09-15 14:12:29.877821 immoney-0.1.0/setup.cfg
--rw-r--r--   0 runner    (1001) docker     (121)       38 2022-09-15 14:12:16.000000 immoney-0.1.0/setup.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-09-15 14:12:29.873821 immoney-0.1.0/src/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-09-15 14:12:29.877821 immoney-0.1.0/src/immoney/
--rw-r--r--   0 runner    (1001) docker     (121)      238 2022-09-15 14:12:16.000000 immoney-0.1.0/src/immoney/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    15086 2022-09-15 14:12:16.000000 immoney-0.1.0/src/immoney/_base.py
--rw-r--r--   0 runner    (1001) docker     (121)      718 2022-09-15 14:12:16.000000 immoney-0.1.0/src/immoney/_cache.py
--rw-r--r--   0 runner    (1001) docker     (121)      600 2022-09-15 14:12:16.000000 immoney-0.1.0/src/immoney/_frozen.py
--rw-r--r--   0 runner    (1001) docker     (121)    35656 2022-09-15 14:12:16.000000 immoney-0.1.0/src/immoney/currencies.py
--rw-r--r--   0 runner    (1001) docker     (121)      288 2022-09-15 14:12:16.000000 immoney-0.1.0/src/immoney/errors.py
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-09-15 14:12:16.000000 immoney-0.1.0/src/immoney/py.typed
--rw-r--r--   0 runner    (1001) docker     (121)      518 2022-09-15 14:12:16.000000 immoney-0.1.0/src/immoney/registry.py
--rw-r--r--   0 runner    (1001) docker     (121)      837 2022-09-15 14:12:16.000000 immoney-0.1.0/src/immoney/types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-09-15 14:12:29.877821 immoney-0.1.0/src/immoney.egg-info/
--rw-r--r--   0 runner    (1001) docker     (121)     5802 2022-09-15 14:12:29.000000 immoney-0.1.0/src/immoney.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (121)      441 2022-09-15 14:12:29.000000 immoney-0.1.0/src/immoney.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (121)        1 2022-09-15 14:12:29.000000 immoney-0.1.0/src/immoney.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (121)      117 2022-09-15 14:12:29.000000 immoney-0.1.0/src/immoney.egg-info/requires.txt
--rw-r--r--   0 runner    (1001) docker     (121)        8 2022-09-15 14:12:29.000000 immoney-0.1.0/src/immoney.egg-info/top_level.txt
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-20 18:43:19.224604 immoney-0.2.0/
+-rw-r--r--   0 runner    (1001) docker     (123)     1521 2023-06-20 18:43:02.000000 immoney-0.2.0/LICENSE
+-rw-r--r--   0 runner    (1001) docker     (123)      252 2023-06-20 18:43:02.000000 immoney-0.2.0/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (123)     7333 2023-06-20 18:43:19.224604 immoney-0.2.0/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)     6543 2023-06-20 18:43:02.000000 immoney-0.2.0/README.md
+-rw-r--r--   0 runner    (1001) docker     (123)      225 2023-06-20 18:43:02.000000 immoney-0.2.0/pyproject.toml
+-rw-r--r--   0 runner    (1001) docker     (123)     2218 2023-06-20 18:43:19.228604 immoney-0.2.0/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (123)       38 2023-06-20 18:43:02.000000 immoney-0.2.0/setup.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-20 18:43:19.220605 immoney-0.2.0/src/
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-20 18:43:19.224604 immoney-0.2.0/src/immoney/
+-rw-r--r--   0 runner    (1001) docker     (123)      238 2023-06-20 18:43:02.000000 immoney-0.2.0/src/immoney/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17707 2023-06-20 18:43:02.000000 immoney-0.2.0/src/immoney/_base.py
+-rw-r--r--   0 runner    (1001) docker     (123)      692 2023-06-20 18:43:02.000000 immoney-0.2.0/src/immoney/_cache.py
+-rw-r--r--   0 runner    (1001) docker     (123)      600 2023-06-20 18:43:02.000000 immoney-0.2.0/src/immoney/_frozen.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12841 2023-06-20 18:43:02.000000 immoney-0.2.0/src/immoney/_pydantic.py
+-rw-r--r--   0 runner    (1001) docker     (123)    35908 2023-06-20 18:43:02.000000 immoney-0.2.0/src/immoney/currencies.py
+-rw-r--r--   0 runner    (1001) docker     (123)      288 2023-06-20 18:43:02.000000 immoney-0.2.0/src/immoney/errors.py
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-20 18:43:02.000000 immoney-0.2.0/src/immoney/py.typed
+-rw-r--r--   0 runner    (1001) docker     (123)      599 2023-06-20 18:43:02.000000 immoney-0.2.0/src/immoney/registry.py
+-rw-r--r--   0 runner    (1001) docker     (123)      837 2023-06-20 18:43:02.000000 immoney-0.2.0/src/immoney/types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-20 18:43:19.224604 immoney-0.2.0/src/immoney.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (123)     7333 2023-06-20 18:43:19.000000 immoney-0.2.0/src/immoney.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)      466 2023-06-20 18:43:19.000000 immoney-0.2.0/src/immoney.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        1 2023-06-20 18:43:19.000000 immoney-0.2.0/src/immoney.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (123)      144 2023-06-20 18:43:19.000000 immoney-0.2.0/src/immoney.egg-info/requires.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        8 2023-06-20 18:43:19.000000 immoney-0.2.0/src/immoney.egg-info/top_level.txt
```

### Comparing `immoney-0.1.0/LICENSE` & `immoney-0.2.0/LICENSE`

 * *Files identical despite different names*

### Comparing `immoney-0.1.0/PKG-INFO` & `immoney-0.2.0/PKG-INFO`

 * *Files 15% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 00000000: 4d65 7461 6461 7461 2d56 6572 7369 6f6e  Metadata-Version
 00000010: 3a20 322e 310a 4e61 6d65 3a20 696d 6d6f  : 2.1.Name: immo
-00000020: 6e65 790a 5665 7273 696f 6e3a 2030 2e31  ney.Version: 0.1
+00000020: 6e65 790a 5665 7273 696f 6e3a 2030 2e32  ney.Version: 0.2
 00000030: 2e30 0a53 756d 6d61 7279 3a20 496d 6d75  .0.Summary: Immu
 00000040: 7461 626c 6520 6d6f 6e65 7920 7479 7065  table money type
 00000050: 7320 666f 7220 5079 7468 6f6e 0a48 6f6d  s for Python.Hom
 00000060: 652d 7061 6765 3a20 6874 7470 733a 2f2f  e-page: https://
 00000070: 6769 7468 7562 2e63 6f6d 2f61 6e74 6f6e  github.com/anton
 00000080: 6167 6573 7461 6d2f 696d 6d6f 6e65 792f  agestam/immoney/
 00000090: 0a41 7574 686f 723a 2041 6e74 6f6e 2041  .Author: Anton A
@@ -40,324 +40,420 @@
 00000270: 3a20 5479 7069 6e67 203a 3a20 5479 7065  : Typing :: Type
 00000280: 640a 5265 7175 6972 6573 2d50 7974 686f  d.Requires-Pytho
 00000290: 6e3a 203e 3d33 2e31 300a 4465 7363 7269  n: >=3.10.Descri
 000002a0: 7074 696f 6e2d 436f 6e74 656e 742d 5479  ption-Content-Ty
 000002b0: 7065 3a20 7465 7874 2f6d 6172 6b64 6f77  pe: text/markdow
 000002c0: 6e3b 2063 6861 7273 6574 3d55 5446 2d38  n; charset=UTF-8
 000002d0: 0a50 726f 7669 6465 732d 4578 7472 613a  .Provides-Extra:
-000002e0: 2074 6573 740a 4c69 6365 6e73 652d 4669   test.License-Fi
-000002f0: 6c65 3a20 4c49 4345 4e53 450a 0a3c 6831  le: LICENSE..<h1
-00000300: 2061 6c69 676e 3d63 656e 7465 723e 696d   align=center>im
-00000310: 6d6f 6e65 793c 2f68 313e 0a0a 3c70 2061  money</h1>..<p a
-00000320: 6c69 676e 3d63 656e 7465 723e 0a20 2020  lign=center>.   
-00000330: 203c 6120 6872 6566 3d68 7474 7073 3a2f   <a href=https:/
-00000340: 2f67 6974 6875 622e 636f 6d2f 616e 746f  /github.com/anto
-00000350: 6e61 6765 7374 616d 2f69 6d6d 6f6e 6579  nagestam/immoney
-00000360: 2f61 6374 696f 6e73 3f71 7565 7279 3d77  /actions?query=w
-00000370: 6f72 6b66 6c6f 7725 3341 4349 2b62 7261  orkflow%3ACI+bra
-00000380: 6e63 6825 3341 6d61 696e 3e3c 696d 6720  nch%3Amain><img 
-00000390: 7372 633d 6874 7470 733a 2f2f 6769 7468  src=https://gith
-000003a0: 7562 2e63 6f6d 2f61 6e74 6f6e 6167 6573  ub.com/antonages
-000003b0: 7461 6d2f 696d 6d6f 6e65 792f 776f 726b  tam/immoney/work
-000003c0: 666c 6f77 732f 4349 2f62 6164 6765 2e73  flows/CI/badge.s
-000003d0: 7667 2061 6c74 3d22 4349 2042 7569 6c64  vg alt="CI Build
-000003e0: 2053 7461 7475 7322 3e3c 2f61 3e0a 2020   Status"></a>.  
-000003f0: 2020 3c61 2068 7265 663d 6874 7470 733a    <a href=https:
-00000400: 2f2f 636f 6465 636f 762e 696f 2f67 682f  //codecov.io/gh/
-00000410: 616e 746f 6e61 6765 7374 616d 2f69 6d6d  antonagestam/imm
-00000420: 6f6e 6579 3e3c 696d 6720 7372 633d 6874  oney><img src=ht
-00000430: 7470 733a 2f2f 636f 6465 636f 762e 696f  tps://codecov.io
-00000440: 2f67 682f 616e 746f 6e61 6765 7374 616d  /gh/antonagestam
-00000450: 2f69 6d6d 6f6e 6579 2f62 7261 6e63 682f  /immoney/branch/
-00000460: 6d61 696e 2f67 7261 7068 2f62 6164 6765  main/graph/badge
-00000470: 2e73 7667 3f74 6f6b 656e 3d55 4549 3838  .svg?token=UEI88
-00000480: 4e30 4550 4720 616c 743d 2254 6573 7420  N0EPG alt="Test 
-00000490: 636f 7665 7261 6765 2072 6570 6f72 7422  coverage report"
-000004a0: 3e3c 2f61 3e0a 2020 2020 3c62 723e 0a20  ></a>.    <br>. 
-000004b0: 2020 203c 6120 6872 6566 3d68 7474 7073     <a href=https
-000004c0: 3a2f 2f70 7970 692e 6f72 672f 7072 6f6a  ://pypi.org/proj
-000004d0: 6563 742f 696d 6d6f 6e65 792f 3e3c 696d  ect/immoney/><im
-000004e0: 6720 7372 633d 6874 7470 733a 2f2f 696d  g src=https://im
-000004f0: 672e 7368 6965 6c64 732e 696f 2f70 7970  g.shields.io/pyp
-00000500: 692f 762f 696d 6d6f 6e65 792e 7376 673f  i/v/immoney.svg?
-00000510: 636f 6c6f 723d 696e 666f 726d 6174 696f  color=informatio
-00000520: 6e61 6c26 6c61 6265 6c3d 5079 5049 2061  nal&label=PyPI a
-00000530: 6c74 3d22 5079 5049 2050 6163 6b61 6765  lt="PyPI Package
-00000540: 223e 3c2f 613e 0a20 2020 203c 6120 6872  "></a>.    <a hr
-00000550: 6566 3d68 7474 7073 3a2f 2f70 7970 692e  ef=https://pypi.
-00000560: 6f72 672f 7072 6f6a 6563 742f 696d 6d6f  org/project/immo
-00000570: 6e65 792f 3e3c 696d 6720 7372 633d 6874  ney/><img src=ht
-00000580: 7470 733a 2f2f 696d 672e 7368 6965 6c64  tps://img.shield
-00000590: 732e 696f 2f70 7970 692f 7079 7665 7273  s.io/pypi/pyvers
-000005a0: 696f 6e73 2f69 6d6d 6f6e 6579 2e73 7667  ions/immoney.svg
-000005b0: 3f63 6f6c 6f72 3d69 6e66 6f72 6d61 7469  ?color=informati
-000005c0: 6f6e 616c 266c 6162 656c 3d50 7974 686f  onal&label=Pytho
-000005d0: 6e20 616c 743d 2250 7974 686f 6e20 7665  n alt="Python ve
-000005e0: 7273 696f 6e73 223e 3c2f 613e 0a3c 2f70  rsions"></a>.</p
-000005f0: 3e0a 0a23 2323 2044 6573 6967 6e20 676f  >..### Design go
-00000600: 616c 730a 0a54 6865 7265 2061 7265 2061  als..There are a
-00000610: 2066 6577 2063 6f72 6520 6465 7369 676e   few core design
-00000620: 2061 7370 6563 7473 206f 6620 7468 6973   aspects of this
-00000630: 206c 6962 7261 7279 2074 6861 7420 6561   library that ea
-00000640: 6368 2065 6c69 6d69 6e61 7465 2065 6e74  ch eliminate ent
-00000650: 6972 6520 636c 6173 7365 730a 6f66 2062  ire classes.of b
-00000660: 7567 733a 0a0a 2d20 4578 706f 7365 6420  ugs:..- Exposed 
-00000670: 616e 6420 696e 7465 726e 616c 2064 6174  and internal dat
-00000680: 6120 7479 7065 7320 6172 6520 6569 7468  a types are eith
-00000690: 6572 2069 6d6d 7574 6162 6c65 206f 7220  er immutable or 
-000006a0: 6661 7578 2069 6d6d 7574 6162 6c65 2e0a  faux immutable..
-000006b0: 2d20 496e 7661 6c69 6420 616d 6f75 6e74  - Invalid amount
-000006c0: 7320 6f66 206d 6f6e 6579 2063 616e 6e6f  s of money canno
-000006d0: 7420 6265 2072 6570 7265 7365 6e74 6564  t be represented
-000006e0: 2e20 5468 6572 6520 6973 206e 6f20 7375  . There is no su
-000006f0: 6368 2074 6869 6e67 2061 7320 6030 2e30  ch thing as `0.0
-00000700: 3031 6020 5553 0a20 2064 6f6c 6c61 7273  01` US.  dollars
-00000710: 2c20 616e 6420 7468 6572 6520 6973 206e  , and there is n
-00000720: 6f20 7375 6368 2074 6869 6e67 2061 7320  o such thing as 
-00000730: 6e65 6761 7469 7665 206d 6f6e 6579 2e0a  negative money..
-00000740: 2d20 4275 696c 7469 6e20 6f70 6572 6174  - Builtin operat
-00000750: 696f 6e73 206e 6576 6572 2069 6d70 6c69  ions never impli
-00000760: 6369 746c 7920 6c6f 7365 2070 7265 6369  citly lose preci
-00000770: 7369 6f6e 2e0a 2d20 4275 696c 7420 6672  sion..- Built fr
-00000780: 6f6d 2074 6865 2067 726f 756e 642d 7570  om the ground-up
-00000790: 2077 6974 6820 7375 7070 6f72 7420 666f   with support fo
-000007a0: 7220 7374 6174 6963 2074 7970 6520 6368  r static type ch
-000007b0: 6563 6b69 6e67 2069 6e20 6d69 6e64 2e20  ecking in mind. 
-000007c0: 5468 6973 206d 6561 6e73 0a20 2074 6861  This means.  tha
-000007d0: 7420 6275 6773 2074 6861 7420 6174 7465  t bugs that atte
-000007e0: 6d70 7420 746f 206d 6978 2063 7572 7265  mpt to mix curre
-000007f0: 6e63 6965 7320 6361 6e20 6265 2066 6f75  ncies can be fou
-00000800: 6e64 2062 7920 6120 7374 6174 6963 2074  nd by a static t
-00000810: 7970 6520 6368 6563 6b65 722e 0a0a 2323  ype checker...##
-00000820: 2320 4665 6174 7572 6573 0a0a 2323 2323  # Features..####
-00000830: 2053 6166 6520 6469 7669 7369 6f6e 0a0a   Safe division..
-00000840: 496e 2072 6561 6c20 6c69 6665 2077 6520  In real life we 
-00000850: 6361 6e6e 6f74 2073 706c 6974 2074 6865  cannot split the
-00000860: 2073 7562 756e 6974 206f 6620 6120 6375   subunit of a cu
-00000870: 7272 656e 6379 2c20 616e 6420 736f 2066  rrency, and so f
-00000880: 6f72 206f 7572 2061 6273 7472 6163 7469  or our abstracti
-00000890: 6f6e 7320 746f 0a73 6166 656c 7920 7265  ons to.safely re
-000008a0: 666c 6563 7420 7265 616c 6974 792c 2077  flect reality, w
-000008b0: 6520 7368 6f75 6c64 6e27 7420 6265 2061  e shouldn't be a
-000008c0: 626c 6520 746f 2064 6f20 7468 6174 2069  ble to do that i
-000008d0: 6e20 636f 6465 2065 6974 6865 722e 2054  n code either. T
-000008e0: 6865 7265 666f 7265 0a69 6e73 7465 6164  herefore.instead
-000008f0: 206f 6620 6465 6669 6e69 6e67 2064 6976   of defining div
-00000900: 6973 696f 6e20 746f 2072 6574 7572 6e20  ision to return 
-00000910: 6120 7661 6c75 6520 7769 7468 2070 7265  a value with pre
-00000920: 6369 7369 6f6e 206c 6f73 732c 2074 6865  cision loss, the
-00000930: 2069 6d70 6c65 6d65 6e74 6174 696f 6e0a   implementation.
-00000940: 6f66 2064 6976 6973 696f 6e20 666f 7220  of division for 
-00000950: 604d 6f6e 6579 6020 7265 7475 726e 7320  `Money` returns 
-00000960: 6120 7475 706c 6520 6f66 206e 6577 2069  a tuple of new i
-00000970: 6e73 7461 6e63 6573 2077 6974 6820 7468  nstances with th
-00000980: 6520 7661 6c75 6520 7370 6c69 7420 7570  e value split up
-00000990: 2061 7320 6576 656e 0a61 7320 706f 7373   as even.as poss
-000009a0: 6962 6c65 2e0a 0a60 6060 7079 636f 6e0a  ible...```pycon.
-000009b0: 3e3e 3e20 4d6f 6e65 7928 2230 2e31 3122  >>> Money("0.11"
-000009c0: 2c20 5345 4b29 202f 2033 0a28 4d6f 6e65  , SEK) / 3.(Mone
-000009d0: 7928 2730 2e30 3427 2c20 5345 4b29 2c20  y('0.04', SEK), 
-000009e0: 4d6f 6e65 7928 2730 2e30 3427 2c20 5345  Money('0.04', SE
-000009f0: 4b29 2c20 4d6f 6e65 7928 2730 2e30 3327  K), Money('0.03'
-00000a00: 2c20 5345 4b29 290a 6060 600a 0a54 6869  , SEK)).```..Thi
-00000a10: 7320 6d65 7468 6f64 206f 6620 6469 7669  s method of divi
-00000a20: 7369 6f6e 2077 696c 6c20 616c 7761 7973  sion will always
-00000a30: 2062 6520 7361 6665 2c20 6173 2069 7420   be safe, as it 
-00000a40: 6861 7320 7468 6520 6775 6172 616e 7465  has the guarante
-00000a50: 6564 2070 726f 7065 7274 7920 7468 6174  ed property that
-00000a60: 2074 6865 0a73 756d 206f 6620 7468 6520   the.sum of the 
-00000a70: 696e 7374 616e 6365 7320 7265 7475 726e  instances return
-00000a80: 6564 2062 7920 7468 6520 6f70 6572 6174  ed by the operat
-00000a90: 696f 6e20 616c 7761 7973 2065 7175 616c  ion always equal
-00000aa0: 2074 6865 206f 7269 6769 6e61 6c20 6e75   the original nu
-00000ab0: 6d65 7261 746f 722e 0a0a 2323 2323 2053  merator...#### S
-00000ac0: 7562 756e 6974 2066 7261 6374 696f 6e73  ubunit fractions
-00000ad0: 0a0a 536f 6d65 7469 6d65 7320 7765 2064  ..Sometimes we d
-00000ae0: 6f20 6e65 6564 2074 6f20 7265 7072 6573  o need to repres
-00000af0: 656e 7420 6672 6163 7469 6f6e 7320 6f66  ent fractions of
-00000b00: 206d 6f6e 6574 6172 7920 7661 6c75 6573   monetary values
-00000b10: 2074 6861 7420 6172 6520 736d 616c 6c65   that are smalle
-00000b20: 7220 7468 616e 2074 6865 0a73 7562 756e  r than the.subun
-00000b30: 6974 206f 6620 6120 6375 7272 656e 6379  it of a currency
-00000b40: 2c20 666f 7220 696e 7374 616e 6365 2061  , for instance a
-00000b50: 7320 6120 7061 7274 6961 6c20 7265 7375  s a partial resu
-00000b60: 6c74 206f 6620 6120 6c61 7267 6572 2065  lt of a larger e
-00000b70: 7175 6174 696f 6e2e 2046 6f72 2074 6861  quation. For tha
-00000b80: 740a 7075 7270 6f73 652c 2074 6869 7320  t.purpose, this 
-00000b90: 6c69 6272 6172 7920 6578 706f 7365 7320  library exposes 
-00000ba0: 6120 6053 7562 756e 6974 4672 6163 7469  a `SubunitFracti
-00000bb0: 6f6e 6020 7479 7065 2e20 5468 6973 2074  on` type. This t
-00000bc0: 7970 6520 6973 2075 7365 6420 6173 2072  ype is used as r
-00000bd0: 6574 7572 6e20 7479 7065 0a66 6f72 2060  eturn type.for `
-00000be0: 4d6f 6e65 792e 5f5f 666c 6f6f 7264 6976  Money.__floordiv
-00000bf0: 5f5f 602e 0a0a 6060 6070 7963 6f6e 0a3e  __`...```pycon.>
-00000c00: 3e3e 2053 454b 2831 3329 202f 2f20 330a  >> SEK(13) // 3.
-00000c10: 5375 6275 6e69 7446 7261 6374 696f 6e28  SubunitFraction(
-00000c20: 2731 3330 302f 3327 2c20 5345 4b29 0a60  '1300/3', SEK).`
-00000c30: 6060 0a0a 4265 6361 7573 6520 7468 6572  ``..Because ther
-00000c40: 6520 6973 206e 6f20 6775 6172 616e 7465  e is no guarante
-00000c50: 6520 7468 6174 2061 2060 5375 6275 6e69  e that a `Subuni
-00000c60: 7446 7261 6374 696f 6e60 2069 7320 6120  tFraction` is a 
-00000c70: 7768 6f6c 6520 7375 6275 6e69 7420 2862  whole subunit (b
-00000c80: 7920 6465 6669 6e69 7469 6f6e 0a2e 2e2e  y definition....
-00000c90: 292c 2063 6f6e 7665 7274 696e 6720 6261  ), converting ba
-00000ca0: 636b 2074 6f20 604d 6f6e 6579 6020 6361  ck to `Money` ca
-00000cb0: 6e20 6f6e 6c79 2062 6520 646f 6e65 2077  n only be done w
-00000cc0: 6974 6820 7072 6563 6973 696f 6e20 6c6f  ith precision lo
-00000cd0: 7373 2e0a 0a60 6060 7079 636f 6e0a 3e3e  ss...```pycon.>>
-00000ce0: 3e20 2853 454b 2831 3329 202f 2f20 3329  > (SEK(13) // 3)
-00000cf0: 2e72 6f75 6e64 5f6d 6f6e 6579 2852 6f75  .round_money(Rou
-00000d00: 6e64 2e44 4f57 4e29 0a4d 6f6e 6579 2827  nd.DOWN).Money('
-00000d10: 342e 3333 272c 2053 454b 290a 6060 600a  4.33', SEK).```.
-00000d20: 0a23 2323 2320 4f76 6572 6472 6166 740a  .#### Overdraft.
-00000d30: 0a41 6761 696e 2072 6566 6572 7269 6e67  .Again referring
-00000d40: 2074 6f20 7265 616c 206c 6966 652c 2074   to real life, t
-00000d50: 6865 7265 2069 7320 6e6f 2073 7563 6820  here is no such 
-00000d60: 7468 696e 6720 6173 206e 6567 6174 6976  thing as negativ
-00000d70: 6520 6d6f 6e65 792e 2046 6f6c 6c6f 7769  e money. Followi
-00000d80: 6e67 2069 6e20 7468 650a 7361 6d65 2076  ng in the.same v
-00000d90: 6569 6e20 6173 2066 6f72 206e 6f74 2061  ein as for not a
-00000da0: 6c6c 6f77 696e 6720 7375 6275 6e69 7473  llowing subunits
-00000db0: 2074 6f20 6265 2073 706c 6974 2c20 7468   to be split, th
-00000dc0: 6520 7661 6c75 6520 6f66 2061 2060 4d6f  e value of a `Mo
-00000dd0: 6e65 7960 2069 6e73 7461 6e63 650a 6361  ney` instance.ca
-00000de0: 6e6e 6f74 2062 6520 6e65 6761 7469 7665  nnot be negative
-00000df0: 2e20 496e 7374 6561 642c 2074 6f20 7265  . Instead, to re
-00000e00: 7072 6573 656e 7420 666f 7220 696e 7374  present for inst
-00000e10: 616e 6365 2061 206e 6567 6174 6976 6520  ance a negative 
-00000e20: 6261 6c61 6e63 6520 6f6e 2061 6e20 6163  balance on an ac
-00000e30: 636f 756e 742c 0a74 6869 7320 6c69 6272  count,.this libr
-00000e40: 6172 7920 6578 706f 7365 7320 616e 2060  ary exposes an `
-00000e50: 4f76 6572 6472 6166 7460 2063 6c61 7373  Overdraft` class
-00000e60: 2074 6861 7420 6973 2075 7365 6420 6173   that is used as
-00000e70: 2072 6574 7572 6e20 7479 7065 206f 6620   return type of 
-00000e80: 604d 6f6e 6579 2e5f 5f73 7562 5f5f 600a  `Money.__sub__`.
-00000e90: 7768 656e 2074 6865 2063 6f6d 7075 7465  when the compute
-00000ea0: 6420 7661 6c75 6520 776f 756c 6420 6861  d value would ha
-00000eb0: 7665 2062 6565 6e20 6e65 6761 7469 7665  ve been negative
-00000ec0: 2e0a 0a60 6060 7079 636f 6e0a 3e3e 3e20  ...```pycon.>>> 
-00000ed0: 6261 6c61 6e63 6520 3d20 5345 4b28 3529  balance = SEK(5)
-00000ee0: 0a3e 3e3e 2062 616c 616e 6365 202d 2053  .>>> balance - S
-00000ef0: 454b 2834 290a 4d6f 6e65 7928 2731 2e30  EK(4).Money('1.0
-00000f00: 3027 2c20 5345 4b29 0a3e 3e3e 2062 616c  0', SEK).>>> bal
-00000f10: 616e 6365 202d 2053 454b 2835 290a 4d6f  ance - SEK(5).Mo
-00000f20: 6e65 7928 2730 2e30 3027 2c20 5345 4b29  ney('0.00', SEK)
-00000f30: 0a3e 3e3e 2062 616c 616e 6365 202d 2053  .>>> balance - S
-00000f40: 454b 2822 362e 3530 2229 0a4f 7665 7264  EK("6.50").Overd
-00000f50: 7261 6674 2827 312e 3530 272c 2053 454b  raft('1.50', SEK
-00000f60: 290a 3e3e 3e20 6261 6c61 6e63 6520 2d20  ).>>> balance - 
-00000f70: 5345 4b28 2236 2e35 3022 2920 2b20 5345  SEK("6.50") + SE
-00000f80: 4b28 2231 2e35 3022 290a 4d6f 6e65 7928  K("1.50").Money(
-00000f90: 2730 2e30 3027 2c20 5345 4b29 0a60 6060  '0.00', SEK).```
-00000fa0: 0a0a 4265 6361 7573 6520 6e65 6761 7469  ..Because negati
-00000fb0: 7665 2076 616c 7565 7320 6172 6520 656e  ve values are en
-00000fc0: 636f 6465 6420 6173 2069 7473 206f 776e  coded as its own
-00000fd0: 2074 7970 6520 696e 2074 6869 7320 7761   type in this wa
-00000fe0: 792c 2073 6974 7561 7469 6f6e 7320 7768  y, situations wh
-00000ff0: 6572 650a 6e65 6761 7469 7665 2076 616c  ere.negative val
-00001000: 7565 7320 6361 6e20 7265 7375 6c74 2066  ues can result f
-00001010: 726f 6d20 6172 6974 686d 6574 6963 2062  rom arithmetic b
-00001020: 7574 2061 7265 6e27 7420 6c6f 6769 6361  ut aren't logica
-00001030: 6c6c 7920 6578 7065 6374 6564 2c20 7375  lly expected, su
-00001040: 6368 2061 7320 666f 720a 7468 6520 7072  ch as for.the pr
-00001050: 6963 6520 6f66 2061 6e20 6974 656d 2069  ice of an item i
-00001060: 6e20 6120 7374 6f72 652c 2063 616e 2062  n a store, can b
-00001070: 6520 6469 7363 6f76 6572 6564 2077 6974  e discovered wit
-00001080: 6820 6120 7374 6174 6963 2074 7970 6520  h a static type 
-00001090: 6368 6563 6b65 722e 0a0a 2323 2323 2054  checker...#### T
-000010a0: 7970 652d 7361 6665 2063 6f6d 7061 7269  ype-safe compari
-000010b0: 736f 6e0a 0a49 6e73 7461 6e63 6573 206f  son..Instances o
-000010c0: 6620 604d 6f6e 6579 6020 646f 206e 6f74  f `Money` do not
-000010d0: 2073 7570 706f 7274 2064 6972 6563 7420   support direct 
-000010e0: 636f 6d70 6172 6973 6f6e 2077 6974 6820  comparison with 
-000010f0: 6e75 6d65 7269 6320 7363 616c 6172 2076  numeric scalar v
-00001100: 616c 7565 732e 2046 6f72 0a63 6f6e 7665  alues. For.conve
-00001110: 6e69 656e 6365 2061 6e20 6578 6365 7074  nience an except
-00001120: 696f 6e20 6973 206d 6164 6520 666f 7220  ion is made for 
-00001130: 696e 7465 6765 7220 7a65 726f 2c20 7768  integer zero, wh
-00001140: 6963 6820 6973 2061 6c77 6179 7320 756e  ich is always un
-00001150: 616d 6269 6775 6f75 732e 0a0a 2323 2323  ambiguous...####
-00001160: 2049 6d6d 6564 6961 7465 2061 6e64 2066   Immediate and f
-00001170: 756c 6c20 696e 7374 616e 7469 6174 696f  ull instantiatio
-00001180: 6e0a 0a22 3220 646f 6c6c 6172 7322 2069  n.."2 dollars" i
-00001190: 7320 7265 7072 6573 656e 7465 6420 6578  s represented ex
-000011a0: 6163 746c 7920 7468 6520 7361 6d65 2061  actly the same a
-000011b0: 7320 2232 2e30 3020 646f 6c6c 6172 7322  s "2.00 dollars"
-000011c0: 2c20 696e 2065 7665 7279 2061 7370 6563  , in every aspec
-000011d0: 742e 2054 6869 730a 6d65 616e 7320 7468  t. This.means th
-000011e0: 6174 206e 6f72 6d61 6c69 7a61 7469 6f6e  at normalization
-000011f0: 206f 6620 7661 6c75 6573 2068 6170 7065   of values happe
-00001200: 6e20 6174 2069 6e73 7461 6e74 6961 7469  n at instantiati
-00001210: 6f6e 2074 696d 652e 0a0a 496e 7374 616e  on time...Instan
-00001220: 7469 6174 696e 6720 6e6f 726d 616c 697a  tiating normaliz
-00001230: 6573 2070 7265 6369 7369 6f6e 2074 6f20  es precision to 
-00001240: 7468 6520 6e75 6d62 6572 206f 6620 7375  the number of su
-00001250: 6275 6e69 7473 206f 6620 7468 6520 696e  bunits of the in
-00001260: 7374 616e 7469 6174 6564 0a63 7572 7265  stantiated.curre
-00001270: 6e63 792e 0a0a 6060 6070 7963 6f6e 0a3e  ncy...```pycon.>
-00001280: 3e3e 2045 5552 2832 290a 4d6f 6e65 7928  >> EUR(2).Money(
-00001290: 2732 2e30 3027 2c20 4555 5229 0a3e 3e3e  '2.00', EUR).>>>
-000012a0: 2045 5552 2822 322e 3030 3022 290a 4d6f   EUR("2.000").Mo
-000012b0: 6e65 7928 2732 2e30 3027 2c20 4555 5229  ney('2.00', EUR)
-000012c0: 0a60 6060 0a0a 5472 7969 6e67 2074 6f20  .```..Trying to 
-000012d0: 696e 7374 616e 7469 6174 6520 7769 7468  instantiate with
-000012e0: 2061 2076 616c 7565 2074 6861 7420 776f   a value that wo
-000012f0: 756c 6420 7265 7375 6c74 2069 6e20 7072  uld result in pr
-00001300: 6563 6973 696f 6e20 6c6f 7373 2072 6169  ecision loss rai
-00001310: 7365 7320 6120 7275 6e74 696d 650a 6572  ses a runtime.er
-00001320: 726f 722e 0a0a 6060 6070 7963 6f6e 0a3e  ror...```pycon.>
-00001330: 3e3e 2045 5552 2822 322e 3030 3122 290a  >> EUR("2.001").
-00001340: 5472 6163 6562 6163 6b20 286d 6f73 7420  Traceback (most 
-00001350: 7265 6365 6e74 2063 616c 6c20 6c61 7374  recent call last
-00001360: 293a 0a20 202e 2e2e 0a69 6d6d 6f6e 6579  ):.  ....immoney
-00001370: 2e65 7272 6f72 732e 4d6f 6e65 7950 6172  .errors.MoneyPar
-00001380: 7365 4572 726f 723a 2043 616e 6e6f 7420  seError: Cannot 
-00001390: 696e 7465 7270 7265 7420 7661 6c75 6520  interpret value 
-000013a0: 6173 204d 6f6e 6579 206f 6620 6375 7272  as Money of curr
-000013b0: 656e 6379 2045 5552 202e 2e2e 0a60 6060  ency EUR ....```
-000013c0: 0a0a 2323 2323 2049 6e73 7461 6e63 6520  ..#### Instance 
-000013d0: 6361 6368 650a 0a53 696e 6365 2069 6e73  cache..Since ins
-000013e0: 7461 6e63 6573 206f 6620 604d 6f6e 6579  tances of `Money
-000013f0: 6020 616e 6420 6043 7572 7265 6e63 7960  ` and `Currency`
-00001400: 2061 7265 2069 6d6d 7574 6162 6c65 2069   are immutable i
-00001410: 7427 7320 7361 6665 2074 6f20 7265 7573  t's safe to reus
-00001420: 6520 6578 6973 7469 6e67 0a69 6e73 7461  e existing.insta
-00001430: 6e63 6573 2069 6e73 7465 6164 206f 6620  nces instead of 
-00001440: 696e 7374 616e 7469 6174 696e 6720 6e65  instantiating ne
-00001450: 7720 6f6e 6573 2e20 5468 6973 2068 6170  w ones. This hap
-00001460: 7065 6e73 2074 7261 6e73 7061 7265 6e74  pens transparent
-00001470: 6c79 2077 6865 6e0a 696e 7374 616e 7469  ly when.instanti
-00001480: 6174 696e 6720 6120 6e65 7720 604d 6f6e  ating a new `Mon
-00001490: 6579 6020 696e 7374 616e 6365 2061 6e64  ey` instance and
-000014a0: 2063 616e 206c 6561 6420 746f 2066 6173   can lead to fas
-000014b0: 7465 7220 636f 6465 2061 6e64 206c 6573  ter code and les
-000014c0: 7320 636f 6e73 756d 6564 0a6d 656d 6f72  s consumed.memor
-000014d0: 792e 0a0a 2323 2323 2052 6574 7269 6576  y...#### Retriev
-000014e0: 696e 6720 6375 7272 656e 6369 6573 2062  ing currencies b
-000014f0: 7920 636f 6465 0a0a 4375 7272 656e 6369  y code..Currenci
-00001500: 6573 2063 616e 2062 6520 7265 7472 6965  es can be retrie
-00001510: 7665 6420 6279 2074 6865 6972 2063 6f64  ved by their cod
-00001520: 6573 2076 6961 2060 696d 6d6f 6e65 792e  es via `immoney.
-00001530: 6375 7272 656e 6369 6573 2e72 6567 6973  currencies.regis
-00001540: 7472 7960 2e0a 0a60 6060 7079 636f 6e0a  try`...```pycon.
-00001550: 3e3e 3e20 6672 6f6d 2069 6d6d 6f6e 6579  >>> from immoney
-00001560: 2e63 7572 7265 6e63 6965 7320 696d 706f  .currencies impo
-00001570: 7274 2072 6567 6973 7472 790a 3e3e 3e20  rt registry.>>> 
-00001580: 7265 6769 7374 7279 5b22 4e4f 4b22 5d0a  registry["NOK"].
-00001590: 4375 7272 656e 6379 2863 6f64 653d 4e4f  Currency(code=NO
-000015a0: 4b2c 2073 7562 756e 6974 3d31 3030 290a  K, subunit=100).
-000015b0: 3e3e 3e20 7265 6769 7374 7279 5b22 4d56  >>> registry["MV
-000015c0: 5022 5d0a 4375 7272 656e 6379 2863 6f64  P"].Currency(cod
-000015d0: 653d 4d56 502c 2073 7562 756e 6974 3d31  e=MVP, subunit=1
-000015e0: 290a 3e3e 3e20 7265 6769 7374 7279 5b22  ).>>> registry["
-000015f0: 666f 6f22 5d0a 5472 6163 6562 6163 6b20  foo"].Traceback 
-00001600: 286d 6f73 7420 7265 6365 6e74 2063 616c  (most recent cal
-00001610: 6c20 6c61 7374 293a 0a20 202e 2e2e 0a4b  l last):.  ....K
-00001620: 6579 4572 726f 723a 2027 666f 6f27 0a60  eyError: 'foo'.`
-00001630: 6060 0a0a 466f 7220 6375 7374 6f6d 2063  ``..For custom c
-00001640: 7572 7265 6e63 7920 696d 706c 656d 656e  urrency implemen
-00001650: 7461 7469 6f6e 732c 2060 696d 6d6f 6e65  tations, `immone
-00001660: 792e 7265 6769 7374 7279 2e43 7572 7265  y.registry.Curre
-00001670: 6e63 7943 6f6c 6c65 6374 6f72 6020 6361  ncyCollector` ca
-00001680: 6e20 6265 2075 7365 6420 746f 0a63 6f6e  n be used to.con
-00001690: 7374 7275 6374 2061 2063 7573 746f 6d20  struct a custom 
-000016a0: 7265 6769 7374 7279 2e0a                 registry..
+000002e0: 2070 7964 616e 7469 630a 5072 6f76 6964   pydantic.Provid
+000002f0: 6573 2d45 7874 7261 3a20 7465 7374 0a4c  es-Extra: test.L
+00000300: 6963 656e 7365 2d46 696c 653a 204c 4943  icense-File: LIC
+00000310: 454e 5345 0a0a 3c68 3120 616c 6967 6e3d  ENSE..<h1 align=
+00000320: 6365 6e74 6572 3e69 6d6d 6f6e 6579 3c2f  center>immoney</
+00000330: 6831 3e0a 0a3c 7020 616c 6967 6e3d 6365  h1>..<p align=ce
+00000340: 6e74 6572 3e0a 2020 2020 3c61 2068 7265  nter>.    <a hre
+00000350: 663d 6874 7470 733a 2f2f 6769 7468 7562  f=https://github
+00000360: 2e63 6f6d 2f61 6e74 6f6e 6167 6573 7461  .com/antonagesta
+00000370: 6d2f 696d 6d6f 6e65 792f 6163 7469 6f6e  m/immoney/action
+00000380: 733f 7175 6572 793d 776f 726b 666c 6f77  s?query=workflow
+00000390: 2533 4143 492b 6272 616e 6368 2533 416d  %3ACI+branch%3Am
+000003a0: 6169 6e3e 3c69 6d67 2073 7263 3d68 7474  ain><img src=htt
+000003b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000003c0: 616e 746f 6e61 6765 7374 616d 2f69 6d6d  antonagestam/imm
+000003d0: 6f6e 6579 2f77 6f72 6b66 6c6f 7773 2f43  oney/workflows/C
+000003e0: 492f 6261 6467 652e 7376 6720 616c 743d  I/badge.svg alt=
+000003f0: 2243 4920 4275 696c 6420 5374 6174 7573  "CI Build Status
+00000400: 223e 3c2f 613e 0a20 2020 203c 6120 6872  "></a>.    <a hr
+00000410: 6566 3d68 7474 7073 3a2f 2f63 6f64 6563  ef=https://codec
+00000420: 6f76 2e69 6f2f 6768 2f61 6e74 6f6e 6167  ov.io/gh/antonag
+00000430: 6573 7461 6d2f 696d 6d6f 6e65 793e 3c69  estam/immoney><i
+00000440: 6d67 2073 7263 3d68 7474 7073 3a2f 2f63  mg src=https://c
+00000450: 6f64 6563 6f76 2e69 6f2f 6768 2f61 6e74  odecov.io/gh/ant
+00000460: 6f6e 6167 6573 7461 6d2f 696d 6d6f 6e65  onagestam/immone
+00000470: 792f 6272 616e 6368 2f6d 6169 6e2f 6772  y/branch/main/gr
+00000480: 6170 682f 6261 6467 652e 7376 673f 746f  aph/badge.svg?to
+00000490: 6b65 6e3d 5545 4938 384e 3045 5047 2061  ken=UEI88N0EPG a
+000004a0: 6c74 3d22 5465 7374 2063 6f76 6572 6167  lt="Test coverag
+000004b0: 6520 7265 706f 7274 223e 3c2f 613e 0a20  e report"></a>. 
+000004c0: 2020 203c 6272 3e0a 2020 2020 3c61 2068     <br>.    <a h
+000004d0: 7265 663d 6874 7470 733a 2f2f 7079 7069  ref=https://pypi
+000004e0: 2e6f 7267 2f70 726f 6a65 6374 2f69 6d6d  .org/project/imm
+000004f0: 6f6e 6579 2f3e 3c69 6d67 2073 7263 3d68  oney/><img src=h
+00000500: 7474 7073 3a2f 2f69 6d67 2e73 6869 656c  ttps://img.shiel
+00000510: 6473 2e69 6f2f 7079 7069 2f76 2f69 6d6d  ds.io/pypi/v/imm
+00000520: 6f6e 6579 2e73 7667 3f63 6f6c 6f72 3d69  oney.svg?color=i
+00000530: 6e66 6f72 6d61 7469 6f6e 616c 266c 6162  nformational&lab
+00000540: 656c 3d50 7950 4920 616c 743d 2250 7950  el=PyPI alt="PyP
+00000550: 4920 5061 636b 6167 6522 3e3c 2f61 3e0a  I Package"></a>.
+00000560: 2020 2020 3c61 2068 7265 663d 6874 7470      <a href=http
+00000570: 733a 2f2f 7079 7069 2e6f 7267 2f70 726f  s://pypi.org/pro
+00000580: 6a65 6374 2f69 6d6d 6f6e 6579 2f3e 3c69  ject/immoney/><i
+00000590: 6d67 2073 7263 3d68 7474 7073 3a2f 2f69  mg src=https://i
+000005a0: 6d67 2e73 6869 656c 6473 2e69 6f2f 7079  mg.shields.io/py
+000005b0: 7069 2f70 7976 6572 7369 6f6e 732f 696d  pi/pyversions/im
+000005c0: 6d6f 6e65 792e 7376 673f 636f 6c6f 723d  money.svg?color=
+000005d0: 696e 666f 726d 6174 696f 6e61 6c26 6c61  informational&la
+000005e0: 6265 6c3d 5079 7468 6f6e 2061 6c74 3d22  bel=Python alt="
+000005f0: 5079 7468 6f6e 2076 6572 7369 6f6e 7322  Python versions"
+00000600: 3e3c 2f61 3e0a 3c2f 703e 0a0a 2323 2320  ></a>.</p>..### 
+00000610: 496e 7374 616c 6c61 7469 6f6e 0a0a 6060  Installation..``
+00000620: 6073 6865 6c6c 0a24 2070 6970 2069 6e73  `shell.$ pip ins
+00000630: 7461 6c6c 202d 2d72 6571 7569 7265 2d76  tall --require-v
+00000640: 656e 7620 696d 6d6f 6e65 790a 6060 600a  env immoney.```.
+00000650: 0a23 2323 2044 6573 6967 6e20 676f 616c  .### Design goal
+00000660: 730a 0a54 6865 7265 2061 7265 2061 2066  s..There are a f
+00000670: 6577 2063 6f72 6520 6465 7369 676e 2061  ew core design a
+00000680: 7370 6563 7473 206f 6620 7468 6973 206c  spects of this l
+00000690: 6962 7261 7279 2074 6861 7420 6561 6368  ibrary that each
+000006a0: 2065 6c69 6d69 6e61 7465 2065 6e74 6972   eliminate entir
+000006b0: 6520 636c 6173 7365 730a 6f66 2062 7567  e classes.of bug
+000006c0: 733a 0a0a 2d20 4578 706f 7365 6420 616e  s:..- Exposed an
+000006d0: 6420 696e 7465 726e 616c 2064 6174 6120  d internal data 
+000006e0: 7479 7065 7320 6172 6520 6569 7468 6572  types are either
+000006f0: 2069 6d6d 7574 6162 6c65 206f 7220 6661   immutable or fa
+00000700: 7578 2069 6d6d 7574 6162 6c65 2e0a 2d20  ux immutable..- 
+00000710: 496e 7661 6c69 6420 616d 6f75 6e74 7320  Invalid amounts 
+00000720: 6f66 206d 6f6e 6579 2063 616e 6e6f 7420  of money cannot 
+00000730: 6265 2072 6570 7265 7365 6e74 6564 2e20  be represented. 
+00000740: 5468 6572 6520 6973 206e 6f20 7375 6368  There is no such
+00000750: 2074 6869 6e67 2061 7320 6030 2e30 3031   thing as `0.001
+00000760: 6020 5553 0a20 2064 6f6c 6c61 7273 2c20  ` US.  dollars, 
+00000770: 616e 6420 7468 6572 6520 6973 206e 6f20  and there is no 
+00000780: 7375 6368 2074 6869 6e67 2061 7320 6e65  such thing as ne
+00000790: 6761 7469 7665 206d 6f6e 6579 2e0a 2d20  gative money..- 
+000007a0: 4275 696c 7469 6e20 6f70 6572 6174 696f  Builtin operatio
+000007b0: 6e73 206e 6576 6572 2069 6d70 6c69 6369  ns never implici
+000007c0: 746c 7920 6c6f 7365 2070 7265 6369 7369  tly lose precisi
+000007d0: 6f6e 2e0a 2d20 4275 696c 7420 6672 6f6d  on..- Built from
+000007e0: 2074 6865 2067 726f 756e 642d 7570 2077   the ground-up w
+000007f0: 6974 6820 7375 7070 6f72 7420 666f 7220  ith support for 
+00000800: 7374 6174 6963 2074 7970 6520 6368 6563  static type chec
+00000810: 6b69 6e67 2069 6e20 6d69 6e64 2e20 5468  king in mind. Th
+00000820: 6973 206d 6561 6e73 0a20 2074 6861 7420  is means.  that 
+00000830: 6275 6773 2074 6861 7420 6174 7465 6d70  bugs that attemp
+00000840: 7420 746f 206d 6978 2063 7572 7265 6e63  t to mix currenc
+00000850: 6965 7320 6361 6e20 6265 2066 6f75 6e64  ies can be found
+00000860: 2062 7920 6120 7374 6174 6963 2074 7970   by a static typ
+00000870: 6520 6368 6563 6b65 722e 0a0a 2323 2320  e checker...### 
+00000880: 4665 6174 7572 6573 0a0a 2323 2323 2053  Features..#### S
+00000890: 6166 6520 6469 7669 7369 6f6e 0a0a 496e  afe division..In
+000008a0: 2072 6561 6c20 6c69 6665 2077 6520 6361   real life we ca
+000008b0: 6e6e 6f74 2073 706c 6974 2074 6865 2073  nnot split the s
+000008c0: 7562 756e 6974 206f 6620 6120 6375 7272  ubunit of a curr
+000008d0: 656e 6379 2c20 616e 6420 736f 2066 6f72  ency, and so for
+000008e0: 206f 7572 2061 6273 7472 6163 7469 6f6e   our abstraction
+000008f0: 7320 746f 0a73 6166 656c 7920 7265 666c  s to.safely refl
+00000900: 6563 7420 7265 616c 6974 792c 2077 6520  ect reality, we 
+00000910: 7368 6f75 6c64 6e27 7420 6265 2061 626c  shouldn't be abl
+00000920: 6520 746f 2064 6f20 7468 6174 2069 6e20  e to do that in 
+00000930: 636f 6465 2065 6974 6865 722e 2054 6865  code either. The
+00000940: 7265 666f 7265 0a69 6e73 7465 6164 206f  refore.instead o
+00000950: 6620 6465 6669 6e69 6e67 2064 6976 6973  f defining divis
+00000960: 696f 6e20 746f 2072 6574 7572 6e20 6120  ion to return a 
+00000970: 7661 6c75 6520 7769 7468 2070 7265 6369  value with preci
+00000980: 7369 6f6e 206c 6f73 732c 2074 6865 2069  sion loss, the i
+00000990: 6d70 6c65 6d65 6e74 6174 696f 6e0a 6f66  mplementation.of
+000009a0: 2064 6976 6973 696f 6e20 666f 7220 604d   division for `M
+000009b0: 6f6e 6579 6020 7265 7475 726e 7320 6120  oney` returns a 
+000009c0: 7475 706c 6520 6f66 206e 6577 2069 6e73  tuple of new ins
+000009d0: 7461 6e63 6573 2077 6974 6820 7468 6520  tances with the 
+000009e0: 7661 6c75 6520 7370 6c69 7420 7570 2061  value split up a
+000009f0: 7320 6576 656e 0a61 7320 706f 7373 6962  s even.as possib
+00000a00: 6c65 2e0a 0a60 6060 7079 636f 6e0a 3e3e  le...```pycon.>>
+00000a10: 3e20 4d6f 6e65 7928 2230 2e31 3122 2c20  > Money("0.11", 
+00000a20: 5345 4b29 202f 2033 0a28 4d6f 6e65 7928  SEK) / 3.(Money(
+00000a30: 2730 2e30 3427 2c20 5345 4b29 2c20 4d6f  '0.04', SEK), Mo
+00000a40: 6e65 7928 2730 2e30 3427 2c20 5345 4b29  ney('0.04', SEK)
+00000a50: 2c20 4d6f 6e65 7928 2730 2e30 3327 2c20  , Money('0.03', 
+00000a60: 5345 4b29 290a 6060 600a 0a54 6869 7320  SEK)).```..This 
+00000a70: 6d65 7468 6f64 206f 6620 6469 7669 7369  method of divisi
+00000a80: 6f6e 2077 696c 6c20 616c 7761 7973 2062  on will always b
+00000a90: 6520 7361 6665 2c20 6173 2069 7420 6861  e safe, as it ha
+00000aa0: 7320 7468 6520 6775 6172 616e 7465 6564  s the guaranteed
+00000ab0: 2070 726f 7065 7274 7920 7468 6174 2074   property that t
+00000ac0: 6865 0a73 756d 206f 6620 7468 6520 696e  he.sum of the in
+00000ad0: 7374 616e 6365 7320 7265 7475 726e 6564  stances returned
+00000ae0: 2062 7920 7468 6520 6f70 6572 6174 696f   by the operatio
+00000af0: 6e20 616c 7761 7973 2065 7175 616c 2074  n always equal t
+00000b00: 6865 206f 7269 6769 6e61 6c20 6e75 6d65  he original nume
+00000b10: 7261 746f 722e 0a0a 2323 2323 2053 7562  rator...#### Sub
+00000b20: 756e 6974 2066 7261 6374 696f 6e73 0a0a  unit fractions..
+00000b30: 536f 6d65 7469 6d65 7320 7765 2064 6f20  Sometimes we do 
+00000b40: 6e65 6564 2074 6f20 7265 7072 6573 656e  need to represen
+00000b50: 7420 6672 6163 7469 6f6e 7320 6f66 206d  t fractions of m
+00000b60: 6f6e 6574 6172 7920 7661 6c75 6573 2074  onetary values t
+00000b70: 6861 7420 6172 6520 736d 616c 6c65 7220  hat are smaller 
+00000b80: 7468 616e 2074 6865 0a73 7562 756e 6974  than the.subunit
+00000b90: 206f 6620 6120 6375 7272 656e 6379 2c20   of a currency, 
+00000ba0: 666f 7220 696e 7374 616e 6365 2061 7320  for instance as 
+00000bb0: 6120 7061 7274 6961 6c20 7265 7375 6c74  a partial result
+00000bc0: 206f 6620 6120 6c61 7267 6572 2065 7175   of a larger equ
+00000bd0: 6174 696f 6e2e 2046 6f72 2074 6861 740a  ation. For that.
+00000be0: 7075 7270 6f73 652c 2074 6869 7320 6c69  purpose, this li
+00000bf0: 6272 6172 7920 6578 706f 7365 7320 6120  brary exposes a 
+00000c00: 6053 7562 756e 6974 4672 6163 7469 6f6e  `SubunitFraction
+00000c10: 6020 7479 7065 2e20 5468 6973 2074 7970  ` type. This typ
+00000c20: 6520 6973 2075 7365 6420 6173 2072 6574  e is used as ret
+00000c30: 7572 6e20 7479 7065 0a66 6f72 2060 4d6f  urn type.for `Mo
+00000c40: 6e65 792e 5f5f 666c 6f6f 7264 6976 5f5f  ney.__floordiv__
+00000c50: 602e 0a0a 6060 6070 7963 6f6e 0a3e 3e3e  `...```pycon.>>>
+00000c60: 2053 454b 2831 3329 202f 2f20 330a 5375   SEK(13) // 3.Su
+00000c70: 6275 6e69 7446 7261 6374 696f 6e28 2731  bunitFraction('1
+00000c80: 3330 302f 3327 2c20 5345 4b29 0a60 6060  300/3', SEK).```
+00000c90: 0a0a 4265 6361 7573 6520 7468 6572 6520  ..Because there 
+00000ca0: 6973 206e 6f20 6775 6172 616e 7465 6520  is no guarantee 
+00000cb0: 7468 6174 2061 2060 5375 6275 6e69 7446  that a `SubunitF
+00000cc0: 7261 6374 696f 6e60 2069 7320 6120 7768  raction` is a wh
+00000cd0: 6f6c 6520 7375 6275 6e69 7420 2862 7920  ole subunit (by 
+00000ce0: 6465 6669 6e69 7469 6f6e 0a2e 2e2e 292c  definition....),
+00000cf0: 2063 6f6e 7665 7274 696e 6720 6261 636b   converting back
+00000d00: 2074 6f20 604d 6f6e 6579 6020 6361 6e20   to `Money` can 
+00000d10: 6f6e 6c79 2062 6520 646f 6e65 2077 6974  only be done wit
+00000d20: 6820 7072 6563 6973 696f 6e20 6c6f 7373  h precision loss
+00000d30: 2e0a 0a60 6060 7079 636f 6e0a 3e3e 3e20  ...```pycon.>>> 
+00000d40: 2853 454b 2831 3329 202f 2f20 3329 2e72  (SEK(13) // 3).r
+00000d50: 6f75 6e64 5f6d 6f6e 6579 2852 6f75 6e64  ound_money(Round
+00000d60: 2e44 4f57 4e29 0a4d 6f6e 6579 2827 342e  .DOWN).Money('4.
+00000d70: 3333 272c 2053 454b 290a 6060 600a 0a23  33', SEK).```..#
+00000d80: 2323 2320 4f76 6572 6472 6166 740a 0a41  ### Overdraft..A
+00000d90: 6761 696e 2072 6566 6572 7269 6e67 2074  gain referring t
+00000da0: 6f20 7265 616c 206c 6966 652c 2074 6865  o real life, the
+00000db0: 7265 2069 7320 6e6f 2073 7563 6820 7468  re is no such th
+00000dc0: 696e 6720 6173 206e 6567 6174 6976 6520  ing as negative 
+00000dd0: 6d6f 6e65 792e 2046 6f6c 6c6f 7769 6e67  money. Following
+00000de0: 2069 6e20 7468 650a 7361 6d65 2076 6569   in the.same vei
+00000df0: 6e20 6173 2066 6f72 206e 6f74 2061 6c6c  n as for not all
+00000e00: 6f77 696e 6720 7375 6275 6e69 7473 2074  owing subunits t
+00000e10: 6f20 6265 2073 706c 6974 2c20 7468 6520  o be split, the 
+00000e20: 7661 6c75 6520 6f66 2061 2060 4d6f 6e65  value of a `Mone
+00000e30: 7960 2069 6e73 7461 6e63 650a 6361 6e6e  y` instance.cann
+00000e40: 6f74 2062 6520 6e65 6761 7469 7665 2e20  ot be negative. 
+00000e50: 496e 7374 6561 642c 2074 6f20 7265 7072  Instead, to repr
+00000e60: 6573 656e 7420 666f 7220 696e 7374 616e  esent for instan
+00000e70: 6365 2061 206e 6567 6174 6976 6520 6261  ce a negative ba
+00000e80: 6c61 6e63 6520 6f6e 2061 6e20 6163 636f  lance on an acco
+00000e90: 756e 742c 0a74 6869 7320 6c69 6272 6172  unt,.this librar
+00000ea0: 7920 6578 706f 7365 7320 616e 2060 4f76  y exposes an `Ov
+00000eb0: 6572 6472 6166 7460 2063 6c61 7373 2074  erdraft` class t
+00000ec0: 6861 7420 6973 2075 7365 6420 6173 2072  hat is used as r
+00000ed0: 6574 7572 6e20 7479 7065 206f 6620 604d  eturn type of `M
+00000ee0: 6f6e 6579 2e5f 5f73 7562 5f5f 600a 7768  oney.__sub__`.wh
+00000ef0: 656e 2074 6865 2063 6f6d 7075 7465 6420  en the computed 
+00000f00: 7661 6c75 6520 776f 756c 6420 6861 7665  value would have
+00000f10: 2062 6565 6e20 6e65 6761 7469 7665 2e0a   been negative..
+00000f20: 0a60 6060 7079 636f 6e0a 3e3e 3e20 6261  .```pycon.>>> ba
+00000f30: 6c61 6e63 6520 3d20 5345 4b28 3529 0a3e  lance = SEK(5).>
+00000f40: 3e3e 2062 616c 616e 6365 202d 2053 454b  >> balance - SEK
+00000f50: 2834 290a 4d6f 6e65 7928 2731 2e30 3027  (4).Money('1.00'
+00000f60: 2c20 5345 4b29 0a3e 3e3e 2062 616c 616e  , SEK).>>> balan
+00000f70: 6365 202d 2053 454b 2835 290a 4d6f 6e65  ce - SEK(5).Mone
+00000f80: 7928 2730 2e30 3027 2c20 5345 4b29 0a3e  y('0.00', SEK).>
+00000f90: 3e3e 2062 616c 616e 6365 202d 2053 454b  >> balance - SEK
+00000fa0: 2822 362e 3530 2229 0a4f 7665 7264 7261  ("6.50").Overdra
+00000fb0: 6674 2827 312e 3530 272c 2053 454b 290a  ft('1.50', SEK).
+00000fc0: 3e3e 3e20 6261 6c61 6e63 6520 2d20 5345  >>> balance - SE
+00000fd0: 4b28 2236 2e35 3022 2920 2b20 5345 4b28  K("6.50") + SEK(
+00000fe0: 2231 2e35 3022 290a 4d6f 6e65 7928 2730  "1.50").Money('0
+00000ff0: 2e30 3027 2c20 5345 4b29 0a60 6060 0a0a  .00', SEK).```..
+00001000: 4265 6361 7573 6520 6e65 6761 7469 7665  Because negative
+00001010: 2076 616c 7565 7320 6172 6520 656e 636f   values are enco
+00001020: 6465 6420 6173 2069 7473 206f 776e 2074  ded as its own t
+00001030: 7970 6520 696e 2074 6869 7320 7761 792c  ype in this way,
+00001040: 2073 6974 7561 7469 6f6e 7320 7768 6572   situations wher
+00001050: 650a 6e65 6761 7469 7665 2076 616c 7565  e.negative value
+00001060: 7320 6361 6e20 7265 7375 6c74 2066 726f  s can result fro
+00001070: 6d20 6172 6974 686d 6574 6963 2062 7574  m arithmetic but
+00001080: 2061 7265 6e27 7420 6c6f 6769 6361 6c6c   aren't logicall
+00001090: 7920 6578 7065 6374 6564 2c20 7375 6368  y expected, such
+000010a0: 2061 7320 666f 720a 7468 6520 7072 6963   as for.the pric
+000010b0: 6520 6f66 2061 6e20 6974 656d 2069 6e20  e of an item in 
+000010c0: 6120 7374 6f72 652c 2063 616e 2062 6520  a store, can be 
+000010d0: 6469 7363 6f76 6572 6564 2077 6974 6820  discovered with 
+000010e0: 6120 7374 6174 6963 2074 7970 6520 6368  a static type ch
+000010f0: 6563 6b65 722e 0a0a 2323 2323 2054 7970  ecker...#### Typ
+00001100: 652d 7361 6665 2063 6f6d 7061 7269 736f  e-safe compariso
+00001110: 6e0a 0a49 6e73 7461 6e63 6573 206f 6620  n..Instances of 
+00001120: 604d 6f6e 6579 6020 646f 206e 6f74 2073  `Money` do not s
+00001130: 7570 706f 7274 2064 6972 6563 7420 636f  upport direct co
+00001140: 6d70 6172 6973 6f6e 2077 6974 6820 6e75  mparison with nu
+00001150: 6d65 7269 6320 7363 616c 6172 2076 616c  meric scalar val
+00001160: 7565 732e 2046 6f72 0a63 6f6e 7665 6e69  ues. For.conveni
+00001170: 656e 6365 2061 6e20 6578 6365 7074 696f  ence an exceptio
+00001180: 6e20 6973 206d 6164 6520 666f 7220 696e  n is made for in
+00001190: 7465 6765 7220 7a65 726f 2c20 7768 6963  teger zero, whic
+000011a0: 6820 6973 2061 6c77 6179 7320 756e 616d  h is always unam
+000011b0: 6269 6775 6f75 732e 0a0a 2323 2323 2049  biguous...#### I
+000011c0: 6d6d 6564 6961 7465 2061 6e64 2066 756c  mmediate and ful
+000011d0: 6c20 696e 7374 616e 7469 6174 696f 6e0a  l instantiation.
+000011e0: 0a22 3220 646f 6c6c 6172 7322 2069 7320  ."2 dollars" is 
+000011f0: 7265 7072 6573 656e 7465 6420 6578 6163  represented exac
+00001200: 746c 7920 7468 6520 7361 6d65 2061 7320  tly the same as 
+00001210: 2232 2e30 3020 646f 6c6c 6172 7322 2c20  "2.00 dollars", 
+00001220: 696e 2065 7665 7279 2061 7370 6563 742e  in every aspect.
+00001230: 2054 6869 730a 6d65 616e 7320 7468 6174   This.means that
+00001240: 206e 6f72 6d61 6c69 7a61 7469 6f6e 206f   normalization o
+00001250: 6620 7661 6c75 6573 2068 6170 7065 6e20  f values happen 
+00001260: 6174 2069 6e73 7461 6e74 6961 7469 6f6e  at instantiation
+00001270: 2074 696d 652e 0a0a 496e 7374 616e 7469   time...Instanti
+00001280: 6174 696e 6720 6e6f 726d 616c 697a 6573  ating normalizes
+00001290: 2070 7265 6369 7369 6f6e 2074 6f20 7468   precision to th
+000012a0: 6520 6e75 6d62 6572 206f 6620 7375 6275  e number of subu
+000012b0: 6e69 7473 206f 6620 7468 6520 696e 7374  nits of the inst
+000012c0: 616e 7469 6174 6564 0a63 7572 7265 6e63  antiated.currenc
+000012d0: 792e 0a0a 6060 6070 7963 6f6e 0a3e 3e3e  y...```pycon.>>>
+000012e0: 2045 5552 2832 290a 4d6f 6e65 7928 2732   EUR(2).Money('2
+000012f0: 2e30 3027 2c20 4555 5229 0a3e 3e3e 2045  .00', EUR).>>> E
+00001300: 5552 2822 322e 3030 3022 290a 4d6f 6e65  UR("2.000").Mone
+00001310: 7928 2732 2e30 3027 2c20 4555 5229 0a60  y('2.00', EUR).`
+00001320: 6060 0a0a 5472 7969 6e67 2074 6f20 696e  ``..Trying to in
+00001330: 7374 616e 7469 6174 6520 7769 7468 2061  stantiate with a
+00001340: 2076 616c 7565 2074 6861 7420 776f 756c   value that woul
+00001350: 6420 7265 7375 6c74 2069 6e20 7072 6563  d result in prec
+00001360: 6973 696f 6e20 6c6f 7373 2072 6169 7365  ision loss raise
+00001370: 7320 6120 7275 6e74 696d 650a 6572 726f  s a runtime.erro
+00001380: 722e 0a0a 6060 6070 7963 6f6e 0a3e 3e3e  r...```pycon.>>>
+00001390: 2045 5552 2822 322e 3030 3122 290a 5472   EUR("2.001").Tr
+000013a0: 6163 6562 6163 6b20 286d 6f73 7420 7265  aceback (most re
+000013b0: 6365 6e74 2063 616c 6c20 6c61 7374 293a  cent call last):
+000013c0: 0a20 202e 2e2e 0a69 6d6d 6f6e 6579 2e65  .  ....immoney.e
+000013d0: 7272 6f72 732e 4d6f 6e65 7950 6172 7365  rrors.MoneyParse
+000013e0: 4572 726f 723a 2043 616e 6e6f 7420 696e  Error: Cannot in
+000013f0: 7465 7270 7265 7420 7661 6c75 6520 6173  terpret value as
+00001400: 204d 6f6e 6579 206f 6620 6375 7272 656e   Money of curren
+00001410: 6379 2045 5552 202e 2e2e 0a60 6060 0a0a  cy EUR ....```..
+00001420: 2323 2323 2049 6e73 7461 6e63 6520 6361  #### Instance ca
+00001430: 6368 650a 0a53 696e 6365 2069 6e73 7461  che..Since insta
+00001440: 6e63 6573 206f 6620 604d 6f6e 6579 6020  nces of `Money` 
+00001450: 616e 6420 6043 7572 7265 6e63 7960 2061  and `Currency` a
+00001460: 7265 2069 6d6d 7574 6162 6c65 2069 7427  re immutable it'
+00001470: 7320 7361 6665 2074 6f20 7265 7573 6520  s safe to reuse 
+00001480: 6578 6973 7469 6e67 0a69 6e73 7461 6e63  existing.instanc
+00001490: 6573 2069 6e73 7465 6164 206f 6620 696e  es instead of in
+000014a0: 7374 616e 7469 6174 696e 6720 6e65 7720  stantiating new 
+000014b0: 6f6e 6573 2e20 5468 6973 2068 6170 7065  ones. This happe
+000014c0: 6e73 2074 7261 6e73 7061 7265 6e74 6c79  ns transparently
+000014d0: 2077 6865 6e0a 696e 7374 616e 7469 6174   when.instantiat
+000014e0: 696e 6720 6120 6e65 7720 604d 6f6e 6579  ing a new `Money
+000014f0: 6020 696e 7374 616e 6365 2061 6e64 2063  ` instance and c
+00001500: 616e 206c 6561 6420 746f 2066 6173 7465  an lead to faste
+00001510: 7220 636f 6465 2061 6e64 206c 6573 7320  r code and less 
+00001520: 636f 6e73 756d 6564 0a6d 656d 6f72 792e  consumed.memory.
+00001530: 0a0a 2323 2323 2052 6574 7269 6576 696e  ..#### Retrievin
+00001540: 6720 6375 7272 656e 6369 6573 2062 7920  g currencies by 
+00001550: 636f 6465 0a0a 4375 7272 656e 6369 6573  code..Currencies
+00001560: 2063 616e 2062 6520 7265 7472 6965 7665   can be retrieve
+00001570: 6420 6279 2074 6865 6972 2063 6f64 6573  d by their codes
+00001580: 2076 6961 2060 696d 6d6f 6e65 792e 6375   via `immoney.cu
+00001590: 7272 656e 6369 6573 2e72 6567 6973 7472  rrencies.registr
+000015a0: 7960 2e0a 0a60 6060 7079 636f 6e0a 3e3e  y`...```pycon.>>
+000015b0: 3e20 6672 6f6d 2069 6d6d 6f6e 6579 2e63  > from immoney.c
+000015c0: 7572 7265 6e63 6965 7320 696d 706f 7274  urrencies import
+000015d0: 2072 6567 6973 7472 790a 3e3e 3e20 7265   registry.>>> re
+000015e0: 6769 7374 7279 5b22 4e4f 4b22 5d0a 4375  gistry["NOK"].Cu
+000015f0: 7272 656e 6379 2863 6f64 653d 4e4f 4b2c  rrency(code=NOK,
+00001600: 2073 7562 756e 6974 3d31 3030 290a 3e3e   subunit=100).>>
+00001610: 3e20 7265 6769 7374 7279 5b22 4d56 5022  > registry["MVP"
+00001620: 5d0a 4375 7272 656e 6379 2863 6f64 653d  ].Currency(code=
+00001630: 4d56 502c 2073 7562 756e 6974 3d31 290a  MVP, subunit=1).
+00001640: 3e3e 3e20 7265 6769 7374 7279 5b22 666f  >>> registry["fo
+00001650: 6f22 5d0a 5472 6163 6562 6163 6b20 286d  o"].Traceback (m
+00001660: 6f73 7420 7265 6365 6e74 2063 616c 6c20  ost recent call 
+00001670: 6c61 7374 293a 0a20 202e 2e2e 0a4b 6579  last):.  ....Key
+00001680: 4572 726f 723a 2027 666f 6f27 0a60 6060  Error: 'foo'.```
+00001690: 0a0a 2323 2323 2043 7573 746f 6d20 6375  ..#### Custom cu
+000016a0: 7272 656e 6379 2072 6567 6973 7472 6965  rrency registrie
+000016b0: 730a 0a54 6865 206c 6962 7261 7279 2073  s..The library s
+000016c0: 6869 7073 2077 6974 6820 6120 7365 6e73  hips with a sens
+000016d0: 6962 6c65 2073 6574 206f 6620 6465 6661  ible set of defa
+000016e0: 756c 7420 6375 7272 656e 6369 6573 2c20  ult currencies, 
+000016f0: 686f 7765 7665 722c 2079 6f75 206d 6967  however, you mig
+00001700: 6874 2077 616e 7420 746f 0a75 7365 2061  ht want to.use a
+00001710: 2063 7573 746f 6d20 7265 6769 7374 7279   custom registry
+00001720: 2066 6f72 2074 776f 2072 6561 736f 6e73   for two reasons
+00001730: 3a0a 0a2d 2059 6f75 2077 616e 7420 746f  :..- You want to
+00001740: 2075 7365 206e 6f6e 2d64 6566 6175 6c74   use non-default
+00001750: 2063 7572 7265 6e63 6965 732e 0a2d 2059   currencies..- Y
+00001760: 6f75 206f 6e6c 7920 7761 6e74 2074 6f20  ou only want to 
+00001770: 616c 6c6f 7720 6120 7375 6273 6574 206f  allow a subset o
+00001780: 6620 7468 6520 6465 6661 756c 7420 6375  f the default cu
+00001790: 7272 656e 6369 6573 2e0a 0a54 6f20 6163  rrencies...To ac
+000017a0: 6869 6576 6520 7468 6973 2c20 796f 7520  hieve this, you 
+000017b0: 6361 6e20 636f 6e73 7472 7563 7420 6120  can construct a 
+000017c0: 6375 7374 6f6d 2073 6574 206f 6620 7479  custom set of ty
+000017d0: 7065 732e 2049 7427 7320 7265 636f 6d6d  pes. It's recomm
+000017e0: 656e 6465 6420 746f 2075 7365 2061 0a63  ended to use a.c
+000017f0: 7573 746f 6d20 6162 7374 7261 6374 2062  ustom abstract b
+00001800: 6173 6520 636c 6173 7320 666f 7220 7468  ase class for th
+00001810: 6973 2c20 7468 6973 2077 6179 2074 6869  is, this way thi
+00001820: 6e67 7320 7769 6c6c 2061 6c73 6f20 706c  ngs will also pl
+00001830: 6179 206e 6963 6520 7769 7468 2074 6865  ay nice with the
+00001840: 0a50 7964 616e 7469 6320 696e 7465 6772  .Pydantic integr
+00001850: 6174 696f 6e2e 0a0a 6060 6070 7974 686f  ation...```pytho
+00001860: 6e0a 696d 706f 7274 2061 6263 0a66 726f  n.import abc.fro
+00001870: 6d20 7479 7069 6e67 2069 6d70 6f72 7420  m typing import 
+00001880: 4669 6e61 6c0a 6672 6f6d 2069 6d6d 6f6e  Final.from immon
+00001890: 6579 2e72 6567 6973 7472 7920 696d 706f  ey.registry impo
+000018a0: 7274 2043 7572 7265 6e63 7943 6f6c 6c65  rt CurrencyColle
+000018b0: 6374 6f72 0a66 726f 6d20 696d 6d6f 6e65  ctor.from immone
+000018c0: 792e 6375 7272 656e 6369 6573 2069 6d70  y.currencies imp
+000018d0: 6f72 7420 4375 7272 656e 6379 0a0a 5f5f  ort Currency..__
+000018e0: 6375 7272 656e 6369 6573 203d 2043 7572  currencies = Cur
+000018f0: 7265 6e63 7943 6f6c 6c65 6374 6f72 2829  rencyCollector()
+00001900: 0a0a 0a63 6c61 7373 2053 7061 6365 4375  ...class SpaceCu
+00001910: 7272 656e 6379 2843 7572 7265 6e63 792c  rrency(Currency,
+00001920: 2061 6263 2e41 4243 293a 0a20 2020 202e   abc.ABC):.    .
+00001930: 2e2e 0a0a 0a63 6c61 7373 204d 6f6f 6e43  .....class MoonC
+00001940: 6f69 6e54 7970 6528 5370 6163 6543 7572  oinType(SpaceCur
+00001950: 7265 6e63 7929 3a0a 2020 2020 7375 6275  rency):.    subu
+00001960: 6e69 7420 3d20 3130 305f 3030 300a 2020  nit = 100_000.  
+00001970: 2020 636f 6465 203d 2022 4d43 4e22 0a0a    code = "MCN"..
+00001980: 0a4d 434e 3a20 4669 6e61 6c20 3d20 4d6f  .MCN: Final = Mo
+00001990: 6f6e 436f 696e 5479 7065 2829 0a5f 5f63  onCoinType().__c
+000019a0: 7572 7265 6e63 6965 732e 6164 6428 4d43  urrencies.add(MC
+000019b0: 4e29 0a0a 0a63 6c61 7373 204a 7570 6974  N)...class Jupit
+000019c0: 6572 446f 6c6c 6172 5479 7065 2853 7061  erDollarType(Spa
+000019d0: 6365 4375 7272 656e 6379 293a 0a20 2020  ceCurrency):.   
+000019e0: 2073 7562 756e 6974 203d 2031 3030 0a20   subunit = 100. 
+000019f0: 2020 2063 6f64 6520 3d20 224a 434e 220a     code = "JCN".
+00001a00: 0a0a 4a43 4e3a 2046 696e 616c 203d 204a  ..JCN: Final = J
+00001a10: 7570 6974 6572 446f 6c6c 6172 5479 7065  upiterDollarType
+00001a20: 2829 0a5f 5f63 7572 7265 6e63 6965 732e  ().__currencies.
+00001a30: 6164 6428 4a43 4e29 0a0a 6375 7374 6f6d  add(JCN)..custom
+00001a40: 5f72 6567 6973 7472 793a 2046 696e 616c  _registry: Final
+00001a50: 203d 205f 5f63 7572 7265 6e63 6965 732e   = __currencies.
+00001a60: 6669 6e61 6c69 7a65 2829 0a60 6060 0a0a  finalize().```..
+00001a70: 2323 2323 2050 7964 616e 7469 6320 5632  #### Pydantic V2
+00001a80: 2073 7570 706f 7274 0a0a 496e 7374 616c   support..Instal
+00001a90: 6c20 6120 636f 6d70 6174 6962 6c65 2050  l a compatible P
+00001aa0: 7964 616e 7469 6320 7665 7273 696f 6e20  ydantic version 
+00001ab0: 6279 2073 7570 706c 7969 6e67 2074 6865  by supplying the
+00001ac0: 2060 5b70 7964 616e 7469 635d 6020 6578   `[pydantic]` ex
+00001ad0: 7472 612e 0a0a 6060 6073 6865 6c6c 0a24  tra...```shell.$
+00001ae0: 2070 6970 2069 6e73 7461 6c6c 202d 2d72   pip install --r
+00001af0: 6571 7569 7265 2d76 656e 7620 696d 6d6f  equire-venv immo
+00001b00: 6e65 795b 7079 6461 6e74 6963 5d0a 6060  ney[pydantic].``
+00001b10: 600a 0a54 6865 2060 4375 7272 656e 6379  `..The `Currency
+00001b20: 602c 2060 4d6f 6e65 7960 2c20 6053 7562  `, `Money`, `Sub
+00001b30: 756e 6974 4672 6163 7469 6f6e 6020 616e  unitFraction` an
+00001b40: 6420 604f 7665 7264 7261 6674 6020 656e  d `Overdraft` en
+00001b50: 7469 7469 6573 2063 616e 2061 6c6c 2062  tities can all b
+00001b60: 6520 7573 6564 2061 730a 5079 6461 6e74  e used as.Pydant
+00001b70: 6963 206d 6f64 656c 2066 6965 6c64 732e  ic model fields.
+00001b80: 0a0a 6060 6070 7963 6f6e 0a3e 3e3e 2066  ..```pycon.>>> f
+00001b90: 726f 6d20 7079 6461 6e74 6963 2069 6d70  rom pydantic imp
+00001ba0: 6f72 7420 4261 7365 4d6f 6465 6c0a 3e3e  ort BaseModel.>>
+00001bb0: 3e20 6672 6f6d 2069 6d6d 6f6e 6579 2069  > from immoney i
+00001bc0: 6d70 6f72 7420 4d6f 6e65 790a 3e3e 3e20  mport Money.>>> 
+00001bd0: 6672 6f6d 2069 6d6d 6f6e 6579 2e63 7572  from immoney.cur
+00001be0: 7265 6e63 6965 7320 696d 706f 7274 2055  rencies import U
+00001bf0: 5344 0a3e 3e3e 2063 6c61 7373 204d 6f64  SD.>>> class Mod
+00001c00: 656c 2842 6173 654d 6f64 656c 2c20 6672  el(BaseModel, fr
+00001c10: 6f7a 656e 3d54 7275 6529 3a0a 2e2e 2e20  ozen=True):.... 
+00001c20: 2020 2020 6d6f 6e65 793a 204d 6f6e 6579      money: Money
+00001c30: 0a3e 3e3e 2070 7269 6e74 2869 6e73 7461  .>>> print(insta
+00001c40: 6e63 652e 6d6f 6465 6c5f 6475 6d70 5f6a  nce.model_dump_j
+00001c50: 736f 6e28 696e 6465 6e74 3d32 2929 0a7b  son(indent=2)).{
+00001c60: 0a20 2022 6d6f 6e65 7922 3a20 7b0a 2020  .  "money": {.  
+00001c70: 2020 2273 7562 756e 6974 7322 3a20 3235    "subunits": 25
+00001c80: 3030 302c 0a20 2020 2022 6375 7272 656e  000,.    "curren
+00001c90: 6379 223a 2022 5553 4422 0a20 207d 0a7d  cy": "USD".  }.}
+00001ca0: 0a60 6060 0a                             .```.
```

### Comparing `immoney-0.1.0/README.md` & `immoney-0.2.0/README.md`

 * *Files 20% similar despite different names*

```diff
@@ -41,275 +41,369 @@
 00000280: 3d68 7474 7073 3a2f 2f69 6d67 2e73 6869  =https://img.shi
 00000290: 656c 6473 2e69 6f2f 7079 7069 2f70 7976  elds.io/pypi/pyv
 000002a0: 6572 7369 6f6e 732f 696d 6d6f 6e65 792e  ersions/immoney.
 000002b0: 7376 673f 636f 6c6f 723d 696e 666f 726d  svg?color=inform
 000002c0: 6174 696f 6e61 6c26 6c61 6265 6c3d 5079  ational&label=Py
 000002d0: 7468 6f6e 2061 6c74 3d22 5079 7468 6f6e  thon alt="Python
 000002e0: 2076 6572 7369 6f6e 7322 3e3c 2f61 3e0a   versions"></a>.
-000002f0: 3c2f 703e 0a0a 2323 2320 4465 7369 676e  </p>..### Design
-00000300: 2067 6f61 6c73 0a0a 5468 6572 6520 6172   goals..There ar
-00000310: 6520 6120 6665 7720 636f 7265 2064 6573  e a few core des
-00000320: 6967 6e20 6173 7065 6374 7320 6f66 2074  ign aspects of t
-00000330: 6869 7320 6c69 6272 6172 7920 7468 6174  his library that
-00000340: 2065 6163 6820 656c 696d 696e 6174 6520   each eliminate 
-00000350: 656e 7469 7265 2063 6c61 7373 6573 0a6f  entire classes.o
-00000360: 6620 6275 6773 3a0a 0a2d 2045 7870 6f73  f bugs:..- Expos
-00000370: 6564 2061 6e64 2069 6e74 6572 6e61 6c20  ed and internal 
-00000380: 6461 7461 2074 7970 6573 2061 7265 2065  data types are e
-00000390: 6974 6865 7220 696d 6d75 7461 626c 6520  ither immutable 
-000003a0: 6f72 2066 6175 7820 696d 6d75 7461 626c  or faux immutabl
-000003b0: 652e 0a2d 2049 6e76 616c 6964 2061 6d6f  e..- Invalid amo
-000003c0: 756e 7473 206f 6620 6d6f 6e65 7920 6361  unts of money ca
-000003d0: 6e6e 6f74 2062 6520 7265 7072 6573 656e  nnot be represen
-000003e0: 7465 642e 2054 6865 7265 2069 7320 6e6f  ted. There is no
-000003f0: 2073 7563 6820 7468 696e 6720 6173 2060   such thing as `
-00000400: 302e 3030 3160 2055 530a 2020 646f 6c6c  0.001` US.  doll
-00000410: 6172 732c 2061 6e64 2074 6865 7265 2069  ars, and there i
-00000420: 7320 6e6f 2073 7563 6820 7468 696e 6720  s no such thing 
-00000430: 6173 206e 6567 6174 6976 6520 6d6f 6e65  as negative mone
-00000440: 792e 0a2d 2042 7569 6c74 696e 206f 7065  y..- Builtin ope
-00000450: 7261 7469 6f6e 7320 6e65 7665 7220 696d  rations never im
-00000460: 706c 6963 6974 6c79 206c 6f73 6520 7072  plicitly lose pr
-00000470: 6563 6973 696f 6e2e 0a2d 2042 7569 6c74  ecision..- Built
-00000480: 2066 726f 6d20 7468 6520 6772 6f75 6e64   from the ground
-00000490: 2d75 7020 7769 7468 2073 7570 706f 7274  -up with support
-000004a0: 2066 6f72 2073 7461 7469 6320 7479 7065   for static type
-000004b0: 2063 6865 636b 696e 6720 696e 206d 696e   checking in min
-000004c0: 642e 2054 6869 7320 6d65 616e 730a 2020  d. This means.  
-000004d0: 7468 6174 2062 7567 7320 7468 6174 2061  that bugs that a
-000004e0: 7474 656d 7074 2074 6f20 6d69 7820 6375  ttempt to mix cu
-000004f0: 7272 656e 6369 6573 2063 616e 2062 6520  rrencies can be 
-00000500: 666f 756e 6420 6279 2061 2073 7461 7469  found by a stati
-00000510: 6320 7479 7065 2063 6865 636b 6572 2e0a  c type checker..
-00000520: 0a23 2323 2046 6561 7475 7265 730a 0a23  .### Features..#
-00000530: 2323 2320 5361 6665 2064 6976 6973 696f  ### Safe divisio
-00000540: 6e0a 0a49 6e20 7265 616c 206c 6966 6520  n..In real life 
-00000550: 7765 2063 616e 6e6f 7420 7370 6c69 7420  we cannot split 
-00000560: 7468 6520 7375 6275 6e69 7420 6f66 2061  the subunit of a
-00000570: 2063 7572 7265 6e63 792c 2061 6e64 2073   currency, and s
-00000580: 6f20 666f 7220 6f75 7220 6162 7374 7261  o for our abstra
-00000590: 6374 696f 6e73 2074 6f0a 7361 6665 6c79  ctions to.safely
-000005a0: 2072 6566 6c65 6374 2072 6561 6c69 7479   reflect reality
-000005b0: 2c20 7765 2073 686f 756c 646e 2774 2062  , we shouldn't b
-000005c0: 6520 6162 6c65 2074 6f20 646f 2074 6861  e able to do tha
-000005d0: 7420 696e 2063 6f64 6520 6569 7468 6572  t in code either
-000005e0: 2e20 5468 6572 6566 6f72 650a 696e 7374  . Therefore.inst
-000005f0: 6561 6420 6f66 2064 6566 696e 696e 6720  ead of defining 
-00000600: 6469 7669 7369 6f6e 2074 6f20 7265 7475  division to retu
-00000610: 726e 2061 2076 616c 7565 2077 6974 6820  rn a value with 
-00000620: 7072 6563 6973 696f 6e20 6c6f 7373 2c20  precision loss, 
-00000630: 7468 6520 696d 706c 656d 656e 7461 7469  the implementati
-00000640: 6f6e 0a6f 6620 6469 7669 7369 6f6e 2066  on.of division f
-00000650: 6f72 2060 4d6f 6e65 7960 2072 6574 7572  or `Money` retur
-00000660: 6e73 2061 2074 7570 6c65 206f 6620 6e65  ns a tuple of ne
-00000670: 7720 696e 7374 616e 6365 7320 7769 7468  w instances with
-00000680: 2074 6865 2076 616c 7565 2073 706c 6974   the value split
-00000690: 2075 7020 6173 2065 7665 6e0a 6173 2070   up as even.as p
-000006a0: 6f73 7369 626c 652e 0a0a 6060 6070 7963  ossible...```pyc
-000006b0: 6f6e 0a3e 3e3e 204d 6f6e 6579 2822 302e  on.>>> Money("0.
-000006c0: 3131 222c 2053 454b 2920 2f20 330a 284d  11", SEK) / 3.(M
-000006d0: 6f6e 6579 2827 302e 3034 272c 2053 454b  oney('0.04', SEK
-000006e0: 292c 204d 6f6e 6579 2827 302e 3034 272c  ), Money('0.04',
-000006f0: 2053 454b 292c 204d 6f6e 6579 2827 302e   SEK), Money('0.
-00000700: 3033 272c 2053 454b 2929 0a60 6060 0a0a  03', SEK)).```..
-00000710: 5468 6973 206d 6574 686f 6420 6f66 2064  This method of d
-00000720: 6976 6973 696f 6e20 7769 6c6c 2061 6c77  ivision will alw
-00000730: 6179 7320 6265 2073 6166 652c 2061 7320  ays be safe, as 
-00000740: 6974 2068 6173 2074 6865 2067 7561 7261  it has the guara
-00000750: 6e74 6565 6420 7072 6f70 6572 7479 2074  nteed property t
-00000760: 6861 7420 7468 650a 7375 6d20 6f66 2074  hat the.sum of t
-00000770: 6865 2069 6e73 7461 6e63 6573 2072 6574  he instances ret
-00000780: 7572 6e65 6420 6279 2074 6865 206f 7065  urned by the ope
-00000790: 7261 7469 6f6e 2061 6c77 6179 7320 6571  ration always eq
-000007a0: 7561 6c20 7468 6520 6f72 6967 696e 616c  ual the original
-000007b0: 206e 756d 6572 6174 6f72 2e0a 0a23 2323   numerator...###
-000007c0: 2320 5375 6275 6e69 7420 6672 6163 7469  # Subunit fracti
-000007d0: 6f6e 730a 0a53 6f6d 6574 696d 6573 2077  ons..Sometimes w
-000007e0: 6520 646f 206e 6565 6420 746f 2072 6570  e do need to rep
-000007f0: 7265 7365 6e74 2066 7261 6374 696f 6e73  resent fractions
-00000800: 206f 6620 6d6f 6e65 7461 7279 2076 616c   of monetary val
-00000810: 7565 7320 7468 6174 2061 7265 2073 6d61  ues that are sma
-00000820: 6c6c 6572 2074 6861 6e20 7468 650a 7375  ller than the.su
-00000830: 6275 6e69 7420 6f66 2061 2063 7572 7265  bunit of a curre
-00000840: 6e63 792c 2066 6f72 2069 6e73 7461 6e63  ncy, for instanc
-00000850: 6520 6173 2061 2070 6172 7469 616c 2072  e as a partial r
-00000860: 6573 756c 7420 6f66 2061 206c 6172 6765  esult of a large
-00000870: 7220 6571 7561 7469 6f6e 2e20 466f 7220  r equation. For 
-00000880: 7468 6174 0a70 7572 706f 7365 2c20 7468  that.purpose, th
-00000890: 6973 206c 6962 7261 7279 2065 7870 6f73  is library expos
-000008a0: 6573 2061 2060 5375 6275 6e69 7446 7261  es a `SubunitFra
-000008b0: 6374 696f 6e60 2074 7970 652e 2054 6869  ction` type. Thi
-000008c0: 7320 7479 7065 2069 7320 7573 6564 2061  s type is used a
-000008d0: 7320 7265 7475 726e 2074 7970 650a 666f  s return type.fo
-000008e0: 7220 604d 6f6e 6579 2e5f 5f66 6c6f 6f72  r `Money.__floor
-000008f0: 6469 765f 5f60 2e0a 0a60 6060 7079 636f  div__`...```pyco
-00000900: 6e0a 3e3e 3e20 5345 4b28 3133 2920 2f2f  n.>>> SEK(13) //
-00000910: 2033 0a53 7562 756e 6974 4672 6163 7469   3.SubunitFracti
-00000920: 6f6e 2827 3133 3030 2f33 272c 2053 454b  on('1300/3', SEK
-00000930: 290a 6060 600a 0a42 6563 6175 7365 2074  ).```..Because t
-00000940: 6865 7265 2069 7320 6e6f 2067 7561 7261  here is no guara
-00000950: 6e74 6565 2074 6861 7420 6120 6053 7562  ntee that a `Sub
-00000960: 756e 6974 4672 6163 7469 6f6e 6020 6973  unitFraction` is
-00000970: 2061 2077 686f 6c65 2073 7562 756e 6974   a whole subunit
-00000980: 2028 6279 2064 6566 696e 6974 696f 6e0a   (by definition.
-00000990: 2e2e 2e29 2c20 636f 6e76 6572 7469 6e67  ...), converting
-000009a0: 2062 6163 6b20 746f 2060 4d6f 6e65 7960   back to `Money`
-000009b0: 2063 616e 206f 6e6c 7920 6265 2064 6f6e   can only be don
-000009c0: 6520 7769 7468 2070 7265 6369 7369 6f6e  e with precision
-000009d0: 206c 6f73 732e 0a0a 6060 6070 7963 6f6e   loss...```pycon
-000009e0: 0a3e 3e3e 2028 5345 4b28 3133 2920 2f2f  .>>> (SEK(13) //
-000009f0: 2033 292e 726f 756e 645f 6d6f 6e65 7928   3).round_money(
-00000a00: 526f 756e 642e 444f 574e 290a 4d6f 6e65  Round.DOWN).Mone
-00000a10: 7928 2734 2e33 3327 2c20 5345 4b29 0a60  y('4.33', SEK).`
-00000a20: 6060 0a0a 2323 2323 204f 7665 7264 7261  ``..#### Overdra
-00000a30: 6674 0a0a 4167 6169 6e20 7265 6665 7272  ft..Again referr
-00000a40: 696e 6720 746f 2072 6561 6c20 6c69 6665  ing to real life
-00000a50: 2c20 7468 6572 6520 6973 206e 6f20 7375  , there is no su
-00000a60: 6368 2074 6869 6e67 2061 7320 6e65 6761  ch thing as nega
-00000a70: 7469 7665 206d 6f6e 6579 2e20 466f 6c6c  tive money. Foll
-00000a80: 6f77 696e 6720 696e 2074 6865 0a73 616d  owing in the.sam
-00000a90: 6520 7665 696e 2061 7320 666f 7220 6e6f  e vein as for no
-00000aa0: 7420 616c 6c6f 7769 6e67 2073 7562 756e  t allowing subun
-00000ab0: 6974 7320 746f 2062 6520 7370 6c69 742c  its to be split,
-00000ac0: 2074 6865 2076 616c 7565 206f 6620 6120   the value of a 
-00000ad0: 604d 6f6e 6579 6020 696e 7374 616e 6365  `Money` instance
-00000ae0: 0a63 616e 6e6f 7420 6265 206e 6567 6174  .cannot be negat
-00000af0: 6976 652e 2049 6e73 7465 6164 2c20 746f  ive. Instead, to
-00000b00: 2072 6570 7265 7365 6e74 2066 6f72 2069   represent for i
-00000b10: 6e73 7461 6e63 6520 6120 6e65 6761 7469  nstance a negati
-00000b20: 7665 2062 616c 616e 6365 206f 6e20 616e  ve balance on an
-00000b30: 2061 6363 6f75 6e74 2c0a 7468 6973 206c   account,.this l
-00000b40: 6962 7261 7279 2065 7870 6f73 6573 2061  ibrary exposes a
-00000b50: 6e20 604f 7665 7264 7261 6674 6020 636c  n `Overdraft` cl
-00000b60: 6173 7320 7468 6174 2069 7320 7573 6564  ass that is used
-00000b70: 2061 7320 7265 7475 726e 2074 7970 6520   as return type 
-00000b80: 6f66 2060 4d6f 6e65 792e 5f5f 7375 625f  of `Money.__sub_
-00000b90: 5f60 0a77 6865 6e20 7468 6520 636f 6d70  _`.when the comp
-00000ba0: 7574 6564 2076 616c 7565 2077 6f75 6c64  uted value would
-00000bb0: 2068 6176 6520 6265 656e 206e 6567 6174   have been negat
-00000bc0: 6976 652e 0a0a 6060 6070 7963 6f6e 0a3e  ive...```pycon.>
-00000bd0: 3e3e 2062 616c 616e 6365 203d 2053 454b  >> balance = SEK
-00000be0: 2835 290a 3e3e 3e20 6261 6c61 6e63 6520  (5).>>> balance 
-00000bf0: 2d20 5345 4b28 3429 0a4d 6f6e 6579 2827  - SEK(4).Money('
-00000c00: 312e 3030 272c 2053 454b 290a 3e3e 3e20  1.00', SEK).>>> 
-00000c10: 6261 6c61 6e63 6520 2d20 5345 4b28 3529  balance - SEK(5)
-00000c20: 0a4d 6f6e 6579 2827 302e 3030 272c 2053  .Money('0.00', S
-00000c30: 454b 290a 3e3e 3e20 6261 6c61 6e63 6520  EK).>>> balance 
-00000c40: 2d20 5345 4b28 2236 2e35 3022 290a 4f76  - SEK("6.50").Ov
-00000c50: 6572 6472 6166 7428 2731 2e35 3027 2c20  erdraft('1.50', 
-00000c60: 5345 4b29 0a3e 3e3e 2062 616c 616e 6365  SEK).>>> balance
-00000c70: 202d 2053 454b 2822 362e 3530 2229 202b   - SEK("6.50") +
-00000c80: 2053 454b 2822 312e 3530 2229 0a4d 6f6e   SEK("1.50").Mon
-00000c90: 6579 2827 302e 3030 272c 2053 454b 290a  ey('0.00', SEK).
-00000ca0: 6060 600a 0a42 6563 6175 7365 206e 6567  ```..Because neg
-00000cb0: 6174 6976 6520 7661 6c75 6573 2061 7265  ative values are
-00000cc0: 2065 6e63 6f64 6564 2061 7320 6974 7320   encoded as its 
-00000cd0: 6f77 6e20 7479 7065 2069 6e20 7468 6973  own type in this
-00000ce0: 2077 6179 2c20 7369 7475 6174 696f 6e73   way, situations
-00000cf0: 2077 6865 7265 0a6e 6567 6174 6976 6520   where.negative 
-00000d00: 7661 6c75 6573 2063 616e 2072 6573 756c  values can resul
-00000d10: 7420 6672 6f6d 2061 7269 7468 6d65 7469  t from arithmeti
-00000d20: 6320 6275 7420 6172 656e 2774 206c 6f67  c but aren't log
-00000d30: 6963 616c 6c79 2065 7870 6563 7465 642c  ically expected,
-00000d40: 2073 7563 6820 6173 2066 6f72 0a74 6865   such as for.the
-00000d50: 2070 7269 6365 206f 6620 616e 2069 7465   price of an ite
-00000d60: 6d20 696e 2061 2073 746f 7265 2c20 6361  m in a store, ca
-00000d70: 6e20 6265 2064 6973 636f 7665 7265 6420  n be discovered 
-00000d80: 7769 7468 2061 2073 7461 7469 6320 7479  with a static ty
-00000d90: 7065 2063 6865 636b 6572 2e0a 0a23 2323  pe checker...###
-00000da0: 2320 5479 7065 2d73 6166 6520 636f 6d70  # Type-safe comp
-00000db0: 6172 6973 6f6e 0a0a 496e 7374 616e 6365  arison..Instance
-00000dc0: 7320 6f66 2060 4d6f 6e65 7960 2064 6f20  s of `Money` do 
-00000dd0: 6e6f 7420 7375 7070 6f72 7420 6469 7265  not support dire
-00000de0: 6374 2063 6f6d 7061 7269 736f 6e20 7769  ct comparison wi
-00000df0: 7468 206e 756d 6572 6963 2073 6361 6c61  th numeric scala
-00000e00: 7220 7661 6c75 6573 2e20 466f 720a 636f  r values. For.co
-00000e10: 6e76 656e 6965 6e63 6520 616e 2065 7863  nvenience an exc
-00000e20: 6570 7469 6f6e 2069 7320 6d61 6465 2066  eption is made f
-00000e30: 6f72 2069 6e74 6567 6572 207a 6572 6f2c  or integer zero,
-00000e40: 2077 6869 6368 2069 7320 616c 7761 7973   which is always
-00000e50: 2075 6e61 6d62 6967 756f 7573 2e0a 0a23   unambiguous...#
-00000e60: 2323 2320 496d 6d65 6469 6174 6520 616e  ### Immediate an
-00000e70: 6420 6675 6c6c 2069 6e73 7461 6e74 6961  d full instantia
-00000e80: 7469 6f6e 0a0a 2232 2064 6f6c 6c61 7273  tion.."2 dollars
-00000e90: 2220 6973 2072 6570 7265 7365 6e74 6564  " is represented
-00000ea0: 2065 7861 6374 6c79 2074 6865 2073 616d   exactly the sam
-00000eb0: 6520 6173 2022 322e 3030 2064 6f6c 6c61  e as "2.00 dolla
-00000ec0: 7273 222c 2069 6e20 6576 6572 7920 6173  rs", in every as
-00000ed0: 7065 6374 2e20 5468 6973 0a6d 6561 6e73  pect. This.means
-00000ee0: 2074 6861 7420 6e6f 726d 616c 697a 6174   that normalizat
-00000ef0: 696f 6e20 6f66 2076 616c 7565 7320 6861  ion of values ha
-00000f00: 7070 656e 2061 7420 696e 7374 616e 7469  ppen at instanti
-00000f10: 6174 696f 6e20 7469 6d65 2e0a 0a49 6e73  ation time...Ins
-00000f20: 7461 6e74 6961 7469 6e67 206e 6f72 6d61  tantiating norma
-00000f30: 6c69 7a65 7320 7072 6563 6973 696f 6e20  lizes precision 
-00000f40: 746f 2074 6865 206e 756d 6265 7220 6f66  to the number of
-00000f50: 2073 7562 756e 6974 7320 6f66 2074 6865   subunits of the
-00000f60: 2069 6e73 7461 6e74 6961 7465 640a 6375   instantiated.cu
-00000f70: 7272 656e 6379 2e0a 0a60 6060 7079 636f  rrency...```pyco
-00000f80: 6e0a 3e3e 3e20 4555 5228 3229 0a4d 6f6e  n.>>> EUR(2).Mon
-00000f90: 6579 2827 322e 3030 272c 2045 5552 290a  ey('2.00', EUR).
-00000fa0: 3e3e 3e20 4555 5228 2232 2e30 3030 2229  >>> EUR("2.000")
-00000fb0: 0a4d 6f6e 6579 2827 322e 3030 272c 2045  .Money('2.00', E
-00000fc0: 5552 290a 6060 600a 0a54 7279 696e 6720  UR).```..Trying 
-00000fd0: 746f 2069 6e73 7461 6e74 6961 7465 2077  to instantiate w
-00000fe0: 6974 6820 6120 7661 6c75 6520 7468 6174  ith a value that
-00000ff0: 2077 6f75 6c64 2072 6573 756c 7420 696e   would result in
-00001000: 2070 7265 6369 7369 6f6e 206c 6f73 7320   precision loss 
-00001010: 7261 6973 6573 2061 2072 756e 7469 6d65  raises a runtime
-00001020: 0a65 7272 6f72 2e0a 0a60 6060 7079 636f  .error...```pyco
-00001030: 6e0a 3e3e 3e20 4555 5228 2232 2e30 3031  n.>>> EUR("2.001
-00001040: 2229 0a54 7261 6365 6261 636b 2028 6d6f  ").Traceback (mo
-00001050: 7374 2072 6563 656e 7420 6361 6c6c 206c  st recent call l
-00001060: 6173 7429 3a0a 2020 2e2e 2e0a 696d 6d6f  ast):.  ....immo
-00001070: 6e65 792e 6572 726f 7273 2e4d 6f6e 6579  ney.errors.Money
-00001080: 5061 7273 6545 7272 6f72 3a20 4361 6e6e  ParseError: Cann
-00001090: 6f74 2069 6e74 6572 7072 6574 2076 616c  ot interpret val
-000010a0: 7565 2061 7320 4d6f 6e65 7920 6f66 2063  ue as Money of c
-000010b0: 7572 7265 6e63 7920 4555 5220 2e2e 2e0a  urrency EUR ....
-000010c0: 6060 600a 0a23 2323 2320 496e 7374 616e  ```..#### Instan
-000010d0: 6365 2063 6163 6865 0a0a 5369 6e63 6520  ce cache..Since 
-000010e0: 696e 7374 616e 6365 7320 6f66 2060 4d6f  instances of `Mo
-000010f0: 6e65 7960 2061 6e64 2060 4375 7272 656e  ney` and `Curren
-00001100: 6379 6020 6172 6520 696d 6d75 7461 626c  cy` are immutabl
-00001110: 6520 6974 2773 2073 6166 6520 746f 2072  e it's safe to r
-00001120: 6575 7365 2065 7869 7374 696e 670a 696e  euse existing.in
-00001130: 7374 616e 6365 7320 696e 7374 6561 6420  stances instead 
-00001140: 6f66 2069 6e73 7461 6e74 6961 7469 6e67  of instantiating
-00001150: 206e 6577 206f 6e65 732e 2054 6869 7320   new ones. This 
-00001160: 6861 7070 656e 7320 7472 616e 7370 6172  happens transpar
-00001170: 656e 746c 7920 7768 656e 0a69 6e73 7461  ently when.insta
-00001180: 6e74 6961 7469 6e67 2061 206e 6577 2060  ntiating a new `
-00001190: 4d6f 6e65 7960 2069 6e73 7461 6e63 6520  Money` instance 
-000011a0: 616e 6420 6361 6e20 6c65 6164 2074 6f20  and can lead to 
-000011b0: 6661 7374 6572 2063 6f64 6520 616e 6420  faster code and 
-000011c0: 6c65 7373 2063 6f6e 7375 6d65 640a 6d65  less consumed.me
-000011d0: 6d6f 7279 2e0a 0a23 2323 2320 5265 7472  mory...#### Retr
-000011e0: 6965 7669 6e67 2063 7572 7265 6e63 6965  ieving currencie
-000011f0: 7320 6279 2063 6f64 650a 0a43 7572 7265  s by code..Curre
-00001200: 6e63 6965 7320 6361 6e20 6265 2072 6574  ncies can be ret
-00001210: 7269 6576 6564 2062 7920 7468 6569 7220  rieved by their 
-00001220: 636f 6465 7320 7669 6120 6069 6d6d 6f6e  codes via `immon
-00001230: 6579 2e63 7572 7265 6e63 6965 732e 7265  ey.currencies.re
-00001240: 6769 7374 7279 602e 0a0a 6060 6070 7963  gistry`...```pyc
-00001250: 6f6e 0a3e 3e3e 2066 726f 6d20 696d 6d6f  on.>>> from immo
-00001260: 6e65 792e 6375 7272 656e 6369 6573 2069  ney.currencies i
-00001270: 6d70 6f72 7420 7265 6769 7374 7279 0a3e  mport registry.>
-00001280: 3e3e 2072 6567 6973 7472 795b 224e 4f4b  >> registry["NOK
-00001290: 225d 0a43 7572 7265 6e63 7928 636f 6465  "].Currency(code
-000012a0: 3d4e 4f4b 2c20 7375 6275 6e69 743d 3130  =NOK, subunit=10
-000012b0: 3029 0a3e 3e3e 2072 6567 6973 7472 795b  0).>>> registry[
-000012c0: 224d 5650 225d 0a43 7572 7265 6e63 7928  "MVP"].Currency(
-000012d0: 636f 6465 3d4d 5650 2c20 7375 6275 6e69  code=MVP, subuni
-000012e0: 743d 3129 0a3e 3e3e 2072 6567 6973 7472  t=1).>>> registr
-000012f0: 795b 2266 6f6f 225d 0a54 7261 6365 6261  y["foo"].Traceba
-00001300: 636b 2028 6d6f 7374 2072 6563 656e 7420  ck (most recent 
-00001310: 6361 6c6c 206c 6173 7429 3a0a 2020 2e2e  call last):.  ..
-00001320: 2e0a 4b65 7945 7272 6f72 3a20 2766 6f6f  ..KeyError: 'foo
-00001330: 270a 6060 600a 0a46 6f72 2063 7573 746f  '.```..For custo
-00001340: 6d20 6375 7272 656e 6379 2069 6d70 6c65  m currency imple
-00001350: 6d65 6e74 6174 696f 6e73 2c20 6069 6d6d  mentations, `imm
-00001360: 6f6e 6579 2e72 6567 6973 7472 792e 4375  oney.registry.Cu
-00001370: 7272 656e 6379 436f 6c6c 6563 746f 7260  rrencyCollector`
-00001380: 2063 616e 2062 6520 7573 6564 2074 6f0a   can be used to.
-00001390: 636f 6e73 7472 7563 7420 6120 6375 7374  construct a cust
-000013a0: 6f6d 2072 6567 6973 7472 792e 0a         om registry..
+000002f0: 3c2f 703e 0a0a 2323 2320 496e 7374 616c  </p>..### Instal
+00000300: 6c61 7469 6f6e 0a0a 6060 6073 6865 6c6c  lation..```shell
+00000310: 0a24 2070 6970 2069 6e73 7461 6c6c 202d  .$ pip install -
+00000320: 2d72 6571 7569 7265 2d76 656e 7620 696d  -require-venv im
+00000330: 6d6f 6e65 790a 6060 600a 0a23 2323 2044  money.```..### D
+00000340: 6573 6967 6e20 676f 616c 730a 0a54 6865  esign goals..The
+00000350: 7265 2061 7265 2061 2066 6577 2063 6f72  re are a few cor
+00000360: 6520 6465 7369 676e 2061 7370 6563 7473  e design aspects
+00000370: 206f 6620 7468 6973 206c 6962 7261 7279   of this library
+00000380: 2074 6861 7420 6561 6368 2065 6c69 6d69   that each elimi
+00000390: 6e61 7465 2065 6e74 6972 6520 636c 6173  nate entire clas
+000003a0: 7365 730a 6f66 2062 7567 733a 0a0a 2d20  ses.of bugs:..- 
+000003b0: 4578 706f 7365 6420 616e 6420 696e 7465  Exposed and inte
+000003c0: 726e 616c 2064 6174 6120 7479 7065 7320  rnal data types 
+000003d0: 6172 6520 6569 7468 6572 2069 6d6d 7574  are either immut
+000003e0: 6162 6c65 206f 7220 6661 7578 2069 6d6d  able or faux imm
+000003f0: 7574 6162 6c65 2e0a 2d20 496e 7661 6c69  utable..- Invali
+00000400: 6420 616d 6f75 6e74 7320 6f66 206d 6f6e  d amounts of mon
+00000410: 6579 2063 616e 6e6f 7420 6265 2072 6570  ey cannot be rep
+00000420: 7265 7365 6e74 6564 2e20 5468 6572 6520  resented. There 
+00000430: 6973 206e 6f20 7375 6368 2074 6869 6e67  is no such thing
+00000440: 2061 7320 6030 2e30 3031 6020 5553 0a20   as `0.001` US. 
+00000450: 2064 6f6c 6c61 7273 2c20 616e 6420 7468   dollars, and th
+00000460: 6572 6520 6973 206e 6f20 7375 6368 2074  ere is no such t
+00000470: 6869 6e67 2061 7320 6e65 6761 7469 7665  hing as negative
+00000480: 206d 6f6e 6579 2e0a 2d20 4275 696c 7469   money..- Builti
+00000490: 6e20 6f70 6572 6174 696f 6e73 206e 6576  n operations nev
+000004a0: 6572 2069 6d70 6c69 6369 746c 7920 6c6f  er implicitly lo
+000004b0: 7365 2070 7265 6369 7369 6f6e 2e0a 2d20  se precision..- 
+000004c0: 4275 696c 7420 6672 6f6d 2074 6865 2067  Built from the g
+000004d0: 726f 756e 642d 7570 2077 6974 6820 7375  round-up with su
+000004e0: 7070 6f72 7420 666f 7220 7374 6174 6963  pport for static
+000004f0: 2074 7970 6520 6368 6563 6b69 6e67 2069   type checking i
+00000500: 6e20 6d69 6e64 2e20 5468 6973 206d 6561  n mind. This mea
+00000510: 6e73 0a20 2074 6861 7420 6275 6773 2074  ns.  that bugs t
+00000520: 6861 7420 6174 7465 6d70 7420 746f 206d  hat attempt to m
+00000530: 6978 2063 7572 7265 6e63 6965 7320 6361  ix currencies ca
+00000540: 6e20 6265 2066 6f75 6e64 2062 7920 6120  n be found by a 
+00000550: 7374 6174 6963 2074 7970 6520 6368 6563  static type chec
+00000560: 6b65 722e 0a0a 2323 2320 4665 6174 7572  ker...### Featur
+00000570: 6573 0a0a 2323 2323 2053 6166 6520 6469  es..#### Safe di
+00000580: 7669 7369 6f6e 0a0a 496e 2072 6561 6c20  vision..In real 
+00000590: 6c69 6665 2077 6520 6361 6e6e 6f74 2073  life we cannot s
+000005a0: 706c 6974 2074 6865 2073 7562 756e 6974  plit the subunit
+000005b0: 206f 6620 6120 6375 7272 656e 6379 2c20   of a currency, 
+000005c0: 616e 6420 736f 2066 6f72 206f 7572 2061  and so for our a
+000005d0: 6273 7472 6163 7469 6f6e 7320 746f 0a73  bstractions to.s
+000005e0: 6166 656c 7920 7265 666c 6563 7420 7265  afely reflect re
+000005f0: 616c 6974 792c 2077 6520 7368 6f75 6c64  ality, we should
+00000600: 6e27 7420 6265 2061 626c 6520 746f 2064  n't be able to d
+00000610: 6f20 7468 6174 2069 6e20 636f 6465 2065  o that in code e
+00000620: 6974 6865 722e 2054 6865 7265 666f 7265  ither. Therefore
+00000630: 0a69 6e73 7465 6164 206f 6620 6465 6669  .instead of defi
+00000640: 6e69 6e67 2064 6976 6973 696f 6e20 746f  ning division to
+00000650: 2072 6574 7572 6e20 6120 7661 6c75 6520   return a value 
+00000660: 7769 7468 2070 7265 6369 7369 6f6e 206c  with precision l
+00000670: 6f73 732c 2074 6865 2069 6d70 6c65 6d65  oss, the impleme
+00000680: 6e74 6174 696f 6e0a 6f66 2064 6976 6973  ntation.of divis
+00000690: 696f 6e20 666f 7220 604d 6f6e 6579 6020  ion for `Money` 
+000006a0: 7265 7475 726e 7320 6120 7475 706c 6520  returns a tuple 
+000006b0: 6f66 206e 6577 2069 6e73 7461 6e63 6573  of new instances
+000006c0: 2077 6974 6820 7468 6520 7661 6c75 6520   with the value 
+000006d0: 7370 6c69 7420 7570 2061 7320 6576 656e  split up as even
+000006e0: 0a61 7320 706f 7373 6962 6c65 2e0a 0a60  .as possible...`
+000006f0: 6060 7079 636f 6e0a 3e3e 3e20 4d6f 6e65  ``pycon.>>> Mone
+00000700: 7928 2230 2e31 3122 2c20 5345 4b29 202f  y("0.11", SEK) /
+00000710: 2033 0a28 4d6f 6e65 7928 2730 2e30 3427   3.(Money('0.04'
+00000720: 2c20 5345 4b29 2c20 4d6f 6e65 7928 2730  , SEK), Money('0
+00000730: 2e30 3427 2c20 5345 4b29 2c20 4d6f 6e65  .04', SEK), Mone
+00000740: 7928 2730 2e30 3327 2c20 5345 4b29 290a  y('0.03', SEK)).
+00000750: 6060 600a 0a54 6869 7320 6d65 7468 6f64  ```..This method
+00000760: 206f 6620 6469 7669 7369 6f6e 2077 696c   of division wil
+00000770: 6c20 616c 7761 7973 2062 6520 7361 6665  l always be safe
+00000780: 2c20 6173 2069 7420 6861 7320 7468 6520  , as it has the 
+00000790: 6775 6172 616e 7465 6564 2070 726f 7065  guaranteed prope
+000007a0: 7274 7920 7468 6174 2074 6865 0a73 756d  rty that the.sum
+000007b0: 206f 6620 7468 6520 696e 7374 616e 6365   of the instance
+000007c0: 7320 7265 7475 726e 6564 2062 7920 7468  s returned by th
+000007d0: 6520 6f70 6572 6174 696f 6e20 616c 7761  e operation alwa
+000007e0: 7973 2065 7175 616c 2074 6865 206f 7269  ys equal the ori
+000007f0: 6769 6e61 6c20 6e75 6d65 7261 746f 722e  ginal numerator.
+00000800: 0a0a 2323 2323 2053 7562 756e 6974 2066  ..#### Subunit f
+00000810: 7261 6374 696f 6e73 0a0a 536f 6d65 7469  ractions..Someti
+00000820: 6d65 7320 7765 2064 6f20 6e65 6564 2074  mes we do need t
+00000830: 6f20 7265 7072 6573 656e 7420 6672 6163  o represent frac
+00000840: 7469 6f6e 7320 6f66 206d 6f6e 6574 6172  tions of monetar
+00000850: 7920 7661 6c75 6573 2074 6861 7420 6172  y values that ar
+00000860: 6520 736d 616c 6c65 7220 7468 616e 2074  e smaller than t
+00000870: 6865 0a73 7562 756e 6974 206f 6620 6120  he.subunit of a 
+00000880: 6375 7272 656e 6379 2c20 666f 7220 696e  currency, for in
+00000890: 7374 616e 6365 2061 7320 6120 7061 7274  stance as a part
+000008a0: 6961 6c20 7265 7375 6c74 206f 6620 6120  ial result of a 
+000008b0: 6c61 7267 6572 2065 7175 6174 696f 6e2e  larger equation.
+000008c0: 2046 6f72 2074 6861 740a 7075 7270 6f73   For that.purpos
+000008d0: 652c 2074 6869 7320 6c69 6272 6172 7920  e, this library 
+000008e0: 6578 706f 7365 7320 6120 6053 7562 756e  exposes a `Subun
+000008f0: 6974 4672 6163 7469 6f6e 6020 7479 7065  itFraction` type
+00000900: 2e20 5468 6973 2074 7970 6520 6973 2075  . This type is u
+00000910: 7365 6420 6173 2072 6574 7572 6e20 7479  sed as return ty
+00000920: 7065 0a66 6f72 2060 4d6f 6e65 792e 5f5f  pe.for `Money.__
+00000930: 666c 6f6f 7264 6976 5f5f 602e 0a0a 6060  floordiv__`...``
+00000940: 6070 7963 6f6e 0a3e 3e3e 2053 454b 2831  `pycon.>>> SEK(1
+00000950: 3329 202f 2f20 330a 5375 6275 6e69 7446  3) // 3.SubunitF
+00000960: 7261 6374 696f 6e28 2731 3330 302f 3327  raction('1300/3'
+00000970: 2c20 5345 4b29 0a60 6060 0a0a 4265 6361  , SEK).```..Beca
+00000980: 7573 6520 7468 6572 6520 6973 206e 6f20  use there is no 
+00000990: 6775 6172 616e 7465 6520 7468 6174 2061  guarantee that a
+000009a0: 2060 5375 6275 6e69 7446 7261 6374 696f   `SubunitFractio
+000009b0: 6e60 2069 7320 6120 7768 6f6c 6520 7375  n` is a whole su
+000009c0: 6275 6e69 7420 2862 7920 6465 6669 6e69  bunit (by defini
+000009d0: 7469 6f6e 0a2e 2e2e 292c 2063 6f6e 7665  tion....), conve
+000009e0: 7274 696e 6720 6261 636b 2074 6f20 604d  rting back to `M
+000009f0: 6f6e 6579 6020 6361 6e20 6f6e 6c79 2062  oney` can only b
+00000a00: 6520 646f 6e65 2077 6974 6820 7072 6563  e done with prec
+00000a10: 6973 696f 6e20 6c6f 7373 2e0a 0a60 6060  ision loss...```
+00000a20: 7079 636f 6e0a 3e3e 3e20 2853 454b 2831  pycon.>>> (SEK(1
+00000a30: 3329 202f 2f20 3329 2e72 6f75 6e64 5f6d  3) // 3).round_m
+00000a40: 6f6e 6579 2852 6f75 6e64 2e44 4f57 4e29  oney(Round.DOWN)
+00000a50: 0a4d 6f6e 6579 2827 342e 3333 272c 2053  .Money('4.33', S
+00000a60: 454b 290a 6060 600a 0a23 2323 2320 4f76  EK).```..#### Ov
+00000a70: 6572 6472 6166 740a 0a41 6761 696e 2072  erdraft..Again r
+00000a80: 6566 6572 7269 6e67 2074 6f20 7265 616c  eferring to real
+00000a90: 206c 6966 652c 2074 6865 7265 2069 7320   life, there is 
+00000aa0: 6e6f 2073 7563 6820 7468 696e 6720 6173  no such thing as
+00000ab0: 206e 6567 6174 6976 6520 6d6f 6e65 792e   negative money.
+00000ac0: 2046 6f6c 6c6f 7769 6e67 2069 6e20 7468   Following in th
+00000ad0: 650a 7361 6d65 2076 6569 6e20 6173 2066  e.same vein as f
+00000ae0: 6f72 206e 6f74 2061 6c6c 6f77 696e 6720  or not allowing 
+00000af0: 7375 6275 6e69 7473 2074 6f20 6265 2073  subunits to be s
+00000b00: 706c 6974 2c20 7468 6520 7661 6c75 6520  plit, the value 
+00000b10: 6f66 2061 2060 4d6f 6e65 7960 2069 6e73  of a `Money` ins
+00000b20: 7461 6e63 650a 6361 6e6e 6f74 2062 6520  tance.cannot be 
+00000b30: 6e65 6761 7469 7665 2e20 496e 7374 6561  negative. Instea
+00000b40: 642c 2074 6f20 7265 7072 6573 656e 7420  d, to represent 
+00000b50: 666f 7220 696e 7374 616e 6365 2061 206e  for instance a n
+00000b60: 6567 6174 6976 6520 6261 6c61 6e63 6520  egative balance 
+00000b70: 6f6e 2061 6e20 6163 636f 756e 742c 0a74  on an account,.t
+00000b80: 6869 7320 6c69 6272 6172 7920 6578 706f  his library expo
+00000b90: 7365 7320 616e 2060 4f76 6572 6472 6166  ses an `Overdraf
+00000ba0: 7460 2063 6c61 7373 2074 6861 7420 6973  t` class that is
+00000bb0: 2075 7365 6420 6173 2072 6574 7572 6e20   used as return 
+00000bc0: 7479 7065 206f 6620 604d 6f6e 6579 2e5f  type of `Money._
+00000bd0: 5f73 7562 5f5f 600a 7768 656e 2074 6865  _sub__`.when the
+00000be0: 2063 6f6d 7075 7465 6420 7661 6c75 6520   computed value 
+00000bf0: 776f 756c 6420 6861 7665 2062 6565 6e20  would have been 
+00000c00: 6e65 6761 7469 7665 2e0a 0a60 6060 7079  negative...```py
+00000c10: 636f 6e0a 3e3e 3e20 6261 6c61 6e63 6520  con.>>> balance 
+00000c20: 3d20 5345 4b28 3529 0a3e 3e3e 2062 616c  = SEK(5).>>> bal
+00000c30: 616e 6365 202d 2053 454b 2834 290a 4d6f  ance - SEK(4).Mo
+00000c40: 6e65 7928 2731 2e30 3027 2c20 5345 4b29  ney('1.00', SEK)
+00000c50: 0a3e 3e3e 2062 616c 616e 6365 202d 2053  .>>> balance - S
+00000c60: 454b 2835 290a 4d6f 6e65 7928 2730 2e30  EK(5).Money('0.0
+00000c70: 3027 2c20 5345 4b29 0a3e 3e3e 2062 616c  0', SEK).>>> bal
+00000c80: 616e 6365 202d 2053 454b 2822 362e 3530  ance - SEK("6.50
+00000c90: 2229 0a4f 7665 7264 7261 6674 2827 312e  ").Overdraft('1.
+00000ca0: 3530 272c 2053 454b 290a 3e3e 3e20 6261  50', SEK).>>> ba
+00000cb0: 6c61 6e63 6520 2d20 5345 4b28 2236 2e35  lance - SEK("6.5
+00000cc0: 3022 2920 2b20 5345 4b28 2231 2e35 3022  0") + SEK("1.50"
+00000cd0: 290a 4d6f 6e65 7928 2730 2e30 3027 2c20  ).Money('0.00', 
+00000ce0: 5345 4b29 0a60 6060 0a0a 4265 6361 7573  SEK).```..Becaus
+00000cf0: 6520 6e65 6761 7469 7665 2076 616c 7565  e negative value
+00000d00: 7320 6172 6520 656e 636f 6465 6420 6173  s are encoded as
+00000d10: 2069 7473 206f 776e 2074 7970 6520 696e   its own type in
+00000d20: 2074 6869 7320 7761 792c 2073 6974 7561   this way, situa
+00000d30: 7469 6f6e 7320 7768 6572 650a 6e65 6761  tions where.nega
+00000d40: 7469 7665 2076 616c 7565 7320 6361 6e20  tive values can 
+00000d50: 7265 7375 6c74 2066 726f 6d20 6172 6974  result from arit
+00000d60: 686d 6574 6963 2062 7574 2061 7265 6e27  hmetic but aren'
+00000d70: 7420 6c6f 6769 6361 6c6c 7920 6578 7065  t logically expe
+00000d80: 6374 6564 2c20 7375 6368 2061 7320 666f  cted, such as fo
+00000d90: 720a 7468 6520 7072 6963 6520 6f66 2061  r.the price of a
+00000da0: 6e20 6974 656d 2069 6e20 6120 7374 6f72  n item in a stor
+00000db0: 652c 2063 616e 2062 6520 6469 7363 6f76  e, can be discov
+00000dc0: 6572 6564 2077 6974 6820 6120 7374 6174  ered with a stat
+00000dd0: 6963 2074 7970 6520 6368 6563 6b65 722e  ic type checker.
+00000de0: 0a0a 2323 2323 2054 7970 652d 7361 6665  ..#### Type-safe
+00000df0: 2063 6f6d 7061 7269 736f 6e0a 0a49 6e73   comparison..Ins
+00000e00: 7461 6e63 6573 206f 6620 604d 6f6e 6579  tances of `Money
+00000e10: 6020 646f 206e 6f74 2073 7570 706f 7274  ` do not support
+00000e20: 2064 6972 6563 7420 636f 6d70 6172 6973   direct comparis
+00000e30: 6f6e 2077 6974 6820 6e75 6d65 7269 6320  on with numeric 
+00000e40: 7363 616c 6172 2076 616c 7565 732e 2046  scalar values. F
+00000e50: 6f72 0a63 6f6e 7665 6e69 656e 6365 2061  or.convenience a
+00000e60: 6e20 6578 6365 7074 696f 6e20 6973 206d  n exception is m
+00000e70: 6164 6520 666f 7220 696e 7465 6765 7220  ade for integer 
+00000e80: 7a65 726f 2c20 7768 6963 6820 6973 2061  zero, which is a
+00000e90: 6c77 6179 7320 756e 616d 6269 6775 6f75  lways unambiguou
+00000ea0: 732e 0a0a 2323 2323 2049 6d6d 6564 6961  s...#### Immedia
+00000eb0: 7465 2061 6e64 2066 756c 6c20 696e 7374  te and full inst
+00000ec0: 616e 7469 6174 696f 6e0a 0a22 3220 646f  antiation.."2 do
+00000ed0: 6c6c 6172 7322 2069 7320 7265 7072 6573  llars" is repres
+00000ee0: 656e 7465 6420 6578 6163 746c 7920 7468  ented exactly th
+00000ef0: 6520 7361 6d65 2061 7320 2232 2e30 3020  e same as "2.00 
+00000f00: 646f 6c6c 6172 7322 2c20 696e 2065 7665  dollars", in eve
+00000f10: 7279 2061 7370 6563 742e 2054 6869 730a  ry aspect. This.
+00000f20: 6d65 616e 7320 7468 6174 206e 6f72 6d61  means that norma
+00000f30: 6c69 7a61 7469 6f6e 206f 6620 7661 6c75  lization of valu
+00000f40: 6573 2068 6170 7065 6e20 6174 2069 6e73  es happen at ins
+00000f50: 7461 6e74 6961 7469 6f6e 2074 696d 652e  tantiation time.
+00000f60: 0a0a 496e 7374 616e 7469 6174 696e 6720  ..Instantiating 
+00000f70: 6e6f 726d 616c 697a 6573 2070 7265 6369  normalizes preci
+00000f80: 7369 6f6e 2074 6f20 7468 6520 6e75 6d62  sion to the numb
+00000f90: 6572 206f 6620 7375 6275 6e69 7473 206f  er of subunits o
+00000fa0: 6620 7468 6520 696e 7374 616e 7469 6174  f the instantiat
+00000fb0: 6564 0a63 7572 7265 6e63 792e 0a0a 6060  ed.currency...``
+00000fc0: 6070 7963 6f6e 0a3e 3e3e 2045 5552 2832  `pycon.>>> EUR(2
+00000fd0: 290a 4d6f 6e65 7928 2732 2e30 3027 2c20  ).Money('2.00', 
+00000fe0: 4555 5229 0a3e 3e3e 2045 5552 2822 322e  EUR).>>> EUR("2.
+00000ff0: 3030 3022 290a 4d6f 6e65 7928 2732 2e30  000").Money('2.0
+00001000: 3027 2c20 4555 5229 0a60 6060 0a0a 5472  0', EUR).```..Tr
+00001010: 7969 6e67 2074 6f20 696e 7374 616e 7469  ying to instanti
+00001020: 6174 6520 7769 7468 2061 2076 616c 7565  ate with a value
+00001030: 2074 6861 7420 776f 756c 6420 7265 7375   that would resu
+00001040: 6c74 2069 6e20 7072 6563 6973 696f 6e20  lt in precision 
+00001050: 6c6f 7373 2072 6169 7365 7320 6120 7275  loss raises a ru
+00001060: 6e74 696d 650a 6572 726f 722e 0a0a 6060  ntime.error...``
+00001070: 6070 7963 6f6e 0a3e 3e3e 2045 5552 2822  `pycon.>>> EUR("
+00001080: 322e 3030 3122 290a 5472 6163 6562 6163  2.001").Tracebac
+00001090: 6b20 286d 6f73 7420 7265 6365 6e74 2063  k (most recent c
+000010a0: 616c 6c20 6c61 7374 293a 0a20 202e 2e2e  all last):.  ...
+000010b0: 0a69 6d6d 6f6e 6579 2e65 7272 6f72 732e  .immoney.errors.
+000010c0: 4d6f 6e65 7950 6172 7365 4572 726f 723a  MoneyParseError:
+000010d0: 2043 616e 6e6f 7420 696e 7465 7270 7265   Cannot interpre
+000010e0: 7420 7661 6c75 6520 6173 204d 6f6e 6579  t value as Money
+000010f0: 206f 6620 6375 7272 656e 6379 2045 5552   of currency EUR
+00001100: 202e 2e2e 0a60 6060 0a0a 2323 2323 2049   ....```..#### I
+00001110: 6e73 7461 6e63 6520 6361 6368 650a 0a53  nstance cache..S
+00001120: 696e 6365 2069 6e73 7461 6e63 6573 206f  ince instances o
+00001130: 6620 604d 6f6e 6579 6020 616e 6420 6043  f `Money` and `C
+00001140: 7572 7265 6e63 7960 2061 7265 2069 6d6d  urrency` are imm
+00001150: 7574 6162 6c65 2069 7427 7320 7361 6665  utable it's safe
+00001160: 2074 6f20 7265 7573 6520 6578 6973 7469   to reuse existi
+00001170: 6e67 0a69 6e73 7461 6e63 6573 2069 6e73  ng.instances ins
+00001180: 7465 6164 206f 6620 696e 7374 616e 7469  tead of instanti
+00001190: 6174 696e 6720 6e65 7720 6f6e 6573 2e20  ating new ones. 
+000011a0: 5468 6973 2068 6170 7065 6e73 2074 7261  This happens tra
+000011b0: 6e73 7061 7265 6e74 6c79 2077 6865 6e0a  nsparently when.
+000011c0: 696e 7374 616e 7469 6174 696e 6720 6120  instantiating a 
+000011d0: 6e65 7720 604d 6f6e 6579 6020 696e 7374  new `Money` inst
+000011e0: 616e 6365 2061 6e64 2063 616e 206c 6561  ance and can lea
+000011f0: 6420 746f 2066 6173 7465 7220 636f 6465  d to faster code
+00001200: 2061 6e64 206c 6573 7320 636f 6e73 756d   and less consum
+00001210: 6564 0a6d 656d 6f72 792e 0a0a 2323 2323  ed.memory...####
+00001220: 2052 6574 7269 6576 696e 6720 6375 7272   Retrieving curr
+00001230: 656e 6369 6573 2062 7920 636f 6465 0a0a  encies by code..
+00001240: 4375 7272 656e 6369 6573 2063 616e 2062  Currencies can b
+00001250: 6520 7265 7472 6965 7665 6420 6279 2074  e retrieved by t
+00001260: 6865 6972 2063 6f64 6573 2076 6961 2060  heir codes via `
+00001270: 696d 6d6f 6e65 792e 6375 7272 656e 6369  immoney.currenci
+00001280: 6573 2e72 6567 6973 7472 7960 2e0a 0a60  es.registry`...`
+00001290: 6060 7079 636f 6e0a 3e3e 3e20 6672 6f6d  ``pycon.>>> from
+000012a0: 2069 6d6d 6f6e 6579 2e63 7572 7265 6e63   immoney.currenc
+000012b0: 6965 7320 696d 706f 7274 2072 6567 6973  ies import regis
+000012c0: 7472 790a 3e3e 3e20 7265 6769 7374 7279  try.>>> registry
+000012d0: 5b22 4e4f 4b22 5d0a 4375 7272 656e 6379  ["NOK"].Currency
+000012e0: 2863 6f64 653d 4e4f 4b2c 2073 7562 756e  (code=NOK, subun
+000012f0: 6974 3d31 3030 290a 3e3e 3e20 7265 6769  it=100).>>> regi
+00001300: 7374 7279 5b22 4d56 5022 5d0a 4375 7272  stry["MVP"].Curr
+00001310: 656e 6379 2863 6f64 653d 4d56 502c 2073  ency(code=MVP, s
+00001320: 7562 756e 6974 3d31 290a 3e3e 3e20 7265  ubunit=1).>>> re
+00001330: 6769 7374 7279 5b22 666f 6f22 5d0a 5472  gistry["foo"].Tr
+00001340: 6163 6562 6163 6b20 286d 6f73 7420 7265  aceback (most re
+00001350: 6365 6e74 2063 616c 6c20 6c61 7374 293a  cent call last):
+00001360: 0a20 202e 2e2e 0a4b 6579 4572 726f 723a  .  ....KeyError:
+00001370: 2027 666f 6f27 0a60 6060 0a0a 2323 2323   'foo'.```..####
+00001380: 2043 7573 746f 6d20 6375 7272 656e 6379   Custom currency
+00001390: 2072 6567 6973 7472 6965 730a 0a54 6865   registries..The
+000013a0: 206c 6962 7261 7279 2073 6869 7073 2077   library ships w
+000013b0: 6974 6820 6120 7365 6e73 6962 6c65 2073  ith a sensible s
+000013c0: 6574 206f 6620 6465 6661 756c 7420 6375  et of default cu
+000013d0: 7272 656e 6369 6573 2c20 686f 7765 7665  rrencies, howeve
+000013e0: 722c 2079 6f75 206d 6967 6874 2077 616e  r, you might wan
+000013f0: 7420 746f 0a75 7365 2061 2063 7573 746f  t to.use a custo
+00001400: 6d20 7265 6769 7374 7279 2066 6f72 2074  m registry for t
+00001410: 776f 2072 6561 736f 6e73 3a0a 0a2d 2059  wo reasons:..- Y
+00001420: 6f75 2077 616e 7420 746f 2075 7365 206e  ou want to use n
+00001430: 6f6e 2d64 6566 6175 6c74 2063 7572 7265  on-default curre
+00001440: 6e63 6965 732e 0a2d 2059 6f75 206f 6e6c  ncies..- You onl
+00001450: 7920 7761 6e74 2074 6f20 616c 6c6f 7720  y want to allow 
+00001460: 6120 7375 6273 6574 206f 6620 7468 6520  a subset of the 
+00001470: 6465 6661 756c 7420 6375 7272 656e 6369  default currenci
+00001480: 6573 2e0a 0a54 6f20 6163 6869 6576 6520  es...To achieve 
+00001490: 7468 6973 2c20 796f 7520 6361 6e20 636f  this, you can co
+000014a0: 6e73 7472 7563 7420 6120 6375 7374 6f6d  nstruct a custom
+000014b0: 2073 6574 206f 6620 7479 7065 732e 2049   set of types. I
+000014c0: 7427 7320 7265 636f 6d6d 656e 6465 6420  t's recommended 
+000014d0: 746f 2075 7365 2061 0a63 7573 746f 6d20  to use a.custom 
+000014e0: 6162 7374 7261 6374 2062 6173 6520 636c  abstract base cl
+000014f0: 6173 7320 666f 7220 7468 6973 2c20 7468  ass for this, th
+00001500: 6973 2077 6179 2074 6869 6e67 7320 7769  is way things wi
+00001510: 6c6c 2061 6c73 6f20 706c 6179 206e 6963  ll also play nic
+00001520: 6520 7769 7468 2074 6865 0a50 7964 616e  e with the.Pydan
+00001530: 7469 6320 696e 7465 6772 6174 696f 6e2e  tic integration.
+00001540: 0a0a 6060 6070 7974 686f 6e0a 696d 706f  ..```python.impo
+00001550: 7274 2061 6263 0a66 726f 6d20 7479 7069  rt abc.from typi
+00001560: 6e67 2069 6d70 6f72 7420 4669 6e61 6c0a  ng import Final.
+00001570: 6672 6f6d 2069 6d6d 6f6e 6579 2e72 6567  from immoney.reg
+00001580: 6973 7472 7920 696d 706f 7274 2043 7572  istry import Cur
+00001590: 7265 6e63 7943 6f6c 6c65 6374 6f72 0a66  rencyCollector.f
+000015a0: 726f 6d20 696d 6d6f 6e65 792e 6375 7272  rom immoney.curr
+000015b0: 656e 6369 6573 2069 6d70 6f72 7420 4375  encies import Cu
+000015c0: 7272 656e 6379 0a0a 5f5f 6375 7272 656e  rrency..__curren
+000015d0: 6369 6573 203d 2043 7572 7265 6e63 7943  cies = CurrencyC
+000015e0: 6f6c 6c65 6374 6f72 2829 0a0a 0a63 6c61  ollector()...cla
+000015f0: 7373 2053 7061 6365 4375 7272 656e 6379  ss SpaceCurrency
+00001600: 2843 7572 7265 6e63 792c 2061 6263 2e41  (Currency, abc.A
+00001610: 4243 293a 0a20 2020 202e 2e2e 0a0a 0a63  BC):.    ......c
+00001620: 6c61 7373 204d 6f6f 6e43 6f69 6e54 7970  lass MoonCoinTyp
+00001630: 6528 5370 6163 6543 7572 7265 6e63 7929  e(SpaceCurrency)
+00001640: 3a0a 2020 2020 7375 6275 6e69 7420 3d20  :.    subunit = 
+00001650: 3130 305f 3030 300a 2020 2020 636f 6465  100_000.    code
+00001660: 203d 2022 4d43 4e22 0a0a 0a4d 434e 3a20   = "MCN"...MCN: 
+00001670: 4669 6e61 6c20 3d20 4d6f 6f6e 436f 696e  Final = MoonCoin
+00001680: 5479 7065 2829 0a5f 5f63 7572 7265 6e63  Type().__currenc
+00001690: 6965 732e 6164 6428 4d43 4e29 0a0a 0a63  ies.add(MCN)...c
+000016a0: 6c61 7373 204a 7570 6974 6572 446f 6c6c  lass JupiterDoll
+000016b0: 6172 5479 7065 2853 7061 6365 4375 7272  arType(SpaceCurr
+000016c0: 656e 6379 293a 0a20 2020 2073 7562 756e  ency):.    subun
+000016d0: 6974 203d 2031 3030 0a20 2020 2063 6f64  it = 100.    cod
+000016e0: 6520 3d20 224a 434e 220a 0a0a 4a43 4e3a  e = "JCN"...JCN:
+000016f0: 2046 696e 616c 203d 204a 7570 6974 6572   Final = Jupiter
+00001700: 446f 6c6c 6172 5479 7065 2829 0a5f 5f63  DollarType().__c
+00001710: 7572 7265 6e63 6965 732e 6164 6428 4a43  urrencies.add(JC
+00001720: 4e29 0a0a 6375 7374 6f6d 5f72 6567 6973  N)..custom_regis
+00001730: 7472 793a 2046 696e 616c 203d 205f 5f63  try: Final = __c
+00001740: 7572 7265 6e63 6965 732e 6669 6e61 6c69  urrencies.finali
+00001750: 7a65 2829 0a60 6060 0a0a 2323 2323 2050  ze().```..#### P
+00001760: 7964 616e 7469 6320 5632 2073 7570 706f  ydantic V2 suppo
+00001770: 7274 0a0a 496e 7374 616c 6c20 6120 636f  rt..Install a co
+00001780: 6d70 6174 6962 6c65 2050 7964 616e 7469  mpatible Pydanti
+00001790: 6320 7665 7273 696f 6e20 6279 2073 7570  c version by sup
+000017a0: 706c 7969 6e67 2074 6865 2060 5b70 7964  plying the `[pyd
+000017b0: 616e 7469 635d 6020 6578 7472 612e 0a0a  antic]` extra...
+000017c0: 6060 6073 6865 6c6c 0a24 2070 6970 2069  ```shell.$ pip i
+000017d0: 6e73 7461 6c6c 202d 2d72 6571 7569 7265  nstall --require
+000017e0: 2d76 656e 7620 696d 6d6f 6e65 795b 7079  -venv immoney[py
+000017f0: 6461 6e74 6963 5d0a 6060 600a 0a54 6865  dantic].```..The
+00001800: 2060 4375 7272 656e 6379 602c 2060 4d6f   `Currency`, `Mo
+00001810: 6e65 7960 2c20 6053 7562 756e 6974 4672  ney`, `SubunitFr
+00001820: 6163 7469 6f6e 6020 616e 6420 604f 7665  action` and `Ove
+00001830: 7264 7261 6674 6020 656e 7469 7469 6573  rdraft` entities
+00001840: 2063 616e 2061 6c6c 2062 6520 7573 6564   can all be used
+00001850: 2061 730a 5079 6461 6e74 6963 206d 6f64   as.Pydantic mod
+00001860: 656c 2066 6965 6c64 732e 0a0a 6060 6070  el fields...```p
+00001870: 7963 6f6e 0a3e 3e3e 2066 726f 6d20 7079  ycon.>>> from py
+00001880: 6461 6e74 6963 2069 6d70 6f72 7420 4261  dantic import Ba
+00001890: 7365 4d6f 6465 6c0a 3e3e 3e20 6672 6f6d  seModel.>>> from
+000018a0: 2069 6d6d 6f6e 6579 2069 6d70 6f72 7420   immoney import 
+000018b0: 4d6f 6e65 790a 3e3e 3e20 6672 6f6d 2069  Money.>>> from i
+000018c0: 6d6d 6f6e 6579 2e63 7572 7265 6e63 6965  mmoney.currencie
+000018d0: 7320 696d 706f 7274 2055 5344 0a3e 3e3e  s import USD.>>>
+000018e0: 2063 6c61 7373 204d 6f64 656c 2842 6173   class Model(Bas
+000018f0: 654d 6f64 656c 2c20 6672 6f7a 656e 3d54  eModel, frozen=T
+00001900: 7275 6529 3a0a 2e2e 2e20 2020 2020 6d6f  rue):....     mo
+00001910: 6e65 793a 204d 6f6e 6579 0a3e 3e3e 2070  ney: Money.>>> p
+00001920: 7269 6e74 2869 6e73 7461 6e63 652e 6d6f  rint(instance.mo
+00001930: 6465 6c5f 6475 6d70 5f6a 736f 6e28 696e  del_dump_json(in
+00001940: 6465 6e74 3d32 2929 0a7b 0a20 2022 6d6f  dent=2)).{.  "mo
+00001950: 6e65 7922 3a20 7b0a 2020 2020 2273 7562  ney": {.    "sub
+00001960: 756e 6974 7322 3a20 3235 3030 302c 0a20  units": 25000,. 
+00001970: 2020 2022 6375 7272 656e 6379 223a 2022     "currency": "
+00001980: 5553 4422 0a20 207d 0a7d 0a60 6060 0a    USD".  }.}.```.
```

### Comparing `immoney-0.1.0/setup.cfg` & `immoney-0.2.0/setup.cfg`

 * *Files 7% similar despite different names*

```diff
@@ -23,26 +23,28 @@
 [options]
 include_package_data = True
 package_dir = 
 	=src
 packages = find:
 python_requires = >=3.10
 install_requires = 
-	phantom-types>=0.16.0
-	typing-extensions>=4.2.0
+	phantom-types>=2.1.0
+	typing-extensions>=4.6.3
 	abcattrs>=0.3.2
 	immutables>=0.19.0
 
 [options.packages.find]
 where = src
 
 [options.package_data]
 immoney = py.typed
 
 [options.extras_require]
+pydantic = 
+	pydantic>=2.0b3
 test = 
 	pytest
 	coverage
 	hypothesis
 
 [flake8]
 exclude = appveyor,.idea,.git,.venv,.tox,__pycache__,*.egg-info,build
@@ -90,12 +92,13 @@
 
 [coverage:report]
 skip_covered = True
 show_missing = True
 exclude_lines = 
 	pragma: no cover
 	^\s*\.\.\.
+	^\s*if TYPE_CHECKING:$
 
 [egg_info]
 tag_build = 
 tag_date = 0
```

### Comparing `immoney-0.1.0/src/immoney/_base.py` & `immoney-0.2.0/src/immoney/_base.py`

 * *Files 20% similar despite different names*

```diff
@@ -9,14 +9,15 @@
 from decimal import ROUND_HALF_DOWN
 from decimal import ROUND_HALF_EVEN
 from decimal import ROUND_HALF_UP
 from decimal import ROUND_UP
 from decimal import Decimal
 from fractions import Fraction
 from functools import cached_property
+from typing import TYPE_CHECKING
 from typing import Any
 from typing import ClassVar
 from typing import Final
 from typing import Generic
 from typing import TypeVar
 from typing import cast
 from typing import final
@@ -29,25 +30,33 @@
 from ._frozen import Frozen
 from .errors import DivisionByZero
 from .errors import InvalidSubunit
 from .errors import MoneyParseError
 from .types import ParsableMoneyValue
 from .types import PositiveDecimal
 
+if TYPE_CHECKING:
+    from pydantic_core.core_schema import CoreSchema
+
+    from .registry import CurrencyRegistry
+
 CurrencySelf = TypeVar("CurrencySelf", bound="Currency")
-valid_subunit: Final = frozenset({1, 10, 100, 1_000, 10_000, 100_000, 1_000_000})
+valid_subunit: Final = frozenset({10**i for i in range(20)})
 
 
 @abstractattrs
 class Currency(Frozen, abc.ABC):
     code: ClassVar[Abstract[str]]
     subunit: ClassVar[Abstract[int]]
 
     def __init_subclass__(cls, **kwargs: Any) -> None:
         super().__init_subclass__(**kwargs)
+        # Skip validation on intermediary base classes.
+        if abc.ABC in cls.__bases__:
+            return
         if cls.subunit not in valid_subunit:
             raise InvalidSubunit(
                 "Currency subunits other than powers of 10 are not supported"
             )
 
     def __str__(self) -> str:
         return self.code
@@ -104,30 +113,52 @@
 
     def overdraft(
         self: CurrencySelf,
         value: Decimal | int | str,
     ) -> Overdraft[CurrencySelf]:
         return Overdraft(Money(value, self))
 
+    @classmethod
+    def get_default_registry(cls) -> CurrencyRegistry[Currency]:
+        from .currencies import registry
+
+        return registry
+
+    @classmethod
+    def __get_pydantic_core_schema__(
+        cls,
+        *args: object,
+        **kwargs: object,
+    ) -> CoreSchema:
+        from ._pydantic import build_currency_schema
+
+        return build_currency_schema(cls)
+
 
-C = TypeVar("C", bound=Currency)
+C_co = TypeVar("C_co", bound=Currency, covariant=True)
+C_inv = TypeVar("C_inv", bound=Currency, covariant=False, contravariant=False)
 MoneySelf = TypeVar("MoneySelf", bound="Money[Any]")
 
 
 @final
-class Money(Frozen, Generic[C], metaclass=InstanceCache):
+class Money(Frozen, Generic[C_co], metaclass=InstanceCache):
     __slots__ = ("value", "currency")
 
-    def __init__(self, value: ParsableMoneyValue, currency: C, /) -> None:
+    def __init__(self, value: ParsableMoneyValue, currency: C_co, /) -> None:
         # Type ignore is safe because metaclass handles normalization.
         self.value: Final[Decimal] = value  # type: ignore[assignment]
         self.currency: Final = currency
 
     @classmethod
-    def _normalize(cls, value: ParsableMoneyValue, currency: C, /) -> tuple[Decimal, C]:
+    def _normalize(
+        cls,
+        value: ParsableMoneyValue,
+        currency: C_inv,
+        /,
+    ) -> tuple[Decimal, C_inv]:
         if not isinstance(currency, Currency):
             raise TypeError(
                 f"Argument 'currency' of {cls.__qualname__!r} must be a Currency, "
                 f"got object of type {type(currency)!r}"
             )
         return currency.normalize_value(value), currency
 
@@ -140,45 +171,45 @@
     def __eq__(self, other: object) -> bool:
         if isinstance(other, int) and other == 0:
             return self.value == other
         if isinstance(other, Money):
             return self.currency == other.currency and self.value == other.value
         return NotImplemented
 
-    def __gt__(self: Money[C], other: Money[C]) -> bool:
+    def __gt__(self: Money[C_co], other: Money[C_co]) -> bool:
         if isinstance(other, Money) and self.currency == other.currency:
             return self.value > other.value
         return NotImplemented
 
-    def __ge__(self: Money[C], other: Money[C]) -> bool:
+    def __ge__(self: Money[C_co], other: Money[C_co]) -> bool:
         if isinstance(other, Money) and self.currency == other.currency:
             return self.value >= other.value
         return NotImplemented
 
-    def __lt__(self: Money[C], other: Money[C]) -> bool:
+    def __lt__(self: Money[C_co], other: Money[C_co]) -> bool:
         if isinstance(other, Money) and self.currency == other.currency:
             return self.value < other.value
         return NotImplemented
 
-    def __le__(self: Money[C], other: Money[C]) -> bool:
+    def __le__(self: Money[C_co], other: Money[C_co]) -> bool:
         if isinstance(other, Money) and self.currency == other.currency:
             return self.value <= other.value
         return NotImplemented
 
-    def __iadd__(self: Money[C], other: Money[C]) -> Money[C]:
+    def __iadd__(self: Money[C_co], other: Money[C_co]) -> Money[C_co]:
         if isinstance(other, Money) and self.currency == other.currency:
             return Money(self.value + other.value, self.currency)
         return NotImplemented
 
-    def __add__(self: Money[C], other: Money[C]) -> Money[C]:
+    def __add__(self: Money[C_co], other: Money[C_co]) -> Money[C_co]:
         if isinstance(other, Money) and self.currency == other.currency:
             return Money(self.value + other.value, self.currency)
         return NotImplemented
 
-    def __sub__(self: Money[C], other: Money[C]) -> Money[C] | Overdraft[C]:
+    def __sub__(self: Money[C_co], other: Money[C_co]) -> Money[C_co] | Overdraft[C_co]:
         """
         >>> from immoney.currencies import SEK
         >>> SEK(2) - SEK(1)
         Money('1.00', SEK)
         >>> SEK(2) - SEK(2)
         Money('0.00', SEK)
         >>> SEK(2) - SEK(3)
@@ -192,54 +223,58 @@
                 else Overdraft(Money(-value, self.currency))
             )
         return NotImplemented
 
     def __pos__(self: MoneySelf) -> MoneySelf:
         return self
 
-    def __neg__(self: Money[C]) -> Overdraft[C]:
+    def __neg__(self: Money[C_co]) -> Overdraft[C_co]:
         return Overdraft(self)
 
     # TODO: Support precision-lossy multiplication with floats?
     @overload
-    def __mul__(self: Money[C], other: int) -> Money[C] | Overdraft[C]:
+    def __mul__(self: Money[C_co], other: int) -> Money[C_co] | Overdraft[C_co]:
         ...
 
     @overload
-    def __mul__(self: Money[C], other: Decimal) -> SubunitFraction[C]:
+    def __mul__(self: Money[C_co], other: Decimal) -> SubunitFraction[C_co]:
         ...
 
-    def __mul__(self, other: object) -> Money[C] | SubunitFraction[C] | Overdraft[C]:
+    def __mul__(
+        self,
+        other: object,
+    ) -> Money[C_co] | SubunitFraction[C_co] | Overdraft[C_co]:
         if isinstance(other, int):
             return (
                 Money(self.value * other, self.currency)
                 if other >= 0
                 else Overdraft(Money(-self.value * other, self.currency))
             )
         if isinstance(other, Decimal):
             return SubunitFraction(
                 Fraction(self.as_subunit()) * Fraction(other),
                 self.currency,
             )
         return NotImplemented
 
     @overload
-    def __rmul__(self: Money[C], other: int) -> Money[C] | Overdraft[C]:
+    def __rmul__(self: Money[C_co], other: int) -> Money[C_co] | Overdraft[C_co]:
         ...
 
     @overload
-    def __rmul__(self: Money[C], other: Decimal) -> SubunitFraction[C]:
+    def __rmul__(self: Money[C_co], other: Decimal) -> SubunitFraction[C_co]:
         ...
 
     def __rmul__(
-        self: Money[C], other: int | Decimal
-    ) -> Money[C] | SubunitFraction[C] | Overdraft[C]:
+        self: Money[C_co],
+        other: int | Decimal,
+    ) -> Money[C_co] | SubunitFraction[C_co] | Overdraft[C_co]:
         return self.__mul__(other)
 
-    def __truediv__(self: Money[C], other: object) -> tuple[Money[C], ...]:
+    def __truediv__(self: Money[C_co], other: object) -> tuple[Money[C_co], ...]:
         """
         Divides the original value over the numerator and returns a tuple of new
         Money instances where the original value is spread as evenly as possible. The
         sum of the returned values will always equal the orignal value.
 
         >>> from immoney.currencies import SEK
         >>> Money(2, SEK) / 2
@@ -263,45 +298,64 @@
 
         return (
             *(over for _ in range(remainder)),
             *(under for _ in range(other - remainder)),
         )
 
     @overload
-    def __floordiv__(self, other: int) -> SubunitFraction[C]:
+    def __floordiv__(self, other: int) -> SubunitFraction[C_co]:
         ...
 
     @overload
-    def __floordiv__(self, other: Fraction) -> SubunitFraction[C]:
+    def __floordiv__(self, other: Fraction) -> SubunitFraction[C_co]:
         ...
 
-    def __floordiv__(self, other: object) -> SubunitFraction[C]:
+    def __floordiv__(self, other: object) -> SubunitFraction[C_co]:
         if not isinstance(other, (int, Fraction)):
             return NotImplemented
         if other == 0:
             raise DivisionByZero
         return SubunitFraction.from_money(self, other)
 
     def __abs__(self: MoneySelf) -> MoneySelf:
         return self
 
     def as_subunit(self) -> int:
         return int(self.currency.subunit * self.value)
 
     @classmethod
     # This needs HKT to allow typing to work properly for subclasses of Money.
-    def from_subunit(cls, value: int, currency: C) -> Money[C]:
-        return cls(Decimal(value) / currency.subunit, currency)
+    def from_subunit(cls, value: int, currency: C_inv) -> Money[C_inv]:
+        return cls(  # type: ignore[return-value]
+            Decimal(value) / currency.subunit,
+            currency,  # type: ignore[arg-type]
+        )
 
     @classmethod
     # This needs HKT to allow typing to work properly for subclasses of Money.
-    def floored(cls, value: Decimal, currency: C) -> Money[C]:
-        return cls(
+    def floored(cls, value: Decimal, currency: C_inv) -> Money[C_inv]:
+        return cls(  # type: ignore[return-value]
             value.quantize(currency.decimal_exponent, rounding=ROUND_DOWN),
-            currency,
+            currency,  # type: ignore[arg-type]
+        )
+
+    @classmethod
+    def __get_pydantic_core_schema__(
+        cls,
+        source_type: type,
+        *args: object,
+        **kwargs: object,
+    ) -> CoreSchema:
+        from ._pydantic import MoneyAdapter
+        from ._pydantic import build_generic_currency_schema
+
+        return build_generic_currency_schema(
+            cls=cls,
+            source_type=source_type,
+            adapter=MoneyAdapter,
         )
 
 
 class Round(enum.Enum):
     """
     See Python documentation for decimal rounding.
     https://docs.python.org/3/library/decimal.html#rounding-modes
@@ -312,23 +366,27 @@
     HALF_UP = ROUND_HALF_UP
     HALF_EVEN = ROUND_HALF_EVEN
     HALF_DOWN = ROUND_HALF_DOWN
     ZERO_FIVE_UP = ROUND_05UP
 
 
 @final
-class SubunitFraction(Frozen, Generic[C], metaclass=InstanceCache):
+class SubunitFraction(Frozen, Generic[C_co], metaclass=InstanceCache):
     __slots__ = ("value", "currency")
 
-    def __init__(self, value: Fraction | Decimal | int, currency: C) -> None:
+    def __init__(self, value: Fraction | Decimal | int, currency: C_co) -> None:
         self.value: Final = Fraction(value)
         self.currency: Final = currency
 
     @classmethod
-    def _normalize(cls, value: Fraction | Decimal, currency: C) -> tuple[Fraction, C]:
+    def _normalize(
+        cls,
+        value: Fraction | Decimal,
+        currency: C_inv,
+    ) -> tuple[Fraction, C_inv]:
         if not isinstance(currency, Currency):
             raise TypeError(
                 f"Argument 'currency' of {cls.__qualname__!r} must be a Currency, "
                 f"got object of type {type(currency)!r}"
             )
         return Fraction(value), currency
 
@@ -346,39 +404,55 @@
         if isinstance(other, Money) and self.currency == other.currency:
             return self.value == other.as_subunit()
         return NotImplemented
 
     @classmethod
     def from_money(
         cls,
-        money: Money[C],
+        money: Money[C_co],
         denominator: int | Fraction = 1,
-    ) -> SubunitFraction[C]:
+    ) -> SubunitFraction[C_co]:
         return SubunitFraction(
             Fraction(money.as_subunit(), denominator), money.currency
         )
 
-    def round_money(self, rounding: Round) -> Money[C]:
+    def round_money(self, rounding: Round) -> Money[C_co]:
         main_unit = Decimal(float(self.value / self.currency.subunit))
         quantized = main_unit.quantize(
             exp=self.currency.decimal_exponent,
             rounding=rounding.value,
         )
         return Money(quantized, self.currency)
 
+    @classmethod
+    def __get_pydantic_core_schema__(
+        cls,
+        source_type: type,
+        *args: object,
+        **kwargs: object,
+    ) -> CoreSchema:
+        from ._pydantic import SubunitFractionAdapter
+        from ._pydantic import build_generic_currency_schema
+
+        return build_generic_currency_schema(
+            cls=cls,
+            source_type=source_type,
+            adapter=SubunitFractionAdapter,
+        )
+
 
 @final
-class Overdraft(Frozen, Generic[C], metaclass=InstanceCache):
+class Overdraft(Frozen, Generic[C_co], metaclass=InstanceCache):
     __slots__ = ("money",)
 
-    def __init__(self, money: Money[C]) -> None:
+    def __init__(self, money: Money[C_co]) -> None:
         self.money: Final = money
 
     @classmethod
-    def _normalize(cls, money: Money[C]) -> tuple[Money[C]]:
+    def _normalize(cls, money: Money[C_co]) -> tuple[Money[C_co]]:
         if not isinstance(money, Money):
             raise TypeError(
                 f"Argument 'money' of {cls.__qualname__!r} must be a Money instance, "
                 f"got object of type {type(money)!r}"
             )
         return (money,)
 
@@ -395,54 +469,79 @@
         if isinstance(other, int) and other == 0:
             return self.money.value == other
         if isinstance(other, Overdraft) and other.money.currency == self.money.currency:
             return self.money.value == other.money.value
         return NotImplemented
 
     @overload
-    def __add__(self: Overdraft[C], other: Money[C]) -> Money[C] | Overdraft[C]:
+    def __add__(
+        self: Overdraft[C_co],
+        other: Money[C_co],
+    ) -> Money[C_co] | Overdraft[C_co]:
         ...
 
     @overload
-    def __add__(self: Overdraft[C], other: Overdraft[C]) -> Overdraft[C]:
+    def __add__(self: Overdraft[C_co], other: Overdraft[C_co]) -> Overdraft[C_co]:
         ...
 
-    def __add__(self: Overdraft[C], other: object) -> Money[C] | Overdraft[C]:
+    def __add__(self: Overdraft[C_co], other: object) -> Money[C_co] | Overdraft[C_co]:
         if isinstance(other, Money):
             return other - self.money
         if isinstance(other, Overdraft):
             return Overdraft(self.money + other.money)
         return NotImplemented
 
-    def __radd__(self: Overdraft[C], other: Money[C]) -> Money[C] | Overdraft[C]:
+    def __radd__(
+        self: Overdraft[C_co],
+        other: Money[C_co],
+    ) -> Money[C_co] | Overdraft[C_co]:
         return self.__add__(other)
 
     @overload
-    def __sub__(self: Overdraft[C], other: Money[C]) -> Overdraft[C]:
+    def __sub__(self: Overdraft[C_co], other: Money[C_co]) -> Overdraft[C_co]:
         ...
 
     @overload
-    def __sub__(self: Overdraft[C], other: Overdraft[C]) -> Money[C] | Overdraft[C]:
+    def __sub__(
+        self: Overdraft[C_co],
+        other: Overdraft[C_co],
+    ) -> Money[C_co] | Overdraft[C_co]:
         ...
 
-    def __sub__(self: Overdraft[C], other: object) -> Money[C] | Overdraft[C]:
+    def __sub__(self: Overdraft[C_co], other: object) -> Money[C_co] | Overdraft[C_co]:
         match other:
             case Money(currency=self.money.currency) as other:
                 return Overdraft(self.money + other)
             case Overdraft(money=Money(currency=self.money.currency)) as other:
                 return other.money - self.money
         return NotImplemented
 
-    def __rsub__(self: Overdraft[C], other: Money[C]) -> Money[C]:
+    def __rsub__(self: Overdraft[C_co], other: Money[C_co]) -> Money[C_co]:
         match other:
             case Money(currency=self.money.currency) as other:
                 return self.money + other
         return NotImplemented
 
-    def __abs__(self: Overdraft[C]) -> Money[C]:
+    def __abs__(self: Overdraft[C_co]) -> Money[C_co]:
         return self.money
 
-    def __neg__(self: Overdraft[C]) -> Money[C]:
+    def __neg__(self: Overdraft[C_co]) -> Money[C_co]:
         return self.money
 
-    def __pos__(self: Overdraft[C]) -> Overdraft[C]:
+    def __pos__(self: Overdraft[C_co]) -> Overdraft[C_co]:
         return self
+
+    @classmethod
+    def __get_pydantic_core_schema__(
+        cls,
+        source_type: type,
+        *args: object,
+        **kwargs: object,
+    ) -> CoreSchema:
+        from ._pydantic import OverdraftAdapter
+        from ._pydantic import build_generic_currency_schema
+
+        return build_generic_currency_schema(
+            cls=cls,
+            source_type=source_type,
+            adapter=OverdraftAdapter,
+        )
```

### Comparing `immoney-0.1.0/src/immoney/_cache.py` & `immoney-0.2.0/src/immoney/_cache.py`

 * *Files 24% similar despite different names*

```diff
@@ -15,9 +15,9 @@
 
     _normalize: Callable[..., tuple[object, ...]]
 
     @lru_cache
     def __instantiate(cls, *args: object) -> object:
         return super().__call__(*args)
 
-    def __call__(cls, *args: object) -> Any:  # type: ignore[override]
+    def __call__(cls, *args: object) -> Any:
         return cls.__instantiate(*cls._normalize(*args))
```

### Comparing `immoney-0.1.0/src/immoney/_frozen.py` & `immoney-0.2.0/src/immoney/_frozen.py`

 * *Files identical despite different names*

### Comparing `immoney-0.1.0/src/immoney/currencies.py` & `immoney-0.2.0/src/immoney/currencies.py`

 * *Files 0% similar despite different names*

```diff
@@ -3,15 +3,15 @@
 from typing import Final
 from typing import final
 
 from . import Currency
 from .registry import CurrencyCollector
 from .registry import CurrencyRegistry
 
-__currencies: Final = CurrencyCollector()
+__currencies: Final = CurrencyCollector[Currency]()
 
 
 @final
 class ADPType(Currency):
     code = "ADP"
     subunit = 1
 
@@ -2567,14 +2567,24 @@
 
 
 SHP: Final = SHPType()
 __currencies.add(SHP)
 
 
 @final
+class SLEType(Currency):
+    code = "SLE"
+    subunit = 100
+
+
+SLE: Final = SLEType()
+__currencies.add(SLE)
+
+
+@final
 class SLLType(Currency):
     code = "SLL"
     subunit = 100
 
 
 SLL: Final = SLLType()
 __currencies.add(SLL)
@@ -2807,14 +2817,24 @@
 
 
 UZS: Final = UZSType()
 __currencies.add(UZS)
 
 
 @final
+class VEDType(Currency):
+    code = "VED"
+    subunit = 100
+
+
+VED: Final = VEDType()
+__currencies.add(VED)
+
+
+@final
 class VNDType(Currency):
     code = "VND"
     subunit = 1
 
 
 VND: Final = VNDType()
 __currencies.add(VND)
@@ -3066,9 +3086,9 @@
     subunit = 100
 
 
 ZWN: Final = ZWNType()
 __currencies.add(ZWN)
 
 
-registry: Final[CurrencyRegistry] = __currencies.finalize()
+registry: Final[CurrencyRegistry[Currency]] = __currencies.finalize()
 del __currencies
```

### Comparing `immoney-0.1.0/src/immoney/registry.py` & `immoney-0.2.0/src/immoney/registry.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,21 +1,24 @@
 from collections.abc import Mapping
+from typing import Generic
 from typing import TypeAlias
+from typing import TypeVar
 
 from immutables import Map
 
 from ._base import Currency
 
-CurrencyRegistry: TypeAlias = Mapping[str, Currency]
+C = TypeVar("C", bound=Currency)
+CurrencyRegistry: TypeAlias = Mapping[str, C]
 
 
-class CurrencyCollector:
+class CurrencyCollector(Generic[C]):
     __slots__ = ("__collection",)
 
     def __init__(self) -> None:
-        self.__collection = list[tuple[str, Currency]]()
+        self.__collection = list[tuple[str, C]]()
 
-    def add(self, currency: Currency) -> None:
+    def add(self, currency: C) -> None:
         self.__collection.append((currency.code, currency))
 
-    def finalize(self) -> CurrencyRegistry:
+    def finalize(self) -> CurrencyRegistry[C]:
         return Map(self.__collection)
```

### Comparing `immoney-0.1.0/src/immoney/types.py` & `immoney-0.2.0/src/immoney/types.py`

 * *Files identical despite different names*

### Comparing `immoney-0.1.0/src/immoney.egg-info/PKG-INFO` & `immoney-0.2.0/src/immoney.egg-info/PKG-INFO`

 * *Files 15% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 00000000: 4d65 7461 6461 7461 2d56 6572 7369 6f6e  Metadata-Version
 00000010: 3a20 322e 310a 4e61 6d65 3a20 696d 6d6f  : 2.1.Name: immo
-00000020: 6e65 790a 5665 7273 696f 6e3a 2030 2e31  ney.Version: 0.1
+00000020: 6e65 790a 5665 7273 696f 6e3a 2030 2e32  ney.Version: 0.2
 00000030: 2e30 0a53 756d 6d61 7279 3a20 496d 6d75  .0.Summary: Immu
 00000040: 7461 626c 6520 6d6f 6e65 7920 7479 7065  table money type
 00000050: 7320 666f 7220 5079 7468 6f6e 0a48 6f6d  s for Python.Hom
 00000060: 652d 7061 6765 3a20 6874 7470 733a 2f2f  e-page: https://
 00000070: 6769 7468 7562 2e63 6f6d 2f61 6e74 6f6e  github.com/anton
 00000080: 6167 6573 7461 6d2f 696d 6d6f 6e65 792f  agestam/immoney/
 00000090: 0a41 7574 686f 723a 2041 6e74 6f6e 2041  .Author: Anton A
@@ -40,324 +40,420 @@
 00000270: 3a20 5479 7069 6e67 203a 3a20 5479 7065  : Typing :: Type
 00000280: 640a 5265 7175 6972 6573 2d50 7974 686f  d.Requires-Pytho
 00000290: 6e3a 203e 3d33 2e31 300a 4465 7363 7269  n: >=3.10.Descri
 000002a0: 7074 696f 6e2d 436f 6e74 656e 742d 5479  ption-Content-Ty
 000002b0: 7065 3a20 7465 7874 2f6d 6172 6b64 6f77  pe: text/markdow
 000002c0: 6e3b 2063 6861 7273 6574 3d55 5446 2d38  n; charset=UTF-8
 000002d0: 0a50 726f 7669 6465 732d 4578 7472 613a  .Provides-Extra:
-000002e0: 2074 6573 740a 4c69 6365 6e73 652d 4669   test.License-Fi
-000002f0: 6c65 3a20 4c49 4345 4e53 450a 0a3c 6831  le: LICENSE..<h1
-00000300: 2061 6c69 676e 3d63 656e 7465 723e 696d   align=center>im
-00000310: 6d6f 6e65 793c 2f68 313e 0a0a 3c70 2061  money</h1>..<p a
-00000320: 6c69 676e 3d63 656e 7465 723e 0a20 2020  lign=center>.   
-00000330: 203c 6120 6872 6566 3d68 7474 7073 3a2f   <a href=https:/
-00000340: 2f67 6974 6875 622e 636f 6d2f 616e 746f  /github.com/anto
-00000350: 6e61 6765 7374 616d 2f69 6d6d 6f6e 6579  nagestam/immoney
-00000360: 2f61 6374 696f 6e73 3f71 7565 7279 3d77  /actions?query=w
-00000370: 6f72 6b66 6c6f 7725 3341 4349 2b62 7261  orkflow%3ACI+bra
-00000380: 6e63 6825 3341 6d61 696e 3e3c 696d 6720  nch%3Amain><img 
-00000390: 7372 633d 6874 7470 733a 2f2f 6769 7468  src=https://gith
-000003a0: 7562 2e63 6f6d 2f61 6e74 6f6e 6167 6573  ub.com/antonages
-000003b0: 7461 6d2f 696d 6d6f 6e65 792f 776f 726b  tam/immoney/work
-000003c0: 666c 6f77 732f 4349 2f62 6164 6765 2e73  flows/CI/badge.s
-000003d0: 7667 2061 6c74 3d22 4349 2042 7569 6c64  vg alt="CI Build
-000003e0: 2053 7461 7475 7322 3e3c 2f61 3e0a 2020   Status"></a>.  
-000003f0: 2020 3c61 2068 7265 663d 6874 7470 733a    <a href=https:
-00000400: 2f2f 636f 6465 636f 762e 696f 2f67 682f  //codecov.io/gh/
-00000410: 616e 746f 6e61 6765 7374 616d 2f69 6d6d  antonagestam/imm
-00000420: 6f6e 6579 3e3c 696d 6720 7372 633d 6874  oney><img src=ht
-00000430: 7470 733a 2f2f 636f 6465 636f 762e 696f  tps://codecov.io
-00000440: 2f67 682f 616e 746f 6e61 6765 7374 616d  /gh/antonagestam
-00000450: 2f69 6d6d 6f6e 6579 2f62 7261 6e63 682f  /immoney/branch/
-00000460: 6d61 696e 2f67 7261 7068 2f62 6164 6765  main/graph/badge
-00000470: 2e73 7667 3f74 6f6b 656e 3d55 4549 3838  .svg?token=UEI88
-00000480: 4e30 4550 4720 616c 743d 2254 6573 7420  N0EPG alt="Test 
-00000490: 636f 7665 7261 6765 2072 6570 6f72 7422  coverage report"
-000004a0: 3e3c 2f61 3e0a 2020 2020 3c62 723e 0a20  ></a>.    <br>. 
-000004b0: 2020 203c 6120 6872 6566 3d68 7474 7073     <a href=https
-000004c0: 3a2f 2f70 7970 692e 6f72 672f 7072 6f6a  ://pypi.org/proj
-000004d0: 6563 742f 696d 6d6f 6e65 792f 3e3c 696d  ect/immoney/><im
-000004e0: 6720 7372 633d 6874 7470 733a 2f2f 696d  g src=https://im
-000004f0: 672e 7368 6965 6c64 732e 696f 2f70 7970  g.shields.io/pyp
-00000500: 692f 762f 696d 6d6f 6e65 792e 7376 673f  i/v/immoney.svg?
-00000510: 636f 6c6f 723d 696e 666f 726d 6174 696f  color=informatio
-00000520: 6e61 6c26 6c61 6265 6c3d 5079 5049 2061  nal&label=PyPI a
-00000530: 6c74 3d22 5079 5049 2050 6163 6b61 6765  lt="PyPI Package
-00000540: 223e 3c2f 613e 0a20 2020 203c 6120 6872  "></a>.    <a hr
-00000550: 6566 3d68 7474 7073 3a2f 2f70 7970 692e  ef=https://pypi.
-00000560: 6f72 672f 7072 6f6a 6563 742f 696d 6d6f  org/project/immo
-00000570: 6e65 792f 3e3c 696d 6720 7372 633d 6874  ney/><img src=ht
-00000580: 7470 733a 2f2f 696d 672e 7368 6965 6c64  tps://img.shield
-00000590: 732e 696f 2f70 7970 692f 7079 7665 7273  s.io/pypi/pyvers
-000005a0: 696f 6e73 2f69 6d6d 6f6e 6579 2e73 7667  ions/immoney.svg
-000005b0: 3f63 6f6c 6f72 3d69 6e66 6f72 6d61 7469  ?color=informati
-000005c0: 6f6e 616c 266c 6162 656c 3d50 7974 686f  onal&label=Pytho
-000005d0: 6e20 616c 743d 2250 7974 686f 6e20 7665  n alt="Python ve
-000005e0: 7273 696f 6e73 223e 3c2f 613e 0a3c 2f70  rsions"></a>.</p
-000005f0: 3e0a 0a23 2323 2044 6573 6967 6e20 676f  >..### Design go
-00000600: 616c 730a 0a54 6865 7265 2061 7265 2061  als..There are a
-00000610: 2066 6577 2063 6f72 6520 6465 7369 676e   few core design
-00000620: 2061 7370 6563 7473 206f 6620 7468 6973   aspects of this
-00000630: 206c 6962 7261 7279 2074 6861 7420 6561   library that ea
-00000640: 6368 2065 6c69 6d69 6e61 7465 2065 6e74  ch eliminate ent
-00000650: 6972 6520 636c 6173 7365 730a 6f66 2062  ire classes.of b
-00000660: 7567 733a 0a0a 2d20 4578 706f 7365 6420  ugs:..- Exposed 
-00000670: 616e 6420 696e 7465 726e 616c 2064 6174  and internal dat
-00000680: 6120 7479 7065 7320 6172 6520 6569 7468  a types are eith
-00000690: 6572 2069 6d6d 7574 6162 6c65 206f 7220  er immutable or 
-000006a0: 6661 7578 2069 6d6d 7574 6162 6c65 2e0a  faux immutable..
-000006b0: 2d20 496e 7661 6c69 6420 616d 6f75 6e74  - Invalid amount
-000006c0: 7320 6f66 206d 6f6e 6579 2063 616e 6e6f  s of money canno
-000006d0: 7420 6265 2072 6570 7265 7365 6e74 6564  t be represented
-000006e0: 2e20 5468 6572 6520 6973 206e 6f20 7375  . There is no su
-000006f0: 6368 2074 6869 6e67 2061 7320 6030 2e30  ch thing as `0.0
-00000700: 3031 6020 5553 0a20 2064 6f6c 6c61 7273  01` US.  dollars
-00000710: 2c20 616e 6420 7468 6572 6520 6973 206e  , and there is n
-00000720: 6f20 7375 6368 2074 6869 6e67 2061 7320  o such thing as 
-00000730: 6e65 6761 7469 7665 206d 6f6e 6579 2e0a  negative money..
-00000740: 2d20 4275 696c 7469 6e20 6f70 6572 6174  - Builtin operat
-00000750: 696f 6e73 206e 6576 6572 2069 6d70 6c69  ions never impli
-00000760: 6369 746c 7920 6c6f 7365 2070 7265 6369  citly lose preci
-00000770: 7369 6f6e 2e0a 2d20 4275 696c 7420 6672  sion..- Built fr
-00000780: 6f6d 2074 6865 2067 726f 756e 642d 7570  om the ground-up
-00000790: 2077 6974 6820 7375 7070 6f72 7420 666f   with support fo
-000007a0: 7220 7374 6174 6963 2074 7970 6520 6368  r static type ch
-000007b0: 6563 6b69 6e67 2069 6e20 6d69 6e64 2e20  ecking in mind. 
-000007c0: 5468 6973 206d 6561 6e73 0a20 2074 6861  This means.  tha
-000007d0: 7420 6275 6773 2074 6861 7420 6174 7465  t bugs that atte
-000007e0: 6d70 7420 746f 206d 6978 2063 7572 7265  mpt to mix curre
-000007f0: 6e63 6965 7320 6361 6e20 6265 2066 6f75  ncies can be fou
-00000800: 6e64 2062 7920 6120 7374 6174 6963 2074  nd by a static t
-00000810: 7970 6520 6368 6563 6b65 722e 0a0a 2323  ype checker...##
-00000820: 2320 4665 6174 7572 6573 0a0a 2323 2323  # Features..####
-00000830: 2053 6166 6520 6469 7669 7369 6f6e 0a0a   Safe division..
-00000840: 496e 2072 6561 6c20 6c69 6665 2077 6520  In real life we 
-00000850: 6361 6e6e 6f74 2073 706c 6974 2074 6865  cannot split the
-00000860: 2073 7562 756e 6974 206f 6620 6120 6375   subunit of a cu
-00000870: 7272 656e 6379 2c20 616e 6420 736f 2066  rrency, and so f
-00000880: 6f72 206f 7572 2061 6273 7472 6163 7469  or our abstracti
-00000890: 6f6e 7320 746f 0a73 6166 656c 7920 7265  ons to.safely re
-000008a0: 666c 6563 7420 7265 616c 6974 792c 2077  flect reality, w
-000008b0: 6520 7368 6f75 6c64 6e27 7420 6265 2061  e shouldn't be a
-000008c0: 626c 6520 746f 2064 6f20 7468 6174 2069  ble to do that i
-000008d0: 6e20 636f 6465 2065 6974 6865 722e 2054  n code either. T
-000008e0: 6865 7265 666f 7265 0a69 6e73 7465 6164  herefore.instead
-000008f0: 206f 6620 6465 6669 6e69 6e67 2064 6976   of defining div
-00000900: 6973 696f 6e20 746f 2072 6574 7572 6e20  ision to return 
-00000910: 6120 7661 6c75 6520 7769 7468 2070 7265  a value with pre
-00000920: 6369 7369 6f6e 206c 6f73 732c 2074 6865  cision loss, the
-00000930: 2069 6d70 6c65 6d65 6e74 6174 696f 6e0a   implementation.
-00000940: 6f66 2064 6976 6973 696f 6e20 666f 7220  of division for 
-00000950: 604d 6f6e 6579 6020 7265 7475 726e 7320  `Money` returns 
-00000960: 6120 7475 706c 6520 6f66 206e 6577 2069  a tuple of new i
-00000970: 6e73 7461 6e63 6573 2077 6974 6820 7468  nstances with th
-00000980: 6520 7661 6c75 6520 7370 6c69 7420 7570  e value split up
-00000990: 2061 7320 6576 656e 0a61 7320 706f 7373   as even.as poss
-000009a0: 6962 6c65 2e0a 0a60 6060 7079 636f 6e0a  ible...```pycon.
-000009b0: 3e3e 3e20 4d6f 6e65 7928 2230 2e31 3122  >>> Money("0.11"
-000009c0: 2c20 5345 4b29 202f 2033 0a28 4d6f 6e65  , SEK) / 3.(Mone
-000009d0: 7928 2730 2e30 3427 2c20 5345 4b29 2c20  y('0.04', SEK), 
-000009e0: 4d6f 6e65 7928 2730 2e30 3427 2c20 5345  Money('0.04', SE
-000009f0: 4b29 2c20 4d6f 6e65 7928 2730 2e30 3327  K), Money('0.03'
-00000a00: 2c20 5345 4b29 290a 6060 600a 0a54 6869  , SEK)).```..Thi
-00000a10: 7320 6d65 7468 6f64 206f 6620 6469 7669  s method of divi
-00000a20: 7369 6f6e 2077 696c 6c20 616c 7761 7973  sion will always
-00000a30: 2062 6520 7361 6665 2c20 6173 2069 7420   be safe, as it 
-00000a40: 6861 7320 7468 6520 6775 6172 616e 7465  has the guarante
-00000a50: 6564 2070 726f 7065 7274 7920 7468 6174  ed property that
-00000a60: 2074 6865 0a73 756d 206f 6620 7468 6520   the.sum of the 
-00000a70: 696e 7374 616e 6365 7320 7265 7475 726e  instances return
-00000a80: 6564 2062 7920 7468 6520 6f70 6572 6174  ed by the operat
-00000a90: 696f 6e20 616c 7761 7973 2065 7175 616c  ion always equal
-00000aa0: 2074 6865 206f 7269 6769 6e61 6c20 6e75   the original nu
-00000ab0: 6d65 7261 746f 722e 0a0a 2323 2323 2053  merator...#### S
-00000ac0: 7562 756e 6974 2066 7261 6374 696f 6e73  ubunit fractions
-00000ad0: 0a0a 536f 6d65 7469 6d65 7320 7765 2064  ..Sometimes we d
-00000ae0: 6f20 6e65 6564 2074 6f20 7265 7072 6573  o need to repres
-00000af0: 656e 7420 6672 6163 7469 6f6e 7320 6f66  ent fractions of
-00000b00: 206d 6f6e 6574 6172 7920 7661 6c75 6573   monetary values
-00000b10: 2074 6861 7420 6172 6520 736d 616c 6c65   that are smalle
-00000b20: 7220 7468 616e 2074 6865 0a73 7562 756e  r than the.subun
-00000b30: 6974 206f 6620 6120 6375 7272 656e 6379  it of a currency
-00000b40: 2c20 666f 7220 696e 7374 616e 6365 2061  , for instance a
-00000b50: 7320 6120 7061 7274 6961 6c20 7265 7375  s a partial resu
-00000b60: 6c74 206f 6620 6120 6c61 7267 6572 2065  lt of a larger e
-00000b70: 7175 6174 696f 6e2e 2046 6f72 2074 6861  quation. For tha
-00000b80: 740a 7075 7270 6f73 652c 2074 6869 7320  t.purpose, this 
-00000b90: 6c69 6272 6172 7920 6578 706f 7365 7320  library exposes 
-00000ba0: 6120 6053 7562 756e 6974 4672 6163 7469  a `SubunitFracti
-00000bb0: 6f6e 6020 7479 7065 2e20 5468 6973 2074  on` type. This t
-00000bc0: 7970 6520 6973 2075 7365 6420 6173 2072  ype is used as r
-00000bd0: 6574 7572 6e20 7479 7065 0a66 6f72 2060  eturn type.for `
-00000be0: 4d6f 6e65 792e 5f5f 666c 6f6f 7264 6976  Money.__floordiv
-00000bf0: 5f5f 602e 0a0a 6060 6070 7963 6f6e 0a3e  __`...```pycon.>
-00000c00: 3e3e 2053 454b 2831 3329 202f 2f20 330a  >> SEK(13) // 3.
-00000c10: 5375 6275 6e69 7446 7261 6374 696f 6e28  SubunitFraction(
-00000c20: 2731 3330 302f 3327 2c20 5345 4b29 0a60  '1300/3', SEK).`
-00000c30: 6060 0a0a 4265 6361 7573 6520 7468 6572  ``..Because ther
-00000c40: 6520 6973 206e 6f20 6775 6172 616e 7465  e is no guarante
-00000c50: 6520 7468 6174 2061 2060 5375 6275 6e69  e that a `Subuni
-00000c60: 7446 7261 6374 696f 6e60 2069 7320 6120  tFraction` is a 
-00000c70: 7768 6f6c 6520 7375 6275 6e69 7420 2862  whole subunit (b
-00000c80: 7920 6465 6669 6e69 7469 6f6e 0a2e 2e2e  y definition....
-00000c90: 292c 2063 6f6e 7665 7274 696e 6720 6261  ), converting ba
-00000ca0: 636b 2074 6f20 604d 6f6e 6579 6020 6361  ck to `Money` ca
-00000cb0: 6e20 6f6e 6c79 2062 6520 646f 6e65 2077  n only be done w
-00000cc0: 6974 6820 7072 6563 6973 696f 6e20 6c6f  ith precision lo
-00000cd0: 7373 2e0a 0a60 6060 7079 636f 6e0a 3e3e  ss...```pycon.>>
-00000ce0: 3e20 2853 454b 2831 3329 202f 2f20 3329  > (SEK(13) // 3)
-00000cf0: 2e72 6f75 6e64 5f6d 6f6e 6579 2852 6f75  .round_money(Rou
-00000d00: 6e64 2e44 4f57 4e29 0a4d 6f6e 6579 2827  nd.DOWN).Money('
-00000d10: 342e 3333 272c 2053 454b 290a 6060 600a  4.33', SEK).```.
-00000d20: 0a23 2323 2320 4f76 6572 6472 6166 740a  .#### Overdraft.
-00000d30: 0a41 6761 696e 2072 6566 6572 7269 6e67  .Again referring
-00000d40: 2074 6f20 7265 616c 206c 6966 652c 2074   to real life, t
-00000d50: 6865 7265 2069 7320 6e6f 2073 7563 6820  here is no such 
-00000d60: 7468 696e 6720 6173 206e 6567 6174 6976  thing as negativ
-00000d70: 6520 6d6f 6e65 792e 2046 6f6c 6c6f 7769  e money. Followi
-00000d80: 6e67 2069 6e20 7468 650a 7361 6d65 2076  ng in the.same v
-00000d90: 6569 6e20 6173 2066 6f72 206e 6f74 2061  ein as for not a
-00000da0: 6c6c 6f77 696e 6720 7375 6275 6e69 7473  llowing subunits
-00000db0: 2074 6f20 6265 2073 706c 6974 2c20 7468   to be split, th
-00000dc0: 6520 7661 6c75 6520 6f66 2061 2060 4d6f  e value of a `Mo
-00000dd0: 6e65 7960 2069 6e73 7461 6e63 650a 6361  ney` instance.ca
-00000de0: 6e6e 6f74 2062 6520 6e65 6761 7469 7665  nnot be negative
-00000df0: 2e20 496e 7374 6561 642c 2074 6f20 7265  . Instead, to re
-00000e00: 7072 6573 656e 7420 666f 7220 696e 7374  present for inst
-00000e10: 616e 6365 2061 206e 6567 6174 6976 6520  ance a negative 
-00000e20: 6261 6c61 6e63 6520 6f6e 2061 6e20 6163  balance on an ac
-00000e30: 636f 756e 742c 0a74 6869 7320 6c69 6272  count,.this libr
-00000e40: 6172 7920 6578 706f 7365 7320 616e 2060  ary exposes an `
-00000e50: 4f76 6572 6472 6166 7460 2063 6c61 7373  Overdraft` class
-00000e60: 2074 6861 7420 6973 2075 7365 6420 6173   that is used as
-00000e70: 2072 6574 7572 6e20 7479 7065 206f 6620   return type of 
-00000e80: 604d 6f6e 6579 2e5f 5f73 7562 5f5f 600a  `Money.__sub__`.
-00000e90: 7768 656e 2074 6865 2063 6f6d 7075 7465  when the compute
-00000ea0: 6420 7661 6c75 6520 776f 756c 6420 6861  d value would ha
-00000eb0: 7665 2062 6565 6e20 6e65 6761 7469 7665  ve been negative
-00000ec0: 2e0a 0a60 6060 7079 636f 6e0a 3e3e 3e20  ...```pycon.>>> 
-00000ed0: 6261 6c61 6e63 6520 3d20 5345 4b28 3529  balance = SEK(5)
-00000ee0: 0a3e 3e3e 2062 616c 616e 6365 202d 2053  .>>> balance - S
-00000ef0: 454b 2834 290a 4d6f 6e65 7928 2731 2e30  EK(4).Money('1.0
-00000f00: 3027 2c20 5345 4b29 0a3e 3e3e 2062 616c  0', SEK).>>> bal
-00000f10: 616e 6365 202d 2053 454b 2835 290a 4d6f  ance - SEK(5).Mo
-00000f20: 6e65 7928 2730 2e30 3027 2c20 5345 4b29  ney('0.00', SEK)
-00000f30: 0a3e 3e3e 2062 616c 616e 6365 202d 2053  .>>> balance - S
-00000f40: 454b 2822 362e 3530 2229 0a4f 7665 7264  EK("6.50").Overd
-00000f50: 7261 6674 2827 312e 3530 272c 2053 454b  raft('1.50', SEK
-00000f60: 290a 3e3e 3e20 6261 6c61 6e63 6520 2d20  ).>>> balance - 
-00000f70: 5345 4b28 2236 2e35 3022 2920 2b20 5345  SEK("6.50") + SE
-00000f80: 4b28 2231 2e35 3022 290a 4d6f 6e65 7928  K("1.50").Money(
-00000f90: 2730 2e30 3027 2c20 5345 4b29 0a60 6060  '0.00', SEK).```
-00000fa0: 0a0a 4265 6361 7573 6520 6e65 6761 7469  ..Because negati
-00000fb0: 7665 2076 616c 7565 7320 6172 6520 656e  ve values are en
-00000fc0: 636f 6465 6420 6173 2069 7473 206f 776e  coded as its own
-00000fd0: 2074 7970 6520 696e 2074 6869 7320 7761   type in this wa
-00000fe0: 792c 2073 6974 7561 7469 6f6e 7320 7768  y, situations wh
-00000ff0: 6572 650a 6e65 6761 7469 7665 2076 616c  ere.negative val
-00001000: 7565 7320 6361 6e20 7265 7375 6c74 2066  ues can result f
-00001010: 726f 6d20 6172 6974 686d 6574 6963 2062  rom arithmetic b
-00001020: 7574 2061 7265 6e27 7420 6c6f 6769 6361  ut aren't logica
-00001030: 6c6c 7920 6578 7065 6374 6564 2c20 7375  lly expected, su
-00001040: 6368 2061 7320 666f 720a 7468 6520 7072  ch as for.the pr
-00001050: 6963 6520 6f66 2061 6e20 6974 656d 2069  ice of an item i
-00001060: 6e20 6120 7374 6f72 652c 2063 616e 2062  n a store, can b
-00001070: 6520 6469 7363 6f76 6572 6564 2077 6974  e discovered wit
-00001080: 6820 6120 7374 6174 6963 2074 7970 6520  h a static type 
-00001090: 6368 6563 6b65 722e 0a0a 2323 2323 2054  checker...#### T
-000010a0: 7970 652d 7361 6665 2063 6f6d 7061 7269  ype-safe compari
-000010b0: 736f 6e0a 0a49 6e73 7461 6e63 6573 206f  son..Instances o
-000010c0: 6620 604d 6f6e 6579 6020 646f 206e 6f74  f `Money` do not
-000010d0: 2073 7570 706f 7274 2064 6972 6563 7420   support direct 
-000010e0: 636f 6d70 6172 6973 6f6e 2077 6974 6820  comparison with 
-000010f0: 6e75 6d65 7269 6320 7363 616c 6172 2076  numeric scalar v
-00001100: 616c 7565 732e 2046 6f72 0a63 6f6e 7665  alues. For.conve
-00001110: 6e69 656e 6365 2061 6e20 6578 6365 7074  nience an except
-00001120: 696f 6e20 6973 206d 6164 6520 666f 7220  ion is made for 
-00001130: 696e 7465 6765 7220 7a65 726f 2c20 7768  integer zero, wh
-00001140: 6963 6820 6973 2061 6c77 6179 7320 756e  ich is always un
-00001150: 616d 6269 6775 6f75 732e 0a0a 2323 2323  ambiguous...####
-00001160: 2049 6d6d 6564 6961 7465 2061 6e64 2066   Immediate and f
-00001170: 756c 6c20 696e 7374 616e 7469 6174 696f  ull instantiatio
-00001180: 6e0a 0a22 3220 646f 6c6c 6172 7322 2069  n.."2 dollars" i
-00001190: 7320 7265 7072 6573 656e 7465 6420 6578  s represented ex
-000011a0: 6163 746c 7920 7468 6520 7361 6d65 2061  actly the same a
-000011b0: 7320 2232 2e30 3020 646f 6c6c 6172 7322  s "2.00 dollars"
-000011c0: 2c20 696e 2065 7665 7279 2061 7370 6563  , in every aspec
-000011d0: 742e 2054 6869 730a 6d65 616e 7320 7468  t. This.means th
-000011e0: 6174 206e 6f72 6d61 6c69 7a61 7469 6f6e  at normalization
-000011f0: 206f 6620 7661 6c75 6573 2068 6170 7065   of values happe
-00001200: 6e20 6174 2069 6e73 7461 6e74 6961 7469  n at instantiati
-00001210: 6f6e 2074 696d 652e 0a0a 496e 7374 616e  on time...Instan
-00001220: 7469 6174 696e 6720 6e6f 726d 616c 697a  tiating normaliz
-00001230: 6573 2070 7265 6369 7369 6f6e 2074 6f20  es precision to 
-00001240: 7468 6520 6e75 6d62 6572 206f 6620 7375  the number of su
-00001250: 6275 6e69 7473 206f 6620 7468 6520 696e  bunits of the in
-00001260: 7374 616e 7469 6174 6564 0a63 7572 7265  stantiated.curre
-00001270: 6e63 792e 0a0a 6060 6070 7963 6f6e 0a3e  ncy...```pycon.>
-00001280: 3e3e 2045 5552 2832 290a 4d6f 6e65 7928  >> EUR(2).Money(
-00001290: 2732 2e30 3027 2c20 4555 5229 0a3e 3e3e  '2.00', EUR).>>>
-000012a0: 2045 5552 2822 322e 3030 3022 290a 4d6f   EUR("2.000").Mo
-000012b0: 6e65 7928 2732 2e30 3027 2c20 4555 5229  ney('2.00', EUR)
-000012c0: 0a60 6060 0a0a 5472 7969 6e67 2074 6f20  .```..Trying to 
-000012d0: 696e 7374 616e 7469 6174 6520 7769 7468  instantiate with
-000012e0: 2061 2076 616c 7565 2074 6861 7420 776f   a value that wo
-000012f0: 756c 6420 7265 7375 6c74 2069 6e20 7072  uld result in pr
-00001300: 6563 6973 696f 6e20 6c6f 7373 2072 6169  ecision loss rai
-00001310: 7365 7320 6120 7275 6e74 696d 650a 6572  ses a runtime.er
-00001320: 726f 722e 0a0a 6060 6070 7963 6f6e 0a3e  ror...```pycon.>
-00001330: 3e3e 2045 5552 2822 322e 3030 3122 290a  >> EUR("2.001").
-00001340: 5472 6163 6562 6163 6b20 286d 6f73 7420  Traceback (most 
-00001350: 7265 6365 6e74 2063 616c 6c20 6c61 7374  recent call last
-00001360: 293a 0a20 202e 2e2e 0a69 6d6d 6f6e 6579  ):.  ....immoney
-00001370: 2e65 7272 6f72 732e 4d6f 6e65 7950 6172  .errors.MoneyPar
-00001380: 7365 4572 726f 723a 2043 616e 6e6f 7420  seError: Cannot 
-00001390: 696e 7465 7270 7265 7420 7661 6c75 6520  interpret value 
-000013a0: 6173 204d 6f6e 6579 206f 6620 6375 7272  as Money of curr
-000013b0: 656e 6379 2045 5552 202e 2e2e 0a60 6060  ency EUR ....```
-000013c0: 0a0a 2323 2323 2049 6e73 7461 6e63 6520  ..#### Instance 
-000013d0: 6361 6368 650a 0a53 696e 6365 2069 6e73  cache..Since ins
-000013e0: 7461 6e63 6573 206f 6620 604d 6f6e 6579  tances of `Money
-000013f0: 6020 616e 6420 6043 7572 7265 6e63 7960  ` and `Currency`
-00001400: 2061 7265 2069 6d6d 7574 6162 6c65 2069   are immutable i
-00001410: 7427 7320 7361 6665 2074 6f20 7265 7573  t's safe to reus
-00001420: 6520 6578 6973 7469 6e67 0a69 6e73 7461  e existing.insta
-00001430: 6e63 6573 2069 6e73 7465 6164 206f 6620  nces instead of 
-00001440: 696e 7374 616e 7469 6174 696e 6720 6e65  instantiating ne
-00001450: 7720 6f6e 6573 2e20 5468 6973 2068 6170  w ones. This hap
-00001460: 7065 6e73 2074 7261 6e73 7061 7265 6e74  pens transparent
-00001470: 6c79 2077 6865 6e0a 696e 7374 616e 7469  ly when.instanti
-00001480: 6174 696e 6720 6120 6e65 7720 604d 6f6e  ating a new `Mon
-00001490: 6579 6020 696e 7374 616e 6365 2061 6e64  ey` instance and
-000014a0: 2063 616e 206c 6561 6420 746f 2066 6173   can lead to fas
-000014b0: 7465 7220 636f 6465 2061 6e64 206c 6573  ter code and les
-000014c0: 7320 636f 6e73 756d 6564 0a6d 656d 6f72  s consumed.memor
-000014d0: 792e 0a0a 2323 2323 2052 6574 7269 6576  y...#### Retriev
-000014e0: 696e 6720 6375 7272 656e 6369 6573 2062  ing currencies b
-000014f0: 7920 636f 6465 0a0a 4375 7272 656e 6369  y code..Currenci
-00001500: 6573 2063 616e 2062 6520 7265 7472 6965  es can be retrie
-00001510: 7665 6420 6279 2074 6865 6972 2063 6f64  ved by their cod
-00001520: 6573 2076 6961 2060 696d 6d6f 6e65 792e  es via `immoney.
-00001530: 6375 7272 656e 6369 6573 2e72 6567 6973  currencies.regis
-00001540: 7472 7960 2e0a 0a60 6060 7079 636f 6e0a  try`...```pycon.
-00001550: 3e3e 3e20 6672 6f6d 2069 6d6d 6f6e 6579  >>> from immoney
-00001560: 2e63 7572 7265 6e63 6965 7320 696d 706f  .currencies impo
-00001570: 7274 2072 6567 6973 7472 790a 3e3e 3e20  rt registry.>>> 
-00001580: 7265 6769 7374 7279 5b22 4e4f 4b22 5d0a  registry["NOK"].
-00001590: 4375 7272 656e 6379 2863 6f64 653d 4e4f  Currency(code=NO
-000015a0: 4b2c 2073 7562 756e 6974 3d31 3030 290a  K, subunit=100).
-000015b0: 3e3e 3e20 7265 6769 7374 7279 5b22 4d56  >>> registry["MV
-000015c0: 5022 5d0a 4375 7272 656e 6379 2863 6f64  P"].Currency(cod
-000015d0: 653d 4d56 502c 2073 7562 756e 6974 3d31  e=MVP, subunit=1
-000015e0: 290a 3e3e 3e20 7265 6769 7374 7279 5b22  ).>>> registry["
-000015f0: 666f 6f22 5d0a 5472 6163 6562 6163 6b20  foo"].Traceback 
-00001600: 286d 6f73 7420 7265 6365 6e74 2063 616c  (most recent cal
-00001610: 6c20 6c61 7374 293a 0a20 202e 2e2e 0a4b  l last):.  ....K
-00001620: 6579 4572 726f 723a 2027 666f 6f27 0a60  eyError: 'foo'.`
-00001630: 6060 0a0a 466f 7220 6375 7374 6f6d 2063  ``..For custom c
-00001640: 7572 7265 6e63 7920 696d 706c 656d 656e  urrency implemen
-00001650: 7461 7469 6f6e 732c 2060 696d 6d6f 6e65  tations, `immone
-00001660: 792e 7265 6769 7374 7279 2e43 7572 7265  y.registry.Curre
-00001670: 6e63 7943 6f6c 6c65 6374 6f72 6020 6361  ncyCollector` ca
-00001680: 6e20 6265 2075 7365 6420 746f 0a63 6f6e  n be used to.con
-00001690: 7374 7275 6374 2061 2063 7573 746f 6d20  struct a custom 
-000016a0: 7265 6769 7374 7279 2e0a                 registry..
+000002e0: 2070 7964 616e 7469 630a 5072 6f76 6964   pydantic.Provid
+000002f0: 6573 2d45 7874 7261 3a20 7465 7374 0a4c  es-Extra: test.L
+00000300: 6963 656e 7365 2d46 696c 653a 204c 4943  icense-File: LIC
+00000310: 454e 5345 0a0a 3c68 3120 616c 6967 6e3d  ENSE..<h1 align=
+00000320: 6365 6e74 6572 3e69 6d6d 6f6e 6579 3c2f  center>immoney</
+00000330: 6831 3e0a 0a3c 7020 616c 6967 6e3d 6365  h1>..<p align=ce
+00000340: 6e74 6572 3e0a 2020 2020 3c61 2068 7265  nter>.    <a hre
+00000350: 663d 6874 7470 733a 2f2f 6769 7468 7562  f=https://github
+00000360: 2e63 6f6d 2f61 6e74 6f6e 6167 6573 7461  .com/antonagesta
+00000370: 6d2f 696d 6d6f 6e65 792f 6163 7469 6f6e  m/immoney/action
+00000380: 733f 7175 6572 793d 776f 726b 666c 6f77  s?query=workflow
+00000390: 2533 4143 492b 6272 616e 6368 2533 416d  %3ACI+branch%3Am
+000003a0: 6169 6e3e 3c69 6d67 2073 7263 3d68 7474  ain><img src=htt
+000003b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000003c0: 616e 746f 6e61 6765 7374 616d 2f69 6d6d  antonagestam/imm
+000003d0: 6f6e 6579 2f77 6f72 6b66 6c6f 7773 2f43  oney/workflows/C
+000003e0: 492f 6261 6467 652e 7376 6720 616c 743d  I/badge.svg alt=
+000003f0: 2243 4920 4275 696c 6420 5374 6174 7573  "CI Build Status
+00000400: 223e 3c2f 613e 0a20 2020 203c 6120 6872  "></a>.    <a hr
+00000410: 6566 3d68 7474 7073 3a2f 2f63 6f64 6563  ef=https://codec
+00000420: 6f76 2e69 6f2f 6768 2f61 6e74 6f6e 6167  ov.io/gh/antonag
+00000430: 6573 7461 6d2f 696d 6d6f 6e65 793e 3c69  estam/immoney><i
+00000440: 6d67 2073 7263 3d68 7474 7073 3a2f 2f63  mg src=https://c
+00000450: 6f64 6563 6f76 2e69 6f2f 6768 2f61 6e74  odecov.io/gh/ant
+00000460: 6f6e 6167 6573 7461 6d2f 696d 6d6f 6e65  onagestam/immone
+00000470: 792f 6272 616e 6368 2f6d 6169 6e2f 6772  y/branch/main/gr
+00000480: 6170 682f 6261 6467 652e 7376 673f 746f  aph/badge.svg?to
+00000490: 6b65 6e3d 5545 4938 384e 3045 5047 2061  ken=UEI88N0EPG a
+000004a0: 6c74 3d22 5465 7374 2063 6f76 6572 6167  lt="Test coverag
+000004b0: 6520 7265 706f 7274 223e 3c2f 613e 0a20  e report"></a>. 
+000004c0: 2020 203c 6272 3e0a 2020 2020 3c61 2068     <br>.    <a h
+000004d0: 7265 663d 6874 7470 733a 2f2f 7079 7069  ref=https://pypi
+000004e0: 2e6f 7267 2f70 726f 6a65 6374 2f69 6d6d  .org/project/imm
+000004f0: 6f6e 6579 2f3e 3c69 6d67 2073 7263 3d68  oney/><img src=h
+00000500: 7474 7073 3a2f 2f69 6d67 2e73 6869 656c  ttps://img.shiel
+00000510: 6473 2e69 6f2f 7079 7069 2f76 2f69 6d6d  ds.io/pypi/v/imm
+00000520: 6f6e 6579 2e73 7667 3f63 6f6c 6f72 3d69  oney.svg?color=i
+00000530: 6e66 6f72 6d61 7469 6f6e 616c 266c 6162  nformational&lab
+00000540: 656c 3d50 7950 4920 616c 743d 2250 7950  el=PyPI alt="PyP
+00000550: 4920 5061 636b 6167 6522 3e3c 2f61 3e0a  I Package"></a>.
+00000560: 2020 2020 3c61 2068 7265 663d 6874 7470      <a href=http
+00000570: 733a 2f2f 7079 7069 2e6f 7267 2f70 726f  s://pypi.org/pro
+00000580: 6a65 6374 2f69 6d6d 6f6e 6579 2f3e 3c69  ject/immoney/><i
+00000590: 6d67 2073 7263 3d68 7474 7073 3a2f 2f69  mg src=https://i
+000005a0: 6d67 2e73 6869 656c 6473 2e69 6f2f 7079  mg.shields.io/py
+000005b0: 7069 2f70 7976 6572 7369 6f6e 732f 696d  pi/pyversions/im
+000005c0: 6d6f 6e65 792e 7376 673f 636f 6c6f 723d  money.svg?color=
+000005d0: 696e 666f 726d 6174 696f 6e61 6c26 6c61  informational&la
+000005e0: 6265 6c3d 5079 7468 6f6e 2061 6c74 3d22  bel=Python alt="
+000005f0: 5079 7468 6f6e 2076 6572 7369 6f6e 7322  Python versions"
+00000600: 3e3c 2f61 3e0a 3c2f 703e 0a0a 2323 2320  ></a>.</p>..### 
+00000610: 496e 7374 616c 6c61 7469 6f6e 0a0a 6060  Installation..``
+00000620: 6073 6865 6c6c 0a24 2070 6970 2069 6e73  `shell.$ pip ins
+00000630: 7461 6c6c 202d 2d72 6571 7569 7265 2d76  tall --require-v
+00000640: 656e 7620 696d 6d6f 6e65 790a 6060 600a  env immoney.```.
+00000650: 0a23 2323 2044 6573 6967 6e20 676f 616c  .### Design goal
+00000660: 730a 0a54 6865 7265 2061 7265 2061 2066  s..There are a f
+00000670: 6577 2063 6f72 6520 6465 7369 676e 2061  ew core design a
+00000680: 7370 6563 7473 206f 6620 7468 6973 206c  spects of this l
+00000690: 6962 7261 7279 2074 6861 7420 6561 6368  ibrary that each
+000006a0: 2065 6c69 6d69 6e61 7465 2065 6e74 6972   eliminate entir
+000006b0: 6520 636c 6173 7365 730a 6f66 2062 7567  e classes.of bug
+000006c0: 733a 0a0a 2d20 4578 706f 7365 6420 616e  s:..- Exposed an
+000006d0: 6420 696e 7465 726e 616c 2064 6174 6120  d internal data 
+000006e0: 7479 7065 7320 6172 6520 6569 7468 6572  types are either
+000006f0: 2069 6d6d 7574 6162 6c65 206f 7220 6661   immutable or fa
+00000700: 7578 2069 6d6d 7574 6162 6c65 2e0a 2d20  ux immutable..- 
+00000710: 496e 7661 6c69 6420 616d 6f75 6e74 7320  Invalid amounts 
+00000720: 6f66 206d 6f6e 6579 2063 616e 6e6f 7420  of money cannot 
+00000730: 6265 2072 6570 7265 7365 6e74 6564 2e20  be represented. 
+00000740: 5468 6572 6520 6973 206e 6f20 7375 6368  There is no such
+00000750: 2074 6869 6e67 2061 7320 6030 2e30 3031   thing as `0.001
+00000760: 6020 5553 0a20 2064 6f6c 6c61 7273 2c20  ` US.  dollars, 
+00000770: 616e 6420 7468 6572 6520 6973 206e 6f20  and there is no 
+00000780: 7375 6368 2074 6869 6e67 2061 7320 6e65  such thing as ne
+00000790: 6761 7469 7665 206d 6f6e 6579 2e0a 2d20  gative money..- 
+000007a0: 4275 696c 7469 6e20 6f70 6572 6174 696f  Builtin operatio
+000007b0: 6e73 206e 6576 6572 2069 6d70 6c69 6369  ns never implici
+000007c0: 746c 7920 6c6f 7365 2070 7265 6369 7369  tly lose precisi
+000007d0: 6f6e 2e0a 2d20 4275 696c 7420 6672 6f6d  on..- Built from
+000007e0: 2074 6865 2067 726f 756e 642d 7570 2077   the ground-up w
+000007f0: 6974 6820 7375 7070 6f72 7420 666f 7220  ith support for 
+00000800: 7374 6174 6963 2074 7970 6520 6368 6563  static type chec
+00000810: 6b69 6e67 2069 6e20 6d69 6e64 2e20 5468  king in mind. Th
+00000820: 6973 206d 6561 6e73 0a20 2074 6861 7420  is means.  that 
+00000830: 6275 6773 2074 6861 7420 6174 7465 6d70  bugs that attemp
+00000840: 7420 746f 206d 6978 2063 7572 7265 6e63  t to mix currenc
+00000850: 6965 7320 6361 6e20 6265 2066 6f75 6e64  ies can be found
+00000860: 2062 7920 6120 7374 6174 6963 2074 7970   by a static typ
+00000870: 6520 6368 6563 6b65 722e 0a0a 2323 2320  e checker...### 
+00000880: 4665 6174 7572 6573 0a0a 2323 2323 2053  Features..#### S
+00000890: 6166 6520 6469 7669 7369 6f6e 0a0a 496e  afe division..In
+000008a0: 2072 6561 6c20 6c69 6665 2077 6520 6361   real life we ca
+000008b0: 6e6e 6f74 2073 706c 6974 2074 6865 2073  nnot split the s
+000008c0: 7562 756e 6974 206f 6620 6120 6375 7272  ubunit of a curr
+000008d0: 656e 6379 2c20 616e 6420 736f 2066 6f72  ency, and so for
+000008e0: 206f 7572 2061 6273 7472 6163 7469 6f6e   our abstraction
+000008f0: 7320 746f 0a73 6166 656c 7920 7265 666c  s to.safely refl
+00000900: 6563 7420 7265 616c 6974 792c 2077 6520  ect reality, we 
+00000910: 7368 6f75 6c64 6e27 7420 6265 2061 626c  shouldn't be abl
+00000920: 6520 746f 2064 6f20 7468 6174 2069 6e20  e to do that in 
+00000930: 636f 6465 2065 6974 6865 722e 2054 6865  code either. The
+00000940: 7265 666f 7265 0a69 6e73 7465 6164 206f  refore.instead o
+00000950: 6620 6465 6669 6e69 6e67 2064 6976 6973  f defining divis
+00000960: 696f 6e20 746f 2072 6574 7572 6e20 6120  ion to return a 
+00000970: 7661 6c75 6520 7769 7468 2070 7265 6369  value with preci
+00000980: 7369 6f6e 206c 6f73 732c 2074 6865 2069  sion loss, the i
+00000990: 6d70 6c65 6d65 6e74 6174 696f 6e0a 6f66  mplementation.of
+000009a0: 2064 6976 6973 696f 6e20 666f 7220 604d   division for `M
+000009b0: 6f6e 6579 6020 7265 7475 726e 7320 6120  oney` returns a 
+000009c0: 7475 706c 6520 6f66 206e 6577 2069 6e73  tuple of new ins
+000009d0: 7461 6e63 6573 2077 6974 6820 7468 6520  tances with the 
+000009e0: 7661 6c75 6520 7370 6c69 7420 7570 2061  value split up a
+000009f0: 7320 6576 656e 0a61 7320 706f 7373 6962  s even.as possib
+00000a00: 6c65 2e0a 0a60 6060 7079 636f 6e0a 3e3e  le...```pycon.>>
+00000a10: 3e20 4d6f 6e65 7928 2230 2e31 3122 2c20  > Money("0.11", 
+00000a20: 5345 4b29 202f 2033 0a28 4d6f 6e65 7928  SEK) / 3.(Money(
+00000a30: 2730 2e30 3427 2c20 5345 4b29 2c20 4d6f  '0.04', SEK), Mo
+00000a40: 6e65 7928 2730 2e30 3427 2c20 5345 4b29  ney('0.04', SEK)
+00000a50: 2c20 4d6f 6e65 7928 2730 2e30 3327 2c20  , Money('0.03', 
+00000a60: 5345 4b29 290a 6060 600a 0a54 6869 7320  SEK)).```..This 
+00000a70: 6d65 7468 6f64 206f 6620 6469 7669 7369  method of divisi
+00000a80: 6f6e 2077 696c 6c20 616c 7761 7973 2062  on will always b
+00000a90: 6520 7361 6665 2c20 6173 2069 7420 6861  e safe, as it ha
+00000aa0: 7320 7468 6520 6775 6172 616e 7465 6564  s the guaranteed
+00000ab0: 2070 726f 7065 7274 7920 7468 6174 2074   property that t
+00000ac0: 6865 0a73 756d 206f 6620 7468 6520 696e  he.sum of the in
+00000ad0: 7374 616e 6365 7320 7265 7475 726e 6564  stances returned
+00000ae0: 2062 7920 7468 6520 6f70 6572 6174 696f   by the operatio
+00000af0: 6e20 616c 7761 7973 2065 7175 616c 2074  n always equal t
+00000b00: 6865 206f 7269 6769 6e61 6c20 6e75 6d65  he original nume
+00000b10: 7261 746f 722e 0a0a 2323 2323 2053 7562  rator...#### Sub
+00000b20: 756e 6974 2066 7261 6374 696f 6e73 0a0a  unit fractions..
+00000b30: 536f 6d65 7469 6d65 7320 7765 2064 6f20  Sometimes we do 
+00000b40: 6e65 6564 2074 6f20 7265 7072 6573 656e  need to represen
+00000b50: 7420 6672 6163 7469 6f6e 7320 6f66 206d  t fractions of m
+00000b60: 6f6e 6574 6172 7920 7661 6c75 6573 2074  onetary values t
+00000b70: 6861 7420 6172 6520 736d 616c 6c65 7220  hat are smaller 
+00000b80: 7468 616e 2074 6865 0a73 7562 756e 6974  than the.subunit
+00000b90: 206f 6620 6120 6375 7272 656e 6379 2c20   of a currency, 
+00000ba0: 666f 7220 696e 7374 616e 6365 2061 7320  for instance as 
+00000bb0: 6120 7061 7274 6961 6c20 7265 7375 6c74  a partial result
+00000bc0: 206f 6620 6120 6c61 7267 6572 2065 7175   of a larger equ
+00000bd0: 6174 696f 6e2e 2046 6f72 2074 6861 740a  ation. For that.
+00000be0: 7075 7270 6f73 652c 2074 6869 7320 6c69  purpose, this li
+00000bf0: 6272 6172 7920 6578 706f 7365 7320 6120  brary exposes a 
+00000c00: 6053 7562 756e 6974 4672 6163 7469 6f6e  `SubunitFraction
+00000c10: 6020 7479 7065 2e20 5468 6973 2074 7970  ` type. This typ
+00000c20: 6520 6973 2075 7365 6420 6173 2072 6574  e is used as ret
+00000c30: 7572 6e20 7479 7065 0a66 6f72 2060 4d6f  urn type.for `Mo
+00000c40: 6e65 792e 5f5f 666c 6f6f 7264 6976 5f5f  ney.__floordiv__
+00000c50: 602e 0a0a 6060 6070 7963 6f6e 0a3e 3e3e  `...```pycon.>>>
+00000c60: 2053 454b 2831 3329 202f 2f20 330a 5375   SEK(13) // 3.Su
+00000c70: 6275 6e69 7446 7261 6374 696f 6e28 2731  bunitFraction('1
+00000c80: 3330 302f 3327 2c20 5345 4b29 0a60 6060  300/3', SEK).```
+00000c90: 0a0a 4265 6361 7573 6520 7468 6572 6520  ..Because there 
+00000ca0: 6973 206e 6f20 6775 6172 616e 7465 6520  is no guarantee 
+00000cb0: 7468 6174 2061 2060 5375 6275 6e69 7446  that a `SubunitF
+00000cc0: 7261 6374 696f 6e60 2069 7320 6120 7768  raction` is a wh
+00000cd0: 6f6c 6520 7375 6275 6e69 7420 2862 7920  ole subunit (by 
+00000ce0: 6465 6669 6e69 7469 6f6e 0a2e 2e2e 292c  definition....),
+00000cf0: 2063 6f6e 7665 7274 696e 6720 6261 636b   converting back
+00000d00: 2074 6f20 604d 6f6e 6579 6020 6361 6e20   to `Money` can 
+00000d10: 6f6e 6c79 2062 6520 646f 6e65 2077 6974  only be done wit
+00000d20: 6820 7072 6563 6973 696f 6e20 6c6f 7373  h precision loss
+00000d30: 2e0a 0a60 6060 7079 636f 6e0a 3e3e 3e20  ...```pycon.>>> 
+00000d40: 2853 454b 2831 3329 202f 2f20 3329 2e72  (SEK(13) // 3).r
+00000d50: 6f75 6e64 5f6d 6f6e 6579 2852 6f75 6e64  ound_money(Round
+00000d60: 2e44 4f57 4e29 0a4d 6f6e 6579 2827 342e  .DOWN).Money('4.
+00000d70: 3333 272c 2053 454b 290a 6060 600a 0a23  33', SEK).```..#
+00000d80: 2323 2320 4f76 6572 6472 6166 740a 0a41  ### Overdraft..A
+00000d90: 6761 696e 2072 6566 6572 7269 6e67 2074  gain referring t
+00000da0: 6f20 7265 616c 206c 6966 652c 2074 6865  o real life, the
+00000db0: 7265 2069 7320 6e6f 2073 7563 6820 7468  re is no such th
+00000dc0: 696e 6720 6173 206e 6567 6174 6976 6520  ing as negative 
+00000dd0: 6d6f 6e65 792e 2046 6f6c 6c6f 7769 6e67  money. Following
+00000de0: 2069 6e20 7468 650a 7361 6d65 2076 6569   in the.same vei
+00000df0: 6e20 6173 2066 6f72 206e 6f74 2061 6c6c  n as for not all
+00000e00: 6f77 696e 6720 7375 6275 6e69 7473 2074  owing subunits t
+00000e10: 6f20 6265 2073 706c 6974 2c20 7468 6520  o be split, the 
+00000e20: 7661 6c75 6520 6f66 2061 2060 4d6f 6e65  value of a `Mone
+00000e30: 7960 2069 6e73 7461 6e63 650a 6361 6e6e  y` instance.cann
+00000e40: 6f74 2062 6520 6e65 6761 7469 7665 2e20  ot be negative. 
+00000e50: 496e 7374 6561 642c 2074 6f20 7265 7072  Instead, to repr
+00000e60: 6573 656e 7420 666f 7220 696e 7374 616e  esent for instan
+00000e70: 6365 2061 206e 6567 6174 6976 6520 6261  ce a negative ba
+00000e80: 6c61 6e63 6520 6f6e 2061 6e20 6163 636f  lance on an acco
+00000e90: 756e 742c 0a74 6869 7320 6c69 6272 6172  unt,.this librar
+00000ea0: 7920 6578 706f 7365 7320 616e 2060 4f76  y exposes an `Ov
+00000eb0: 6572 6472 6166 7460 2063 6c61 7373 2074  erdraft` class t
+00000ec0: 6861 7420 6973 2075 7365 6420 6173 2072  hat is used as r
+00000ed0: 6574 7572 6e20 7479 7065 206f 6620 604d  eturn type of `M
+00000ee0: 6f6e 6579 2e5f 5f73 7562 5f5f 600a 7768  oney.__sub__`.wh
+00000ef0: 656e 2074 6865 2063 6f6d 7075 7465 6420  en the computed 
+00000f00: 7661 6c75 6520 776f 756c 6420 6861 7665  value would have
+00000f10: 2062 6565 6e20 6e65 6761 7469 7665 2e0a   been negative..
+00000f20: 0a60 6060 7079 636f 6e0a 3e3e 3e20 6261  .```pycon.>>> ba
+00000f30: 6c61 6e63 6520 3d20 5345 4b28 3529 0a3e  lance = SEK(5).>
+00000f40: 3e3e 2062 616c 616e 6365 202d 2053 454b  >> balance - SEK
+00000f50: 2834 290a 4d6f 6e65 7928 2731 2e30 3027  (4).Money('1.00'
+00000f60: 2c20 5345 4b29 0a3e 3e3e 2062 616c 616e  , SEK).>>> balan
+00000f70: 6365 202d 2053 454b 2835 290a 4d6f 6e65  ce - SEK(5).Mone
+00000f80: 7928 2730 2e30 3027 2c20 5345 4b29 0a3e  y('0.00', SEK).>
+00000f90: 3e3e 2062 616c 616e 6365 202d 2053 454b  >> balance - SEK
+00000fa0: 2822 362e 3530 2229 0a4f 7665 7264 7261  ("6.50").Overdra
+00000fb0: 6674 2827 312e 3530 272c 2053 454b 290a  ft('1.50', SEK).
+00000fc0: 3e3e 3e20 6261 6c61 6e63 6520 2d20 5345  >>> balance - SE
+00000fd0: 4b28 2236 2e35 3022 2920 2b20 5345 4b28  K("6.50") + SEK(
+00000fe0: 2231 2e35 3022 290a 4d6f 6e65 7928 2730  "1.50").Money('0
+00000ff0: 2e30 3027 2c20 5345 4b29 0a60 6060 0a0a  .00', SEK).```..
+00001000: 4265 6361 7573 6520 6e65 6761 7469 7665  Because negative
+00001010: 2076 616c 7565 7320 6172 6520 656e 636f   values are enco
+00001020: 6465 6420 6173 2069 7473 206f 776e 2074  ded as its own t
+00001030: 7970 6520 696e 2074 6869 7320 7761 792c  ype in this way,
+00001040: 2073 6974 7561 7469 6f6e 7320 7768 6572   situations wher
+00001050: 650a 6e65 6761 7469 7665 2076 616c 7565  e.negative value
+00001060: 7320 6361 6e20 7265 7375 6c74 2066 726f  s can result fro
+00001070: 6d20 6172 6974 686d 6574 6963 2062 7574  m arithmetic but
+00001080: 2061 7265 6e27 7420 6c6f 6769 6361 6c6c   aren't logicall
+00001090: 7920 6578 7065 6374 6564 2c20 7375 6368  y expected, such
+000010a0: 2061 7320 666f 720a 7468 6520 7072 6963   as for.the pric
+000010b0: 6520 6f66 2061 6e20 6974 656d 2069 6e20  e of an item in 
+000010c0: 6120 7374 6f72 652c 2063 616e 2062 6520  a store, can be 
+000010d0: 6469 7363 6f76 6572 6564 2077 6974 6820  discovered with 
+000010e0: 6120 7374 6174 6963 2074 7970 6520 6368  a static type ch
+000010f0: 6563 6b65 722e 0a0a 2323 2323 2054 7970  ecker...#### Typ
+00001100: 652d 7361 6665 2063 6f6d 7061 7269 736f  e-safe compariso
+00001110: 6e0a 0a49 6e73 7461 6e63 6573 206f 6620  n..Instances of 
+00001120: 604d 6f6e 6579 6020 646f 206e 6f74 2073  `Money` do not s
+00001130: 7570 706f 7274 2064 6972 6563 7420 636f  upport direct co
+00001140: 6d70 6172 6973 6f6e 2077 6974 6820 6e75  mparison with nu
+00001150: 6d65 7269 6320 7363 616c 6172 2076 616c  meric scalar val
+00001160: 7565 732e 2046 6f72 0a63 6f6e 7665 6e69  ues. For.conveni
+00001170: 656e 6365 2061 6e20 6578 6365 7074 696f  ence an exceptio
+00001180: 6e20 6973 206d 6164 6520 666f 7220 696e  n is made for in
+00001190: 7465 6765 7220 7a65 726f 2c20 7768 6963  teger zero, whic
+000011a0: 6820 6973 2061 6c77 6179 7320 756e 616d  h is always unam
+000011b0: 6269 6775 6f75 732e 0a0a 2323 2323 2049  biguous...#### I
+000011c0: 6d6d 6564 6961 7465 2061 6e64 2066 756c  mmediate and ful
+000011d0: 6c20 696e 7374 616e 7469 6174 696f 6e0a  l instantiation.
+000011e0: 0a22 3220 646f 6c6c 6172 7322 2069 7320  ."2 dollars" is 
+000011f0: 7265 7072 6573 656e 7465 6420 6578 6163  represented exac
+00001200: 746c 7920 7468 6520 7361 6d65 2061 7320  tly the same as 
+00001210: 2232 2e30 3020 646f 6c6c 6172 7322 2c20  "2.00 dollars", 
+00001220: 696e 2065 7665 7279 2061 7370 6563 742e  in every aspect.
+00001230: 2054 6869 730a 6d65 616e 7320 7468 6174   This.means that
+00001240: 206e 6f72 6d61 6c69 7a61 7469 6f6e 206f   normalization o
+00001250: 6620 7661 6c75 6573 2068 6170 7065 6e20  f values happen 
+00001260: 6174 2069 6e73 7461 6e74 6961 7469 6f6e  at instantiation
+00001270: 2074 696d 652e 0a0a 496e 7374 616e 7469   time...Instanti
+00001280: 6174 696e 6720 6e6f 726d 616c 697a 6573  ating normalizes
+00001290: 2070 7265 6369 7369 6f6e 2074 6f20 7468   precision to th
+000012a0: 6520 6e75 6d62 6572 206f 6620 7375 6275  e number of subu
+000012b0: 6e69 7473 206f 6620 7468 6520 696e 7374  nits of the inst
+000012c0: 616e 7469 6174 6564 0a63 7572 7265 6e63  antiated.currenc
+000012d0: 792e 0a0a 6060 6070 7963 6f6e 0a3e 3e3e  y...```pycon.>>>
+000012e0: 2045 5552 2832 290a 4d6f 6e65 7928 2732   EUR(2).Money('2
+000012f0: 2e30 3027 2c20 4555 5229 0a3e 3e3e 2045  .00', EUR).>>> E
+00001300: 5552 2822 322e 3030 3022 290a 4d6f 6e65  UR("2.000").Mone
+00001310: 7928 2732 2e30 3027 2c20 4555 5229 0a60  y('2.00', EUR).`
+00001320: 6060 0a0a 5472 7969 6e67 2074 6f20 696e  ``..Trying to in
+00001330: 7374 616e 7469 6174 6520 7769 7468 2061  stantiate with a
+00001340: 2076 616c 7565 2074 6861 7420 776f 756c   value that woul
+00001350: 6420 7265 7375 6c74 2069 6e20 7072 6563  d result in prec
+00001360: 6973 696f 6e20 6c6f 7373 2072 6169 7365  ision loss raise
+00001370: 7320 6120 7275 6e74 696d 650a 6572 726f  s a runtime.erro
+00001380: 722e 0a0a 6060 6070 7963 6f6e 0a3e 3e3e  r...```pycon.>>>
+00001390: 2045 5552 2822 322e 3030 3122 290a 5472   EUR("2.001").Tr
+000013a0: 6163 6562 6163 6b20 286d 6f73 7420 7265  aceback (most re
+000013b0: 6365 6e74 2063 616c 6c20 6c61 7374 293a  cent call last):
+000013c0: 0a20 202e 2e2e 0a69 6d6d 6f6e 6579 2e65  .  ....immoney.e
+000013d0: 7272 6f72 732e 4d6f 6e65 7950 6172 7365  rrors.MoneyParse
+000013e0: 4572 726f 723a 2043 616e 6e6f 7420 696e  Error: Cannot in
+000013f0: 7465 7270 7265 7420 7661 6c75 6520 6173  terpret value as
+00001400: 204d 6f6e 6579 206f 6620 6375 7272 656e   Money of curren
+00001410: 6379 2045 5552 202e 2e2e 0a60 6060 0a0a  cy EUR ....```..
+00001420: 2323 2323 2049 6e73 7461 6e63 6520 6361  #### Instance ca
+00001430: 6368 650a 0a53 696e 6365 2069 6e73 7461  che..Since insta
+00001440: 6e63 6573 206f 6620 604d 6f6e 6579 6020  nces of `Money` 
+00001450: 616e 6420 6043 7572 7265 6e63 7960 2061  and `Currency` a
+00001460: 7265 2069 6d6d 7574 6162 6c65 2069 7427  re immutable it'
+00001470: 7320 7361 6665 2074 6f20 7265 7573 6520  s safe to reuse 
+00001480: 6578 6973 7469 6e67 0a69 6e73 7461 6e63  existing.instanc
+00001490: 6573 2069 6e73 7465 6164 206f 6620 696e  es instead of in
+000014a0: 7374 616e 7469 6174 696e 6720 6e65 7720  stantiating new 
+000014b0: 6f6e 6573 2e20 5468 6973 2068 6170 7065  ones. This happe
+000014c0: 6e73 2074 7261 6e73 7061 7265 6e74 6c79  ns transparently
+000014d0: 2077 6865 6e0a 696e 7374 616e 7469 6174   when.instantiat
+000014e0: 696e 6720 6120 6e65 7720 604d 6f6e 6579  ing a new `Money
+000014f0: 6020 696e 7374 616e 6365 2061 6e64 2063  ` instance and c
+00001500: 616e 206c 6561 6420 746f 2066 6173 7465  an lead to faste
+00001510: 7220 636f 6465 2061 6e64 206c 6573 7320  r code and less 
+00001520: 636f 6e73 756d 6564 0a6d 656d 6f72 792e  consumed.memory.
+00001530: 0a0a 2323 2323 2052 6574 7269 6576 696e  ..#### Retrievin
+00001540: 6720 6375 7272 656e 6369 6573 2062 7920  g currencies by 
+00001550: 636f 6465 0a0a 4375 7272 656e 6369 6573  code..Currencies
+00001560: 2063 616e 2062 6520 7265 7472 6965 7665   can be retrieve
+00001570: 6420 6279 2074 6865 6972 2063 6f64 6573  d by their codes
+00001580: 2076 6961 2060 696d 6d6f 6e65 792e 6375   via `immoney.cu
+00001590: 7272 656e 6369 6573 2e72 6567 6973 7472  rrencies.registr
+000015a0: 7960 2e0a 0a60 6060 7079 636f 6e0a 3e3e  y`...```pycon.>>
+000015b0: 3e20 6672 6f6d 2069 6d6d 6f6e 6579 2e63  > from immoney.c
+000015c0: 7572 7265 6e63 6965 7320 696d 706f 7274  urrencies import
+000015d0: 2072 6567 6973 7472 790a 3e3e 3e20 7265   registry.>>> re
+000015e0: 6769 7374 7279 5b22 4e4f 4b22 5d0a 4375  gistry["NOK"].Cu
+000015f0: 7272 656e 6379 2863 6f64 653d 4e4f 4b2c  rrency(code=NOK,
+00001600: 2073 7562 756e 6974 3d31 3030 290a 3e3e   subunit=100).>>
+00001610: 3e20 7265 6769 7374 7279 5b22 4d56 5022  > registry["MVP"
+00001620: 5d0a 4375 7272 656e 6379 2863 6f64 653d  ].Currency(code=
+00001630: 4d56 502c 2073 7562 756e 6974 3d31 290a  MVP, subunit=1).
+00001640: 3e3e 3e20 7265 6769 7374 7279 5b22 666f  >>> registry["fo
+00001650: 6f22 5d0a 5472 6163 6562 6163 6b20 286d  o"].Traceback (m
+00001660: 6f73 7420 7265 6365 6e74 2063 616c 6c20  ost recent call 
+00001670: 6c61 7374 293a 0a20 202e 2e2e 0a4b 6579  last):.  ....Key
+00001680: 4572 726f 723a 2027 666f 6f27 0a60 6060  Error: 'foo'.```
+00001690: 0a0a 2323 2323 2043 7573 746f 6d20 6375  ..#### Custom cu
+000016a0: 7272 656e 6379 2072 6567 6973 7472 6965  rrency registrie
+000016b0: 730a 0a54 6865 206c 6962 7261 7279 2073  s..The library s
+000016c0: 6869 7073 2077 6974 6820 6120 7365 6e73  hips with a sens
+000016d0: 6962 6c65 2073 6574 206f 6620 6465 6661  ible set of defa
+000016e0: 756c 7420 6375 7272 656e 6369 6573 2c20  ult currencies, 
+000016f0: 686f 7765 7665 722c 2079 6f75 206d 6967  however, you mig
+00001700: 6874 2077 616e 7420 746f 0a75 7365 2061  ht want to.use a
+00001710: 2063 7573 746f 6d20 7265 6769 7374 7279   custom registry
+00001720: 2066 6f72 2074 776f 2072 6561 736f 6e73   for two reasons
+00001730: 3a0a 0a2d 2059 6f75 2077 616e 7420 746f  :..- You want to
+00001740: 2075 7365 206e 6f6e 2d64 6566 6175 6c74   use non-default
+00001750: 2063 7572 7265 6e63 6965 732e 0a2d 2059   currencies..- Y
+00001760: 6f75 206f 6e6c 7920 7761 6e74 2074 6f20  ou only want to 
+00001770: 616c 6c6f 7720 6120 7375 6273 6574 206f  allow a subset o
+00001780: 6620 7468 6520 6465 6661 756c 7420 6375  f the default cu
+00001790: 7272 656e 6369 6573 2e0a 0a54 6f20 6163  rrencies...To ac
+000017a0: 6869 6576 6520 7468 6973 2c20 796f 7520  hieve this, you 
+000017b0: 6361 6e20 636f 6e73 7472 7563 7420 6120  can construct a 
+000017c0: 6375 7374 6f6d 2073 6574 206f 6620 7479  custom set of ty
+000017d0: 7065 732e 2049 7427 7320 7265 636f 6d6d  pes. It's recomm
+000017e0: 656e 6465 6420 746f 2075 7365 2061 0a63  ended to use a.c
+000017f0: 7573 746f 6d20 6162 7374 7261 6374 2062  ustom abstract b
+00001800: 6173 6520 636c 6173 7320 666f 7220 7468  ase class for th
+00001810: 6973 2c20 7468 6973 2077 6179 2074 6869  is, this way thi
+00001820: 6e67 7320 7769 6c6c 2061 6c73 6f20 706c  ngs will also pl
+00001830: 6179 206e 6963 6520 7769 7468 2074 6865  ay nice with the
+00001840: 0a50 7964 616e 7469 6320 696e 7465 6772  .Pydantic integr
+00001850: 6174 696f 6e2e 0a0a 6060 6070 7974 686f  ation...```pytho
+00001860: 6e0a 696d 706f 7274 2061 6263 0a66 726f  n.import abc.fro
+00001870: 6d20 7479 7069 6e67 2069 6d70 6f72 7420  m typing import 
+00001880: 4669 6e61 6c0a 6672 6f6d 2069 6d6d 6f6e  Final.from immon
+00001890: 6579 2e72 6567 6973 7472 7920 696d 706f  ey.registry impo
+000018a0: 7274 2043 7572 7265 6e63 7943 6f6c 6c65  rt CurrencyColle
+000018b0: 6374 6f72 0a66 726f 6d20 696d 6d6f 6e65  ctor.from immone
+000018c0: 792e 6375 7272 656e 6369 6573 2069 6d70  y.currencies imp
+000018d0: 6f72 7420 4375 7272 656e 6379 0a0a 5f5f  ort Currency..__
+000018e0: 6375 7272 656e 6369 6573 203d 2043 7572  currencies = Cur
+000018f0: 7265 6e63 7943 6f6c 6c65 6374 6f72 2829  rencyCollector()
+00001900: 0a0a 0a63 6c61 7373 2053 7061 6365 4375  ...class SpaceCu
+00001910: 7272 656e 6379 2843 7572 7265 6e63 792c  rrency(Currency,
+00001920: 2061 6263 2e41 4243 293a 0a20 2020 202e   abc.ABC):.    .
+00001930: 2e2e 0a0a 0a63 6c61 7373 204d 6f6f 6e43  .....class MoonC
+00001940: 6f69 6e54 7970 6528 5370 6163 6543 7572  oinType(SpaceCur
+00001950: 7265 6e63 7929 3a0a 2020 2020 7375 6275  rency):.    subu
+00001960: 6e69 7420 3d20 3130 305f 3030 300a 2020  nit = 100_000.  
+00001970: 2020 636f 6465 203d 2022 4d43 4e22 0a0a    code = "MCN"..
+00001980: 0a4d 434e 3a20 4669 6e61 6c20 3d20 4d6f  .MCN: Final = Mo
+00001990: 6f6e 436f 696e 5479 7065 2829 0a5f 5f63  onCoinType().__c
+000019a0: 7572 7265 6e63 6965 732e 6164 6428 4d43  urrencies.add(MC
+000019b0: 4e29 0a0a 0a63 6c61 7373 204a 7570 6974  N)...class Jupit
+000019c0: 6572 446f 6c6c 6172 5479 7065 2853 7061  erDollarType(Spa
+000019d0: 6365 4375 7272 656e 6379 293a 0a20 2020  ceCurrency):.   
+000019e0: 2073 7562 756e 6974 203d 2031 3030 0a20   subunit = 100. 
+000019f0: 2020 2063 6f64 6520 3d20 224a 434e 220a     code = "JCN".
+00001a00: 0a0a 4a43 4e3a 2046 696e 616c 203d 204a  ..JCN: Final = J
+00001a10: 7570 6974 6572 446f 6c6c 6172 5479 7065  upiterDollarType
+00001a20: 2829 0a5f 5f63 7572 7265 6e63 6965 732e  ().__currencies.
+00001a30: 6164 6428 4a43 4e29 0a0a 6375 7374 6f6d  add(JCN)..custom
+00001a40: 5f72 6567 6973 7472 793a 2046 696e 616c  _registry: Final
+00001a50: 203d 205f 5f63 7572 7265 6e63 6965 732e   = __currencies.
+00001a60: 6669 6e61 6c69 7a65 2829 0a60 6060 0a0a  finalize().```..
+00001a70: 2323 2323 2050 7964 616e 7469 6320 5632  #### Pydantic V2
+00001a80: 2073 7570 706f 7274 0a0a 496e 7374 616c   support..Instal
+00001a90: 6c20 6120 636f 6d70 6174 6962 6c65 2050  l a compatible P
+00001aa0: 7964 616e 7469 6320 7665 7273 696f 6e20  ydantic version 
+00001ab0: 6279 2073 7570 706c 7969 6e67 2074 6865  by supplying the
+00001ac0: 2060 5b70 7964 616e 7469 635d 6020 6578   `[pydantic]` ex
+00001ad0: 7472 612e 0a0a 6060 6073 6865 6c6c 0a24  tra...```shell.$
+00001ae0: 2070 6970 2069 6e73 7461 6c6c 202d 2d72   pip install --r
+00001af0: 6571 7569 7265 2d76 656e 7620 696d 6d6f  equire-venv immo
+00001b00: 6e65 795b 7079 6461 6e74 6963 5d0a 6060  ney[pydantic].``
+00001b10: 600a 0a54 6865 2060 4375 7272 656e 6379  `..The `Currency
+00001b20: 602c 2060 4d6f 6e65 7960 2c20 6053 7562  `, `Money`, `Sub
+00001b30: 756e 6974 4672 6163 7469 6f6e 6020 616e  unitFraction` an
+00001b40: 6420 604f 7665 7264 7261 6674 6020 656e  d `Overdraft` en
+00001b50: 7469 7469 6573 2063 616e 2061 6c6c 2062  tities can all b
+00001b60: 6520 7573 6564 2061 730a 5079 6461 6e74  e used as.Pydant
+00001b70: 6963 206d 6f64 656c 2066 6965 6c64 732e  ic model fields.
+00001b80: 0a0a 6060 6070 7963 6f6e 0a3e 3e3e 2066  ..```pycon.>>> f
+00001b90: 726f 6d20 7079 6461 6e74 6963 2069 6d70  rom pydantic imp
+00001ba0: 6f72 7420 4261 7365 4d6f 6465 6c0a 3e3e  ort BaseModel.>>
+00001bb0: 3e20 6672 6f6d 2069 6d6d 6f6e 6579 2069  > from immoney i
+00001bc0: 6d70 6f72 7420 4d6f 6e65 790a 3e3e 3e20  mport Money.>>> 
+00001bd0: 6672 6f6d 2069 6d6d 6f6e 6579 2e63 7572  from immoney.cur
+00001be0: 7265 6e63 6965 7320 696d 706f 7274 2055  rencies import U
+00001bf0: 5344 0a3e 3e3e 2063 6c61 7373 204d 6f64  SD.>>> class Mod
+00001c00: 656c 2842 6173 654d 6f64 656c 2c20 6672  el(BaseModel, fr
+00001c10: 6f7a 656e 3d54 7275 6529 3a0a 2e2e 2e20  ozen=True):.... 
+00001c20: 2020 2020 6d6f 6e65 793a 204d 6f6e 6579      money: Money
+00001c30: 0a3e 3e3e 2070 7269 6e74 2869 6e73 7461  .>>> print(insta
+00001c40: 6e63 652e 6d6f 6465 6c5f 6475 6d70 5f6a  nce.model_dump_j
+00001c50: 736f 6e28 696e 6465 6e74 3d32 2929 0a7b  son(indent=2)).{
+00001c60: 0a20 2022 6d6f 6e65 7922 3a20 7b0a 2020  .  "money": {.  
+00001c70: 2020 2273 7562 756e 6974 7322 3a20 3235    "subunits": 25
+00001c80: 3030 302c 0a20 2020 2022 6375 7272 656e  000,.    "curren
+00001c90: 6379 223a 2022 5553 4422 0a20 207d 0a7d  cy": "USD".  }.}
+00001ca0: 0a60 6060 0a                             .```.
```

